var SA=Object.create;var Dp=Object.defineProperty,EA=Object.defineProperties,CA=Object.getOwnPropertyDescriptor,MA=Object.getOwnPropertyDescriptors,AA=Object.getOwnPropertyNames,_c=Object.getOwnPropertySymbols,TA=Object.getPrototypeOf,Sp=Object.prototype.hasOwnProperty,C1=Object.prototype.propertyIsEnumerable;var E1=(n,r,o)=>r in n?Dp(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Je=(n,r)=>{for(var o in r||={})Sp.call(r,o)&&E1(n,o,r[o]);if(_c)for(var o of _c(r))C1.call(r,o)&&E1(n,o,r[o]);return n},Rt=(n,r)=>EA(n,MA(r));var $l=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var M1=(n,r)=>{var o={};for(var t in n)Sp.call(n,t)&&r.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&_c)for(var t of _c(n))r.indexOf(t)<0&&C1.call(n,t)&&(o[t]=n[t]);return o};var A1=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var IA=(n,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of AA(r))!Sp.call(n,i)&&i!==o&&Dp(n,i,{get:()=>r[i],enumerable:!(t=CA(r,i))||t.enumerable});return n};var Ep=(n,r,o)=>(o=n!=null?SA(TA(n)):{},IA(r||!n||!n.__esModule?Dp(o,"default",{value:n,enumerable:!0}):o,n));var Ir=(n,r,o)=>new Promise((t,i)=>{var s=l=>{try{u(o.next(l))}catch(c){i(c)}},a=l=>{try{u(o.throw(l))}catch(c){i(c)}},u=l=>l.done?t(l.value):Promise.resolve(l.value).then(s,a);u((o=o.apply(n,r)).next())});var Nv=A1((Iv,jv)=>{"use strict";(function(n,r){typeof Iv=="object"&&typeof jv<"u"?jv.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self,n["'typed'"]=r())})(Iv,function(){"use strict";function n(){return!0}function r(){return!1}function o(){}let t="Argument is not a typed-function.";function i(){function a(oe){return typeof oe=="object"&&oe!==null&&oe.constructor===Object}let u=[{name:"number",test:function(oe){return typeof oe=="number"}},{name:"string",test:function(oe){return typeof oe=="string"}},{name:"boolean",test:function(oe){return typeof oe=="boolean"}},{name:"Function",test:function(oe){return typeof oe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(oe){return oe instanceof Date}},{name:"RegExp",test:function(oe){return oe instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(oe){return oe===null}},{name:"undefined",test:function(oe){return oe===void 0}}],l={name:"any",test:n,isAny:!0},c,m,y=0,d={createCount:0};function h(oe){let ae=c.get(oe);if(ae)return ae;let X='Unknown type "'+oe+'"',J=oe.toLowerCase(),Y;for(Y of m)if(Y.toLowerCase()===J){X+='. Did you mean "'+Y+'" ?';break}throw new TypeError(X)}function p(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",X=ae?h(ae).index:m.length,J=[];for(let ee=0;ee<oe.length;++ee){if(!oe[ee]||typeof oe[ee].name!="string"||typeof oe[ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let ge=oe[ee].name;if(c.has(ge))throw new TypeError('Duplicate type name "'+ge+'"');J.push(ge),c.set(ge,{name:ge,test:oe[ee].test,isAny:oe[ee].isAny,index:X+ee,conversionsTo:[]})}let Y=m.slice(X);m=m.slice(0,X).concat(J).concat(Y);for(let ee=X+J.length;ee<m.length;++ee)c.get(m[ee]).index=ee}function f(){c=new Map,m=[],y=0,p([l],!1)}f(),p(u);function v(){let oe;for(oe of m)c.get(oe).conversionsTo=[];y=0}function g(oe){let ae=m.filter(X=>{let J=c.get(X);return!J.isAny&&J.test(oe)});return ae.length?ae:["any"]}function w(oe){return oe&&typeof oe=="function"&&"_typedFunctionData"in oe}function b(oe,ae,X){if(!w(oe))throw new TypeError(t);let J=X&&X.exact,Y=Array.isArray(ae)?ae.join(","):ae,ee=O(Y),ge=C(ee);if(!J||ge in oe.signatures){let Be=oe._typedFunctionData.signatureMap.get(ge);if(Be)return Be}let ye=ee.length,Se;if(J){Se=[];let Be;for(Be in oe.signatures)Se.push(oe._typedFunctionData.signatureMap.get(Be))}else Se=oe._typedFunctionData.signatures;for(let Be=0;Be<ye;++Be){let Ge=ee[Be],Ke=[],pt;for(pt of Se){let dt=L(pt.params,Be);if(!(!dt||Ge.restParam&&!dt.restParam)){if(!dt.hasAny){let lt=S(dt);if(Ge.types.some(mt=>!lt.has(mt.name)))continue}Ke.push(pt)}}if(Se=Ke,Se.length===0)break}let Ae;for(Ae of Se)if(Ae.params.length<=ye)return Ae;throw new TypeError("Signature not found (signature: "+(oe.name||"unnamed")+"("+C(ee,", ")+"))")}function _(oe,ae,X){return b(oe,ae,X).implementation}function D(oe,ae){let X=h(ae);if(X.test(oe))return oe;let J=X.conversionsTo;if(J.length===0)throw new Error("There are no conversions to "+ae+" defined.");for(let Y=0;Y<J.length;Y++)if(h(J[Y].from).test(oe))return J[Y].convert(oe);throw new Error("Cannot convert "+oe+" to "+ae)}function C(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return oe.map(X=>X.name).join(ae)}function M(oe){let ae=oe.indexOf("...")===0,J=(ae?oe.length>3?oe.slice(3):"any":oe).split("|").map(ye=>h(ye.trim())),Y=!1,ee=ae?"...":"";return{types:J.map(function(ye){return Y=ye.isAny||Y,ee+=ye.name+"|",{name:ye.name,typeIndex:ye.index,test:ye.test,isAny:ye.isAny,conversion:null,conversionIndex:-1}}),name:ee.slice(0,-1),hasAny:Y,hasConversion:!1,restParam:ae}}function E(oe){let ae=oe.types.map(ge=>ge.name),X=P(ae),J=oe.hasAny,Y=oe.name,ee=X.map(function(ge){let ye=h(ge.from);return J=ye.isAny||J,Y+="|"+ge.from,{name:ge.from,typeIndex:ye.index,test:ye.test,isAny:ye.isAny,conversion:ge,conversionIndex:ge.index}});return{types:oe.types.concat(ee),name:Y,hasAny:J,hasConversion:ee.length>0,restParam:oe.restParam}}function S(oe){return oe.typeSet||(oe.typeSet=new Set,oe.types.forEach(ae=>oe.typeSet.add(ae.name))),oe.typeSet}function O(oe){let ae=[];if(typeof oe!="string")throw new TypeError("Signatures must be strings");let X=oe.trim();if(X==="")return ae;let J=X.split(",");for(let Y=0;Y<J.length;++Y){let ee=M(J[Y].trim());if(ee.restParam&&Y!==J.length-1)throw new SyntaxError('Unexpected rest parameter "'+J[Y]+'": only allowed for the last parameter');if(ee.types.length===0)return null;ae.push(ee)}return ae}function I(oe){let ae=pe(oe);return ae?ae.restParam:!1}function F(oe){if(!oe||oe.types.length===0)return n;if(oe.types.length===1)return h(oe.types[0].name).test;if(oe.types.length===2){let ae=h(oe.types[0].name).test,X=h(oe.types[1].name).test;return function(Y){return ae(Y)||X(Y)}}else{let ae=oe.types.map(function(X){return h(X.name).test});return function(J){for(let Y=0;Y<ae.length;Y++)if(ae[Y](J))return!0;return!1}}}function j(oe){let ae,X,J;if(I(oe)){ae=te(oe).map(F);let Y=ae.length,ee=F(pe(oe)),ge=function(ye){for(let Se=Y;Se<ye.length;Se++)if(!ee(ye[Se]))return!1;return!0};return function(Se){for(let Ae=0;Ae<ae.length;Ae++)if(!ae[Ae](Se[Ae]))return!1;return ge(Se)&&Se.length>=Y+1}}else return oe.length===0?function(ee){return ee.length===0}:oe.length===1?(X=F(oe[0]),function(ee){return X(ee[0])&&ee.length===1}):oe.length===2?(X=F(oe[0]),J=F(oe[1]),function(ee){return X(ee[0])&&J(ee[1])&&ee.length===2}):(ae=oe.map(F),function(ee){for(let ge=0;ge<ae.length;ge++)if(!ae[ge](ee[ge]))return!1;return ee.length===ae.length})}function L(oe,ae){return ae<oe.length?oe[ae]:I(oe)?pe(oe):null}function B(oe,ae){let X=L(oe,ae);return X?S(X):new Set}function k(oe){return oe.conversion===null||oe.conversion===void 0}function q(oe,ae){let X=new Set;return oe.forEach(J=>{let Y=B(J.params,ae),ee;for(ee of Y)X.add(ee)}),X.has("any")?["any"]:Array.from(X)}function G(oe,ae,X){let J,Y,ee=oe||"unnamed",ge=X,ye;for(ye=0;ye<ae.length;ye++){let Ge=[];if(ge.forEach(Ke=>{let pt=L(Ke.params,ye),dt=F(pt);(ye<Ke.params.length||I(Ke.params))&&dt(ae[ye])&&Ge.push(Ke)}),Ge.length===0){if(Y=q(ge,ye),Y.length>0){let Ke=g(ae[ye]);return J=new TypeError("Unexpected type of argument in function "+ee+" (expected: "+Y.join(" or ")+", actual: "+Ke.join(" | ")+", index: "+ye+")"),J.data={category:"wrongType",fn:ee,index:ye,actual:Ke,expected:Y},J}}else ge=Ge}let Se=ge.map(function(Ge){return I(Ge.params)?1/0:Ge.params.length});if(ae.length<Math.min.apply(null,Se))return Y=q(ge,ye),J=new TypeError("Too few arguments in function "+ee+" (expected: "+Y.join(" or ")+", index: "+ae.length+")"),J.data={category:"tooFewArgs",fn:ee,index:ae.length,expected:Y},J;let Ae=Math.max.apply(null,Se);if(ae.length>Ae)return J=new TypeError("Too many arguments in function "+ee+" (expected: "+Ae+", actual: "+ae.length+")"),J.data={category:"tooManyArgs",fn:ee,index:ae.length,expectedLength:Ae},J;let Be=[];for(let Ge=0;Ge<ae.length;++Ge)Be.push(g(ae[Ge]).join("|"));return J=new TypeError('Arguments of type "'+Be.join(", ")+'" do not match any of the defined signatures of function '+ee+"."),J.data={category:"mismatch",actual:Be},J}function U(oe){let ae=m.length+1;for(let X=0;X<oe.types.length;X++)k(oe.types[X])&&(ae=Math.min(ae,oe.types[X].typeIndex));return ae}function W(oe){let ae=y+1;for(let X=0;X<oe.types.length;X++)k(oe.types[X])||(ae=Math.min(ae,oe.types[X].conversionIndex));return ae}function Q(oe,ae){if(oe.hasAny){if(!ae.hasAny)return 1}else if(ae.hasAny)return-1;if(oe.restParam){if(!ae.restParam)return 1}else if(ae.restParam)return-1;if(oe.hasConversion){if(!ae.hasConversion)return 1}else if(ae.hasConversion)return-1;let X=U(oe)-U(ae);if(X<0)return-1;if(X>0)return 1;let J=W(oe)-W(ae);return J<0?-1:J>0?1:0}function le(oe,ae){let X=oe.params,J=ae.params,Y=pe(X),ee=pe(J),ge=I(X),ye=I(J);if(ge&&Y.hasAny){if(!ye||!ee.hasAny)return 1}else if(ye&&ee.hasAny)return-1;let Se=0,Ae=0,Be;for(Be of X)Be.hasAny&&++Se,Be.hasConversion&&++Ae;let Ge=0,Ke=0;for(Be of J)Be.hasAny&&++Ge,Be.hasConversion&&++Ke;if(Se!==Ge)return Se-Ge;if(ge&&Y.hasConversion){if(!ye||!ee.hasConversion)return 1}else if(ye&&ee.hasConversion)return-1;if(Ae!==Ke)return Ae-Ke;if(ge){if(!ye)return 1}else if(ye)return-1;let pt=(X.length-J.length)*(ge?-1:1);if(pt!==0)return pt;let dt=[],lt=0;for(let gt=0;gt<X.length;++gt){let ur=Q(X[gt],J[gt]);dt.push(ur),lt+=ur}if(lt!==0)return lt;let mt;for(mt of dt)if(mt!==0)return mt;return 0}function P(oe){if(oe.length===0)return[];let ae=oe.map(h);oe.length>1&&ae.sort((Y,ee)=>Y.index-ee.index);let X=ae[0].conversionsTo;if(oe.length===1)return X;X=X.concat([]);let J=new Set(oe);for(let Y=1;Y<ae.length;++Y){let ee;for(ee of ae[Y].conversionsTo)J.has(ee.from)||(X.push(ee),J.add(ee.from))}return X}function T(oe,ae){let X=ae;if(oe.some(Y=>Y.hasConversion)){let Y=I(oe),ee=oe.map(V);X=function(){let ye=[],Se=Y?arguments.length-1:arguments.length;for(let Ae=0;Ae<Se;Ae++)ye[Ae]=ee[Ae](arguments[Ae]);return Y&&(ye[Se]=arguments[Se].map(ee[Se])),ae.apply(this,ye)}}let J=X;if(I(oe)){let Y=oe.length-1;J=function(){return X.apply(this,ve(arguments,0,Y).concat([ve(arguments,Y)]))}}return J}function V(oe){let ae,X,J,Y,ee=[],ge=[];switch(oe.types.forEach(function(ye){ye.conversion&&(ee.push(h(ye.conversion.from).test),ge.push(ye.conversion.convert))}),ge.length){case 0:return function(Se){return Se};case 1:return ae=ee[0],J=ge[0],function(Se){return ae(Se)?J(Se):Se};case 2:return ae=ee[0],X=ee[1],J=ge[0],Y=ge[1],function(Se){return ae(Se)?J(Se):X(Se)?Y(Se):Se};default:return function(Se){for(let Ae=0;Ae<ge.length;Ae++)if(ee[Ae](Se))return ge[Ae](Se);return Se}}}function H(oe){function ae(X,J,Y){if(J<X.length){let ee=X[J],ge=[];if(ee.restParam){let ye=ee.types.filter(k);ye.length<ee.types.length&&ge.push({types:ye,name:"..."+ye.map(Se=>Se.name).join("|"),hasAny:ye.some(Se=>Se.isAny),hasConversion:!1,restParam:!0}),ge.push(ee)}else ge=ee.types.map(function(ye){return{types:[ye],name:ye.name,hasAny:ye.isAny,hasConversion:ye.conversion,restParam:!1}});return xe(ge,function(ye){return ae(X,J+1,Y.concat([ye]))})}else return[Y]}return ae(oe,0,[])}function K(oe,ae){let X=Math.max(oe.length,ae.length);for(let ye=0;ye<X;ye++){let Se=B(oe,ye),Ae=B(ae,ye),Be=!1,Ge;for(Ge of Ae)if(Se.has(Ge)){Be=!0;break}if(!Be)return!1}let J=oe.length,Y=ae.length,ee=I(oe),ge=I(ae);return ee?ge?J===Y:Y>=J:ge?J>=Y:J===Y}function re(oe){return oe.map(ae=>qe(ae)?je(ae.referToSelf.callback):De(ae)?_e(ae.referTo.references,ae.referTo.callback):ae)}function ie(oe,ae,X){let J=[],Y;for(Y of oe){let ee=X[Y];if(typeof ee!="number")throw new TypeError('No definition for referenced signature "'+Y+'"');if(ee=ae[ee],typeof ee!="function")return!1;J.push(ee)}return J}function ce(oe,ae,X){let J=re(oe),Y=new Array(J.length).fill(!1),ee=!0;for(;ee;){ee=!1;let ge=!0;for(let ye=0;ye<J.length;++ye){if(Y[ye])continue;let Se=J[ye];if(qe(Se))J[ye]=Se.referToSelf.callback(X),J[ye].referToSelf=Se.referToSelf,Y[ye]=!0,ge=!1;else if(De(Se)){let Ae=ie(Se.referTo.references,J,ae);Ae?(J[ye]=Se.referTo.callback.apply(this,Ae),J[ye].referTo=Se.referTo,Y[ye]=!0,ge=!1):ee=!0}}if(ge&&ee)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return J}function se(oe){let ae=/\bthis(\(|\.signatures\b)/;Object.keys(oe).forEach(X=>{let J=oe[X];if(ae.test(J.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function he(oe,ae){if(d.createCount++,Object.keys(ae).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&se(ae);let X=[],J=[],Y={},ee=[],ge;for(ge in ae){if(!Object.prototype.hasOwnProperty.call(ae,ge))continue;let Nt=O(ge);if(!Nt)continue;X.forEach(function(Li){if(K(Li,Nt))throw new TypeError('Conflicting signatures "'+C(Li)+'" and "'+C(Nt)+'".')}),X.push(Nt);let mr=J.length;J.push(ae[ge]);let ao=Nt.map(E),Ur;for(Ur of H(ao)){let Li=C(Ur);ee.push({params:Ur,name:Li,fn:mr}),Ur.every(Xn=>!Xn.hasConversion)&&(Y[Li]=mr)}}ee.sort(le);let ye=ce(J,Y,Nr),Se;for(Se in Y)Object.prototype.hasOwnProperty.call(Y,Se)&&(Y[Se]=ye[Y[Se]]);let Ae=[],Be=new Map;for(Se of ee)Be.has(Se.name)||(Se.fn=ye[Se.fn],Ae.push(Se),Be.set(Se.name,Se));let Ge=Ae[0]&&Ae[0].params.length<=2&&!I(Ae[0].params),Ke=Ae[1]&&Ae[1].params.length<=2&&!I(Ae[1].params),pt=Ae[2]&&Ae[2].params.length<=2&&!I(Ae[2].params),dt=Ae[3]&&Ae[3].params.length<=2&&!I(Ae[3].params),lt=Ae[4]&&Ae[4].params.length<=2&&!I(Ae[4].params),mt=Ae[5]&&Ae[5].params.length<=2&&!I(Ae[5].params),gt=Ge&&Ke&&pt&&dt&&lt&&mt;for(let Nt=0;Nt<Ae.length;++Nt)Ae[Nt].test=j(Ae[Nt].params);let ur=Ge?F(Ae[0].params[0]):r,fn=Ke?F(Ae[1].params[0]):r,Wr=pt?F(Ae[2].params[0]):r,sr=dt?F(Ae[3].params[0]):r,gr=lt?F(Ae[4].params[0]):r,Qt=mt?F(Ae[5].params[0]):r,an=Ge?F(Ae[0].params[1]):r,Jr=Ke?F(Ae[1].params[1]):r,cr=pt?F(Ae[2].params[1]):r,ln=dt?F(Ae[3].params[1]):r,bs=lt?F(Ae[4].params[1]):r,ws=mt?F(Ae[5].params[1]):r;for(let Nt=0;Nt<Ae.length;++Nt)Ae[Nt].implementation=T(Ae[Nt].params,Ae[Nt].fn);let _s=Ge?Ae[0].implementation:o,da=Ke?Ae[1].implementation:o,xs=pt?Ae[2].implementation:o,Ds=dt?Ae[3].implementation:o,we=lt?Ae[4].implementation:o,Xe=mt?Ae[5].implementation:o,st=Ge?Ae[0].params.length:-1,$e=Ke?Ae[1].params.length:-1,kt=pt?Ae[2].params.length:-1,Ue=dt?Ae[3].params.length:-1,Kt=lt?Ae[4].params.length:-1,nt=mt?Ae[5].params.length:-1,Gt=gt?6:0,it=Ae.length,Vr=Ae.map(Nt=>Nt.test),Qr=Ae.map(Nt=>Nt.implementation),jr=function(){for(let mr=Gt;mr<it;mr++)if(Vr[mr](arguments))return Qr[mr].apply(this,arguments);return d.onMismatch(oe,arguments,Ae)};function Nr(Nt,mr){return arguments.length===st&&ur(Nt)&&an(mr)?_s.apply(this,arguments):arguments.length===$e&&fn(Nt)&&Jr(mr)?da.apply(this,arguments):arguments.length===kt&&Wr(Nt)&&cr(mr)?xs.apply(this,arguments):arguments.length===Ue&&sr(Nt)&&ln(mr)?Ds.apply(this,arguments):arguments.length===Kt&&gr(Nt)&&bs(mr)?we.apply(this,arguments):arguments.length===nt&&Qt(Nt)&&ws(mr)?Xe.apply(this,arguments):jr.apply(this,arguments)}try{Object.defineProperty(Nr,"name",{value:oe})}catch{}return Nr.signatures=Y,Nr._typedFunctionData={signatures:Ae,signatureMap:Be},Nr}function ue(oe,ae,X){throw G(oe,ae,X)}function te(oe){return ve(oe,0,oe.length-1)}function pe(oe){return oe[oe.length-1]}function ve(oe,ae,X){return Array.prototype.slice.call(oe,ae,X)}function Me(oe,ae){for(let X=0;X<oe.length;X++)if(ae(oe[X]))return oe[X]}function xe(oe,ae){return Array.prototype.concat.apply([],oe.map(ae))}function me(){let oe=te(arguments).map(X=>C(O(X))),ae=pe(arguments);if(typeof ae!="function")throw new TypeError("Callback function expected as last argument");return _e(oe,ae)}function _e(oe,ae){return{referTo:{references:oe,callback:ae}}}function je(oe){if(typeof oe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:oe}}}function De(oe){return oe&&typeof oe.referTo=="object"&&Array.isArray(oe.referTo.references)&&typeof oe.referTo.callback=="function"}function qe(oe){return oe&&typeof oe.referToSelf=="object"&&typeof oe.referToSelf.callback=="function"}function Pe(oe,ae){if(!oe)return ae;if(ae&&ae!==oe){let X=new Error("Function names do not match (expected: "+oe+", actual: "+ae+")");throw X.data={actual:ae,expected:oe},X}return oe}function We(oe){let ae;for(let X in oe)Object.prototype.hasOwnProperty.call(oe,X)&&(w(oe[X])||typeof oe[X].signature=="string")&&(ae=Pe(ae,oe[X].name));return ae}function Ze(oe,ae){let X;for(X in ae)if(Object.prototype.hasOwnProperty.call(ae,X)){if(X in oe&&ae[X]!==oe[X]){let J=new Error('Signature "'+X+'" is defined twice');throw J.data={signature:X,sourceFunction:ae[X],destFunction:oe[X]},J}oe[X]=ae[X]}}let Qe=d;d=function(oe){let ae=typeof oe=="string",X=ae?1:0,J=ae?oe:"",Y={};for(let ee=X;ee<arguments.length;++ee){let ge=arguments[ee],ye={},Se;if(typeof ge=="function"?(Se=ge.name,typeof ge.signature=="string"?ye[ge.signature]=ge:w(ge)&&(ye=ge.signatures)):a(ge)&&(ye=ge,ae||(Se=We(ge))),Object.keys(ye).length===0){let Ae=new TypeError("Argument to 'typed' at index "+ee+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ae.data={index:ee,argument:ge},Ae}ae||(J=Pe(J,Se)),Ze(Y,ye)}return he(J||"",Y)},d.create=i,d.createCount=Qe.createCount,d.onMismatch=ue,d.throwMismatchError=ue,d.createError=G,d.clear=f,d.clearConversions=v,d.addTypes=p,d._findType=h,d.referTo=me,d.referToSelf=je,d.convert=D,d.findSignature=b,d.find=_,d.isTypedFunction=w,d.warnAgainstDeprecatedThis=!0,d.addType=function(oe,ae){let X="any";ae!==!1&&c.has("Object")&&(X="Object"),d.addTypes([oe],X)};function Ce(oe){if(!oe||typeof oe.from!="string"||typeof oe.to!="string"||typeof oe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(oe.to===oe.from)throw new SyntaxError('Illegal to define conversion from "'+oe.from+'" to itself.')}return d.addConversion=function(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ce(oe);let X=h(oe.to),J=X.conversionsTo.find(Y=>Y.from===oe.from);if(J)if(ae&&ae.override)d.removeConversion({from:J.from,to:oe.to,convert:J.convert});else throw new Error('There is already a conversion from "'+oe.from+'" to "'+X.name+'"');X.conversionsTo.push({from:oe.from,convert:oe.convert,index:y++})},d.addConversions=function(oe,ae){oe.forEach(X=>d.addConversion(X,ae))},d.removeConversion=function(oe){Ce(oe);let ae=h(oe.to),X=Me(ae.conversionsTo,Y=>Y.from===oe.from);if(!X)throw new Error("Attempt to remove nonexistent conversion from "+oe.from+" to "+oe.to);if(X.convert!==oe.convert)throw new Error("Conversion to remove does not match existing conversion");let J=ae.conversionsTo.indexOf(X);ae.conversionsTo.splice(J,1)},d.resolve=function(oe,ae){if(!w(oe))throw new TypeError(t);let X=oe._typedFunctionData.signatures;for(let J=0;J<X.length;++J)if(X[J].test(ae))return X[J];return null},d}var s=i();return s})});var rM=A1((tM,ob)=>{"use strict";(function(n){typeof tM=="object"&&typeof ob<"u"?ob.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=n()})(function(){var n,r,o;return function t(i,s,a){function u(m,y){if(!s[m]){if(!i[m]){var d=typeof $l=="function"&&$l;if(!y&&d)return d(m,!0);if(l)return l(m,!0);throw(y=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",y}d=s[m]={exports:{}},i[m][0].call(d.exports,function(h){return u(i[m][1][h]||h)},d,d.exports,t,i,s,a)}return s[m].exports}for(var l=typeof $l=="function"&&$l,c=0;c<a.length;c++)u(a[c]);return u}({1:[function(t,i,s){"use strict";s.byteLength=function(f){var f=d(f),p=f[0],f=f[1];return 3*(p+f)/4-f},s.toByteArray=function(h){var p,f,g=d(h),v=g[0],g=g[1],w=new l(function(D,C){return 3*(D+C)/4-C}(v,g)),b=0,_=0<g?v-4:v;for(f=0;f<_;f+=4)p=u[h.charCodeAt(f)]<<18|u[h.charCodeAt(f+1)]<<12|u[h.charCodeAt(f+2)]<<6|u[h.charCodeAt(f+3)],w[b++]=p>>16&255,w[b++]=p>>8&255,w[b++]=255&p;return g===2&&(p=u[h.charCodeAt(f)]<<2|u[h.charCodeAt(f+1)]>>4,w[b++]=255&p),g===1&&(p=u[h.charCodeAt(f)]<<10|u[h.charCodeAt(f+1)]<<4|u[h.charCodeAt(f+2)]>>2,w[b++]=p>>8&255,w[b++]=255&p),w},s.fromByteArray=function(h){for(var p,f=h.length,v=f%3,g=[],w=0,b=f-v;w<b;w+=16383)g.push(function(_,D,C){for(var M,E=[],S=D;S<C;S+=3)M=(_[S]<<16&16711680)+(_[S+1]<<8&65280)+(255&_[S+2]),E.push(function(O){return a[O>>18&63]+a[O>>12&63]+a[O>>6&63]+a[63&O]}(M));return E.join("")}(h,w,b<w+16383?b:w+16383));return v==1?(p=h[f-1],g.push(a[p>>2]+a[p<<4&63]+"==")):v==2&&(p=(h[f-2]<<8)+h[f-1],g.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),g.join("")};for(var a=[],u=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,y=c.length;m<y;++m)a[m]=c[m],u[c.charCodeAt(m)]=m;function d(h){var p=h.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=h.indexOf("="),p=(h=h===-1?p:h)===p?0:4-h%4,[h,p]}u[45]=62,u[95]=63},{}],2:[function(t,i,s){},{}],3:[function(t,i,s){},{}],4:[function(t,i,s){(function(d){"use strict";var u=t("base64-js"),l=t("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(s.Buffer=d,s.SlowBuffer=function(P){return+P!=P&&(P=0),d.alloc(+P)},s.INSPECT_MAX_BYTES=50,2147483647);function y(P){if(m<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');return P=new Uint8Array(P),Object.setPrototypeOf(P,d.prototype),P}function d(P,T,V){if(typeof P!="number")return h(P,T,V);if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(P)}function h(P,T,V){if(typeof P=="string"){var H=P,K=T;if(d.isEncoding(K=typeof K=="string"&&K!==""?K:"utf8"))return re=0|w(H,K),ie=y(re),ie=(H=ie.write(H,K))!==re?ie.slice(0,H):ie;throw new TypeError("Unknown encoding: "+K)}if(ArrayBuffer.isView(P))return v(P);if(P!=null){if(W(P,ArrayBuffer)||P&&W(P.buffer,ArrayBuffer)){var re=P,H=T,ie=V;if(H<0||re.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<H+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return re=H===void 0&&ie===void 0?new Uint8Array(re):ie===void 0?new Uint8Array(re,H):new Uint8Array(re,H,ie),Object.setPrototypeOf(re,d.prototype),re}if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(K=P.valueOf&&P.valueOf(),K!=null&&K!==P)return d.from(K,T,V);var ce=function(se){{var he,ue;if(d.isBuffer(se))return he=0|g(se.length),(ue=y(he)).length!==0&&se.copy(ue,0,0,he),ue}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?y(0):v(se);if(se.type==="Buffer"&&Array.isArray(se.data))return v(se.data)}(P);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return d.from(P[Symbol.toPrimitive]("string"),T,V)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function p(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function f(P){return p(P),y(P<0?0:0|g(P))}function v(P){for(var T=P.length<0?0:0|g(P.length),V=y(T),H=0;H<T;H+=1)V[H]=255&P[H];return V}function g(P){if(m<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|P}function w(P,T){if(d.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||W(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var V=P.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&V===0)return 0;for(var K=!1;;)switch(T){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return q(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return G(P).length;default:if(K)return H?-1:q(P).length;T=(""+T).toLowerCase(),K=!0}}function b(P,T,V){var H,K=!1;if((T=T===void 0||T<0?0:T)>this.length||(V=V===void 0||V>this.length?this.length:V)<=0||(V>>>=0)<=(T>>>=0))return"";for(P=P||"utf8";;)switch(P){case"hex":var re=this,xe=T,ie=V,ue=re.length;(!ie||ie<0||ue<ie)&&(ie=ue);for(var ce="",se=xe=!xe||xe<0?0:xe;se<ie;++se)ce+=le[re[se]];return ce;case"utf8":case"utf-8":return S(this,T,V);case"ascii":var he=this,ue=T,te=V,pe="";te=Math.min(he.length,te);for(var ve=ue;ve<te;++ve)pe+=String.fromCharCode(127&he[ve]);return pe;case"latin1":case"binary":var Me=this,xe=T,me=V,_e="";me=Math.min(Me.length,me);for(var je=xe;je<me;++je)_e+=String.fromCharCode(Me[je]);return _e;case"base64":return De=this,H=V,(qe=T)===0&&H===De.length?u.fromByteArray(De):u.fromByteArray(De.slice(qe,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var De=T,qe=V,Pe=this.slice(De,qe),We="",Ze=0;Ze<Pe.length;Ze+=2)We+=String.fromCharCode(Pe[Ze]+256*Pe[Ze+1]);return We;default:if(K)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),K=!0}}function _(P,T,V){var H=P[T];P[T]=P[V],P[V]=H}function D(P,T,V,H,K){if(P.length===0)return-1;if(typeof V=="string"?(H=V,V=0):2147483647<V?V=2147483647:V<-2147483648&&(V=-2147483648),(V=(V=Q(V=+V)?K?0:P.length-1:V)<0?P.length+V:V)>=P.length){if(K)return-1;V=P.length-1}else if(V<0){if(!K)return-1;V=0}if(typeof T=="string"&&(T=d.from(T,H)),d.isBuffer(T))return T.length===0?-1:C(P,T,V,H,K);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?(K?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(P,T,V):C(P,[T],V,H,K);throw new TypeError("val must be string, number or Buffer")}function C(P,T,V,H,K){var re=1,ie=P.length,ce=T.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(P.length<2||T.length<2)return-1;ie/=re=2,ce/=2,V/=2}function se(ve,Me){return re===1?ve[Me]:ve.readUInt16BE(Me*re)}if(K)for(var he=-1,ue=V;ue<ie;ue++)if(se(P,ue)===se(T,he===-1?0:ue-he)){if(ue-(he=he===-1?ue:he)+1===ce)return he*re}else he!==-1&&(ue-=ue-he),he=-1;else for(ue=V=ie<V+ce?ie-ce:V;0<=ue;ue--){for(var te=!0,pe=0;pe<ce;pe++)if(se(P,ue+pe)!==se(T,pe)){te=!1;break}if(te)return ue}return-1}function M(P,T,V,H){return U(function(K){for(var re=[],ie=0;ie<K.length;++ie)re.push(255&K.charCodeAt(ie));return re}(T),P,V,H)}function E(P,T,V,H){return U(function(K,re){for(var ie,ce,se=[],he=0;he<K.length&&!((re-=2)<0);++he)ce=K.charCodeAt(he),ie=ce>>8,ce=ce%256,se.push(ce),se.push(ie);return se}(T,P.length-V),P,V,H)}function S(P,T,V){V=Math.min(P.length,V);for(var H=[],K=T;K<V;){var re,ie,ce,se,he=P[K],ue=null,te=239<he?4:223<he?3:191<he?2:1;if(K+te<=V)switch(te){case 1:he<128&&(ue=he);break;case 2:(192&(re=P[K+1]))==128&&127<(se=(31&he)<<6|63&re)&&(ue=se);break;case 3:re=P[K+1],ie=P[K+2],(192&re)==128&&(192&ie)==128&&2047<(se=(15&he)<<12|(63&re)<<6|63&ie)&&(se<55296||57343<se)&&(ue=se);break;case 4:re=P[K+1],ie=P[K+2],ce=P[K+3],(192&re)==128&&(192&ie)==128&&(192&ce)==128&&65535<(se=(15&he)<<18|(63&re)<<12|(63&ie)<<6|63&ce)&&se<1114112&&(ue=se)}ue===null?(ue=65533,te=1):65535<ue&&(ue-=65536,H.push(ue>>>10&1023|55296),ue=56320|1023&ue),H.push(ue),K+=te}var pe=H,ve=pe.length;if(ve<=O)return String.fromCharCode.apply(String,pe);for(var Me="",xe=0;xe<ve;)Me+=String.fromCharCode.apply(String,pe.slice(xe,xe+=O));return Me}s.kMaxLength=m,(d.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(P,T),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=h,Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(P,T,V){return T=T,V=V,p(P=P),!(P<=0)&&T!==void 0?typeof V=="string"?y(P).fill(T,V):y(P).fill(T):y(P)},d.allocUnsafe=f,d.allocUnsafeSlow=f,d.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==d.prototype},d.compare=function(P,T){if(W(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),W(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(P)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===T)return 0;for(var V=P.length,H=T.length,K=0,re=Math.min(V,H);K<re;++K)if(P[K]!==T[K]){V=P[K],H=T[K];break}return V<H?-1:H<V?1:0},d.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(P,T){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return d.alloc(0);if(T===void 0)for(K=T=0;K<P.length;++K)T+=P[K].length;for(var V=d.allocUnsafe(T),H=0,K=0;K<P.length;++K){var re=P[K];if(W(re,Uint8Array)&&(re=d.from(re)),!d.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(V,H),H+=re.length}return V},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<P;T+=2)_(this,T,T+1);return this},d.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<P;T+=4)_(this,T,T+3),_(this,T+1,T+2);return this},d.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<P;T+=8)_(this,T,T+7),_(this,T+1,T+6),_(this,T+2,T+5),_(this,T+3,T+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?S(this,0,P):b.apply(this,arguments)},d.prototype.equals=function(P){if(d.isBuffer(P))return this===P||d.compare(this,P)===0;throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var T="",P=s.INSPECT_MAX_BYTES,T=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim();return this.length>P&&(T+=" ... "),"<Buffer "+T+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(P,T,V,H,K){if(W(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),!d.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(V===void 0&&(V=P?P.length:0),H===void 0&&(H=0),K===void 0&&(K=this.length),(T=T===void 0?0:T)<0||V>P.length||H<0||K>this.length)throw new RangeError("out of range index");if(K<=H&&V<=T)return 0;if(K<=H)return-1;if(V<=T)return 1;if(this===P)return 0;for(var re=(K>>>=0)-(H>>>=0),ie=(V>>>=0)-(T>>>=0),ce=Math.min(re,ie),se=this.slice(H,K),he=P.slice(T,V),ue=0;ue<ce;++ue)if(se[ue]!==he[ue]){re=se[ue],ie=he[ue];break}return re<ie?-1:ie<re?1:0},d.prototype.includes=function(P,T,V){return this.indexOf(P,T,V)!==-1},d.prototype.indexOf=function(P,T,V){return D(this,P,T,V,!0)},d.prototype.lastIndexOf=function(P,T,V){return D(this,P,T,V,!1)},d.prototype.write=function(P,T,V,H){if(T===void 0)H="utf8",V=this.length,T=0;else if(V===void 0&&typeof T=="string")H=T,V=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(V)?(V>>>=0,H===void 0&&(H="utf8")):(H=V,V=void 0)}var K=this.length-T;if((V===void 0||K<V)&&(V=K),0<P.length&&(V<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var re,ie,ce,se=!1;;)switch(H){case"hex":var he=this,ue=P,te=T,pe=V,ve=(te=Number(te)||0,he.length-te);(!pe||ve<(pe=Number(pe)))&&(pe=ve),(ve=ue.length)/2<pe&&(pe=ve/2);for(var Me=0;Me<pe;++Me){var xe=parseInt(ue.substr(2*Me,2),16);if(Q(xe))return Me;he[te+Me]=xe}return Me;case"utf8":case"utf-8":return ve=T,ce=V,U(q(P,(ie=this).length-ve),ie,ve,ce);case"ascii":return M(this,P,T,V);case"latin1":case"binary":return M(this,P,T,V);case"base64":return ie=this,ce=T,re=V,U(G(P),ie,ce,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,P,T,V);default:if(se)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),se=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function I(P,T,V){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(V<P+T)throw new RangeError("Trying to access beyond buffer length")}function F(P,T,V,H,K,re){if(!d.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(K<T||T<re)throw new RangeError('"value" argument is out of bounds');if(V+H>P.length)throw new RangeError("Index out of range")}function j(P,T,V,H){if(V+H>P.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function L(P,T,V,H,K){return T=+T,V>>>=0,K||j(P,0,V,4),l.write(P,T,V,H,23,4),V+4}function B(P,T,V,H,K){return T=+T,V>>>=0,K||j(P,0,V,8),l.write(P,T,V,H,52,8),V+8}d.prototype.slice=function(P,T){var V=this.length,V=((P=~~P)<0?(P+=V)<0&&(P=0):V<P&&(P=V),(T=T===void 0?V:~~T)<0?(T+=V)<0&&(T=0):V<T&&(T=V),T<P&&(T=P),this.subarray(P,T));return Object.setPrototypeOf(V,d.prototype),V},d.prototype.readUIntLE=function(P,T,V){P>>>=0,T>>>=0,V||I(P,T,this.length);for(var H=this[P],K=1,re=0;++re<T&&(K*=256);)H+=this[P+re]*K;return H},d.prototype.readUIntBE=function(P,T,V){P>>>=0,T>>>=0,V||I(P,T,this.length);for(var H=this[P+--T],K=1;0<T&&(K*=256);)H+=this[P+--T]*K;return H},d.prototype.readUInt8=function(P,T){return P>>>=0,T||I(P,1,this.length),this[P]},d.prototype.readUInt16LE=function(P,T){return P>>>=0,T||I(P,2,this.length),this[P]|this[P+1]<<8},d.prototype.readUInt16BE=function(P,T){return P>>>=0,T||I(P,2,this.length),this[P]<<8|this[P+1]},d.prototype.readUInt32LE=function(P,T){return P>>>=0,T||I(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},d.prototype.readUInt32BE=function(P,T){return P>>>=0,T||I(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},d.prototype.readIntLE=function(P,T,V){P>>>=0,T>>>=0,V||I(P,T,this.length);for(var H=this[P],K=1,re=0;++re<T&&(K*=256);)H+=this[P+re]*K;return(K*=128)<=H&&(H-=Math.pow(2,8*T)),H},d.prototype.readIntBE=function(P,T,V){P>>>=0,T>>>=0,V||I(P,T,this.length);for(var H=T,K=1,re=this[P+--H];0<H&&(K*=256);)re+=this[P+--H]*K;return(K*=128)<=re&&(re-=Math.pow(2,8*T)),re},d.prototype.readInt8=function(P,T){return P>>>=0,T||I(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},d.prototype.readInt16LE=function(P,T){return P>>>=0,T||I(P,2,this.length),T=this[P]|this[P+1]<<8,32768&T?4294901760|T:T},d.prototype.readInt16BE=function(P,T){return P>>>=0,T||I(P,2,this.length),T=this[P+1]|this[P]<<8,32768&T?4294901760|T:T},d.prototype.readInt32LE=function(P,T){return P>>>=0,T||I(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},d.prototype.readInt32BE=function(P,T){return P>>>=0,T||I(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},d.prototype.readFloatLE=function(P,T){return P>>>=0,T||I(P,4,this.length),l.read(this,P,!0,23,4)},d.prototype.readFloatBE=function(P,T){return P>>>=0,T||I(P,4,this.length),l.read(this,P,!1,23,4)},d.prototype.readDoubleLE=function(P,T){return P>>>=0,T||I(P,8,this.length),l.read(this,P,!0,52,8)},d.prototype.readDoubleBE=function(P,T){return P>>>=0,T||I(P,8,this.length),l.read(this,P,!1,52,8)},d.prototype.writeUIntLE=function(P,T,V,H){P=+P,T>>>=0,V>>>=0,H||F(this,P,T,V,Math.pow(2,8*V)-1,0);var K=1,re=0;for(this[T]=255&P;++re<V&&(K*=256);)this[T+re]=P/K&255;return T+V},d.prototype.writeUIntBE=function(P,T,V,H){P=+P,T>>>=0,V>>>=0,H||F(this,P,T,V,Math.pow(2,8*V)-1,0);var K=V-1,re=1;for(this[T+K]=255&P;0<=--K&&(re*=256);)this[T+K]=P/re&255;return T+V},d.prototype.writeUInt8=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,1,255,0),this[T]=255&P,T+1},d.prototype.writeUInt16LE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,2,65535,0),this[T]=255&P,this[T+1]=P>>>8,T+2},d.prototype.writeUInt16BE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,2,65535,0),this[T]=P>>>8,this[T+1]=255&P,T+2},d.prototype.writeUInt32LE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,4,4294967295,0),this[T+3]=P>>>24,this[T+2]=P>>>16,this[T+1]=P>>>8,this[T]=255&P,T+4},d.prototype.writeUInt32BE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,4,4294967295,0),this[T]=P>>>24,this[T+1]=P>>>16,this[T+2]=P>>>8,this[T+3]=255&P,T+4},d.prototype.writeIntLE=function(P,T,V,H){P=+P,T>>>=0,H||F(this,P,T,V,(H=Math.pow(2,8*V-1))-1,-H);var K=0,re=1,ie=0;for(this[T]=255&P;++K<V&&(re*=256);)P<0&&ie===0&&this[T+K-1]!==0&&(ie=1),this[T+K]=(P/re>>0)-ie&255;return T+V},d.prototype.writeIntBE=function(P,T,V,H){P=+P,T>>>=0,H||F(this,P,T,V,(H=Math.pow(2,8*V-1))-1,-H);var K=V-1,re=1,ie=0;for(this[T+K]=255&P;0<=--K&&(re*=256);)P<0&&ie===0&&this[T+K+1]!==0&&(ie=1),this[T+K]=(P/re>>0)-ie&255;return T+V},d.prototype.writeInt8=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,1,127,-128),this[T]=255&(P=P<0?255+P+1:P),T+1},d.prototype.writeInt16LE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,2,32767,-32768),this[T]=255&P,this[T+1]=P>>>8,T+2},d.prototype.writeInt16BE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,2,32767,-32768),this[T]=P>>>8,this[T+1]=255&P,T+2},d.prototype.writeInt32LE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,4,2147483647,-2147483648),this[T]=255&P,this[T+1]=P>>>8,this[T+2]=P>>>16,this[T+3]=P>>>24,T+4},d.prototype.writeInt32BE=function(P,T,V){return P=+P,T>>>=0,V||F(this,P,T,4,2147483647,-2147483648),this[T]=(P=P<0?4294967295+P+1:P)>>>24,this[T+1]=P>>>16,this[T+2]=P>>>8,this[T+3]=255&P,T+4},d.prototype.writeFloatLE=function(P,T,V){return L(this,P,T,!0,V)},d.prototype.writeFloatBE=function(P,T,V){return L(this,P,T,!1,V)},d.prototype.writeDoubleLE=function(P,T,V){return B(this,P,T,!0,V)},d.prototype.writeDoubleBE=function(P,T,V){return B(this,P,T,!1,V)},d.prototype.copy=function(P,T,V,H){if(!d.isBuffer(P))throw new TypeError("argument should be a Buffer");if(V=V||0,H||H===0||(H=this.length),T>=P.length&&(T=P.length),(H=0<H&&H<V?V:H)===V||P.length===0||this.length===0)return 0;if((T=T||0)<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var K=(H=P.length-T<H-V?P.length-T+V:H)-V;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,V,H);else if(this===P&&V<T&&T<H)for(var re=K-1;0<=re;--re)P[re+T]=this[re+V];else Uint8Array.prototype.set.call(P,this.subarray(V,H),T);return K},d.prototype.fill=function(P,T,V,H){if(typeof P=="string"){if(typeof T=="string"?(H=T,T=0,V=this.length):typeof V=="string"&&(H=V,V=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!d.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var K;P.length===1&&(K=P.charCodeAt(0),(H==="utf8"&&K<128||H==="latin1")&&(P=K))}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(T<0||this.length<T||this.length<V)throw new RangeError("Out of range index");var re;if(!(V<=T))if(T>>>=0,V=V===void 0?this.length:V>>>0,typeof(P=P||0)=="number")for(re=T;re<V;++re)this[re]=P;else{var ie=d.isBuffer(P)?P:d.from(P,H),ce=ie.length;if(ce===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(re=0;re<V-T;++re)this[re+T]=ie[re%ce]}return this};var k=/[^+/0-9A-Za-z-_]/g;function q(P,T){T=T||1/0;for(var V,H=P.length,K=null,re=[],ie=0;ie<H;++ie){if(55295<(V=P.charCodeAt(ie))&&V<57344){if(!K){if(56319<V){-1<(T-=3)&&re.push(239,191,189);continue}if(ie+1===H){-1<(T-=3)&&re.push(239,191,189);continue}K=V;continue}if(V<56320){-1<(T-=3)&&re.push(239,191,189),K=V;continue}V=65536+(K-55296<<10|V-56320)}else K&&-1<(T-=3)&&re.push(239,191,189);if(K=null,V<128){if(--T<0)break;re.push(V)}else if(V<2048){if((T-=2)<0)break;re.push(V>>6|192,63&V|128)}else if(V<65536){if((T-=3)<0)break;re.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;re.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return re}function G(P){return u.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(P))}function U(P,T,V,H){for(var K=0;K<H&&!(K+V>=T.length||K>=P.length);++K)T[K+V]=P[K];return K}function W(P,T){return P instanceof T||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===T.name}function Q(P){return P!=P}var le=function(){for(var P="0123456789abcdef",T=new Array(256),V=0;V<16;++V)for(var H=16*V,K=0;K<16;++K)T[H+K]=P[V]+P[K];return T}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,i,s){i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(u){if(a(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":75}],7:[function(l,i,s){var a=l("../internals/well-known-symbol"),u=l("../internals/object-create"),l=l("../internals/object-define-property"),c=a("unscopables"),m=Array.prototype;m[c]==null&&l.f(m,c,{configurable:!0,value:u(null)}),i.exports=function(y){m[c][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,i,s){"use strict";var a=t("../internals/string-multibyte").charAt;i.exports=function(u,l,c){return l+(c?a(u,l).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,i,s){i.exports=function(a,u,l){if(a instanceof u)return a;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(u){if(a(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,i,s){i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(j,i,s){"use strict";function a(B){return y(B)&&d(L,h(B))}var u,l=j("../internals/array-buffer-native"),c=j("../internals/descriptors"),m=j("../internals/global"),y=j("../internals/is-object"),d=j("../internals/has"),h=j("../internals/classof"),p=j("../internals/create-non-enumerable-property"),f=j("../internals/redefine"),v=j("../internals/object-define-property").f,g=j("../internals/object-get-prototype-of"),w=j("../internals/object-set-prototype-of"),O=j("../internals/well-known-symbol"),j=j("../internals/uid"),b=m.Int8Array,_=b&&b.prototype,D=m.Uint8ClampedArray,D=D&&D.prototype,C=b&&g(b),M=_&&g(_),E=Object.prototype,S=E.isPrototypeOf,O=O("toStringTag"),I=j("TYPED_ARRAY_TAG"),F=l&&!!w&&h(m.opera)!=="Opera",j=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in L)m[u]||(F=!1);if((!F||typeof C!="function"||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},F))for(u in L)m[u]&&w(m[u],C);if((!F||!M||M===E)&&(M=C.prototype,F))for(u in L)m[u]&&w(m[u].prototype,M);if(F&&g(D)!==M&&w(D,M),c&&!d(M,O))for(u in j=!0,v(M,O,{get:function(){return y(this)?this[I]:void 0}}),L)m[u]&&p(m[u],I,u);i.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:j&&I,aTypedArray:function(B){if(a(B))return B;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(B){if(w){if(S.call(C,B))return B}else for(var k in L)if(d(L,u)&&(k=m[k],k&&(B===k||S.call(k,B))))return B;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(B,k,q){if(c){if(q)for(var G in L)G=m[G],G&&d(G.prototype,B)&&delete G.prototype[B];M[B]&&!q||f(M,B,!q&&F&&_[B]||k)}},exportTypedArrayStaticMethod:function(B,k,q){var G,U;if(c){if(w){if(q)for(G in L)(U=m[G])&&d(U,B)&&delete U[B];if(C[B]&&!q)return;try{return f(C,B,!q&&F&&b[B]||k)}catch{}}for(G in L)!(U=m[G])||U[B]&&!q||f(U,B,k)}},isView:function(B){return B=h(B),B==="DataView"||d(L,B)},isTypedArray:a,TypedArray:C,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(V,i,s){"use strict";function a(te){return[255&te]}function u(te){return[255&te,te>>8&255]}function l(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function c(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function m(te){return re(te,23,4)}function y(te){return re(te,52,8)}function d(te,pe){j(te[W],pe,{get:function(){return k(this)[pe]}})}function h(_e,pe,me,Me){if(me=E(me),_e=k(_e),me+pe>_e.byteLength)throw K(Q);var xe=k(_e.buffer).bytes,me=me+_e.byteOffset,_e=xe.slice(me,me+pe);return Me?_e:_e.reverse()}function p(te,pe,ve,Me,xe,me){if(ve=E(ve),te=k(te),ve+pe>te.byteLength)throw K(Q);for(var _e=k(te.buffer).bytes,je=ve+te.byteOffset,De=Me(+xe),qe=0;qe<pe;qe++)_e[je+qe]=De[me?qe:pe-qe-1]}var f=V("../internals/global"),v=V("../internals/descriptors"),g=V("../internals/array-buffer-native"),w=V("../internals/create-non-enumerable-property"),b=V("../internals/redefine-all"),_=V("../internals/fails"),D=V("../internals/an-instance"),C=V("../internals/to-integer"),M=V("../internals/to-length"),E=V("../internals/to-index"),S=V("../internals/ieee754"),O=V("../internals/object-get-prototype-of"),I=V("../internals/object-set-prototype-of"),F=V("../internals/object-get-own-property-names").f,j=V("../internals/object-define-property").f,L=V("../internals/array-fill"),B=V("../internals/set-to-string-tag"),V=V("../internals/internal-state"),k=V.get,q=V.set,G="ArrayBuffer",U="DataView",W="prototype",Q="Wrong index",le=f[G],P=le,T=f[U],V=T&&T[W],H=Object.prototype,K=f.RangeError,re=S.pack,ie=S.unpack;if(g){if(!_(function(){le(1)})||!_(function(){new le(-1)})||_(function(){return new le,new le(1.5),new le(NaN),le.name!=G})){for(var ce,f=(P=function(ve){return D(this,P),new le(E(ve))})[W]=le[W],se=F(le),he=0;se.length>he;)(ce=se[he++])in P||w(P,ce,le[ce]);f.constructor=P}I&&O(V)!==H&&I(V,H);var S=new T(new P(2)),ue=V.setInt8;S.setInt8(0,2147483648),S.setInt8(1,2147483649),!S.getInt8(0)&&S.getInt8(1)||b(V,{setInt8:function(pe,ve){ue.call(this,pe,ve<<24>>24)},setUint8:function(pe,ve){ue.call(this,pe,ve<<24>>24)}},{unsafe:!0})}else P=function(te){D(this,P,G),te=E(te),q(this,{bytes:L.call(new Array(te),0),byteLength:te}),v||(this.byteLength=te)},T=function(te,xe,ve){D(this,T,U),D(te,P,U);var Me=k(te).byteLength,xe=C(xe);if(xe<0||Me<xe)throw K("Wrong offset");if(Me<xe+(ve=ve===void 0?Me-xe:M(ve)))throw K("Wrong length");q(this,{buffer:te,byteLength:ve,byteOffset:xe}),v||(this.buffer=te,this.byteLength=ve,this.byteOffset=xe)},v&&(d(P,"byteLength"),d(T,"buffer"),d(T,"byteLength"),d(T,"byteOffset")),b(T[W],{getInt8:function(te){return h(this,1,te)[0]<<24>>24},getUint8:function(te){return h(this,1,te)[0]},getInt16:function(te){return te=h(this,2,te,1<arguments.length?arguments[1]:void 0),(te[1]<<8|te[0])<<16>>16},getUint16:function(te){return te=h(this,2,te,1<arguments.length?arguments[1]:void 0),te[1]<<8|te[0]},getInt32:function(te){return c(h(this,4,te,1<arguments.length?arguments[1]:void 0))},getUint32:function(te){return c(h(this,4,te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(te){return ie(h(this,4,te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(te){return ie(h(this,8,te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(te,pe){p(this,1,te,a,pe)},setUint8:function(te,pe){p(this,1,te,a,pe)},setInt16:function(te,pe){p(this,2,te,u,pe,2<arguments.length?arguments[2]:void 0)},setUint16:function(te,pe){p(this,2,te,u,pe,2<arguments.length?arguments[2]:void 0)},setInt32:function(te,pe){p(this,4,te,l,pe,2<arguments.length?arguments[2]:void 0)},setUint32:function(te,pe){p(this,4,te,l,pe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(te,pe){p(this,4,te,m,pe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(te,pe){p(this,8,te,y,pe,2<arguments.length?arguments[2]:void 0)}});B(P,G),B(T,U),i.exports={ArrayBuffer:P,DataView:T}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,i,s){"use strict";var a=t("../internals/to-object"),u=t("../internals/to-absolute-index"),l=t("../internals/to-length"),c=Math.min;i.exports=[].copyWithin||function(v,y){var d=a(this),h=l(d.length),p=u(v,h),f=u(y,h),v=2<arguments.length?arguments[2]:void 0,g=c((v===void 0?h:u(v,h))-f,h-p),w=1;for(f<p&&p<f+g&&(w=-1,f+=g-1,p+=g-1);0<g--;)f in d?d[p]=d[f]:delete d[p],p+=w,f+=w;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,i,s){"use strict";var a=t("../internals/to-object"),u=t("../internals/to-absolute-index"),l=t("../internals/to-length");i.exports=function(c){for(var m=a(this),y=l(m.length),h=arguments.length,d=u(1<h?arguments[1]:void 0,y),h=2<h?arguments[2]:void 0,p=h===void 0?y:u(h,y);d<p;)m[d++]=c;return m}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(l,i,s){"use strict";var a=l("../internals/array-iteration").forEach,u=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),u=u("forEach"),l=l("forEach");i.exports=u&&l?[].forEach:function(c){return a(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,i,s){"use strict";var a=t("../internals/function-bind-context"),u=t("../internals/to-object"),l=t("../internals/call-with-safe-iteration-closing"),c=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),y=t("../internals/create-property"),d=t("../internals/get-iterator-method");i.exports=function(D){var p,f,v,g,w,b,_=u(D),D=typeof this=="function"?this:Array,C=arguments.length,M=1<C?arguments[1]:void 0,E=M!==void 0,S=d(_),O=0;if(E&&(M=a(M,2<C?arguments[2]:void 0,2)),S==null||D==Array&&c(S))for(f=new D(p=m(_.length));O<p;O++)b=E?M(_[O],O):_[O],y(f,O,b);else for(w=(g=S.call(_)).next,f=new D;!(v=w.call(g)).done;O++)b=E?l(g,M,[v.value,O],!0):v.value,y(f,O,b);return f.length=O,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,i,s){function a(m){return function(y,d,h){var p,f=u(y),v=l(f.length),g=c(h,v);if(m&&d!=d){for(;g<v;)if((p=f[g++])!=p)return!0}else for(;g<v;g++)if((m||g in f)&&f[g]===d)return m||g||0;return!m&&-1}}var u=t("../internals/to-indexed-object"),l=t("../internals/to-length"),c=t("../internals/to-absolute-index");i.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,i,s){function a(h){var p=h==1,f=h==2,v=h==3,g=h==4,w=h==6,b=h==5||w;return function(_,D,C,M){for(var E,S,O=c(_),I=l(O),F=u(D,C,3),j=m(I.length),L=0,D=M||y,B=p?D(_,j):f?D(_,0):void 0;L<j;L++)if((b||L in I)&&(S=F(E=I[L],L,O),h)){if(p)B[L]=S;else if(S)switch(h){case 3:return!0;case 5:return E;case 6:return L;case 2:d.call(B,E)}else if(g)return!1}return w?-1:v||g?g:B}}var u=t("../internals/function-bind-context"),l=t("../internals/indexed-object"),c=t("../internals/to-object"),m=t("../internals/to-length"),y=t("../internals/array-species-create"),d=[].push;i.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(h,i,s){"use strict";var a=h("../internals/to-indexed-object"),u=h("../internals/to-integer"),l=h("../internals/to-length"),d=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),c=Math.min,m=[].lastIndexOf,y=!!m&&1/[1].lastIndexOf(1,-0)<0,d=d("lastIndexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});i.exports=y||!d||!h?function(p){if(y)return m.apply(this,arguments)||0;var f=a(this),v=l(f.length),g=v-1;for((g=1<arguments.length?c(g,u(arguments[1])):g)<0&&(g=v+g);0<=g;g--)if(g in f&&f[g]===p)return g||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,i,s){var a=t("../internals/fails"),u=t("../internals/well-known-symbol"),l=t("../internals/engine-v8-version"),c=u("species");i.exports=function(m){return 51<=l||!a(function(){var y=[];return(y.constructor={})[c]=function(){return{foo:1}},y[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,i,s){"use strict";var a=t("../internals/fails");i.exports=function(u,l){var c=[][u];return!!c&&a(function(){c.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,i,s){function a(d){throw d}var u=t("../internals/descriptors"),l=t("../internals/fails"),c=t("../internals/has"),m=Object.defineProperty,y={};i.exports=function(d,h){var p,f,v,g;return c(y,d)?y[d]:(p=[][d],f=!!c(h=h||{},"ACCESSORS")&&h.ACCESSORS,v=c(h,0)?h[0]:a,g=c(h,1)?h[1]:void 0,y[d]=!!p&&!l(function(){if(f&&!u)return!0;var w={length:-1};f?m(w,1,{enumerable:!0,get:a}):w[1]=1,p.call(w,v,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,i,s){function a(y){return function(d,h,p,f){u(h);var v=l(d),g=c(v),w=m(v.length),b=y?w-1:0,_=y?-1:1;if(p<2)for(;;){if(b in g){f=g[b],b+=_;break}if(b+=_,y?b<0:w<=b)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=b:b<w;b+=_)b in g&&(f=h(f,g[b],b,v));return f}}var u=t("../internals/a-function"),l=t("../internals/to-object"),c=t("../internals/indexed-object"),m=t("../internals/to-length");i.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,i,s){var a=t("../internals/is-object"),u=t("../internals/is-array"),l=t("../internals/well-known-symbol")("species");i.exports=function(c,m){var y;return new((y=u(c)&&(typeof(y=c.constructor)=="function"&&(y===Array||u(y.prototype))||a(y)&&(y=y[l])===null)?void 0:y)===void 0?Array:y)(m===0?0:m)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,i,s){var a=t("../internals/an-object");i.exports=function(u,l,c,m){try{return m?l(a(c)[0],c[1]):l(c)}catch(y){throw m=u.return,m!==void 0&&a(m.call(u)),y}}},{"../internals/an-object":10}],27:[function(t,i,s){var a=t("../internals/well-known-symbol")("iterator"),u=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){u=!0}};c[a]=function(){return this},Array.from(c,function(){throw 2})}catch{}i.exports=function(m,y){if(!y&&!u)return!1;var d=!1;try{var h={};h[a]=function(){return{next:function(){return{done:d=!0}}}},m(h)}catch{}return d}},{"../internals/well-known-symbol":150}],28:[function(t,i,s){var a={}.toString;i.exports=function(u){return a.call(u).slice(8,-1)}},{}],29:[function(t,i,s){var a=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),c=u(function(){return arguments}())=="Arguments";i.exports=a?u:function(m){var y;return m===void 0?"Undefined":m===null?"Null":typeof(y=function(d,h){try{return d[h]}catch{}}(m=Object(m),l))=="string"?y:c?u(m):(y=u(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(v,i,s){"use strict";var a=v("../internals/object-define-property").f,u=v("../internals/object-create"),l=v("../internals/redefine-all"),c=v("../internals/function-bind-context"),m=v("../internals/an-instance"),y=v("../internals/iterate"),d=v("../internals/define-iterator"),h=v("../internals/set-species"),p=v("../internals/descriptors"),f=v("../internals/internal-metadata").fastKey,v=v("../internals/internal-state"),g=v.set,w=v.getterFor;i.exports={getConstructor:function(b,_,D,C){function M(I,F,j){var L,B=O(I),k=E(I,F);return k?k.value=j:(B.last=k={index:L=f(F,!0),key:F,value:j,previous:F=B.last,next:void 0,removed:!1},B.first||(B.first=k),F&&(F.next=k),p?B.size++:I.size++,L!=="F"&&(B.index[L]=k)),I}function E(L,F){var j,L=O(L),B=f(F);if(B!=="F")return L.index[B];for(j=L.first;j;j=j.next)if(j.key==F)return j}var S=b(function(I,F){m(I,S,_),g(I,{type:_,index:u(null),first:void 0,last:void 0,size:0}),p||(I.size=0),F!=null&&y(F,I[C],I,D)}),O=w(_);return l(S.prototype,{clear:function(){for(var I=O(this),F=I.index,j=I.first;j;)j.removed=!0,j.previous&&(j.previous=j.previous.next=void 0),delete F[j.index],j=j.next;I.first=I.last=void 0,p?I.size=0:this.size=0},delete:function(B){var F,j,L=O(this),B=E(this,B);return B&&(F=B.next,j=B.previous,delete L.index[B.index],B.removed=!0,j&&(j.next=F),F&&(F.previous=j),L.first==B&&(L.first=F),L.last==B&&(L.last=j),p?L.size--:this.size--),!!B},forEach:function(I){for(var F,j=O(this),L=c(I,1<arguments.length?arguments[1]:void 0,3);F=F?F.next:j.first;)for(L(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(I){return!!E(this,I)}}),l(S.prototype,D?{get:function(I){return I=E(this,I),I&&I.value},set:function(I,F){return M(this,I===0?0:I,F)}}:{add:function(I){return M(this,I=I===0?0:I,I)}}),p&&a(S.prototype,"size",{get:function(){return O(this).size}}),S},setStrong:function(b,_,D){var C=_+" Iterator",M=w(_),E=w(C);d(b,_,function(S,O){g(this,{type:C,target:S,state:M(S),kind:O,last:void 0})},function(){for(var S=E(this),O=S.kind,I=S.last;I&&I.removed;)I=I.previous;return S.target&&(S.last=I=I?I.next:S.state.first)?O=="keys"?{value:I.key,done:!1}:O=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:S.target=void 0,done:!0}},D?"entries":"values",!D,!0),h(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(g,i,s){"use strict";function a(M){return M.frozen||(M.frozen=new u)}function u(){this.entries=[]}function l(M,E){return _(M.entries,function(S){return S[0]===E})}var c=g("../internals/redefine-all"),m=g("../internals/internal-metadata").getWeakData,y=g("../internals/an-object"),d=g("../internals/is-object"),h=g("../internals/an-instance"),p=g("../internals/iterate"),f=g("../internals/array-iteration"),v=g("../internals/has"),g=g("../internals/internal-state"),w=g.set,b=g.getterFor,_=f.find,D=f.findIndex,C=0;u.prototype={get:function(M){if(M=l(this,M),M)return M[1]},has:function(M){return!!l(this,M)},set:function(M,E){var S=l(this,M);S?S[1]=E:this.entries.push([M,E])},delete:function(M){var E=D(this.entries,function(S){return S[0]===M});return~E&&this.entries.splice(E,1),!!~E}},i.exports={getConstructor:function(M,E,S,O){function I(L,B,k){var q=j(L),G=m(y(B),!0);return G===!0?a(q).set(B,k):G[q.id]=k,L}var F=M(function(L,B){h(L,F,E),w(L,{type:E,id:C++,frozen:void 0}),B!=null&&p(B,L[O],L,S)}),j=b(E);return c(F.prototype,{delete:function(L){var B,k=j(this);return!!d(L)&&((B=m(L))===!0?a(k).delete(L):B&&v(B,k.id)&&delete B[k.id])},has:function(L){var B,k=j(this);return!!d(L)&&((B=m(L))===!0?a(k).has(L):B&&v(B,k.id))}}),c(F.prototype,S?{get:function(L){var B,k=j(this);if(d(L))return(B=m(L))===!0?a(k).get(L):B?B[k.id]:void 0},set:function(L,B){return I(this,L,B)}}:{add:function(L){return I(this,L,!0)}}),F}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/global"),l=t("../internals/is-forced"),c=t("../internals/redefine"),m=t("../internals/internal-metadata"),y=t("../internals/iterate"),d=t("../internals/an-instance"),h=t("../internals/is-object"),p=t("../internals/fails"),f=t("../internals/check-correctness-of-iteration"),v=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");i.exports=function(w,b,_){function D(G){var U=B[G];c(B,G,G=="add"?function(W){return U.call(this,W===0?0:W),this}:G=="delete"?function(W){return!(F&&!h(W))&&U.call(this,W===0?0:W)}:G=="get"?function(W){return F&&!h(W)?void 0:U.call(this,W===0?0:W)}:G=="has"?function(W){return!(F&&!h(W))&&U.call(this,W===0?0:W)}:function(W,Q){return U.call(this,W===0?0:W,Q),this})}var C,M,E,S,O,I=w.indexOf("Map")!==-1,F=w.indexOf("Weak")!==-1,j=I?"set":"add",L=u[w],B=L&&L.prototype,k=L,q={};return l(w,typeof L!="function"||!(F||B.forEach&&!p(function(){new L().entries().next()})))?(k=_.getConstructor(b,w,I,j),m.REQUIRED=!0):l(w,!0)&&(M=(C=new k)[j](F?{}:-0,1)!=C,E=p(function(){C.has(1)}),S=f(function(G){new L(G)}),O=!F&&p(function(){for(var G=new L,U=5;U--;)G[j](U,U);return!G.has(-0)}),S||(((k=b(function(G,U){return d(G,k,w),G=g(new L,G,k),U!=null&&y(U,G[j],G,I),G})).prototype=B).constructor=k),(E||O)&&(D("delete"),D("has"),I&&D("get")),(O||M)&&D(j),F&&B.clear&&delete B.clear),q[w]=k,a({global:!0,forced:k!=L},q),v(k,w),F||_.setStrong(k,w,I),k}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,i,s){var a=t("../internals/has"),u=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");i.exports=function(m,y){for(var d=u(y),h=c.f,p=l.f,f=0;f<d.length;f++){var v=d[f];a(m,v)||h(m,v,p(y,v))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,i,s){var a=t("../internals/well-known-symbol")("match");i.exports=function(u){var l=/./;try{"/./"[u](l)}catch{try{return l[a]=!1,"/./"[u](l)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(t,i,s){var a=t("../internals/require-object-coercible"),u=/"/g;i.exports=function(d,c,m,y){var d=String(a(d)),h="<"+c;return m!==""&&(h+=" "+m+'="'+String(y).replace(u,"&quot;")+'"'),h+">"+d+"</"+c+">"}},{"../internals/require-object-coercible":115}],37:[function(t,i,s){"use strict";function a(){return this}var u=t("../internals/iterators-core").IteratorPrototype,l=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),y=t("../internals/iterators");i.exports=function(d,h,p){return h+=" Iterator",d.prototype=l(u,{next:c(1,p)}),m(d,h,!1,!0),y[h]=a,d}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");i.exports=a?function(c,m,y){return u.f(c,m,l(1,y))}:function(c,m,y){return c[m]=y,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,i,s){i.exports=function(a,u){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:u}}},{}],40:[function(t,i,s){"use strict";var a=t("../internals/to-primitive"),u=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");i.exports=function(c,m,y){m=a(m),m in c?u.f(c,m,l(0,y)):c[m]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(g,i,s){"use strict";function a(){return this}var u=g("../internals/export"),l=g("../internals/create-iterator-constructor"),c=g("../internals/object-get-prototype-of"),m=g("../internals/object-set-prototype-of"),y=g("../internals/set-to-string-tag"),d=g("../internals/create-non-enumerable-property"),h=g("../internals/redefine"),p=g("../internals/well-known-symbol"),f=g("../internals/is-pure"),v=g("../internals/iterators"),g=g("../internals/iterators-core"),w=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),D="values",C="entries";i.exports=function(M,E,S,q,I,F,j){l(S,E,q);function L(P){if(P===I&&Q)return Q;if(!b&&P in U)return U[P];switch(P){case"keys":case D:case C:return function(){return new S(this,P)}}return function(){return new S(this)}}var B,k,q=E+" Iterator",G=!1,U=M.prototype,W=U[_]||U["@@iterator"]||I&&U[I],Q=!b&&W||L(I),le=E=="Array"&&U.entries||W;if(le&&(le=c(le.call(new M)),w!==Object.prototype&&le.next&&(f||c(le)===w||(m?m(le,w):typeof le[_]!="function"&&d(le,_,a)),y(le,q,!0,!0),f&&(v[q]=a))),I==D&&W&&W.name!==D&&(G=!0,Q=function(){return W.call(this)}),f&&!j||U[_]===Q||d(U,_,Q),v[E]=Q,I)if(B={values:L(D),keys:F?Q:L("keys"),entries:L(C)},j)for(k in B)!b&&!G&&k in U||h(U,k,B[k]);else u({target:E,proto:!0,forced:b||G},B);return B}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,i,s){var a=t("../internals/path"),u=t("../internals/has"),l=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;i.exports=function(m){var y=a.Symbol||(a.Symbol={});u(y,m)||c(y,m,{value:l.f(m)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,i,s){var a=u("../internals/global"),u=u("../internals/is-object"),l=a.document,c=u(l)&&u(l.createElement);i.exports=function(m){return c?l.createElement(m):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,i,s){t=t("../internals/engine-user-agent"),i.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,i,s){t=t("../internals/get-built-in"),i.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(l,i,s){var a,u,c=l("../internals/global"),l=l("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?u=(a=c.split("."))[0]+a[1]:l&&(!(a=l.match(/Edge\/(\d+)/))||74<=a[1])&&(a=l.match(/Chrome\/(\d+)/))&&(u=a[1]),i.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,i,s){var a=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),c=t("../internals/redefine"),m=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");i.exports=function(h,p){var f,v,g,w=h.target,b=h.global,_=h.stat,D=b?a:_?a[w]||m(w,{}):(a[w]||{}).prototype;if(D)for(f in p){if(v=p[f],g=h.noTargetGet?(g=u(D,f))&&g.value:D[f],!d(b?f:w+(_?".":"#")+f,h.forced)&&g!==void 0){if(typeof v==typeof g)continue;y(v,g)}(h.sham||g&&g.sham)&&l(v,"sham",!0),c(D,f,v,h)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,i,s){i.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(p,i,s){"use strict";p("../modules/es.regexp.exec");var a=p("../internals/redefine"),u=p("../internals/fails"),l=p("../internals/well-known-symbol"),c=p("../internals/regexp-exec"),m=p("../internals/create-non-enumerable-property"),y=l("species"),d=!u(function(){var g=/./;return g.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(g,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",p=l("replace"),f=!!/./[p]&&/./[p]("a","$0")==="",v=!u(function(){var w=/(?:)/,g=w.exec,w=(w.exec=function(){return g.apply(this,arguments)},"ab".split(w));return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(g,w,b,_){var D,C,M=l(g),E=!u(function(){var O={};return O[M]=function(){return 7},""[g](O)!=7}),S=E&&!u(function(){var O=!1,I=/a/;return g==="split"&&((I={constructor:{}}).constructor[y]=function(){return I},I.flags="",I[M]=/./[M]),I.exec=function(){return O=!0,null},I[M](""),!O});E&&S&&(g!=="replace"||d&&h&&!f)&&(g!=="split"||v)||(D=/./[M],b=(S=b(M,""[g],function(O,I,F,j,L){return I.exec===c?E&&!L?{done:!0,value:D.call(I,F,j)}:{done:!0,value:O.call(F,I,j)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],C=S[1],a(String.prototype,g,b),a(RegExp.prototype,M,w==2?function(O,I){return C.call(O,this,I)}:function(O){return C.call(O,this)})),_&&m(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,i,s){"use strict";function a(m,y,d,h,p,f,v,g){for(var w,b=p,_=0,D=!!v&&c(v,g,3);_<h;){if(_ in d){if(w=D?D(d[_],_,y):d[_],0<f&&u(w))b=a(m,y,w,l(w.length),b,f-1)-1;else{if(9007199254740991<=b)throw TypeError("Exceed the acceptable array length");m[b]=w}b++}_++}return b}var u=t("../internals/is-array"),l=t("../internals/to-length"),c=t("../internals/function-bind-context");i.exports=a},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,i,s){var a=t("../internals/a-function");i.exports=function(u,l,c){if(a(u),l===void 0)return u;switch(c){case 0:return function(){return u.call(l)};case 1:return function(m){return u.call(l,m)};case 2:return function(m,y){return u.call(l,m,y)};case 3:return function(m,y,d){return u.call(l,m,y,d)}}return function(){return u.apply(l,arguments)}}},{"../internals/a-function":5}],56:[function(t,i,s){"use strict";var a=t("../internals/a-function"),u=t("../internals/is-object"),l=[].slice,c={};i.exports=Function.bind||function(m){var y=a(this),d=l.call(arguments,1),h=function(){var p=d.concat(l.call(arguments));if(this instanceof h){var f=y,v=p.length,g=p;if(!(v in c)){for(var w=[],b=0;b<v;b++)w[b]="a["+b+"]";c[v]=Function("C,a","return new C("+w.join(",")+")")}return c[v](f,g)}return y.apply(m,p)};return u(y.prototype)&&(h.prototype=y.prototype),h}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,i,s){function a(c){return typeof c=="function"?c:void 0}var u=t("../internals/path"),l=t("../internals/global");i.exports=function(c,m){return arguments.length<2?a(u[c])||a(l[c]):u[c]&&u[c][m]||l[c]&&l[c][m]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,i,s){var a=t("../internals/classof"),u=t("../internals/iterators"),l=t("../internals/well-known-symbol")("iterator");i.exports=function(c){if(c!=null)return c[l]||c["@@iterator"]||u[a(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,i,s){var a=t("../internals/an-object"),u=t("../internals/get-iterator-method");i.exports=function(l){var c=u(l);if(typeof c!="function")throw TypeError(String(l)+" is not iterable");return a(c.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,i,s){(function(a){function u(l){return l&&l.Math==Math&&l}i.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,i,s){var a={}.hasOwnProperty;i.exports=function(u,l){return a.call(u,l)}},{}],62:[function(t,i,s){i.exports={}},{}],63:[function(t,i,s){var a=t("../internals/global");i.exports=function(u,l){var c=a.console;c&&c.error&&(arguments.length===1?c.error(u):c.error(u,l))}},{"../internals/global":60}],64:[function(t,i,s){t=t("../internals/get-built-in"),i.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/fails"),l=t("../internals/document-create-element");i.exports=!a&&!u(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,i,s){var a=Math.abs,u=Math.pow,l=Math.floor,c=Math.log,m=Math.LN2;i.exports={pack:function(y,d,b){var p,f,v,g=new Array(b),w=8*b-d-1,b=(1<<w)-1,_=b>>1,D=d===23?u(2,-24)-u(2,-77):0,C=y<0||y===0&&1/y<0?1:0,M=0;for((y=a(y))!=y||y===1/0?(f=y!=y?1:0,p=b):(p=l(c(y)/m),y*(v=u(2,-p))<1&&(p--,v*=2),2<=(y+=1<=p+_?D/v:D*u(2,1-_))*v&&(p++,v/=2),b<=p+_?(f=0,p=b):1<=p+_?(f=(y*v-1)*u(2,d),p+=_):(f=y*u(2,_-1)*u(2,d),p=0));8<=d;g[M++]=255&f,f/=256,d-=8);for(p=p<<d|f,w+=d;0<w;g[M++]=255&p,p/=256,w-=8);return g[--M]|=128*C,g},unpack:function(y,d){var h,p=y.length,b=8*p-d-1,f=(1<<b)-1,v=f>>1,g=b-7,w=p-1,b=y[w--],_=127&b;for(b>>=7;0<g;_=256*_+y[w],w--,g-=8);for(h=_&(1<<-g)-1,_>>=-g,g+=d;0<g;h=256*h+y[w],w--,g-=8);if(_===0)_=1-v;else{if(_===f)return h?NaN:b?-1/0:1/0;h+=u(2,d),_-=v}return(b?-1:1)*h*u(2,_-d)}}},{}],67:[function(t,i,s){var a=t("../internals/fails"),u=t("../internals/classof-raw"),l="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?l.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,i,s){var a=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");i.exports=function(l,c,m){return u&&typeof(c=c.constructor)=="function"&&c!==m&&a(c=c.prototype)&&c!==m.prototype&&u(l,c),l}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,i,s){var a=a("../internals/shared-store"),u=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(l){return u.call(l)}),i.exports=a.inspectSource},{"../internals/shared-store":121}],70:[function(t,i,s){function a(g){m(g,h,{value:{objectID:"O"+ ++p,weakData:{}}})}var u=t("../internals/hidden-keys"),l=t("../internals/is-object"),c=t("../internals/has"),m=t("../internals/object-define-property").f,y=t("../internals/uid"),d=t("../internals/freezing"),h=y("meta"),p=0,f=Object.isExtensible||function(){return!0},v=i.exports={REQUIRED:!1,fastKey:function(g,w){if(!l(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!c(g,h)){if(!f(g))return"F";if(!w)return"E";a(g)}return g[h].objectID},getWeakData:function(g,w){if(!c(g,h)){if(!f(g))return!0;if(!w)return!1;a(g)}return g[h].weakData},onFreeze:function(g){return d&&v.REQUIRED&&f(g)&&!c(g,h)&&a(g),g}};u[h]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(b,i,s){var a,u,l,c,m,y,d,h,p=b("../internals/native-weak-map"),_=b("../internals/global"),f=b("../internals/is-object"),v=b("../internals/create-non-enumerable-property"),g=b("../internals/has"),w=b("../internals/shared-key"),b=b("../internals/hidden-keys"),_=_.WeakMap;d=p?(a=new _,u=a.get,l=a.has,c=a.set,m=function(D,C){return c.call(a,D,C),C},y=function(D){return u.call(a,D)||{}},function(D){return l.call(a,D)}):(b[h=w("state")]=!0,m=function(D,C){return v(D,h,C),C},y=function(D){return g(D,h)?D[h]:{}},function(D){return g(D,h)}),i.exports={set:m,get:y,has:d,enforce:function(D){return d(D)?y(D):m(D,{})},getterFor:function(D){return function(C){if(f(C)&&(C=y(C)).type===D)return C;throw TypeError("Incompatible receiver, "+D+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,i,s){var a=t("../internals/well-known-symbol"),u=t("../internals/iterators"),l=a("iterator"),c=Array.prototype;i.exports=function(m){return m!==void 0&&(u.Array===m||c[l]===m)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,i,s){var a=t("../internals/classof-raw");i.exports=Array.isArray||function(u){return a(u)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,i,s){function a(h,p){return(h=m[c(h)])==d||h!=y&&(typeof p=="function"?u(p):!!p)}var u=t("../internals/fails"),l=/#|\.prototype\./,c=a.normalize=function(h){return String(h).replace(l,".").toLowerCase()},m=a.data={},y=a.NATIVE="N",d=a.POLYFILL="P";i.exports=a},{"../internals/fails":51}],75:[function(t,i,s){i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],76:[function(t,i,s){i.exports=!1},{}],77:[function(t,i,s){var a=t("../internals/is-object"),u=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");i.exports=function(c){var m;return a(c)&&((m=c[l])!==void 0?!!m:u(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,i,s){function a(h,p){this.stopped=h,this.result=p}var u=t("../internals/an-object"),l=t("../internals/is-array-iterator-method"),c=t("../internals/to-length"),m=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),d=t("../internals/call-with-safe-iteration-closing");(i.exports=function(h,p,f,v,g){var w,b,_,D,C,M,E=m(p,f,v?2:1);if(g)w=h;else{if(typeof(p=y(h))!="function")throw TypeError("Target is not iterable");if(l(p)){for(b=0,_=c(h.length);b<_;b++)if((D=v?E(u(M=h[b])[0],M[1]):E(h[b]))&&D instanceof a)return D;return new a(!1)}w=p.call(h)}for(C=w.next;!(M=C.call(w)).done;)if(typeof(D=d(w,E,M.value,v))=="object"&&D&&D instanceof a)return D;return new a(!1)}).stop=function(h){return new a(!0,h)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,i,s){"use strict";var a,u,l=y("../internals/object-get-prototype-of"),c=y("../internals/create-non-enumerable-property"),m=y("../internals/has"),d=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),d=d("iterator"),h=!1;[].keys&&("next"in(u=[].keys())?(l=l(l(u)))!==Object.prototype&&(a=l):h=!0),a==null&&(a={}),y||m(a,d)||c(a,d,function(){return this}),i.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,i,s){i.exports={}},{}],81:[function(t,i,s){i.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],82:[function(v,i,s){var a,u,l,c,m,y,d,h,p=v("../internals/global"),C=v("../internals/object-get-own-property-descriptor").f,D=v("../internals/classof-raw"),f=v("../internals/task").set,v=v("../internals/engine-is-ios"),g=p.MutationObserver||p.WebKitMutationObserver,w=p.process,b=p.Promise,_=D(w)=="process",D=C(p,"queueMicrotask"),C=D&&D.value;C||(a=function(){var M,E;for(_&&(M=w.domain)&&M.exit();u;){E=u.fn,u=u.next;try{E()}catch(S){throw u?c():l=void 0,S}}l=void 0,M&&M.enter()},c=_?function(){w.nextTick(a)}:g&&!v?(m=!0,y=document.createTextNode(""),new g(a).observe(y,{characterData:!0}),function(){y.data=m=!m}):b&&b.resolve?(d=b.resolve(void 0),h=d.then,function(){h.call(d,a)}):function(){f.call(p,a)}),i.exports=C||function(M){M={fn:M,next:void 0},l&&(l.next=M),u||(u=M,c()),l=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,i,s){t=t("../internals/global"),i.exports=t.Promise},{"../internals/global":60}],84:[function(t,i,s){t=t("../internals/fails"),i.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,i,s){var a=t("../internals/fails"),u=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),c=u("iterator");i.exports=!a(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),y=m.searchParams,d="";return m.pathname="c%20d",y.forEach(function(h,p){y.delete("b"),d+=p+h}),l&&!m.toJSON||!y.sort||m.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,i,s){var u=a("../internals/global"),a=a("../internals/inspect-source"),u=u.WeakMap;i.exports=typeof u=="function"&&/native code/.test(a(u))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,i,s){"use strict";function a(l){var c,m;this.promise=new l(function(y,d){if(c!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");c=y,m=d}),this.resolve=u(c),this.reject=u(m)}var u=t("../internals/a-function");i.exports.f=function(l){return new a(l)}},{"../internals/a-function":5}],88:[function(t,i,s){var a=t("../internals/is-regexp");i.exports=function(u){if(a(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":77}],89:[function(t,i,s){var a=t("../internals/global").isFinite;i.exports=Number.isFinite||function(u){return typeof u=="number"&&a(u)}},{"../internals/global":60}],90:[function(t,i,s){"use strict";var a=t("../internals/descriptors"),u=t("../internals/fails"),l=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),d=t("../internals/indexed-object"),h=Object.assign,p=Object.defineProperty;i.exports=!h||u(function(){var f,v,g,w;return!(!a||h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(v={},w="abcdefghijklmnopqrst",(f={})[g=Symbol()]=7,w.split("").forEach(function(b){v[b]=b}),h({},f)[g]!=7||l(h({},v)).join("")!=w)})?function(f,v){for(var g=y(f),w=arguments.length,b=1,_=c.f,D=m.f;b<w;)for(var C,M=d(arguments[b++]),E=_?l(M).concat(_(M)):l(M),S=E.length,O=0;O<S;)C=E[O++],a&&!D.call(M,C)||(g[C]=M[C]);return g}:h},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(p,i,s){function a(){}var u,l=p("../internals/an-object"),c=p("../internals/object-define-properties"),m=p("../internals/enum-bug-keys"),y=p("../internals/hidden-keys"),d=p("../internals/html"),h=p("../internals/document-create-element"),p=p("../internals/shared-key"),f="prototype",v="script",g=p("IE_PROTO"),w=function(_){return"<"+v+">"+_+"</"+v+">"},b=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}b=u?((_=u).write(w("")),_.close(),D=_.parentWindow.Object,_=null,D):(_=h("iframe"),D="java"+v+":",_.style.display="none",d.appendChild(_),_.src=String(D),(D=_.contentWindow.document).open(),D.write(w("document.F=Object")),D.close(),D.F);for(var _,D,C=m.length;C--;)delete b[f][m[C]];return b()};y[g]=!0,i.exports=Object.create||function(_,D){var C;return _!==null?(a[f]=l(_),C=new a,a[f]=null,C[g]=_):C=b(),D===void 0?C:c(C,D)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/object-define-property"),l=t("../internals/an-object"),c=t("../internals/object-keys");i.exports=a?Object.defineProperties:function(m,y){l(m);for(var d,h=c(y),p=h.length,f=0;f<p;)u.f(m,d=h[f++],y[d]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),l=t("../internals/an-object"),c=t("../internals/to-primitive"),m=Object.defineProperty;s.f=a?m:function(y,d,h){if(l(y),d=c(d,!0),l(h),u)try{return m(y,d,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(y[d]=h.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),y=t("../internals/has"),d=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=a?h:function(p,f){if(p=c(p),f=m(f,!0),d)try{return h(p,f)}catch{}if(y(p,f))return l(!u.f.call(p,f),p[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,i,s){var a=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,l={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(m){if(!c||l.call(m)!="[object Window]")return u(a(m));try{return u(m)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,i,s){var a=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return a(l,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,i,s){s.f=Object.getOwnPropertySymbols},{}],98:[function(c,i,s){var a=c("../internals/has"),u=c("../internals/to-object"),l=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),m=l("IE_PROTO"),y=Object.prototype;i.exports=c?Object.getPrototypeOf:function(d){return d=u(d),a(d,m)?d[m]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,i,s){var a=t("../internals/has"),u=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys");i.exports=function(m,y){var d,h=u(m),p=0,f=[];for(d in h)!a(c,d)&&a(h,d)&&f.push(d);for(;y.length>p;)!a(h,d=y[p++])||~l(f,d)||f.push(d);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,i,s){var a=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");i.exports=Object.keys||function(l){return a(l,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,i,s){"use strict";var a={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,l=u&&!a.call({1:2},1);s.f=l?function(c){return c=u(this,c),!!c&&c.enumerable}:a},{}],102:[function(t,i,s){var a=t("../internals/an-object"),u=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,m={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),c=m instanceof Array}catch{}return function(y,d){return a(y),u(d),c?l.call(y,d):y.__proto__=d,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,i,s){function a(y){return function(d){for(var h,p=c(d),f=l(p),v=f.length,g=0,w=[];g<v;)h=f[g++],u&&!m.call(p,h)||w.push(y?[h,p[h]]:p[h]);return w}}var u=t("../internals/descriptors"),l=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),m=t("../internals/object-property-is-enumerable").f;i.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,i,s){"use strict";var a=t("../internals/to-string-tag-support"),u=t("../internals/classof");i.exports=a?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,i,s){var a=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object");i.exports=a("Reflect","ownKeys")||function(m){var y=u.f(c(m)),d=l.f;return d?y.concat(d(m)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,i,s){t=t("../internals/global"),i.exports=t},{"../internals/global":60}],107:[function(t,i,s){i.exports=function(a){try{return{error:!1,value:a()}}catch(u){return{error:!0,value:u}}}},{}],108:[function(t,i,s){var a=t("../internals/an-object"),u=t("../internals/is-object"),l=t("../internals/new-promise-capability");i.exports=function(c,m){return a(c),u(m)&&m.constructor===c?m:((0,(c=l.f(c)).resolve)(m),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,i,s){var a=t("../internals/redefine");i.exports=function(u,l,c){for(var m in l)a(u,m,l[m],c);return u}},{"../internals/redefine":110}],110:[function(y,i,s){var a=y("../internals/global"),u=y("../internals/create-non-enumerable-property"),l=y("../internals/has"),c=y("../internals/set-global"),m=y("../internals/inspect-source"),y=y("../internals/internal-state"),d=y.get,h=y.enforce,p=String(String).split("String");(i.exports=function(f,v,g,D){var b=!!D&&!!D.unsafe,_=!!D&&!!D.enumerable,D=!!D&&!!D.noTargetGet;typeof g=="function"&&(typeof v!="string"||l(g,"name")||u(g,"name",v),h(g).source=p.join(typeof v=="string"?v:"")),f===a?_?f[v]=g:c(v,g):(b?!D&&f[v]&&(_=!0):delete f[v],_?f[v]=g:u(f,v,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,i,s){var a=t("./classof-raw"),u=t("./regexp-exec");i.exports=function(l,c){var m=l.exec;if(typeof m=="function"){if(m=m.call(l,c),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(a(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(l,c)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(c,i,s){"use strict";var a,u,l=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),m=RegExp.prototype.exec,y=String.prototype.replace,d=m,h=(a=/a/,u=/b*/g,m.call(a,"a"),m.call(u,"a"),a.lastIndex!==0||u.lastIndex!==0),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;i.exports=d=h||f||p?function(v){var g,w,b,_,D=this,C=p&&D.sticky,M=l.call(D),E=D.source,S=0,O=v;return C&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),O=String(v).slice(D.lastIndex),0<D.lastIndex&&(!D.multiline||D.multiline&&v[D.lastIndex-1]!==`
`)&&(E="(?: "+E+")",O=" "+O,S++),w=new RegExp("^(?:"+E+")",M)),f&&(w=new RegExp("^"+E+"$(?!\\s)",M)),h&&(g=D.lastIndex),b=m.call(C?w:D,O),C?b?(b.input=b.input.slice(S),b[0]=b[0].slice(S),b.index=D.lastIndex,D.lastIndex+=b[0].length):D.lastIndex=0:h&&b&&(D.lastIndex=D.global?b.index+b[0].length:g),f&&b&&1<b.length&&y.call(b[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(b[_]=void 0)}),b}:d},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,i,s){"use strict";var a=t("../internals/an-object");i.exports=function(){var u=a(this),l="";return u.global&&(l+="g"),u.ignoreCase&&(l+="i"),u.multiline&&(l+="m"),u.dotAll&&(l+="s"),u.unicode&&(l+="u"),u.sticky&&(l+="y"),l}},{"../internals/an-object":10}],114:[function(t,i,s){"use strict";t=t("./fails");function a(u,l){return RegExp(u,l)}s.UNSUPPORTED_Y=t(function(){var u=a("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=t(function(){var u=a("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],115:[function(t,i,s){i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],116:[function(t,i,s){i.exports=Object.is||function(a,u){return a===u?a!==0||1/a==1/u:a!=a&&u!=u}},{}],117:[function(t,i,s){var a=t("../internals/global"),u=t("../internals/create-non-enumerable-property");i.exports=function(l,c){try{u(a,l,c)}catch{a[l]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,i,s){"use strict";var a=t("../internals/get-built-in"),u=t("../internals/object-define-property"),l=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),m=l("species");i.exports=function(d){var d=a(d),h=u.f;c&&d&&!d[m]&&h(d,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,i,s){var a=t("../internals/object-define-property").f,u=t("../internals/has"),l=t("../internals/well-known-symbol")("toStringTag");i.exports=function(c,m,y){c&&!u(c=y?c:c.prototype,l)&&a(c,l,{configurable:!0,value:m})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,i,s){var a=t("../internals/shared"),u=t("../internals/uid"),l=a("keys");i.exports=function(c){return l[c]||(l[c]=u(c))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,i,s){var l=a("../internals/global"),a=a("../internals/set-global"),u="__core-js_shared__",l=l[u]||a(u,{});i.exports=l},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,i,s){var a=t("../internals/is-pure"),u=t("../internals/shared-store");(i.exports=function(l,c){return u[l]||(u[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,i,s){var a=t("../internals/an-object"),u=t("../internals/a-function"),l=t("../internals/well-known-symbol")("species");i.exports=function(y,m){var y=a(y).constructor;return y===void 0||(y=a(y)[l])==null?m:u(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,i,s){var a=t("../internals/fails");i.exports=function(u){return a(function(){var l=""[u]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],125:[function(t,i,s){function a(c){return function(h,p){var d,h=String(l(h)),p=u(p),f=h.length;return p<0||f<=p?c?"":void 0:(d=h.charCodeAt(p))<55296||56319<d||p+1===f||(f=h.charCodeAt(p+1))<56320||57343<f?c?h.charAt(p):d:c?h.slice(p,p+2):f-56320+(d-55296<<10)+65536}}var u=t("../internals/to-integer"),l=t("../internals/require-object-coercible");i.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,i,s){t=t("../internals/engine-user-agent"),i.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,i,s){function a(y){return function(f,w,g){var f=String(c(f)),v=f.length,g=g===void 0?" ":String(g),w=u(w);return w<=v||g==""?f:((v=l.call(g,m((w=w-v)/g.length))).length>w&&(v=v.slice(0,w)),y?f+v:v+f)}}var u=t("../internals/to-length"),l=t("../internals/string-repeat"),c=t("../internals/require-object-coercible"),m=Math.ceil;i.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,i,s){"use strict";function a(b){return b+22+75*(b<26)}function u(b){var _,D=[],C=(b=function(W){for(var Q=[],le=0,P=W.length;le<P;){var T,V=W.charCodeAt(le++);55296<=V&&V<=56319&&le<P?(64512&(T=W.charCodeAt(le++)))==56320?Q.push(((1023&V)<<10)+(1023&T)+65536):(Q.push(V),le--):Q.push(V)}return Q}(b)).length,M=128,E=0,S=72;for(j=0;j<b.length;j++)(_=b[j])<128&&D.push(w(_));var O=D.length,I=O;for(O&&D.push("-");I<C;){for(var F=l,j=0;j<b.length;j++)M<=(_=b[j])&&_<F&&(F=_);var L=I+1;if(F-M>g((l-E)/L))throw RangeError(f);for(E+=(F-M)*L,M=F,j=0;j<b.length;j++){if((_=b[j])<M&&++E>l)throw RangeError(f);if(_==M){for(var B=E,k=c;;k+=c){var q=k<=S?1:S+m<=k?m:k-S;if(B<q)break;var G=B-q,U=c-q;D.push(w(a(q+G%U))),B=g(G/U)}D.push(w(a(B))),S=function(W,Q,le){var P=0;for(W=le?g(W/d):W>>1,W+=g(W/Q);v*m>>1<W;P+=c)W=g(W/v);return g(P+(v+1)*W/(W+y))}(E,L,I==O),E=0,++I}}++E,++M}return D.join("")}var l=2147483647,c=36,m=26,y=38,d=700,h=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",v=c-1,g=Math.floor,w=String.fromCharCode;i.exports=function(b){for(var _,D=[],C=b.toLowerCase().replace(p,".").split("."),M=0;M<C.length;M++)_=C[M],D.push(h.test(_)?"xn--"+u(_):_);return D.join(".")}},{}],129:[function(t,i,s){"use strict";var a=t("../internals/to-integer"),u=t("../internals/require-object-coercible");i.exports="".repeat||function(l){var c=String(u(this)),m="",y=a(l);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(c+=c))1&y&&(m+=c);return m}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,i,s){var a=t("../internals/fails"),u=t("../internals/whitespaces");i.exports=function(l){return a(function(){return!!u[l]()||"\u200B\x85\u180E"[l]()!="\u200B\x85\u180E"||u[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(l,i,s){function a(y){return function(d){return d=String(u(d)),1&y&&(d=d.replace(c,"")),d=2&y?d.replace(m,""):d}}var u=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",c=RegExp("^"+l+l+"*"),m=RegExp(l+l+"*$");i.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(v,i,s){function a(I){return function(){O(I)}}function u(I){O(I.data)}function l(I){m.postMessage(I+"",g.protocol+"//"+g.host)}var c,m=v("../internals/global"),y=v("../internals/fails"),d=v("../internals/classof-raw"),h=v("../internals/function-bind-context"),p=v("../internals/html"),f=v("../internals/document-create-element"),v=v("../internals/engine-is-ios"),g=m.location,w=m.setImmediate,b=m.clearImmediate,_=m.process,D=m.MessageChannel,C=m.Dispatch,M=0,E={},S="onreadystatechange",O=function(I){var F;E.hasOwnProperty(I)&&(F=E[I],delete E[I],F())};w&&b||(w=function(I){for(var F=[],j=1;j<arguments.length;)F.push(arguments[j++]);return E[++M]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,F)},c(M),M},b=function(I){delete E[I]},d(_)=="process"?c=function(I){_.nextTick(a(I))}:C&&C.now?c=function(I){C.now(a(I))}:D&&!v?(v=(d=new D).port2,d.port1.onmessage=u,c=h(v.postMessage,v,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||y(l)||g.protocol==="file:"?c=S in f("script")?function(I){p.appendChild(f("script"))[S]=function(){p.removeChild(this),O(I)}}:function(I){setTimeout(a(I),0)}:(c=l,m.addEventListener("message",u,!1))),i.exports={set:w,clear:b}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,i,s){var a=t("../internals/classof-raw");i.exports=function(u){if(typeof u!="number"&&a(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],134:[function(t,i,s){var a=t("../internals/to-integer"),u=Math.max,l=Math.min;i.exports=function(c,m){return c=a(c),c<0?u(c+m,0):l(c,m)}},{"../internals/to-integer":137}],135:[function(t,i,s){var a=t("../internals/to-integer"),u=t("../internals/to-length");i.exports=function(c){if(c===void 0)return 0;var c=a(c),m=u(c);if(c!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,i,s){var a=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");i.exports=function(l){return a(u(l))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,i,s){var a=Math.ceil,u=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(0<l?u:a)(l)}},{}],138:[function(t,i,s){var a=t("../internals/to-integer"),u=Math.min;i.exports=function(l){return 0<l?u(a(l),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,i,s){var a=t("../internals/require-object-coercible");i.exports=function(u){return Object(a(u))}},{"../internals/require-object-coercible":115}],140:[function(t,i,s){var a=t("../internals/to-positive-integer");i.exports=function(u,l){if(u=a(u),u%l)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":141}],141:[function(t,i,s){var a=t("../internals/to-integer");i.exports=function(u){if(u=a(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":137}],142:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(u,l){if(!a(u))return u;var c,m;if(l&&typeof(c=u.toString)=="function"&&!a(m=c.call(u))||typeof(c=u.valueOf)=="function"&&!a(m=c.call(u))||!l&&typeof(c=u.toString)=="function"&&!a(m=c.call(u)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,i,s){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,i,s){"use strict";function a(xe,me){for(var _e=0,je=me.length,De=new(te(xe))(je);_e<je;)De[_e]=me[_e++];return De}function u(xe,me){T(xe,me,{get:function(){return le(this)[me]}})}function l(xe){return xe instanceof re||(xe=O(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function c(xe,me){return pe(xe)&&typeof me!="symbol"&&me in xe&&String(+me)==String(me)}function m(xe,me){return c(xe,me=E(me,!0))?b(2,xe[me]):V(xe,me)}function y(xe,me,_e){return!(c(xe,me=E(me,!0))&&I(_e)&&S(_e,"value"))||S(_e,"get")||S(_e,"set")||_e.configurable||S(_e,"writable")&&!_e.writable||S(_e,"enumerable")&&!_e.enumerable?T(xe,me,_e):(xe[me]=_e.value,xe)}var d=t("../internals/export"),h=t("../internals/global"),p=t("../internals/descriptors"),f=t("../internals/typed-array-constructors-require-wrappers"),v=t("../internals/array-buffer-view-core"),g=t("../internals/array-buffer"),w=t("../internals/an-instance"),b=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),D=t("../internals/to-length"),C=t("../internals/to-index"),M=t("../internals/to-offset"),E=t("../internals/to-primitive"),S=t("../internals/has"),O=t("../internals/classof"),I=t("../internals/is-object"),F=t("../internals/object-create"),j=t("../internals/object-set-prototype-of"),L=t("../internals/object-get-own-property-names").f,B=t("../internals/typed-array-from"),k=t("../internals/array-iteration").forEach,q=t("../internals/set-species"),G=t("../internals/object-define-property"),U=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),le=W.get,P=W.set,T=G.f,V=U.f,H=Math.round,K=h.RangeError,re=g.ArrayBuffer,ie=g.DataView,ce=v.NATIVE_ARRAY_BUFFER_VIEWS,se=v.TYPED_ARRAY_TAG,he=v.TypedArray,ue=v.TypedArrayPrototype,te=v.aTypedArrayConstructor,pe=v.isTypedArray,ve="BYTES_PER_ELEMENT",Me="Wrong length";p?(ce||(U.f=m,G.f=y,u(ue,"buffer"),u(ue,"byteOffset"),u(ue,"byteLength"),u(ue,"length")),d({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:m,defineProperty:y}),i.exports=function(Ce,me,_e){function je(ae,X){T(ae,X,{get:function(){var J=this,Y=X;return(J=le(J)).view[Pe](Y*De+J.byteOffset,!0)},set:function(J){var Y=this,ee=X;Y=le(Y),_e&&(J=(J=H(J))<0?0:255<J?255:255&J),Y.view[We](ee*De+Y.byteOffset,J,!0)},enumerable:!0})}var De=Ce.match(/\d+$/)[0]/8,qe=Ce+(_e?"Clamped":"")+"Array",Pe="get"+Ce,We="set"+Ce,Ze=h[qe],Qe=Ze,Ce=Qe&&Qe.prototype,oe={};ce?f&&(Qe=me(function(ae,X,J,Y){return w(ae,Qe,qe),Q(I(X)?l(X)?Y!==void 0?new Ze(X,M(J,De),Y):J!==void 0?new Ze(X,M(J,De)):new Ze(X):pe(X)?a(Qe,X):B.call(Qe,X):new Ze(C(X)),ae,Qe)}),j&&j(Qe,he),k(L(Ze),function(ae){ae in Qe||_(Qe,ae,Ze[ae])}),Qe.prototype=Ce):(Qe=me(function(ae,X,J,Y){w(ae,Qe,qe);var ee,ge,ye=0,Se=0;if(I(X)){if(!l(X))return pe(X)?a(Qe,X):B.call(Qe,X);var Ae=X,Se=M(J,De),J=X.byteLength;if(Y===void 0){if(J%De||(ee=J-Se)<0)throw K(Me)}else if(J<(ee=D(Y)*De)+Se)throw K(Me);ge=ee/De}else ge=C(X),Ae=new re(ee=ge*De);for(P(ae,{buffer:Ae,byteOffset:Se,byteLength:ee,length:ge,view:new ie(Ae)});ye<ge;)je(ae,ye++)}),j&&j(Qe,he),Ce=Qe.prototype=F(ue)),Ce.constructor!==Qe&&_(Ce,"constructor",Qe),se&&_(Ce,se,qe),oe[qe]=Qe,d({global:!0,forced:Qe!=Ze,sham:!ce},oe),ve in Qe||_(Qe,ve,De),ve in Ce||_(Ce,ve,De),q(qe)}):i.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(c,i,s){var a=c("../internals/global"),u=c("../internals/fails"),l=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=a.ArrayBuffer,y=a.Int8Array;i.exports=!c||!u(function(){y(1)})||!u(function(){new y(-1)})||!l(function(d){new y,new y(null),new y(1.5),new y(d)},!0)||u(function(){return new y(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,i,s){var a=t("../internals/to-object"),u=t("../internals/to-length"),l=t("../internals/get-iterator-method"),c=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;i.exports=function(d){var h,p,f,v,g,w,b=a(d),_=arguments.length,D=1<_?arguments[1]:void 0,C=D!==void 0,M=l(b);if(M!=null&&!c(M))for(w=(g=M.call(b)).next,b=[];!(v=w.call(g)).done;)b.push(v.value);for(C&&2<_&&(D=m(D,arguments[2],2)),p=u(b.length),f=new(y(this))(p),h=0;h<p;h++)f[h]=C?D(b[h],h):b[h];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,i,s){var a=0,u=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+u).toString(36)}},{}],148:[function(t,i,s){t=t("../internals/native-symbol"),i.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,i,s){t=t("../internals/well-known-symbol"),s.f=t},{"../internals/well-known-symbol":150}],150:[function(y,i,s){var a=y("../internals/global"),u=y("../internals/shared"),l=y("../internals/has"),c=y("../internals/uid"),m=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),d=u("wks"),h=a.Symbol,p=y?h:h&&h.withoutSetter||c;i.exports=function(f){return l(d,f)||(m&&l(h,f)?d[f]=h[f]:d[f]=p("Symbol."+f)),d[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,i,s){i.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(l,i,s){"use strict";var a=l("../internals/export"),u=l("../internals/global"),m=l("../internals/array-buffer"),l=l("../internals/set-species"),c="ArrayBuffer",m=m[c];a({global:!0,forced:u[c]!==m},{ArrayBuffer:m}),l(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(b,i,s){"use strict";var a=b("../internals/export"),u=b("../internals/fails"),l=b("../internals/is-array"),c=b("../internals/is-object"),m=b("../internals/to-object"),y=b("../internals/to-length"),d=b("../internals/create-property"),h=b("../internals/array-species-create"),p=b("../internals/array-method-has-species-support"),w=b("../internals/well-known-symbol"),b=b("../internals/engine-v8-version"),f=w("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",w=51<=b||!u(function(){var _=[];return _[f]=!1,_.concat()[0]!==_}),b=p("concat");a({target:"Array",proto:!0,forced:!w||!b},{concat:function(_){for(var D,C,M,E,S,O=m(this),I=h(O,0),F=0,j=-1,L=arguments.length;j<L;j++)if(S=void 0,!c(E=M=j===-1?O:arguments[j])||((S=E[f])!==void 0?!S:!l(E))){if(v<=F)throw TypeError(g);d(I,F++,M)}else{if(C=y(M.length),v<F+C)throw TypeError(g);for(D=0;D<C;D++,F++)D in M&&d(I,F,M[D])}return I.length=F,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(l,i,s){var a=l("../internals/export"),u=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:u}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(c,i,s){"use strict";var a=c("../internals/export"),u=c("../internals/array-iteration").every,l=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),l=l("every"),c=c("every");a({target:"Array",proto:!0,forced:!l||!c},{every:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(l,i,s){var a=l("../internals/export"),u=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:u}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(c,i,s){"use strict";var a=c("../internals/export"),u=c("../internals/array-iteration").filter,l=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),l=l("filter"),c=c("filter");a({target:"Array",proto:!0,forced:!l||!c},{filter:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,i,s){"use strict";var a=y("../internals/export"),u=y("../internals/array-iteration").findIndex,l=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),c="findIndex",m=!0,y=y(c);c in[]&&Array(1)[c](function(){m=!1}),a({target:"Array",proto:!0,forced:m||!y},{findIndex:function(d){return u(this,d,1<arguments.length?arguments[1]:void 0)}}),l(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/flatten-into-array"),l=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/a-function"),y=t("../internals/array-species-create");a({target:"Array",proto:!0},{flatMap:function(d){var h,p=l(this),f=c(p.length);return m(d),(h=y(p,0)).length=u(h,p,p,f,0,1,d,1<arguments.length?arguments[1]:void 0),h}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/flatten-into-array"),l=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/to-integer"),y=t("../internals/array-species-create");a({target:"Array",proto:!0},{flat:function(){var d=arguments.length?arguments[0]:void 0,h=l(this),p=c(h.length),f=y(h,0);return f.length=u(f,h,h,p,0,d===void 0?1:m(d)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(u,i,s){"use strict";var a=u("../internals/export"),u=u("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,i,s){var a=t("../internals/export"),u=t("../internals/array-from");a({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/array-includes").includes,l=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return u(this,c,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,i,s){"use strict";var a=y("../internals/export"),u=y("../internals/array-includes").indexOf,m=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),l=[].indexOf,c=!!l&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!m||!y},{indexOf:function(d){return c?l.apply(this,arguments)||0:u(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(m,i,s){"use strict";var a=m("../internals/to-indexed-object"),u=m("../internals/add-to-unscopables"),l=m("../internals/iterators"),c=m("../internals/internal-state"),m=m("../internals/define-iterator"),y="Array Iterator",d=c.set,h=c.getterFor(y);i.exports=m(Array,"Array",function(p,f){d(this,{type:y,target:a(p),index:0,kind:f})},function(){var p=h(this),f=p.target,v=p.kind,g=p.index++;return!f||g>=f.length?{value:p.target=void 0,done:!0}:v=="keys"?{value:g,done:!1}:v=="values"?{value:f[g],done:!1}:{value:[g,f[g]],done:!1}},"values"),l.Arguments=l.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(m,i,s){"use strict";var a=m("../internals/export"),c=m("../internals/indexed-object"),u=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),l=[].join,c=c!=Object,m=m("join",",");a({target:"Array",proto:!0,forced:c||!m},{join:function(y){return l.call(u(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(u,i,s){var a=u("../internals/export"),u=u("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(c,i,s){"use strict";var a=c("../internals/export"),u=c("../internals/array-iteration").map,l=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),l=l("map"),c=c("map");a({target:"Array",proto:!0,forced:!l||!c},{map:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(f,i,s){"use strict";var a=f("../internals/export"),u=f("../internals/is-object"),l=f("../internals/is-array"),c=f("../internals/to-absolute-index"),m=f("../internals/to-length"),y=f("../internals/to-indexed-object"),d=f("../internals/create-property"),h=f("../internals/well-known-symbol"),p=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),p=p("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),v=h("species"),g=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!p||!f},{slice:function(b,_){var D,C,M,E=y(this),S=m(E.length),O=c(b,S),I=c(_===void 0?S:_,S);if(l(E)&&((D=typeof(D=E.constructor)=="function"&&(D===Array||l(D.prototype))||u(D)&&(D=D[v])===null?void 0:D)===Array||D===void 0))return g.call(E,O,I);for(C=new(D===void 0?Array:D)(w(I-O,0)),M=0;O<I;O++,M++)O in E&&d(C,M,E[O]);return C.length=M,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(c,i,s){"use strict";var a=c("../internals/export"),u=c("../internals/array-iteration").some,l=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),l=l("some"),c=c("some");a({target:"Array",proto:!0,forced:!l||!c},{some:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(p,i,s){"use strict";var a=p("../internals/export"),u=p("../internals/to-absolute-index"),l=p("../internals/to-integer"),c=p("../internals/to-length"),m=p("../internals/to-object"),y=p("../internals/array-species-create"),d=p("../internals/create-property"),h=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),h=h("splice"),p=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min;a({target:"Array",proto:!0,forced:!h||!p},{splice:function(F,w){var b,_,D,C,M,E,S=m(this),O=c(S.length),I=u(F,O),F=arguments.length;if(F===0?b=_=0:_=F===1?(b=0,O-I):(b=F-2,v(f(l(w),0),O-I)),9007199254740991<O+b-_)throw TypeError("Maximum allowed length exceeded");for(D=y(S,_),C=0;C<_;C++)(M=I+C)in S&&d(D,C,S[M]);if(b<(D.length=_)){for(C=I;C<O-_;C++)E=C+b,(M=C+_)in S?S[E]=S[M]:delete S[E];for(C=O;O-_+b<C;C--)delete S[C-1]}else if(_<b)for(C=O-_;I<C;C--)E=C+b-1,(M=C+_-1)in S?S[E]=S[M]:delete S[E];for(C=0;C<b;C++)S[C+I]=arguments[C+2];return S.length=O-_+b,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,i,s){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,i,s){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(u,i,s){var a=u("../internals/descriptors"),u=u("../internals/object-define-property").f,l=Function.prototype,c=l.toString,m=/^\s*function ([^ (]*)/;!a||"name"in l||u(l,"name",{configurable:!0,get:function(){try{return c.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(u,i,s){"use strict";var a=u("../internals/collection"),u=u("../internals/collection-strong");i.exports=a("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,i,s){var a=a("../internals/export"),u=Math.hypot,l=Math.abs,c=Math.sqrt;a({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(m,y){for(var d,h,p=0,f=0,v=arguments.length,g=0;f<v;)g<(d=l(arguments[f++]))?(p=p*(h=g/d)*h+1,g=d):p+=0<d?(h=d/g)*h:d;return g===1/0?1/0:g*c(p)}})},{"../internals/export":50}],177:[function(a,i,s){var a=a("../internals/export"),u=Math.log,l=Math.LN2;a({target:"Math",stat:!0},{log2:function(c){return u(c)/l}})},{"../internals/export":50}],178:[function(t,i,s){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,i,s){"use strict";function a(j){var L,B,k,q,G,U,W,Q=p(j,!1);if(typeof Q=="string"&&2<Q.length){if((j=(Q=_(Q)).charCodeAt(0))===43||j===45){if((L=Q.charCodeAt(2))===88||L===120)return NaN}else if(j===48){switch(Q.charCodeAt(1)){case 66:case 98:B=2,k=49;break;case 79:case 111:B=8,k=55;break;default:return+Q}for(G=(q=Q.slice(2)).length,U=0;U<G;U++)if((W=q.charCodeAt(U))<48||k<W)return NaN;return parseInt(q,B)}}return+Q}var u=t("../internals/descriptors"),l=t("../internals/global"),c=t("../internals/is-forced"),m=t("../internals/redefine"),y=t("../internals/has"),d=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),p=t("../internals/to-primitive"),f=t("../internals/fails"),v=t("../internals/object-create"),g=t("../internals/object-get-own-property-names").f,w=t("../internals/object-get-own-property-descriptor").f,b=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,D="Number",C=l[D],M=C.prototype,E=d(v(M))==D;if(c(D,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var S,O=function(L){var L=arguments.length<1?0:L,B=this;return B instanceof O&&(E?f(function(){M.valueOf.call(B)}):d(B)!=D)?h(new C(a(L)),B,O):a(L)},I=u?g(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;I.length>F;F++)y(C,S=I[F])&&!y(O,S)&&b(O,S,w(C,S));(O.prototype=M).constructor=O,m(l,D,O)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,i,s){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,i,s){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,i,s){"use strict";function a(p,f,v){return f===0?v:f%2==1?a(p,f-1,v*p):a(p*p,f/2,v)}var u=y("../internals/export"),l=y("../internals/to-integer"),c=y("../internals/this-number-value"),m=y("../internals/string-repeat"),y=y("../internals/fails"),d=1 .toFixed,h=Math.floor;u({target:"Number",proto:!0,forced:d&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){d.call({})})},{toFixed:function(D){function f(S,O){for(var I=-1,F=O;++I<6;)F+=S*C[I],C[I]=F%1e7,F=h(F/1e7)}function v(S){for(var O=6,I=0;0<=--O;)I+=C[O],C[O]=h(I/S),I=I%S*1e7}function g(){for(var S,O=6,I="";0<=--O;)I===""&&O!==0&&C[O]===0||(S=String(C[O]),I=I===""?S:I+m.call("0",7-S.length)+S);return I}var w,b,_=c(this),D=l(D),C=[0,0,0,0,0,0],M="",E="0";if(D<0||20<D)throw RangeError("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return String(_);if(_<0&&(M="-",_=-_),1e-21<_)if(_=(w=function(S){for(var O=0,I=S;4096<=I;)O+=12,I/=4096;for(;2<=I;)O+=1,I/=2;return O}(_*a(2,69,1))-69)<0?_*a(2,-w,1):_/a(2,w,1),_*=4503599627370496,0<(w=52-w)){for(f(0,_),b=D;7<=b;)f(1e7,0),b-=7;for(f(a(10,b,1),0),b=w-1;23<=b;)v(1<<23),b-=23;v(1<<b),f(1,1),v(2),E=g()}else f(0,_),f(1<<-w,0),E=g()+m.call("0",D);return E=0<D?M+((_=E.length)<=D?"0."+m.call("0",D-_)+E:E.slice(0,_-D)+"."+E.slice(_-D)):M+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(u,i,s){var a=u("../internals/export"),u=u("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,i,s){var a=t("../internals/export"),u=t("../internals/object-to-array").entries;a({target:"Object",stat:!0},{entries:function(l){return u(l)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,i,s){var a=t("../internals/export"),u=t("../internals/iterate"),l=t("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(c){var m={};return u(c,function(y,d){l(m,y,d)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(c,i,s){var a=c("../internals/export"),m=c("../internals/fails"),u=c("../internals/to-indexed-object"),l=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),m=m(function(){l(1)});a({target:"Object",stat:!0,forced:!c||m,sham:!c},{getOwnPropertyDescriptor:function(y,d){return l(u(y),d)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(l,i,s){var a=l("../internals/export"),u=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(m,i,s){var a=m("../internals/export"),u=m("../internals/fails"),l=m("../internals/to-object"),c=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:u(function(){c(1)}),sham:!m},{getPrototypeOf:function(y){return c(l(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,i,s){var a=t("../internals/export"),u=t("../internals/to-object"),l=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(c){return l(u(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(l,i,s){var a=l("../internals/to-string-tag-support"),u=l("../internals/redefine"),l=l("../internals/object-to-string");a||u(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(_e,i,s){"use strict";var a,u,l,c,m=_e("../internals/export"),y=_e("../internals/is-pure"),d=_e("../internals/global"),h=_e("../internals/get-built-in"),p=_e("../internals/native-promise-constructor"),f=_e("../internals/redefine"),v=_e("../internals/redefine-all"),g=_e("../internals/set-to-string-tag"),w=_e("../internals/set-species"),b=_e("../internals/is-object"),_=_e("../internals/a-function"),D=_e("../internals/an-instance"),C=_e("../internals/classof-raw"),M=_e("../internals/inspect-source"),E=_e("../internals/iterate"),S=_e("../internals/check-correctness-of-iteration"),O=_e("../internals/species-constructor"),I=_e("../internals/task").set,F=_e("../internals/microtask"),j=_e("../internals/promise-resolve"),L=_e("../internals/host-report-errors"),B=_e("../internals/new-promise-capability"),k=_e("../internals/perform"),q=_e("../internals/internal-state"),G=_e("../internals/is-forced"),je=_e("../internals/well-known-symbol"),U=_e("../internals/engine-v8-version"),W=je("species"),Q="Promise",le=q.get,P=q.set,T=q.getterFor(Q),V=p,H=d.TypeError,K=d.document,re=d.process,ie=h("fetch"),ce=B.f,se=ce,he=C(re)=="process",ue=!!(K&&K.createEvent&&d.dispatchEvent),te="unhandledrejection",pe="rejectionhandled",ve=1,Me=2,xe=1,me=2,_e=G(Q,function(){var oe,ae;return M(V)===String(V)&&(U===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!(!y||V.prototype.finally)||!(51<=U&&/native code/.test(V))&&(ae=function(X){X(function(){},function(){})},((oe=V.resolve(1)).constructor={})[W]=ae,!(oe.then(function(){})instanceof ae))}),je=_e||!S(function(oe){V.all(oe).catch(function(){})}),De=function(oe){var ae;return!(!b(oe)||typeof(ae=oe.then)!="function")&&ae},qe=function(oe,ae,X){var J;ae.notified||(ae.notified=!0,J=ae.reactions,F(function(){for(var Y,ee,ge=ae.value,ye=ae.state==ve,Se=0;J.length>Se;){var Ae,Be,Ge,Ke=J[Se++],pt=ye?Ke.ok:Ke.fail,dt=Ke.resolve,lt=Ke.reject,mt=Ke.domain;try{pt?(ye||(ae.rejection===me&&function(gt,ur){I.call(d,function(){he?re.emit("rejectionHandled",gt):Pe(pe,gt,ur.value)})}(oe,ae),ae.rejection=xe),pt===!0?Ae=ge:(mt&&mt.enter(),Ae=pt(ge),mt&&(mt.exit(),Ge=!0)),Ae===Ke.promise?lt(H("Promise-chain cycle")):(Be=De(Ae))?Be.call(Ae,dt,lt):dt(Ae)):lt(ge)}catch(gt){mt&&!Ge&&mt.exit(),lt(gt)}}ae.reactions=[],ae.notified=!1,X&&!ae.rejection&&(Y=oe,ee=ae,I.call(d,function(){var gt=ee.value,ur=We(ee);if(ur&&(ur=k(function(){he?re.emit("unhandledRejection",gt,Y):Pe(te,Y,gt)}),ee.rejection=he||We(ee)?me:xe,ur.error))throw ur.value}))}))},Pe=function(oe,ae,X){var J;ue?((J=K.createEvent("Event")).promise=ae,J.reason=X,J.initEvent(oe,!1,!0),d.dispatchEvent(J)):J={promise:ae,reason:X},(ae=d["on"+oe])?ae(J):oe===te&&L("Unhandled promise rejection",X)},We=function(oe){return oe.rejection!==xe&&!oe.parent},Ze=function(oe,ae,X,J){return function(Y){oe(ae,X,Y,J)}},Qe=function(oe,ae,X,J){ae.done||(ae.done=!0,(ae=J||ae).value=X,ae.state=Me,qe(oe,ae,!0))},Ce=function(oe,ae,X,J){if(!ae.done){ae.done=!0,J&&(ae=J);try{if(oe===X)throw H("Promise can't be resolved itself");var Y=De(X);Y?F(function(){var ee={done:!1};try{Y.call(X,Ze(Ce,oe,ee,ae),Ze(Qe,oe,ee,ae))}catch(ge){Qe(oe,ee,ge,ae)}}):(ae.value=X,ae.state=ve,qe(oe,ae,!1))}catch(ee){Qe(oe,{done:!1},ee,ae)}}};_e&&(V=function(oe){D(this,V,Q),_(oe),a.call(this);var ae=le(this);try{oe(Ze(Ce,this,ae),Ze(Qe,this,ae))}catch(X){Qe(this,ae,X)}},(a=function(oe){P(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(V.prototype,{then:function(oe,ae){var X=T(this),J=ce(O(this,V));return J.ok=typeof oe!="function"||oe,J.fail=typeof ae=="function"&&ae,J.domain=he?re.domain:void 0,X.parent=!0,X.reactions.push(J),X.state!=0&&qe(this,X,!1),J.promise},catch:function(oe){return this.then(void 0,oe)}}),u=function(){var oe=new a,ae=le(oe);this.promise=oe,this.resolve=Ze(Ce,oe,ae),this.reject=Ze(Qe,oe,ae)},B.f=ce=function(oe){return oe===V||oe===l?new u:se(oe)},y||typeof p!="function"||(c=p.prototype.then,f(p.prototype,"then",function(oe,ae){var X=this;return new V(function(J,Y){c.call(X,J,Y)}).then(oe,ae)},{unsafe:!0}),typeof ie=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(oe){return j(V,ie.apply(d,arguments))}}))),m({global:!0,wrap:!0,forced:_e},{Promise:V}),g(V,Q,!1,!0),w(Q),l=h(Q),m({target:Q,stat:!0,forced:_e},{reject:function(oe){var ae=ce(this);return ae.reject.call(void 0,oe),ae.promise}}),m({target:Q,stat:!0,forced:y||_e},{resolve:function(oe){return j(y&&this===l?V:this,oe)}}),m({target:Q,stat:!0,forced:je},{all:function(oe){var ae=this,X=ce(ae),J=X.resolve,Y=X.reject,ee=k(function(){var ge=_(ae.resolve),ye=[],Se=0,Ae=1;E(oe,function(Be){var Ge=Se++,Ke=!1;ye.push(void 0),Ae++,ge.call(ae,Be).then(function(pt){Ke||(Ke=!0,ye[Ge]=pt,--Ae||J(ye))},Y)}),--Ae||J(ye)});return ee.error&&Y(ee.value),X.promise},race:function(oe){var ae=this,X=ce(ae),J=X.reject,Y=k(function(){var ee=_(ae.resolve);E(oe,function(ge){ee.call(ae,ge).then(X.resolve,J)})});return Y.error&&J(Y.value),X.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(d,i,s){var a=d("../internals/export"),v=d("../internals/get-built-in"),u=d("../internals/a-function"),l=d("../internals/an-object"),c=d("../internals/is-object"),m=d("../internals/object-create"),y=d("../internals/function-bind"),d=d("../internals/fails"),h=v("Reflect","construct"),p=d(function(){function g(){}return!(h(function(){},[],g)instanceof g)}),f=!d(function(){h(function(){})}),v=p||f;a({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(g,w){u(g),l(w);var b=arguments.length<3?g:u(arguments[2]);if(f&&!p)return h(g,w,b);if(g==b){switch(w.length){case 0:return new g;case 1:return new g(w[0]);case 2:return new g(w[0],w[1]);case 3:return new g(w[0],w[1],w[2]);case 4:return new g(w[0],w[1],w[2],w[3])}var _=[null];return _.push.apply(_,w),new(y.apply(g,_))}return _=b.prototype,b=m(c(_)?_:Object.prototype),_=Function.apply.call(g,b,w),c(_)?_:b}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,i,s){var a=t("../internals/export"),u=t("../internals/is-object"),l=t("../internals/an-object"),c=t("../internals/has"),m=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function d(h,p){var f,v=arguments.length<3?h:arguments[2];return l(h)===v?h[p]:(f=m.f(h,p))?c(f,"value")?f.value:f.get===void 0?void 0:f.get.call(v):u(f=y(h))?d(f,p,v):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,i,s){var a=t("../internals/descriptors"),u=t("../internals/global"),l=t("../internals/is-forced"),c=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,d=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),p=t("../internals/regexp-sticky-helpers"),f=t("../internals/redefine"),v=t("../internals/fails"),g=t("../internals/internal-state").set,w=t("../internals/set-species"),b=t("../internals/well-known-symbol")("match"),_=u.RegExp,D=_.prototype,C=/a/g,M=/a/g,E=new _(C)!==C,S=p.UNSUPPORTED_Y;if(a&&l("RegExp",!E||S||v(function(){return M[b]=!1,_(C)!=C||_(M)==M||_(C,"i")!="/a/i"}))){for(var O=function(j,L){var B,k=this instanceof O,q=d(j),G=L===void 0;return!k&&q&&j.constructor===O&&G?j:(E?q&&!G&&(j=j.source):j instanceof O&&(G&&(L=h.call(j)),j=j.source),S&&(B=!!L&&-1<L.indexOf("y"))&&(L=L.replace(/y/g,"")),q=c(E?new _(j,L):_(j,L),k?this:D,O),S&&B&&g(q,{sticky:B}),q)},I=y(_),F=0;I.length>F;)(function(j){j in O||m(O,j,{configurable:!0,get:function(){return _[j]},set:function(L){_[j]=L}})})(I[F++]);(D.constructor=O).prototype=D,f(u,"RegExp",O)}w("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(u,i,s){"use strict";var a=u("../internals/export"),u=u("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(c,i,s){"use strict";var a=c("../internals/redefine"),u=c("../internals/an-object"),d=c("../internals/fails"),l=c("../internals/regexp-flags"),c="toString",m=RegExp.prototype,y=m[c],d=d(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),h=y.name!=c;(d||h)&&a(RegExp.prototype,c,function(){var p=u(this),f=String(p.source),v=p.flags;return"/"+f+"/"+String(v===void 0&&p instanceof RegExp&&!("flags"in m)?l.call(p):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(u,i,s){"use strict";var a=u("../internals/collection"),u=u("../internals/collection-strong");i.exports=a("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,i,s){"use strict";var a=y("../internals/export"),u=y("../internals/object-get-own-property-descriptor").f,l=y("../internals/to-length"),c=y("../internals/not-a-regexp"),m=y("../internals/require-object-coercible"),p=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".endsWith,h=Math.min,p=p("endsWith");a({target:"String",proto:!0,forced:!!(y||p||!(a=u(String.prototype,"endsWith"))||a.writable)&&!p},{endsWith:function(f){var v=String(m(this)),g=(c(f),1<arguments.length?arguments[1]:void 0),w=l(v.length),g=g===void 0?w:h(l(g),w),w=String(f);return d?d.call(v,w,g):v.slice(g-w.length,g)===w}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(l(this)).indexOf(u(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(l,i,s){"use strict";var a=l("../internals/string-multibyte").charAt,u=l("../internals/internal-state"),l=l("../internals/define-iterator"),c="String Iterator",m=u.set,y=u.getterFor(c);l(String,"String",function(d){m(this,{type:c,string:String(d),index:0})},function(){var d=y(this),h=d.string,p=d.index;return p>=h.length?{value:void 0,done:!0}:(h=a(h,p),d.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/to-length"),c=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");a("match",1,function(d,h,p){return[function(f){var v=c(this),g=f?.[d];return g!==void 0?g.call(f,v):new RegExp(f)[d](String(v))},function(f){var v=p(h,f,this);if(v.done)return v.value;var g=u(f),w=String(this);if(!g.global)return y(g,w);for(var b=g.unicode,_=[],D=g.lastIndex=0;(C=y(g,w))!==null;){var C=String(C[0]);(_[D]=C)===""&&(g.lastIndex=m(w,l(g.lastIndex),b)),D++}return D===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/string-pad").start;a({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(l){return u(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,i,s){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),d=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),p=Math.max,f=Math.min,v=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;a("replace",2,function(b,_,D,C){var M=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=C.REPLACE_KEEPS_$0,S=M?"$":"$0";return[function(O,I){var F=y(this),j=O?.[b];return j!==void 0?j.call(O,F,I):_.call(String(F),O,I)},function(O,I){if(!M&&E||typeof I=="string"&&I.indexOf(S)===-1){var F=D(_,O,this,I);if(F.done)return F.value}for(var j,L=u(O),B=String(this),k=typeof I=="function",q=(k||(I=String(I)),L.global),G=(q&&(j=L.unicode,L.lastIndex=0),[]);(P=h(L,B))!==null&&(G.push(P),q);)String(P[0])===""&&(L.lastIndex=d(B,c(L.lastIndex),j));for(var U,W="",Q=0,le=0;le<G.length;le++){for(var P=G[le],T=String(P[0]),V=p(f(m(P.index),B.length),0),H=[],K=1;K<P.length;K++)H.push((U=P[K])===void 0?U:String(U));var re=P.groups,ie=k?(ie=[T].concat(H,V,B),re!==void 0&&ie.push(re),String(I.apply(void 0,ie))):function(ce,se,he,ue,te,pe){var ve=he+ce.length,Me=ue.length,xe=w;return te!==void 0&&(te=l(te),xe=g),_.call(pe,xe,function(me,_e){var je;switch(_e.charAt(0)){case"$":return"$";case"&":return ce;case"`":return se.slice(0,he);case"'":return se.slice(ve);case"<":je=te[_e.slice(1,-1)];break;default:var De,qe=+_e;if(qe==0)return me;if(Me<qe)return(De=v(qe/10))!==0&&De<=Me?ue[De-1]===void 0?_e.charAt(1):ue[De-1]+_e.charAt(1):me;je=ue[qe-1]}return je===void 0?"":je})}(T,B,V,H,re,I);Q<=V&&(W+=B.slice(Q,V)+ie,Q=V+T.length)}return W+B.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/require-object-coercible"),c=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");a("search",1,function(y,d,h){return[function(p){var f=l(this),v=p?.[y];return v!==void 0?v.call(p,f):new RegExp(p)[y](String(f))},function(p){var f,v=h(d,p,this);return v.done?v.value:(v=u(p),p=String(this),f=v.lastIndex,c(f,0)||(v.lastIndex=0),p=m(v,p),c(v.lastIndex,f)||(v.lastIndex=f),p===null?-1:p.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(f,i,s){"use strict";var a=f("../internals/fix-regexp-well-known-symbol-logic"),u=f("../internals/is-regexp"),l=f("../internals/an-object"),c=f("../internals/require-object-coercible"),m=f("../internals/species-constructor"),y=f("../internals/advance-string-index"),d=f("../internals/to-length"),h=f("../internals/regexp-exec-abstract"),p=f("../internals/regexp-exec"),f=f("../internals/fails"),v=[].push,g=Math.min,w=4294967295,b=!f(function(){return!RegExp(w,"y")});a("split",2,function(_,D,C){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,S){var O=String(c(this)),I=S===void 0?w:S>>>0;if(I==0)return[];if(E===void 0)return[O];if(!u(E))return D.call(O,E,I);for(var F,j,L,B=[],S=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),k=0,q=new RegExp(E.source,S+"g");(F=p.call(q,O))&&!(k<(j=q.lastIndex)&&(B.push(O.slice(k,F.index)),1<F.length&&F.index<O.length&&v.apply(B,F.slice(1)),L=F[0].length,k=j,B.length>=I));)q.lastIndex===F.index&&q.lastIndex++;return k===O.length?!L&&q.test("")||B.push(""):B.push(O.slice(k)),B.length>I?B.slice(0,I):B}:"0".split(void 0,0).length?function(E,S){return E===void 0&&S===0?[]:D.call(this,E,S)}:D;return[function(E,S){var O=c(this),I=E?.[_];return I!==void 0?I.call(E,O,S):M.call(String(O),E,S)},function(F,S){var O=C(M,F,this,S,M!==D);if(O.done)return O.value;var O=l(F),I=String(this),F=m(O,RegExp),j=O.unicode,L=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(b?"y":"g"),B=new F(b?O:"^(?:"+O.source+")",L),k=S===void 0?w:S>>>0;if(k==0)return[];if(I.length===0)return h(B,I)===null?[I]:[];for(var q=0,G=0,U=[];G<I.length;){B.lastIndex=b?G:0;var W,Q=h(B,b?I:I.slice(G));if(Q===null||(W=g(d(B.lastIndex+(b?0:G)),I.length))===q)G=y(I,G,j);else{if(U.push(I.slice(q,G)),U.length===k)return U;for(var le=1;le<=Q.length-1;le++)if(U.push(Q[le]),U.length===k)return U;G=q=W}}return U.push(I.slice(q)),U}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,i,s){"use strict";var a=y("../internals/export"),u=y("../internals/object-get-own-property-descriptor").f,l=y("../internals/to-length"),c=y("../internals/not-a-regexp"),m=y("../internals/require-object-coercible"),p=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".startsWith,h=Math.min,p=p("startsWith");a({target:"String",proto:!0,forced:!!(y||p||!(a=u(String.prototype,"startsWith"))||a.writable)&&!p},{startsWith:function(w){var v=String(m(this)),g=(c(w),l(h(1<arguments.length?arguments[1]:void 0,v.length))),w=String(w);return d?d.call(v,w,g):v.slice(g,g+w.length)===w}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/create-html");a({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,i,s){"use strict";var a=t("../internals/export"),u=t("../internals/string-trim").trim;a({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(g,i,s){"use strict";var a,u,l,c,m,y=g("../internals/export"),d=g("../internals/descriptors"),h=g("../internals/global"),p=g("../internals/has"),f=g("../internals/is-object"),v=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),w=h.Symbol;!d||typeof w!="function"||"description"in w.prototype&&w().description===void 0||(a={},g(u=function(){var b=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof u?new w(b):b===void 0?w():w(b);return b===""&&(a[_]=!0),_},w),(h=u.prototype=w.prototype).constructor=u,l=h.toString,c=String(w("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,v(h,"description",{configurable:!0,get:function(){var b=f(this)?this.valueOf():this,_=l.call(b);return p(a,b)?"":(b=c?_.slice(7,-1):_.replace(m,"$1"))===""?void 0:b}}),y({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,i,s){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(se,i,s){"use strict";function a(Y,ee){var ge=je[Y]=O(pe[ce]);return he(ge,{type:ie,tag:Y,description:ee}),p||(ge.description=ee),ge}function u(Y,ye){D(Y);var ge=M(ye),ye=I(ge).concat(J(ge));return K(ye,function(Se){p&&!X.call(ge,Se)||ae(Y,Se,ge[Se])}),Y}function l(ye,Se){var ge,ye=M(ye),Se=E(Se,!0);if(ye!==te||!w(je,Se)||w(De,Se))return!(ge=Me(ye,Se))||!w(je,Se)||w(ye,re)&&ye[re][Se]||(ge.enumerable=!0),ge}function c(ee){var ee=me(M(ee)),ge=[];return K(ee,function(ye){w(je,ye)||w(Q,ye)||ge.push(ye)}),ge}var m=se("../internals/export"),y=se("../internals/global"),d=se("../internals/get-built-in"),h=se("../internals/is-pure"),p=se("../internals/descriptors"),f=se("../internals/native-symbol"),v=se("../internals/use-symbol-as-uid"),g=se("../internals/fails"),w=se("../internals/has"),b=se("../internals/is-array"),_=se("../internals/is-object"),D=se("../internals/an-object"),C=se("../internals/to-object"),M=se("../internals/to-indexed-object"),E=se("../internals/to-primitive"),S=se("../internals/create-property-descriptor"),O=se("../internals/object-create"),I=se("../internals/object-keys"),F=se("../internals/object-get-own-property-names"),j=se("../internals/object-get-own-property-names-external"),L=se("../internals/object-get-own-property-symbols"),B=se("../internals/object-get-own-property-descriptor"),k=se("../internals/object-define-property"),q=se("../internals/object-property-is-enumerable"),G=se("../internals/create-non-enumerable-property"),U=se("../internals/redefine"),W=se("../internals/shared"),We=se("../internals/shared-key"),Q=se("../internals/hidden-keys"),le=se("../internals/uid"),P=se("../internals/well-known-symbol"),T=se("../internals/well-known-symbol-wrapped"),V=se("../internals/define-well-known-symbol"),H=se("../internals/set-to-string-tag"),Ze=se("../internals/internal-state"),K=se("../internals/array-iteration").forEach,re=We("hidden"),ie="Symbol",ce="prototype",se=P("toPrimitive"),he=Ze.set,ue=Ze.getterFor(ie),te=Object[ce],pe=y.Symbol,ve=d("JSON","stringify"),Me=B.f,xe=k.f,me=j.f,_e=q.f,je=W("symbols"),De=W("op-symbols"),qe=W("string-to-symbol-registry"),Pe=W("symbol-to-string-registry"),We=W("wks"),Ze=y.QObject,Qe=!Ze||!Ze[ce]||!Ze[ce].findChild,Ce=p&&g(function(){return O(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(Y,ee,ge){var ye=Me(te,ee);ye&&delete te[ee],xe(Y,ee,ge),ye&&Y!==te&&xe(te,ee,ye)}:xe,oe=v?function(Y){return typeof Y=="symbol"}:function(Y){return Object(Y)instanceof pe},ae=function(Y,ee,ge){return Y===te&&ae(De,ee,ge),D(Y),ee=E(ee,!0),D(ge),(w(je,ee)?(ge.enumerable?(w(Y,re)&&Y[re][ee]&&(Y[re][ee]=!1),ge=O(ge,{enumerable:S(0,!1)})):(w(Y,re)||xe(Y,re,S(1,{})),Y[re][ee]=!0),Ce):xe)(Y,ee,ge)},X=function(ee){var ee=E(ee,!0),ge=_e.call(this,ee);return!(this===te&&w(je,ee)&&!w(De,ee))&&(!(ge||!w(this,ee)||!w(je,ee)||w(this,re)&&this[re][ee])||ge)},J=function(ge){var ee=ge===te,ge=me(ee?De:M(ge)),ye=[];return K(ge,function(Se){!w(je,Se)||ee&&!w(te,Se)||ye.push(je[Se])}),ye};f||(U((pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor");var Y=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ee=le(Y),ge=function(ye){this===te&&ge.call(De,ye),w(this,re)&&w(this[re],ee)&&(this[re][ee]=!1),Ce(this,ee,S(1,ye))};return p&&Qe&&Ce(te,ee,{configurable:!0,set:ge}),a(ee,Y)})[ce],"toString",function(){return ue(this).tag}),U(pe,"withoutSetter",function(Y){return a(le(Y),Y)}),q.f=X,k.f=ae,B.f=l,F.f=j.f=c,L.f=J,T.f=function(Y){return a(P(Y),Y)},p&&(xe(pe[ce],"description",{configurable:!0,get:function(){return ue(this).description}}),h||U(te,"propertyIsEnumerable",X,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:pe}),K(I(We),function(Y){V(Y)}),m({target:ie,stat:!0,forced:!f},{for:function(ge){var ee,ge=String(ge);return w(qe,ge)?qe[ge]:(ee=pe(ge),qe[ge]=ee,Pe[ee]=ge,ee)},keyFor:function(Y){if(!oe(Y))throw TypeError(Y+" is not a symbol");if(w(Pe,Y))return Pe[Y]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),m({target:"Object",stat:!0,forced:!f,sham:!p},{create:function(Y,ee){return ee===void 0?O(Y):u(O(Y),ee)},defineProperty:ae,defineProperties:u,getOwnPropertyDescriptor:l}),m({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:c,getOwnPropertySymbols:J}),m({target:"Object",stat:!0,forced:g(function(){L.f(1)})},{getOwnPropertySymbols:function(Y){return L.f(C(Y))}}),ve&&m({target:"JSON",stat:!0,forced:!f||g(function(){var Y=pe();return ve([Y])!="[null]"||ve({a:Y})!="{}"||ve(Object(Y))!="{}"})},{stringify:function(Y,ee,ge){for(var ye,Se=[Y],Ae=1;Ae<arguments.length;)Se.push(arguments[Ae++]);if((_(ye=ee)||Y!==void 0)&&!oe(Y))return b(ee)||(ee=function(Be,Ge){if(typeof ye=="function"&&(Ge=ye.call(this,Be,Ge)),!oe(Ge))return Ge}),Se[1]=ee,ve.apply(null,Se)}}),pe[ce][se]||G(pe[ce],se,pe[ce].valueOf),H(pe,ie),Q[re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(c,m){return u.call(l(this),c,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(c){return u.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,l=t("../internals/species-constructor"),c=a.aTypedArray,m=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(y){for(var d=u(c(this),y,1<arguments.length?arguments[1]:void 0),y=l(this,this.constructor),h=0,p=d.length,f=new(m(y))(p);h<p;)f[h]=d[h++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,i,s){t("../internals/typed-array-constructor")("Float32",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],220:[function(t,i,s){t("../internals/typed-array-constructor")("Float64",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],221:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(c){u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,i,s){t("../internals/typed-array-constructor")("Int16",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],225:[function(t,i,s){t("../internals/typed-array-constructor")("Int32",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],226:[function(u,i,s){"use strict";function a(){return l.call(y(this))}var p=u("../internals/global"),h=u("../internals/array-buffer-view-core"),d=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),p=p.Uint8Array,l=d.values,c=d.keys,m=d.entries,y=h.aTypedArray,d=h.exportTypedArrayMethod,h=p&&p.prototype[u],p=!!h&&(h.name=="values"||h.name==null);d("entries",function(){return m.call(y(this))}),d("keys",function(){return c.call(y(this))}),d("values",a,!p),d(u,a,!p)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(u,i,s){"use strict";var u=u("../internals/array-buffer-view-core"),a=u.aTypedArray,u=u.exportTypedArrayMethod,l=[].join;u("join",function(c){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(c){return u.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,l=t("../internals/species-constructor"),c=a.aTypedArray,m=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(y){return u(c(this),y,1<arguments.length?arguments[1]:void 0,function(d,h){return new(m(l(d,d.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(c){return u(l(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(c){return u(l(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(u,i,s){"use strict";var u=u("../internals/array-buffer-view-core"),a=u.aTypedArray,u=u.exportTypedArrayMethod,l=Math.floor;u("reverse",function(){for(var c,m=a(this).length,y=l(m/2),d=0;d<y;)c=this[d],this[d++]=this[--m],this[m]=c;return this})},{"../internals/array-buffer-view-core":12}],233:[function(m,i,s){"use strict";var a=m("../internals/array-buffer-view-core"),u=m("../internals/to-length"),l=m("../internals/to-offset"),c=m("../internals/to-object"),m=m("../internals/fails"),y=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(d){y(this);var h=l(1<arguments.length?arguments[1]:void 0,1),p=this.length,f=c(d),v=u(f.length),g=0;if(p<v+h)throw RangeError("Wrong length");for(;g<v;)this[h+g]=f[g++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(u,i,s){"use strict";var m=u("../internals/array-buffer-view-core"),a=u("../internals/species-constructor"),u=u("../internals/fails"),l=m.aTypedArray,c=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,y=[].slice;m("slice",function(d,h){for(var p=y.call(l(this),d,h),d=a(this,this.constructor),f=0,v=p.length,g=new(c(d))(v);f<v;)g[f]=p[f++];return g},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(c){return u(l(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(u,i,s){"use strict";var u=u("../internals/array-buffer-view-core"),a=u.aTypedArray,u=u.exportTypedArrayMethod,l=[].sort;u("sort",function(c){return l.call(a(this),c)})},{"../internals/array-buffer-view-core":12}],237:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),l=t("../internals/to-absolute-index"),c=t("../internals/species-constructor"),m=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(f,d){var h=m(this),p=h.length,f=l(f,p);return new(c(h,h.constructor))(h.buffer,h.byteOffset+f*h.BYTES_PER_ELEMENT,u((d===void 0?p:l(d,p))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(u,i,s){"use strict";var m=u("../internals/global"),a=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),l=m.Int8Array,c=a.aTypedArray,m=a.exportTypedArrayMethod,y=[].toLocaleString,d=[].slice,h=!!l&&u(function(){y.call(new l(1))});m("toLocaleString",function(){return y.apply(h?d.call(c(this)):c(this),arguments)},u(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!u(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(u,i,s){"use strict";var a=u("../internals/array-buffer-view-core").exportTypedArrayMethod,m=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},l=[].toString,c=[].join,m=(m(function(){l.call({})})&&(l=function(){return c.call(this)}),u.toString!=l);a("toString",l,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,i,s){t("../internals/typed-array-constructor")("Uint16",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],241:[function(t,i,s){t("../internals/typed-array-constructor")("Uint32",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],242:[function(t,i,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(u,l,c){return a(this,u,l,c)}})},{"../internals/typed-array-constructor":144}],243:[function(t,i,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(u,l,c){return a(this,u,l,c)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(w,D,s){"use strict";function a(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}}var u,l,c,m,y,b=w("../internals/global"),d=w("../internals/redefine-all"),h=w("../internals/internal-metadata"),p=w("../internals/collection"),f=w("../internals/collection-weak"),v=w("../internals/is-object"),g=w("../internals/internal-state").enforce,w=w("../internals/native-weak-map"),b=!b.ActiveXObject&&"ActiveXObject"in b,_=Object.isExtensible,D=D.exports=p("WeakMap",a,f);w&&b&&(u=f.getConstructor(a,"WeakMap",!0),h.REQUIRED=!0,p=D.prototype,l=p.delete,c=p.has,m=p.get,y=p.set,d(p,{delete:function(C){var M;return v(C)&&!_(C)?((M=g(this)).frozen||(M.frozen=new u),l.call(this,C)||M.frozen.delete(C)):l.call(this,C)},has:function(C){var M;return v(C)&&!_(C)?((M=g(this)).frozen||(M.frozen=new u),c.call(this,C)||M.frozen.has(C)):c.call(this,C)},get:function(C){var M;return!v(C)||_(C)||((M=g(this)).frozen||(M.frozen=new u),c.call(this,C))?m.call(this,C):M.frozen.get(C)},set:function(C,M){var E;return!v(C)||_(C)||((E=g(this)).frozen||(E.frozen=new u),c.call(this,C))?y.call(this,C,M):E.frozen.set(C,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,i,s){var a,u=t("../internals/global"),l=t("../internals/dom-iterables"),c=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(a in l){var y=u[a],y=y&&y.prototype;if(y&&y.forEach!==c)try{m(y,"forEach",c)}catch{y.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,i,s){var a,u=y("../internals/global"),l=y("../internals/dom-iterables"),c=y("../modules/es.array.iterator"),m=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),d=y("iterator"),h=y("toStringTag"),p=c.values;for(a in l){var f=u[a],v=f&&f.prototype;if(v){if(v[d]!==p)try{m(v,d,p)}catch{v[d]=p}if(v[h]||m(v,h,a),l[a]){for(var g in c)if(v[g]!==c[g])try{m(v,g,c[g])}catch{v[g]=c[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(re,i,s){"use strict";re("../modules/es.array.iterator");function a(ie){try{return decodeURIComponent(ie)}catch{return ie}}function u(ie){return V[ie]}function l(ie){return encodeURIComponent(ie).replace(T,u)}function c(ie){this.entries.length=0,H(this.entries,ie)}function m(ie,ce){if(ie<ce)throw TypeError("Not enough arguments")}function y(){b(this,y,k);var ie,ce,se,he,ue,te,pe,ve,Me=0<arguments.length?arguments[0]:void 0,xe=[];if(G(this,{type:k,entries:xe,updateURL:function(){},updateSearchParams:c}),Me!==void 0)if(E(Me))if(typeof(ie=F(Me))=="function")for(se=(ce=ie.call(Me)).next;!(he=se.call(ce)).done;){if((te=(ue=(he=I(M(he.value))).next).call(he)).done||(pe=ue.call(he)).done||!ue.call(he).done)throw TypeError("Expected sequence with length 2");xe.push({key:te.value+"",value:pe.value+""})}else for(ve in Me)_(Me,ve)&&xe.push({key:ve,value:Me[ve]+""});else H(xe,typeof Me=="string"?Me.charAt(0)==="?"?Me.slice(1):Me:Me+"")}var d=re("../internals/export"),B=re("../internals/get-built-in"),h=re("../internals/native-url"),p=re("../internals/redefine"),f=re("../internals/redefine-all"),v=re("../internals/set-to-string-tag"),g=re("../internals/create-iterator-constructor"),w=re("../internals/internal-state"),b=re("../internals/an-instance"),_=re("../internals/has"),D=re("../internals/function-bind-context"),C=re("../internals/classof"),M=re("../internals/an-object"),E=re("../internals/is-object"),S=re("../internals/object-create"),O=re("../internals/create-property-descriptor"),I=re("../internals/get-iterator"),F=re("../internals/get-iterator-method"),re=re("../internals/well-known-symbol"),j=B("fetch"),L=B("Headers"),B=re("iterator"),k="URLSearchParams",q=k+"Iterator",G=w.set,U=w.getterFor(k),W=w.getterFor(q),Q=/\+/g,le=Array(4),P=function(ie){var ce,se=ie.replace(Q," "),he=4;try{return decodeURIComponent(se)}catch{for(;he;)se=se.replace((ce=he--,le[ce-1]||(le[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),a);return se}},T=/[!'()~]|%20/g,V={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(ie,ce){if(ce)for(var se,he=ce.split("&"),ue=0;ue<he.length;)(se=he[ue++]).length&&(se=se.split("="),ie.push({key:P(se.shift()),value:P(se.join("="))}))},K=g(function(ie,ce){G(this,{type:q,iterator:I(U(ie).entries),kind:ce})},"Iterator",function(){var ce=W(this),ie=ce.kind,ce=ce.iterator.next(),se=ce.value;return ce.done||(ce.value=ie==="keys"?se.key:ie==="values"?se.value:[se.key,se.value]),ce}),re=y.prototype;f(re,{append:function(ie,ce){m(arguments.length,2);var se=U(this);se.entries.push({key:ie+"",value:ce+""}),se.updateURL()},delete:function(ie){m(arguments.length,1);for(var ce=U(this),se=ce.entries,he=ie+"",ue=0;ue<se.length;)se[ue].key===he?se.splice(ue,1):ue++;ce.updateURL()},get:function(ie){m(arguments.length,1);for(var ce=U(this).entries,se=ie+"",he=0;he<ce.length;he++)if(ce[he].key===se)return ce[he].value;return null},getAll:function(ie){m(arguments.length,1);for(var ce=U(this).entries,se=ie+"",he=[],ue=0;ue<ce.length;ue++)ce[ue].key===se&&he.push(ce[ue].value);return he},has:function(ie){m(arguments.length,1);for(var ce=U(this).entries,se=ie+"",he=0;he<ce.length;)if(ce[he++].key===se)return!0;return!1},set:function(ie,ce){m(arguments.length,1);for(var se,he=U(this),ue=he.entries,te=!1,pe=ie+"",ve=ce+"",Me=0;Me<ue.length;Me++)(se=ue[Me]).key===pe&&(te?ue.splice(Me--,1):(te=!0,se.value=ve));te||ue.push({key:pe,value:ve}),he.updateURL()},sort:function(){for(var ie,ce,se=U(this),he=se.entries,ue=he.slice(),te=he.length=0;te<ue.length;te++){for(ie=ue[te],ce=0;ce<te;ce++)if(he[ce].key>ie.key){he.splice(ce,0,ie);break}ce===te&&he.push(ie)}se.updateURL()},forEach:function(ie){for(var ce,se=U(this).entries,he=D(ie,1<arguments.length?arguments[1]:void 0,3),ue=0;ue<se.length;)he((ce=se[ue++]).value,ce.key,this)},keys:function(){return new K(this,"keys")},values:function(){return new K(this,"values")},entries:function(){return new K(this,"entries")}},{enumerable:!0}),p(re,B,re.entries),p(re,"toString",function(){for(var ie,ce=U(this).entries,se=[],he=0;he<ce.length;)ie=ce[he++],se.push(l(ie.key)+"="+l(ie.value));return se.join("&")},{enumerable:!0}),v(y,k),d({global:!0,forced:!h},{URLSearchParams:y}),h||typeof j!="function"||typeof L!="function"||d({global:!0,enumerable:!0,forced:!0},{fetch:function(ue){var ce,se,he,ue=[ue];return 1<arguments.length&&(E(ce=arguments[1])&&(se=ce.body,C(se)===k&&((he=ce.headers?new L(ce.headers):new L).has("content-type")||he.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=S(ce,{body:O(0,String(se)),headers:O(0,he)}))),ue.push(ce)),j.apply(this,ue)}}),i.exports={URLSearchParams:y,getState:U}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,i,s){"use strict";I("../modules/es.string.iterator");function a(we){var Xe,st,$e,kt;if(typeof we=="number"){for(Xe=[],st=0;st<4;st++)Xe.unshift(we%256),we=q(we/256);return Xe.join(".")}if(typeof we!="object")return we;for(Xe="",$e=pe(we),st=0;st<8;st++)kt&&we[st]===0||(kt=kt&&!1,$e===st?(Xe+=st?":":"::",kt=!0):(Xe+=we[st].toString(16),st<7&&(Xe+=":")));return"["+Xe+"]"}function u(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function l(we,Xe,st,$e){var kt,Ue,Kt,nt=st||oe,Gt=0,it="",Vr=!1,Qr=!1,jr=!1;for(st||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,Xe=Xe.replace(he,"")),Xe=Xe.replace(ue,""),kt=C(Xe);Gt<=kt.length;){switch(Ue=kt[Gt],nt){case oe:if(!Ue||!P.test(Ue)){if(st)return W;nt=X;continue}it+=Ue.toLowerCase(),nt=ae;break;case ae:if(Ue&&(T.test(Ue)||Ue=="+"||Ue=="-"||Ue=="."))it+=Ue.toLowerCase();else{if(Ue!=":"){if(st)return W;it="",nt=X,Gt=0;continue}if(st&&(De(we)!=_(je,it)||it=="file"&&(qe(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=it,st)return void(De(we)&&je[we.scheme]==we.port&&(we.port=null));it="",we.scheme=="file"?nt=pt:De(we)&&$e&&$e.scheme==we.scheme?nt=J:De(we)?nt=ye:kt[Gt+1]=="/"?(nt=Y,Gt++):(we.cannotBeABaseURL=!0,we.path.push(""),nt=ur)}break;case X:if(!$e||$e.cannotBeABaseURL&&Ue!="#")return W;if($e.cannotBeABaseURL&&Ue=="#"){we.scheme=$e.scheme,we.path=$e.path.slice(),we.query=$e.query,we.fragment="",we.cannotBeABaseURL=!0,nt=Wr;break}nt=$e.scheme=="file"?pt:ee;continue;case J:if(Ue!="/"||kt[Gt+1]!="/"){nt=ee;continue}nt=Se,Gt++;break;case Y:if(Ue=="/"){nt=Ae;break}nt=gt;continue;case ee:if(we.scheme=$e.scheme,Ue==y)we.username=$e.username,we.password=$e.password,we.host=$e.host,we.port=$e.port,we.path=$e.path.slice(),we.query=$e.query;else if(Ue=="/"||Ue=="\\"&&De(we))nt=ge;else if(Ue=="?")we.username=$e.username,we.password=$e.password,we.host=$e.host,we.port=$e.port,we.path=$e.path.slice(),we.query="",nt=fn;else{if(Ue!="#"){we.username=$e.username,we.password=$e.password,we.host=$e.host,we.port=$e.port,we.path=$e.path.slice(),we.path.pop(),nt=gt;continue}we.username=$e.username,we.password=$e.password,we.host=$e.host,we.port=$e.port,we.path=$e.path.slice(),we.query=$e.query,we.fragment="",nt=Wr}break;case ge:if(!De(we)||Ue!="/"&&Ue!="\\"){if(Ue!="/"){we.username=$e.username,we.password=$e.password,we.host=$e.host,we.port=$e.port,nt=gt;continue}nt=Ae}else nt=Se;break;case ye:if(nt=Se,Ue!="/"||it.charAt(Gt+1)!="/")continue;Gt++;break;case Se:if(Ue=="/"||Ue=="\\")break;nt=Ae;continue;case Ae:if(Ue=="@"){Vr&&(it="%40"+it);for(var Vr=!0,Nr=C(it),Nt=0;Nt<Nr.length;Nt++){var mr=Nr[Nt];mr!=":"||jr?(mr=_e(mr,me),jr?we.password+=mr:we.username+=mr):jr=!0}it=""}else if(Ue==y||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&De(we)){if(Vr&&it=="")return U;Gt-=C(it).length+1,it="",nt=Be}else it+=Ue;break;case Be:case Ge:if(st&&we.scheme=="file"){nt=lt;continue}if(Ue!=":"||Qr){if(Ue==y||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&De(we)){if(De(we)&&it=="")return Q;if(st&&it==""&&(qe(we)||we.port!==null))return;if(Kt=te(we,it))return Kt;if(it="",nt=mt,st)return;continue}Ue=="["?Qr=!0:Ue=="]"&&(Qr=!1),it+=Ue}else{if(it=="")return Q;if(Kt=te(we,it))return Kt;if(it="",nt=Ke,st==Ge)return}break;case Ke:if(!V.test(Ue)){if(Ue==y||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&De(we)||st){if(it!=""){var ao=parseInt(it,10);if(65535<ao)return le;we.port=De(we)&&ao===je[we.scheme]?null:ao,it=""}if(st)return;nt=mt;continue}return le}it+=Ue;break;case pt:if(we.scheme="file",Ue=="/"||Ue=="\\")nt=dt;else{if(!$e||$e.scheme!="file"){nt=gt;continue}if(Ue==y)we.host=$e.host,we.path=$e.path.slice(),we.query=$e.query;else if(Ue=="?")we.host=$e.host,we.path=$e.path.slice(),we.query="",nt=fn;else{if(Ue!="#"){We(kt.slice(Gt).join(""))||(we.host=$e.host,we.path=$e.path.slice(),Ze(we)),nt=gt;continue}we.host=$e.host,we.path=$e.path.slice(),we.query=$e.query,we.fragment="",nt=Wr}}break;case dt:if(Ue=="/"||Ue=="\\"){nt=lt;break}$e&&$e.scheme=="file"&&!We(kt.slice(Gt).join(""))&&(Pe($e.path[0],!0)?we.path.push($e.path[0]):we.host=$e.host),nt=gt;continue;case lt:if(Ue==y||Ue=="/"||Ue=="\\"||Ue=="?"||Ue=="#"){if(!st&&Pe(it))nt=gt;else{if(it==""){if(we.host="",st)return}else{if(Kt=te(we,it))return Kt;if(we.host=="localhost"&&(we.host=""),st)return;it=""}nt=mt}continue}it+=Ue;break;case mt:if(De(we)){if(nt=gt,Ue!="/"&&Ue!="\\")continue}else if(st||Ue!="?")if(st||Ue!="#"){if(Ue!=y&&(nt=gt,Ue!="/"))continue}else we.fragment="",nt=Wr;else we.query="",nt=fn;break;case gt:if(Ue==y||Ue=="/"||Ue=="\\"&&De(we)||!st&&(Ue=="?"||Ue=="#")){if(Ce(it)?(Ze(we),Ue=="/"||Ue=="\\"&&De(we)||we.path.push("")):Qe(it)?Ue=="/"||Ue=="\\"&&De(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&Pe(it)&&(we.host&&(we.host=""),it=it.charAt(0)+":"),we.path.push(it)),it="",we.scheme=="file"&&(Ue==y||Ue=="?"||Ue=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();Ue=="?"?(we.query="",nt=fn):Ue=="#"&&(we.fragment="",nt=Wr)}else it+=_e(Ue,xe);break;case ur:Ue=="?"?(we.query="",nt=fn):Ue=="#"?(we.fragment="",nt=Wr):Ue!=y&&(we.path[0]+=_e(Ue,ve));break;case fn:st||Ue!="#"?Ue!=y&&(Ue=="'"&&De(we)?we.query+="%27":we.query+=Ue=="#"?"%23":_e(Ue,ve)):(we.fragment="",nt=Wr);break;case Wr:Ue!=y&&(we.fragment+=_e(Ue,Me))}Gt++}}function c(Ue){var Xe,st,$e=b(this,c,"URL"),kt=1<arguments.length?arguments[1]:void 0,Ue=String(Ue),Kt=B($e,{type:"URL"});if(kt!==void 0){if(kt instanceof c)Xe=k(kt);else if(st=l(Xe={},String(kt)))throw TypeError(st)}if(st=l(Kt,Ue,null,Xe))throw TypeError(st);var nt=Kt.searchParams=new j;(kt=L(nt)).updateSearchParams(Kt.query),kt.updateURL=function(){Kt.query=String(nt)||null},f||($e.href=gr.call($e),$e.origin=Qt.call($e),$e.protocol=an.call($e),$e.username=Jr.call($e),$e.password=cr.call($e),$e.host=ln.call($e),$e.hostname=bs.call($e),$e.port=ws.call($e),$e.pathname=_s.call($e),$e.search=da.call($e),$e.searchParams=xs.call($e),$e.hash=Ds.call($e))}function m(we,Xe){return{get:we,set:Xe,configurable:!0,enumerable:!0}}var y,d,h,p=I("../internals/export"),f=I("../internals/descriptors"),v=I("../internals/native-url"),sr=I("../internals/global"),g=I("../internals/object-define-properties"),w=I("../internals/redefine"),b=I("../internals/an-instance"),_=I("../internals/has"),D=I("../internals/object-assign"),C=I("../internals/array-from"),M=I("../internals/string-multibyte").codeAt,E=I("../internals/string-punycode-to-ascii"),S=I("../internals/set-to-string-tag"),O=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),F=sr.URL,j=O.URLSearchParams,L=O.getState,B=I.set,k=I.getterFor("URL"),q=Math.floor,G=Math.pow,U="Invalid authority",W="Invalid scheme",Q="Invalid host",le="Invalid port",P=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,V=/\d/,H=/^(0x|0X)/,K=/^[0-7]+$/,re=/^\d+$/,ie=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,he=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ue=/[\u0009\u000A\u000D]/g,te=function(we,Xe){var st,$e,kt;if(Xe.charAt(0)=="[")return Xe.charAt(Xe.length-1)=="]"&&(st=function(Ue){var Kt=[0,0,0,0,0,0,0,0],nt=0,Gt=null,it=0,Vr,Qr,jr,Nr,Nt,mr,ao,Ur=function(){return Ue.charAt(it)};if(Ur()==":"){if(Ue.charAt(1)!=":")return;it+=2,nt++,Gt=nt}for(;Ur();){if(nt==8)return;if(Ur()==":"){if(Gt!==null)return;it++,nt++,Gt=nt;continue}for(Vr=Qr=0;Qr<4&&ie.test(Ur());)Vr=Vr*16+parseInt(Ur(),16),it++,Qr++;if(Ur()=="."){if(Qr==0||(it-=Qr,nt>6))return;for(jr=0;Ur();){if(Nr=null,jr>0)if(Ur()=="."&&jr<4)it++;else return;if(!V.test(Ur()))return;for(;V.test(Ur());){if(Nt=parseInt(Ur(),10),Nr===null)Nr=Nt;else{if(Nr==0)return;Nr=Nr*10+Nt}if(Nr>255)return;it++}Kt[nt]=Kt[nt]*256+Nr,jr++,(jr==2||jr==4)&&nt++}if(jr!=4)return;break}else if(Ur()==":"){if(it++,!Ur())return}else if(Ur())return;Kt[nt++]=Vr}if(Gt!==null)for(mr=nt-Gt,nt=7;nt!=0&&mr>0;)ao=Kt[nt],Kt[nt--]=Kt[Gt+mr-1],Kt[Gt+--mr]=ao;else if(nt!=8)return;return Kt}(Xe.slice(1,-1)))?void(we.host=st):Q;if(De(we))return Xe=E(Xe),ce.test(Xe)||(st=function(Ue){var Kt=Ue.split("."),nt,Gt,it,Vr,Qr,jr,Nr;if(Kt.length&&Kt[Kt.length-1]==""&&Kt.pop(),(nt=Kt.length)>4)return Ue;for(Gt=[],it=0;it<nt;it++){if(Vr=Kt[it],Vr=="")return Ue;if(Qr=10,Vr.length>1&&Vr.charAt(0)=="0"&&(Qr=H.test(Vr)?16:8,Vr=Vr.slice(Qr==8?1:2)),Vr==="")jr=0;else{if(!(Qr==10?re:Qr==8?K:ie).test(Vr))return Ue;jr=parseInt(Vr,Qr)}Gt.push(jr)}for(it=0;it<nt;it++)if(jr=Gt[it],it==nt-1){if(jr>=G(256,5-nt))return null}else if(jr>255)return null;for(Nr=Gt.pop(),it=0;it<Gt.length;it++)Nr+=Gt[it]*G(256,3-it);return Nr}(Xe))===null?Q:void(we.host=st);if(se.test(Xe))return Q;for(st="",$e=C(Xe),kt=0;kt<$e.length;kt++)st+=_e($e[kt],ve);we.host=st},pe=function(we){for(var Xe=null,st=1,$e=null,kt=0,Ue=0;Ue<8;Ue++)we[Ue]!==0?(st<kt&&(Xe=$e,st=kt),$e=null,kt=0):($e===null&&($e=Ue),++kt);return st<kt&&(Xe=$e,st=kt),Xe},ve={},Me=D({},ve,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=D({},Me,{"#":1,"?":1,"{":1,"}":1}),me=D({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_e=function(we,Xe){var st=M(we,0);return 32<st&&st<127&&!_(Xe,we)?we:encodeURIComponent(we)},je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},De=function(we){return _(je,we.scheme)},qe=function(we){return we.username!=""||we.password!=""},Pe=function(we,Xe){return we.length==2&&P.test(we.charAt(0))&&((we=we.charAt(1))==":"||!Xe&&we=="|")},We=function(we){return 1<we.length&&Pe(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},Ze=function(we){var Xe=we.path,st=Xe.length;!st||we.scheme=="file"&&st==1&&Pe(Xe[0],!0)||Xe.pop()},Qe=function(we){return we==="."||we.toLowerCase()==="%2e"},Ce=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},oe={},ae={},X={},J={},Y={},ee={},ge={},ye={},Se={},Ae={},Be={},Ge={},Ke={},pt={},dt={},lt={},mt={},gt={},ur={},fn={},Wr={},sr=c.prototype,gr=function(){var we=k(this),Xe=we.scheme,st=we.username,$e=we.password,kt=we.host,Ue=we.port,Kt=we.path,nt=we.query,Gt=we.fragment,it=Xe+":";return kt!==null?(it+="//",qe(we)&&(it+=st+($e?":"+$e:"")+"@"),it+=a(kt),Ue!==null&&(it+=":"+Ue)):Xe=="file"&&(it+="//"),it+=we.cannotBeABaseURL?Kt[0]:Kt.length?"/"+Kt.join("/"):"",nt!==null&&(it+="?"+nt),Gt!==null&&(it+="#"+Gt),it},Qt=function(){var we=k(this),Xe=we.scheme,st=we.port;if(Xe=="blob")try{return new URL(Xe.path[0]).origin}catch{return"null"}return Xe!="file"&&De(we)?Xe+"://"+a(we.host)+(st!==null?":"+st:""):"null"},an=function(){return k(this).scheme+":"},Jr=function(){return k(this).username},cr=function(){return k(this).password},ln=function(){var Xe=k(this),we=Xe.host,Xe=Xe.port;return we===null?"":Xe===null?a(we):a(we)+":"+Xe},bs=function(){var we=k(this).host;return we===null?"":a(we)},ws=function(){var we=k(this).port;return we===null?"":String(we)},_s=function(){var we=k(this),Xe=we.path;return we.cannotBeABaseURL?Xe[0]:Xe.length?"/"+Xe.join("/"):""},da=function(){var we=k(this).query;return we?"?"+we:""},xs=function(){return k(this).searchParams},Ds=function(){var we=k(this).fragment;return we?"#"+we:""};f&&g(sr,{href:m(gr,function(st){var Xe=k(this),st=String(st),st=l(Xe,st);if(st)throw TypeError(st);L(Xe.searchParams).updateSearchParams(Xe.query)}),origin:m(Qt),protocol:m(an,function(we){var Xe=k(this);l(Xe,String(we)+":",oe)}),username:m(Jr,function(we){var Xe=k(this),st=C(String(we));if(!u(Xe)){Xe.username="";for(var $e=0;$e<st.length;$e++)Xe.username+=_e(st[$e],me)}}),password:m(cr,function(we){var Xe=k(this),st=C(String(we));if(!u(Xe)){Xe.password="";for(var $e=0;$e<st.length;$e++)Xe.password+=_e(st[$e],me)}}),host:m(ln,function(we){var Xe=k(this);Xe.cannotBeABaseURL||l(Xe,String(we),Be)}),hostname:m(bs,function(we){var Xe=k(this);Xe.cannotBeABaseURL||l(Xe,String(we),Ge)}),port:m(ws,function(we){var Xe=k(this);u(Xe)||((we=String(we))==""?Xe.port=null:l(Xe,we,Ke))}),pathname:m(_s,function(we){var Xe=k(this);Xe.cannotBeABaseURL||(Xe.path=[],l(Xe,we+"",mt))}),search:m(da,function(we){var Xe=k(this);(we=String(we))==""?Xe.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),Xe.query="",l(Xe,we,fn)),L(Xe.searchParams).updateSearchParams(Xe.query)}),searchParams:m(xs),hash:m(Ds,function(we){var Xe=k(this);(we=String(we))==""?Xe.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),Xe.fragment="",l(Xe,we,Wr))})}),w(sr,"toJSON",function(){return gr.call(this)},{enumerable:!0}),w(sr,"toString",function(){return gr.call(this)},{enumerable:!0}),F&&(d=F.createObjectURL,h=F.revokeObjectURL,d&&w(c,"createObjectURL",function(we){return d.apply(F,arguments)}),h&&w(c,"revokeObjectURL",function(we){return h.apply(F,arguments)})),S(c,"URL"),p({global:!0,forced:!v,sham:!f},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,i,s){"use strict";i.exports=t("./").polyfill()},{"./":250}],250:[function(t,i,s){(function(a,u){var l,c;l=this,c=function(){"use strict";function m(te){return typeof te=="function"}var y=Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"},d=0,h=void 0,p=void 0,f=function(te,pe){D[d]=te,D[d+1]=pe,(d+=2)===2&&(p?p(C):j())},v=typeof window<"u"?window:void 0,g=v||{},g=g.MutationObserver||g.WebKitMutationObserver,w=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var te=setTimeout;return function(){return te(C,1)}}var D=new Array(1e3);function C(){for(var te=0;te<d;te+=2)(0,D[te])(D[te+1]),D[te]=void 0,D[te+1]=void 0;d=0}function M(){try{var te=Function("return this")().require("vertx");return(h=te.runOnLoop||te.runOnContext)!==void 0?function(){h(C)}:_()}catch{return _()}}var E,S,O,j=void 0;function I(te,pe){var ve,Me=this,xe=new this.constructor(B),me=(xe[L]===void 0&&ie(xe),Me._state);return me?(ve=arguments[me-1],f(function(){return K(me,xe,ve,Me._result)})):V(Me,xe,te,pe),xe}function F(te){var pe;return te&&typeof te=="object"&&te.constructor===this?te:(Q(pe=new this(B),te),pe)}var j=w?function(){return a.nextTick(C)}:g?(S=0,w=new g(C),O=document.createTextNode(""),w.observe(O,{characterData:!0}),function(){O.data=S=++S%2}):b?((E=new MessageChannel).port1.onmessage=C,function(){return E.port2.postMessage(0)}):(v===void 0&&typeof t=="function"?M:_)(),L=Math.random().toString(36).substring(2);function B(){}var k=void 0,q=1,G=2;function U(te,pe,ve){f(function(Me){var xe=!1,me=function(_e,je,De,qe){try{_e.call(je,De,qe)}catch(Pe){return Pe}}(ve,pe,function(_e){xe||(xe=!0,(pe!==_e?Q:P)(Me,_e))},function(_e){xe||(xe=!0,T(Me,_e))},Me._label);!xe&&me&&(xe=!0,T(Me,me))},te)}function W(te,pe,ve){var Me,xe;pe.constructor===te.constructor&&ve===I&&pe.constructor.resolve===F?(Me=te,(xe=pe)._state===q?P(Me,xe._result):xe._state===G?T(Me,xe._result):V(xe,void 0,function(me){return Q(Me,me)},function(me){return T(Me,me)})):ve!==void 0&&m(ve)?U(te,pe,ve):P(te,pe)}function Q(te,pe){if(te===pe)T(te,new TypeError("You cannot resolve a promise with itself"));else if(ve=typeof pe,pe===null||ve!="object"&&ve!="function")P(te,pe);else{ve=void 0;try{ve=pe.then}catch(Me){return void T(te,Me)}W(te,pe,ve)}var ve}function le(te){te._onerror&&te._onerror(te._result),H(te)}function P(te,pe){te._state===k&&(te._result=pe,te._state=q,te._subscribers.length!==0&&f(H,te))}function T(te,pe){te._state===k&&(te._state=G,te._result=pe,f(le,te))}function V(te,pe,ve,Me){var xe=te._subscribers,me=xe.length;te._onerror=null,xe[me]=pe,xe[me+q]=ve,xe[me+G]=Me,me===0&&te._state&&f(H,te)}function H(te){var pe=te._subscribers,ve=te._state;if(pe.length!==0){for(var Me,xe=void 0,me=te._result,_e=0;_e<pe.length;_e+=3)Me=pe[_e],xe=pe[_e+ve],Me?K(ve,Me,xe,me):xe(me);te._subscribers.length=0}}function K(te,pe,ve,Me){var xe=m(ve),me=void 0,_e=void 0,je=!0;if(xe){try{me=ve(Me)}catch(De){je=!1,_e=De}if(pe===me)return void T(pe,new TypeError("A promises callback cannot return that same promise."))}else me=Me;pe._state===k&&(xe&&je?Q(pe,me):je===!1?T(pe,_e):te===q?P(pe,me):te===G&&T(pe,me))}var re=0;function ie(te){te[L]=re++,te._state=void 0,te._result=void 0,te._subscribers=[]}se.prototype._enumerate=function(te){for(var pe=0;this._state===k&&pe<te.length;pe++)this._eachEntry(te[pe],pe)},se.prototype._eachEntry=function(te,pe){var ve=this._instanceConstructor,Me=ve.resolve;if(Me===F){var xe,me=void 0,_e=void 0,je=!1;try{me=te.then}catch(De){je=!0,_e=De}me===I&&te._state!==k?this._settledAt(te._state,pe,te._result):typeof me!="function"?(this._remaining--,this._result[pe]=te):ve===he?(xe=new ve(B),je?T(xe,_e):W(xe,te,me),this._willSettleAt(xe,pe)):this._willSettleAt(new ve(function(De){return De(te)}),pe)}else this._willSettleAt(Me(te),pe)},se.prototype._settledAt=function(te,pe,ve){var Me=this.promise;Me._state===k&&(this._remaining--,te===G?T(Me,ve):this._result[pe]=ve),this._remaining===0&&P(Me,this._result)},se.prototype._willSettleAt=function(te,pe){var ve=this;V(te,void 0,function(Me){return ve._settledAt(q,pe,Me)},function(Me){return ve._settledAt(G,pe,Me)})};var ce=se;function se(te,pe){this._instanceConstructor=te,this.promise=new te(B),this.promise[L]||ie(this.promise),y(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(pe),this._remaining!==0)||P(this.promise,this._result)):T(this.promise,new Error("Array Methods must be provided an Array"))}ue.prototype.catch=function(te){return this.then(null,te)},ue.prototype.finally=function(te){var pe=this.constructor;return m(te)?this.then(function(ve){return pe.resolve(te()).then(function(){return ve})},function(ve){return pe.resolve(te()).then(function(){throw ve})}):this.then(te,te)};var he=ue;function ue(te){if(this[L]=re++,this._result=this._state=void 0,this._subscribers=[],B!==te){if(typeof te!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ue))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var pe=this;try{te(function(ve){Q(pe,ve)},function(ve){T(pe,ve)})}catch(ve){T(pe,ve)}}}return he.prototype.then=I,he.all=function(te){return new ce(this,te).promise},he.race=function(te){var pe=this;return y(te)?new pe(function(ve,Me){for(var xe=te.length,me=0;me<xe;me++)pe.resolve(te[me]).then(ve,Me)}):new pe(function(ve,Me){return Me(new TypeError("You must pass an array to race."))})},he.resolve=F,he.reject=function(te){var pe=new this(B);return T(pe,te),pe},he._setScheduler=function(te){p=te},he._setAsap=function(te){f=te},he._asap=f,he.polyfill=function(){var te=void 0;if(u!==void 0)te=u;else if(typeof self<"u")te=self;else try{te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var pe=te.Promise;if(pe){var ve=null;try{ve=Object.prototype.toString.call(pe.resolve())}catch{}if(ve==="[object Promise]"&&!pe.cast)return}te.Promise=he},he.Promise=he},typeof s=="object"&&i!==void 0?i.exports=c():typeof n=="function"&&n.amd?n(c):l.ES6Promise=c()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,i,s){var a,u;a=this,u=function(l,c){"use strict";var m=5e3,y="callback";function d(p){try{delete window[p]}catch{window[p]=void 0}}function h(p){p=document.getElementById(p),p&&document.getElementsByTagName("head")[0].removeChild(p)}c.exports=function(p){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=p,g=f.timeout||m,w=f.jsonpCallback||y,b=void 0;return new Promise(function(_,D){var C=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=w+"_"+C,E=(window[C]=function(S){_({ok:!0,json:function(){return Promise.resolve(S)}}),b&&clearTimeout(b),h(M),d(C)},v+=v.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+v+w+"="+C),f.charset&&E.setAttribute("charset",f.charset),E.id=M,document.getElementsByTagName("head")[0].appendChild(E),b=setTimeout(function(){D(new Error("JSONP request to "+p+" timed out")),d(C),h(M),window[C]=function(){d(C)}},g),E.onerror=function(){D(new Error("JSONP request to "+p+" failed")),d(C),h(M),b&&clearTimeout(b)}})}},typeof n=="function"&&n.amd?n(["exports","module"],u):s!==void 0&&i!==void 0?u(0,i):(u(u={exports:{}},u),a.fetchJsonp=u.exports)},{}],252:[function(t,i,s){var a=function(u){"use strict";var l,c,m,y,d,h,p,f,v,g,w;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return w=u.document,l=function(){return u.URL||u.webkitURL||u},c=w.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in c,y=/constructor/i.test(u.HTMLElement)||u.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(b){(u.setImmediate||u.setTimeout)(function(){throw b},0)},p=4e4,f=function(b){setTimeout(function(){typeof b=="string"?l().revokeObjectURL(b):b.remove()},p)},v=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b},w=(g=function(b,_,S){S||(b=v(b));var C,M,E=this,S=b.type==="application/octet-stream",O=function(){for(var I=E,F="writestart progress write writeend".split(" "),j=void 0,L=(F=[].concat(F)).length;L--;){var B=I["on"+F[L]];if(typeof B=="function")try{B.call(I,j||I)}catch(k){h(k)}}};E.readyState=E.INIT,m?(C=l().createObjectURL(b),setTimeout(function(){var I,F;c.href=C,c.download=_,I=c,F=new MouseEvent("click"),I.dispatchEvent(F),O(),f(C),E.readyState=E.DONE})):(d||S&&y)&&u.FileReader?((M=new FileReader).onloadend=function(){var I=d?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(I,"_blank")||(u.location.href=I),I=void 0,E.readyState=E.DONE,O()},M.readAsDataURL(b),E.readyState=E.INIT):(C=C||l().createObjectURL(b),!S&&u.open(C,"_blank")||(u.location.href=C),E.readyState=E.DONE,O(),f(C))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(b,_,D){return _=_||b.name||"download",D||(b=v(b)),navigator.msSaveOrOpenBlob(b,_)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(b,_,D){return new g(b,_||b.name||"download",D)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);i!==void 0&&i.exports?i.exports.saveAs=a:n!=null&&n.amd!==null&&n("FileSaver.js",function(){return a})},{}],253:[function(t,i,s){var a,u=Object.defineProperty,l=(u(s,"__esModule",{value:!0}),s),c={GIFEncoder:()=>O,applyPalette:()=>function(k,q,G="rgb565"){if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<q.length)throw new Error("applyPalette() only works with 256 colors or less");let U=new Uint32Array(k.buffer),W=U.length,Q=G==="rgb444"?4096:65536,le=new Uint8Array(W),P=new Array(Q);if(G==="rgba4444")for(let ue=0;ue<W;ue++){var K=U[ue],T=K>>24&255,V=K>>16&255,H=K>>8&255,K=255&K,re=f(K,H,V,T),re=re in P?P[re]:P[re]=function(te,pe,ve,Me,xe){let me=0,_e=1e100;for(let Pe=0;Pe<xe.length;Pe++){var je,De=xe[Pe],qe=M(De[3]-Me);qe>_e||(je=De[0],(qe+=M(je-te))>_e||(je=De[1],(qe+=M(je-pe))>_e||(je=De[2],(qe+=M(je-ve))>_e||(_e=qe,me=Pe))))}return me}(K,H,V,T,q);le[ue]=re}else{let ue=G==="rgb444"?v:p;for(let te=0;te<W;te++){var se=U[te],ie=se>>16&255,ce=se>>8&255,se=255&se,he=ue(se,ce,ie),he=he in P?P[he]:P[he]=function(pe,ve,Me,xe){let me=0,_e=1e100;for(let Pe=0;Pe<xe.length;Pe++){var je,De=xe[Pe],qe=M(De[0]-pe);qe>_e||(je=De[1],(qe+=M(je-ve))>_e||(je=De[2],(qe+=M(je-Me))>_e||(_e=qe,me=Pe)))}return me}(se,ce,ie,q);le[te]=he}}return le},default:()=>B,nearestColor:()=>function(k,q,G=D){return k[E(k,q,G)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>S,prequantize:()=>function(k,{roundRGB:q=5,roundAlpha:G=10,oneBitAlpha:U=null}={}){let W=new Uint32Array(k.buffer);for(let V=0;V<W.length;V++){var T=W[V];let H=T>>24&255;var Q,le=T>>16&255,P=T>>8&255,T=255&T;H=C(H,G),U&&(Q=typeof U=="number"?U:127,H=H<=Q?0:255),T=C(T,q),P=C(P,q),le=C(le,q),W[V]=H<<24|le<<16|P<<8|T<<0}},quantize:()=>function(k,q,G={}){var{format:U="rgb565",clearAlpha:W=!0,clearAlphaColor:Q=0,clearAlphaThreshold:le=0,oneBitAlpha:P=!1}=G;if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");k=new Uint32Array(k.buffer);let T=G.useSqrt!==!1,V=U==="rgba4444",H=function(We,Ze){let Qe=Ze==="rgb444"?4096:65536,Ce=new Array(Qe),oe=We.length;if(Ze==="rgba4444")for(let dt=0;dt<oe;++dt){var Y=We[dt],ae=Y>>24&255,X=Y>>16&255,J=Y>>8&255,Y=255&Y,ee=f(Y,J,X,ae);let lt=ee in Ce?Ce[ee]:Ce[ee]=_();lt.rc+=Y,lt.gc+=J,lt.bc+=X,lt.ac+=ae,lt.cnt++}else if(Ze==="rgb444")for(let dt=0;dt<oe;++dt){var Se=We[dt],ge=Se>>16&255,ye=Se>>8&255,Se=255&Se,Ae=v(Se,ye,ge);let lt=Ae in Ce?Ce[Ae]:Ce[Ae]=_();lt.rc+=Se,lt.gc+=ye,lt.bc+=ge,lt.cnt++}else for(let dt=0;dt<oe;++dt){var Ke=We[dt],Be=Ke>>16&255,Ge=Ke>>8&255,Ke=255&Ke,pt=p(Ke,Ge,Be);let lt=pt in Ce?Ce[pt]:Ce[pt]=_();lt.rc+=Ke,lt.gc+=Ge,lt.bc+=Be,lt.cnt++}return Ce}(k,U),K=H.length,re=K-1,ie=new Uint32Array(K+1);for(var ce=0,se=0;se<K;++se){let We=H[se];We!=null&&(De=1/We.cnt,V&&(We.ac*=De),We.rc*=De,We.gc*=De,We.bc*=De,H[ce++]=We)}w(q)/ce<.022&&(T=!1);for(var he,ue,te,se=0;se<ce-1;++se)H[se].fw=se+1,H[se+1].bk=se,T&&(H[se].cnt=Math.sqrt(H[se].cnt));for(T&&(H[se].cnt=Math.sqrt(H[se].cnt)),se=0;se<ce;++se){b(H,se,!1);var pe=H[se].err;for(ue=++ie[0];1<ue&&(te=ue>>1,!(H[he=ie[te]].err<=pe));ue=te)ie[ue]=he;ie[ue]=se}var ve,Me=ce-q;for(se=0;se<Me;){for(;;){var xe=ie[1];if((ve=H[xe]).tm>=ve.mtm&&H[ve.nn].mtm<=ve.tm)break;for(ve.mtm==re?xe=ie[1]=ie[ie[0]--]:(b(H,xe,!1),ve.tm=se),pe=H[xe].err,ue=1;(te=ue+ue)<=ie[0]&&(te<ie[0]&&H[ie[te]].err>H[ie[te+1]].err&&te++,!(pe<=H[he=ie[te]].err));ue=te)ie[ue]=he;ie[ue]=xe}var me=H[ve.nn],_e=ve.cnt,je=me.cnt,De=1/(_e+je);V&&(ve.ac=De*(_e*ve.ac+je*me.ac)),ve.rc=De*(_e*ve.rc+je*me.rc),ve.gc=De*(_e*ve.gc+je*me.gc),ve.bc=De*(_e*ve.bc+je*me.bc),ve.cnt+=me.cnt,ve.mtm=++se,H[me.bk].fw=me.fw,H[me.fw].bk=me.bk,me.mtm=re}let qe=[];for(se=0;;0){let We=g(Math.round(H[se].rc),0,255),Ze=g(Math.round(H[se].gc),0,255),Qe=g(Math.round(H[se].bc),0,255),Ce=255;V&&(Ce=g(Math.round(H[se].ac),0,255),P&&(Pe=typeof P=="number"?P:127,Ce=Ce<=Pe?0:255),W&&Ce<=le&&(We=Ze=Qe=Q,Ce=0));var Pe=V?[We,Ze,Qe,Ce]:[We,Ze,Qe];if(function(oe,ae){for(let Y=0;Y<oe.length;Y++){var J=oe[Y],X=J[0]===ae[0]&&J[1]===ae[1]&&J[2]===ae[2],J=!(4<=J.length&&4<=ae.length)||J[3]===ae[3];if(X&&J)return!0}return!1}(qe,Pe)||qe.push(Pe),(se=H[se].fw)==0)break}return qe},snapColorsToPalette:()=>function(k,q,G=5){if(k.length&&q.length){var U=k.map(T=>T.slice(0,3)),W=G*G,Q=k[0].length;for(let T=0;T<q.length;T++){let V=q[T];V=V.length<Q?[V[0],V[1],V[2],255]:V.length>Q?V.slice(0,3):V.slice();var P=S(U,V.slice(0,3),D),le=P[0],P=P[1];0<P&&P<=W&&(k[le]=V)}}}};for(a in c)u(l,a,{get:c[a],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(k=256){let q=0,G=new Uint8Array(k);return{get buffer(){return G.buffer},reset(){q=0},bytesView(){return G.subarray(0,q)},bytes(){return G.slice(0,q)},writeByte(W){U(q+1),G[q]=W,q++},writeBytes(W,Q=0,le=W.length){U(q+le);for(let P=0;P<le;P++)G[q++]=W[P+Q]},writeBytesView(W,Q=0,le=W.byteLength){U(q+le),G.set(W.subarray(Q,Q+le),q),q+=le}};function U(W){var Q=G.length;if(!(W<=Q)){W=Math.max(W,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(W=Math.max(W,256));let le=G;G=new Uint8Array(W),0<q&&G.set(le.subarray(0,q),0)}}}var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=function(k,q,G,V,W=y(512),Q=new Uint8Array(256),le=new Int32Array(5003),P=new Int32Array(5003)){var T=le.length,V=Math.max(2,V);Q.fill(0),P.fill(0),le.fill(-1);let H=0,K=0;var re=V+1;let ie=re,ce=!1,se=ie,he=(1<<se)-1;var ue=1<<re-1;let te=1+ue,pe=2+ue,ve=0,Me=G[0],xe=0;for(let Pe=T;Pe<65536;Pe*=2)++xe;xe=8-xe,W.writeByte(V),qe(ue);var me=G.length;for(let Pe=1;Pe<me;Pe++)e:{var _e=G[Pe],je=(_e<<12)+Me;let We=_e<<xe^Me;if(le[We]===je)Me=P[We];else{for(var De=We===0?1:T-We;0<=le[We];)if((We-=De)<0&&(We+=T),le[We]===je){Me=P[We];break e}qe(Me),Me=_e,pe<4096?(P[We]=pe++,le[We]=je):(le.fill(-1),pe=2+ue,ce=!0,qe(ue))}}return qe(Me),qe(te),W.writeByte(0),W.bytesView();function qe(Pe){for(H&=d[K],0<K?H|=Pe<<K:H=Pe,K+=se;8<=K;)Q[ve++]=255&H,254<=ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0),H>>=8,K-=8;if((pe>he||ce)&&(ce?(se=ie,he=(1<<se)-1,ce=!1):(++se,he=se===12?1<<se:(1<<se)-1)),Pe==te){for(;0<K;)Q[ve++]=255&H,254<=ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0),H>>=8,K-=8;0<ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0)}}};function p(k,q,G){return k<<8&63488|q<<2&992|G>>3}function f(k,q,G,U){return k>>4|240&q|(240&G)<<4|(240&U)<<8}function v(k,q,G){return k>>4<<8|240&q|G>>4}function g(k,q,G){return k<q?q:G<k?G:k}function w(k){return k*k}function b(k,q,G){var U=0,W=1e100;let Q=k[q];for(var le=Q.cnt,P=Q.ac,T=Q.rc,V=Q.gc,H=Q.bc,K=Q.fw;K!=0;K=k[K].fw){var re,ie=k[K],ce=ie.cnt,ce=le*ce/(le+ce);W<=ce||(re=0,G&&W<=(re+=ce*w(ie.ac-P))||W<=(re+=ce*w(ie.rc-T))||W<=(re+=ce*w(ie.gc-V))||W<=(re+=ce*w(ie.bc-H))||(W=re,U=K))}Q.err=W,Q.nn=U}function _(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function D(k,q){for(var G=0,U=0;U<k.length;U++){var W=k[U]-q[U];G+=W*W}return G}function C(k,q){return 1<q?Math.round(k/q)*q:k}function M(k){return k*k}function E(k,q,G=D){let U=1/0,W=-1;for(let le=0;le<k.length;le++){var Q=G(q,k[le]);Q<U&&(U=Q,W=le)}return W}function S(k,q,G=D){let U=1/0,W=-1;for(let le=0;le<k.length;le++){var Q=G(q,k[le]);Q<U&&(U=Q,W=le)}return[W,U]}function O(k={}){let{initialCapacity:q=4096,auto:G=!0}=k,U=y(q),W=new Uint8Array(256),Q=new Int32Array(5003),le=new Int32Array(5003),P=!1;return{reset(){U.reset(),P=!1},finish(){U.writeByte(m.trailer)},bytes(){return U.bytes()},bytesView(){return U.bytesView()},get buffer(){return U.buffer},get stream(){return U},writeHeader:T,writeFrame(V,H,K,Me={}){var{transparent:ie=!1,transparentIndex:ce=0,delay:De=0,palette:se=null,repeat:me=0,colorDepth:he=8,dispose:ue=-1}=Me;let te=!1;if(G?P||(te=!0,T(),P=!0):te=!!Me.first,H=Math.max(0,Math.floor(H)),K=Math.max(0,Math.floor(K)),te){if(!se)throw new Error("First frame must include a { palette } option");var[Me,_e,ve,je,xe=8]=[U,H,K,se,he];je=L(je.length)-1,xe=128|xe-1<<4|je,F(Me,_e),F(Me,ve),Me.writeBytes([xe,0,0]),I(U,se),0<=me&&(je=U,_e=me,je.writeByte(33),je.writeByte(255),je.writeByte(11),j(je,"NETSCAPE2.0"),je.writeByte(3),je.writeByte(1),F(je,_e),je.writeByte(0))}var pe,ve=Math.round(De/10),Me=U,xe=ue,me=ve,_e=ie,je=ce,De=(Me.writeByte(33),Me.writeByte(249),Me.writeByte(4),je<0&&(je=0,_e=!1),_e=_e?(pe=1,2):pe=0,0<=xe&&(_e=7&xe),_e<<=2,Me.writeByte(0|_e|pe),F(Me,me),Me.writeByte(je||0),Me.writeByte(0),!!se&&!te);ue=U,ie=H,ce=K,pe=De?se:null,ue.writeByte(44),F(ue,0),F(ue,0),F(ue,ie),F(ue,ce),pe?(ie=L(pe.length)-1,ue.writeByte(128|ie)):ue.writeByte(0),De&&I(U,se),[me,Me,ce,ie,ue=8,De,se,V]=[U,V,H,K,he,W,Q,le],h(ce,ie,Me,ue,me,De,se,V)}};function T(){j(U,"GIF89a")}}function I(k,q){var G=1<<L(q.length);for(let U=0;U<G;U++){let W=[0,0,0];U<q.length&&(W=q[U]),k.writeByte(W[0]),k.writeByte(W[1]),k.writeByte(W[2])}}function F(k,q){k.writeByte(255&q),k.writeByte(q>>8&255)}function j(k,q){for(var G=0;G<q.length;G++)k.writeByte(q.charCodeAt(G))}function L(k){return Math.max(Math.ceil(Math.log2(k)),1)}var B=O},{}],254:[function(t,i,s){s.read=function(a,u,l,c,b){var y,d,h=8*b-c-1,p=(1<<h)-1,f=p>>1,v=-7,g=l?b-1:0,w=l?-1:1,b=a[u+g];for(g+=w,y=b&(1<<-v)-1,b>>=-v,v+=h;0<v;y=256*y+a[u+g],g+=w,v-=8);for(d=y&(1<<-v)-1,y>>=-v,v+=c;0<v;d=256*d+a[u+g],g+=w,v-=8);if(y===0)y=1-f;else{if(y===p)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,c),y-=f}return(b?-1:1)*d*Math.pow(2,y-c)},s.write=function(a,u,l,c,m,_){var d,h,p=8*_-m-1,f=(1<<p)-1,v=f>>1,g=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=c?0:_-1,b=c?1:-1,_=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(h=isNaN(u)?1:0,d=f):(d=Math.floor(Math.log(u)/Math.LN2),u*(c=Math.pow(2,-d))<1&&(d--,c*=2),2<=(u+=1<=d+v?g/c:g*Math.pow(2,1-v))*c&&(d++,c/=2),f<=d+v?(h=0,d=f):1<=d+v?(h=(u*c-1)*Math.pow(2,m),d+=v):(h=u*Math.pow(2,v-1)*Math.pow(2,m),d=0));8<=m;a[l+w]=255&h,w+=b,h/=256,m-=8);for(d=d<<m|h,p+=m;0<p;a[l+w]=255&d,w+=b,d/=256,p-=8);a[l+w-b]|=128*_}},{}],255:[function(t,i,s){"use strict";var a;function u(X,J){return X.b===J.b&&X.a===J.a}function l(X,J){return X.b<J.b||X.b===J.b&&X.a<=J.a}function c(X,J,Y){var ee=J.b-X.b,ge=Y.b-J.b;return 0<ee+ge?ee<ge?J.a-X.a+ee/(ee+ge)*(X.a-Y.a):J.a-Y.a+ge/(ee+ge)*(Y.a-X.a):0}function m(X,J,Y){var ee=J.b-X.b,ge=Y.b-J.b;return 0<ee+ge?(J.a-Y.a)*ee+(J.a-X.a)*ge:0}function y(X,J){return X.a<J.a||X.a===J.a&&X.b<=J.b}function d(X,J,Y){var ee=J.a-X.a,ge=Y.a-J.a;return 0<ee+ge?ee<ge?J.b-X.b+ee/(ee+ge)*(X.b-Y.b):J.b-Y.b+ge/(ee+ge)*(Y.b-X.b):0}function h(X,J,Y){var ee=J.a-X.a,ge=Y.a-J.a;return 0<ee+ge?(J.b-Y.b)*ee+(J.b-X.b)*ge:0}function p(X,J,Y,ee){return(X=X<0?0:X)<=(Y=Y<0?0:Y)?Y===0?(J+ee)/2:J+X/(X+Y)*(ee-J):ee+Y/(X+Y)*(J-ee)}function f(X){var J=_(X.b);return C(J,X.c),C(J.b,X.c),M(J,X.a),J}function v(X,J){var Y=!1,ee=!1;X!==J&&(J.a!==X.a&&(ee=!0,S(J.a,X.a)),J.d!==X.d&&(Y=!0,O(J.d,X.d)),D(J,X),ee||(C(J,X.a),X.a.c=X),Y||(M(J,X.d),X.d.a=X))}function g(X){var J=X.b,Y=!1;X.d!==X.b.d&&(Y=!0,O(X.d,X.b.d)),X.c===X?S(X.a,null):(X.b.d.a=X.b.e,X.a.c=X.c,D(X,X.b.e),Y||M(X,X.d)),J.c===J?(S(J.a,null),O(J.d,null)):(X.d.a=J.b.e,J.a.c=J.c,D(J,J.b.e)),E(X)}function w(X){var J=_(X),Y=J.b;return D(J,X.e),J.a=X.b.a,C(Y,J.a),J.d=Y.d=X.d,J=J.b,D(X.b,X.b.b.e),D(X.b,J),X.b.a=J.a,J.b.a.c=J.b,J.b.d=X.b.d,J.f=X.f,J.b.f=X.b.f,J}function b(X,J){var Y=!1,ee=_(X),ge=ee.b;return J.d!==X.d&&(Y=!0,O(J.d,X.d)),D(ee,X.e),D(ge,J),ee.a=X.b.a,ge.a=J.a,ee.d=ge.d=X.d,X.d.a=ge,Y||M(ee,X.d),ee}function _(X){var J=new ve,Y=new ve,ee=X.b.h;return(((Y.h=ee).b.h=J).h=X).b.h=Y,J.b=Y,((J.c=J).e=Y).b=J,(Y.c=Y).e=J}function D(X,J){var Y=X.c,ee=J.c;Y.b.e=J,(ee.b.e=X).c=ee,J.c=Y}function C(X,J){var Y=J.f,ee=new xe(J,Y);for(Y.e=ee,Y=(J.f=ee).c=X;Y.a=ee,(Y=Y.c)!==X;);}function M(X,J){var Y=J.d,ee=new pe(J,Y);for(Y.b=ee,(J.d=ee).a=X,ee.c=J.c,Y=X;Y.d=ee,(Y=Y.e)!==X;);}function E(X){var J=X.h;X=X.b.h,(J.b.h=X).b.h=J}function S(X,J){for(var Y=X.c,ee=Y;ee.a=J,(ee=ee.c)!==Y;);Y=X.f,((ee=X.e).f=Y).e=ee}function O(X,J){for(var Y=X.a,ee=Y;ee.d=J,(ee=ee.e)!==Y;);Y=X.d,((ee=X.b).d=Y).b=ee}function I(X){var J=0;return Math.abs(X[1])>Math.abs(X[0])&&(J=1),J=Math.abs(X[2])>Math.abs(X[J])?2:J}function F(X,J){X.f+=J.f,X.b.f+=J.b.f}function j(X,J,Y){return X=X.a,J=J.a,Y=Y.a,J.b.a===X?Y.b.a===X?l(J.a,Y.a)?m(Y.b.a,J.a,Y.a)<=0:0<=m(J.b.a,Y.a,J.a):m(Y.b.a,X,Y.a)<=0:Y.b.a===X?0<=m(J.b.a,X,J.a):(J=c(J.b.a,X,J.a),(X=c(Y.b.a,X,Y.a))<=J)}function L(X){X.a.i=null;var J=X.e;J.a.c=J.c,J.c.a=J.a,X.e=null}function B(X,J){g(X.a),X.c=!1,(X.a=J).i=X}function k(X){for(var J=X.a.a;(X=ae(X)).a.a===J;);return X.c&&(B(X,J=b(oe(X).a.b,X.a.e)),X=ae(X)),X}function q(X,J,Y){var ee=new Ce;return ee.a=Y,ee.e=ce(X.f,J.e,ee),Y.i=ee}function G(X,J){switch(X.s){case 100130:return(1&J)!=0;case 100131:return J!==0;case 100132:return 0<J;case 100133:return J<0;case 100134:return 2<=J||J<=-2}return!1}function U(X){var J=X.a,Y=J.d;Y.c=X.d,Y.a=J,L(X)}function W(X,J,Y){for(J=(X=J).a;X!==Y;){X.c=!1;var ee=oe(X),ge=ee.a;if(ge.a!==J.a){if(!ee.c){U(X);break}B(ee,ge=b(J.c.b,ge.b))}J.c!==ge&&(v(ge.b.e,ge),v(J,ge)),U(X),J=ee.a,X=ee}return J}function Q(X,J,Y,ee,ge,ye){for(var Se=!0;q(X,J,Y.b),(Y=Y.c)!==ee;);for(ge===null&&(ge=oe(J).a.b.c);(Y=(ee=oe(J)).a.b).a===ge.a;)Y.c!==ge&&(v(Y.b.e,Y),v(ge.b.e,Y)),ee.f=J.f-Y.f,ee.d=G(X,ee.f),J.b=!0,!Se&&V(X,J)&&(F(Y,ge),L(J),g(ge)),Se=!1,J=ee,ge=Y;J.b=!0,ye&&K(X,J)}function le(X,J,Y,ee,ge){var ye=[J.g[0],J.g[1],J.g[2]];J.d=null,J.d=X.o&&X.o(ye,Y,ee,X.c)||null,J.d===null&&(ge?X.n||(te(X,100156),X.n=!0):J.d=Y[0])}function P(X,J,Y){var ee=[null,null,null,null];ee[0]=J.a.d,ee[1]=Y.a.d,le(X,J.a,ee,[.5,.5,0,0],!1),v(J,Y)}function T(X,J,Y,ee,ge){var ye=Math.abs(J.b-X.b)+Math.abs(J.a-X.a),Se=Math.abs(Y.b-X.b)+Math.abs(Y.a-X.a),Ae=ge+1;ee[ge]=.5*Se/(ye+Se),ee[Ae]=.5*ye/(ye+Se),X.g[0]+=ee[ge]*J.g[0]+ee[Ae]*Y.g[0],X.g[1]+=ee[ge]*J.g[1]+ee[Ae]*Y.g[1],X.g[2]+=ee[ge]*J.g[2]+ee[Ae]*Y.g[2]}function V(X,J){var Y=oe(J),ee=J.a,ge=Y.a;if(l(ee.a,ge.a)){if(0<m(ge.b.a,ee.a,ge.a))return;if(u(ee.a,ge.a)){if(ee.a!==ge.a){var Y=X.e,ye=ee.a.h;if(0<=ye){var Se=(Y=Y.b).d,Ae=Y.e,Be=Y.c,Ge=Be[ye];Se[Ge]=Se[Y.a],(Be[Se[Ge]]=Ge)<=--Y.a&&(Ge<=1||l(Ae[Se[Ge>>1]],Ae[Se[Ge]])?Ze:Qe)(Y,Ge),Ae[ye]=null,Be[ye]=Y.b,Y.b=ye}else for(Y.c[-(ye+1)]=null;0<Y.a&&Y.c[Y.d[Y.a-1]]===null;)--Y.a;P(X,ge.b.e,ee)}}else w(ge.b),v(ee,ge.b.e),J.b=Y.b=!0}else{if(m(ee.b.a,ge.a,ee.a)<0)return;ae(J).b=J.b=!0,w(ee.b),v(ge.b.e,ee)}return 1}function H(X,J){var Y=oe(J),ee=J.a,ge=Y.a,ye=ee.a,Se=ge.a,Ae=ee.b.a,Be=ge.b.a,Ge=new xe;if(m(Ae,X.a,ye),m(Be,X.a,Se),!(ye===Se||Math.min(ye.a,Ae.a)>Math.max(Se.a,Be.a))){if(l(ye,Se)){if(0<m(Be,ye,Se))return}else if(m(Ae,Se,ye)<0)return;var Ke,pt,dt=Ae,lt=ye,mt=Be,gt=Se;if(l(dt,lt)||(Ke=dt,dt=lt,lt=Ke),l(mt,gt)||(Ke=mt,mt=gt,gt=Ke),l(dt,mt)||(Ke=dt,dt=mt,mt=Ke,Ke=lt,lt=gt,gt=Ke),l(mt,lt)?l(lt,gt)?((Ke=c(dt,mt,lt))+(pt=c(mt,lt,gt))<0&&(Ke=-Ke,pt=-pt),Ge.b=p(Ke,mt.b,pt,lt.b)):((Ke=m(dt,mt,lt))+(pt=-m(dt,gt,lt))<0&&(Ke=-Ke,pt=-pt),Ge.b=p(Ke,mt.b,pt,gt.b)):Ge.b=(mt.b+lt.b)/2,y(dt,lt)||(Ke=dt,dt=lt,lt=Ke),y(mt,gt)||(Ke=mt,mt=gt,gt=Ke),y(dt,mt)||(Ke=dt,dt=mt,mt=Ke,Ke=lt,lt=gt,gt=Ke),y(mt,lt)?y(lt,gt)?((Ke=d(dt,mt,lt))+(pt=d(mt,lt,gt))<0&&(Ke=-Ke,pt=-pt),Ge.a=p(Ke,mt.a,pt,lt.a)):((Ke=h(dt,mt,lt))+(pt=-h(dt,gt,lt))<0&&(Ke=-Ke,pt=-pt),Ge.a=p(Ke,mt.a,pt,gt.a)):Ge.a=(mt.a+lt.a)/2,l(Ge,X.a)&&(Ge.b=X.a.b,Ge.a=X.a.a),dt=l(ye,Se)?ye:Se,l(dt,Ge)&&(Ge.b=dt.b,Ge.a=dt.a),u(Ge,ye)||u(Ge,Se))return V(X,J),0;if(!u(Ae,X.a)&&0<=m(Ae,X.a,Ge)||!u(Be,X.a)&&m(Be,X.a,Ge)<=0){if(Be===X.a)w(ee.b),v(ge.b,ee),ee=oe(J=k(J)).a,W(X,oe(J),Y),Q(X,J,ee.b.e,ee,ee,!0);else{if(Ae!==X.a)return 0<=m(Ae,X.a,Ge)&&(ae(J).b=J.b=!0,w(ee.b),ee.a.b=X.a.b,ee.a.a=X.a.a),void(m(Be,X.a,Ge)<=0&&(J.b=Y.b=!0,w(ge.b),ge.a.b=X.a.b,ge.a.a=X.a.a));for(w(ge.b),v(ee.e,ge.b.e),Se=(ye=Y=J).a.b.a;(ye=ae(ye)).a.b.a===Se;);ye=oe(J=ye).a.b.c,Y.a=ge.b.e,Q(X,J,(ge=W(X,Y,null)).c,ee.b.c,ye,!0)}return 1}w(ee.b),w(ge.b),v(ge.b.e,ee),ee.a.b=Ge.b,ee.a.a=Ge.a,ee.a.h=_e(X.e,ee.a),ee=ee.a,ge=[0,0,0,0],Ge=[ye.d,Ae.d,Se.d,Be.d],ee.g[0]=ee.g[1]=ee.g[2]=0,T(ee,ye,Ae,ge,0),T(ee,Se,Be,ge,2),le(X,ee,Ge,ge,!0),ae(J).b=J.b=Y.b=!0}}function K(X,J){for(var Y=oe(J);;){for(;Y.b;)Y=oe(J=Y);if(!J.b&&((J=ae(Y=J))===null||!J.b))break;J.b=!1;var ee=J.a,ge=Y.a;if(ye=ee.b.a!==ge.b.a)e:{var ye,Se=oe(ye=J),Ae=ye.a,Be=Se.a,Ge=void 0;if(l(Ae.b.a,Be.b.a)){if(m(Ae.b.a,Be.b.a,Ae.a)<0){ye=!1;break e}ae(ye).b=ye.b=!0,Ge=w(Ae),v(Be.b,Ge),Ge.d.c=ye.d}else{if(0<m(Be.b.a,Ae.b.a,Be.a)){ye=!1;break e}ye.b=Se.b=!0,Ge=w(Be),v(Ae.e,Be.b),Ge.b.d.c=ye.d}ye=!0}if(ye&&(Y.c?(L(Y),g(ge),ge=(Y=oe(J)).a):J.c&&(L(J),g(ee),ee=(J=ae(Y)).a)),ee.a!==ge.a){if(ee.b.a===ge.b.a||J.c||Y.c||ee.b.a!==X.a&&ge.b.a!==X.a)V(X,J);else if(H(X,J))break}ee.a===ge.a&&ee.b.a===ge.b.a&&(F(ge,ee),L(J),g(ee),J=ae(Y))}}function re(X,J){var Y=new Ce,ee=f(X.b);ee.a.b=4e150,ee.a.a=J,ee.b.a.b=-4e150,ee.b.a.a=J,X.a=ee.b.a,Y.a=ee,Y.f=0,Y.d=!1,Y.c=!1,Y.h=!0,Y.b=!1,ee=ce(ee=X.f,ee.a,Y),Y.e=ee}function ie(X){this.a=new se,this.b=X,this.c=j}function ce(X,J,Y){for(;(J=J.c).b!==null&&!X.c(X.b,J.b,Y););return X=new se(Y,J.a,J),J.a.c=X,J.a=X}function se(X,J,Y){this.b=X||null,this.a=J||this,this.c=Y||this}function he(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ue(X,J){if(X.d!==J)for(;X.d!==J;)if(X.d<J)switch(X.d){case 0:te(X,100151),X.u(null);break;case 1:te(X,100152),X.t()}else switch(X.d){case 2:te(X,100154),X.v();break;case 1:te(X,100153),X.w()}}function te(X,J){X.p&&X.p(J,X.c)}function pe(X,J){this.b=X||this,this.d=J||this,this.a=null,this.c=!1}function ve(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Me(){this.c=new xe,this.a=new pe,this.b=new ve,this.d=new ve,this.b.b=this.d,this.d.b=this.b}function xe(X,J){this.e=X||this,this.f=J||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function me(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new De}function _e(X,J){var Y,ee,ge;return X.e?(2*(ee=++(Y=X.b).a)>Y.f&&(Y.f*=2,Y.c=qe(Y.c,Y.f+1)),Y.b===0?ge=ee:(ge=Y.b,Y.b=Y.c[Y.b]),Y.e[ge]=J,Y.c[ge]=ee,Y.d[ee]=ge,Y.h&&Qe(Y,ee),ge):(Y=X.a++,X.c[Y]=J,-(Y+1))}function je(X){if(X.a===0)return We(X.b);var J=X.c[X.d[X.a-1]];if(X.b.a!==0&&l(Pe(X.b),J))return We(X.b);for(;--X.a,0<X.a&&X.c[X.d[X.a-1]]===null;);return J}function De(){this.d=qe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function qe(X,J){for(var Y=Array(J),ee=0;ee<X.length;ee++)Y[ee]=X[ee];for(;ee<J;ee++)Y[ee]=0;return Y}function Pe(X){return X.e[X.d[1]]}function We(X){var J=X.d,Y=X.e,ee=X.c,ge=J[1],ye=Y[ge];return 0<X.a&&(J[1]=J[X.a],ee[J[1]]=1,Y[ge]=null,ee[ge]=X.b,X.b=ge,0<--X.a&&Ze(X,1)),ye}function Ze(X,J){for(var Y=X.d,ee=X.e,ge=X.c,ye=J,Se=Y[ye];;){var Ae=ye<<1,Be=(Ae<X.a&&l(ee[Y[Ae+1]],ee[Y[Ae]])&&(Ae+=1),Y[Ae]);if(Ae>X.a||l(ee[Se],ee[Be])){ge[Y[ye]=Se]=ye;break}ge[Y[ye]=Be]=ye,ye=Ae}}function Qe(X,J){for(var Y=X.d,ee=X.e,ge=X.c,ye=J,Se=Y[ye];;){var Ae=ye>>1,Be=Y[Ae];if(Ae==0||l(ee[Be],ee[Se])){ge[Y[ye]=Se]=ye;break}ge[Y[ye]=Be]=ye,ye=Ae}}function Ce(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function oe(X){return X.e.c.b}function ae(X){return X.e.a.b}(a=he.prototype).x=function(){ue(this,0)},a.B=function(X,J){switch(X){case 100142:return;case 100140:switch(J){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=J)}break;case 100141:return void(this.m=!!J);default:return void te(this,100900)}te(this,100901)},a.y=function(X){switch(X){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:te(this,100900)}return!1},a.A=function(X,J,Y){this.j[0]=X,this.j[1]=J,this.j[2]=Y},a.z=function(X,J){var Y=J||null;switch(X){case 100100:case 100106:this.h=Y;break;case 100104:case 100110:this.l=Y;break;case 100101:case 100107:this.k=Y;break;case 100102:case 100108:this.i=Y;break;case 100103:case 100109:this.p=Y;break;case 100105:case 100111:this.o=Y;break;case 100112:this.r=Y;break;default:te(this,100900)}},a.C=function(X,J){var Y=!1,ee=[0,0,0];ue(this,2);for(var ge=0;ge<3;++ge){var ye=X[ge];ye<-1e150&&(ye=-1e150,Y=!0),1e150<ye&&(ye=1e150,Y=!0),ee[ge]=ye}Y&&te(this,100155),(Y=this.q)===null?v(Y=f(this.b),Y.b):(w(Y),Y=Y.e),Y.a.d=J,Y.a.g[0]=ee[0],Y.a.g[1]=ee[1],Y.a.g[2]=ee[2],Y.f=1,Y.b.f=-1,this.q=Y},a.u=function(X){ue(this,0),this.d=1,this.b=new Me,this.c=X},a.t=function(){ue(this,1),this.d=2,this.q=null},a.v=function(){ue(this,2),this.d=1},a.w=function(){ue(this,1),this.d=0;var X,J,Y=this.j[0],ee=this.j[1],ge=this.j[2],ye=!1,Se=[Y,ee,ge];if(Y===0&&ee===0&&ge===0){for(var ee=[-2e150,-2e150,-2e150],Ae=[2e150,2e150,2e150],ge=[],Be=[],Y=(ye=this.b.c).e;Y!==ye;Y=Y.e)for(var Ge=0;Ge<3;++Ge){var Ke=Y.g[Ge];Ke<Ae[Ge]&&(Ae[Ge]=Ke,Be[Ge]=Y),Ke>ee[Ge]&&(ee[Ge]=Ke,ge[Ge]=Y)}if(ee[1]-Ae[1]>ee[Y=0]-Ae[0]&&(Y=1),Ae[Y=ee[2]-Ae[2]>ee[Y]-Ae[Y]?2:Y]>=ee[Y])Se[0]=0,Se[1]=0,Se[2]=1;else{for(Ae=Be[Y],ge=ge[Y],Be=[ee=0,0,0],Ae=[Ae.g[0]-ge.g[0],Ae.g[1]-ge.g[1],Ae.g[2]-ge.g[2]],Ge=[0,0,0],Y=ye.e;Y!==ye;Y=Y.e)Ge[0]=Y.g[0]-ge.g[0],Ge[1]=Y.g[1]-ge.g[1],Ge[2]=Y.g[2]-ge.g[2],Be[0]=Ae[1]*Ge[2]-Ae[2]*Ge[1],Be[1]=Ae[2]*Ge[0]-Ae[0]*Ge[2],Be[2]=Ae[0]*Ge[1]-Ae[1]*Ge[0],ee<(Ke=Be[0]*Be[0]+Be[1]*Be[1]+Be[2]*Be[2])&&(ee=Ke,Se[0]=Be[0],Se[1]=Be[1],Se[2]=Be[2]);ee<=0&&(Se[0]=Se[1]=Se[2]=0,Se[I(Ae)]=1)}ye=!0}for(Be=I(Se),Y=this.b.c,ee=(Be+1)%3,ge=(Be+2)%3,Be=0<Se[Be]?1:-1,Se=Y.e;Se!==Y;Se=Se.e)Se.b=Se.g[ee],Se.a=Be*Se.g[ge];if(ye){for(Se=0,Y=(ye=this.b.a).b;Y!==ye;Y=Y.b)if(!((ee=Y.a).f<=0))for(;Se+=(ee.a.b-ee.b.a.b)*(ee.a.a+ee.b.a.a),(ee=ee.e)!==Y.a;);if(Se<0)for(ye=(Se=this.b.c).e;ye!==Se;ye=ye.e)ye.a=-ye.a}for(this.n=!1,Se=this.b.b,Y=Se.h;Y!==Se;Y=ye)ye=Y.h,ee=Y.e,u(Y.a,Y.b.a)&&Y.e.e!==Y&&(P(this,ee,Y),g(Y),ee=(Y=ee).e),ee.e===Y&&(ee!==Y&&(ee!==ye&&ee!==ye.b||(ye=ye.h),g(ee)),Y!==ye&&Y!==ye.b||(ye=ye.h),g(Y));for(this.e=Se=new me,ye=this.b.c,Y=ye.e;Y!==ye;Y=Y.e)Y.h=_e(Se,Y);var pt=Se;pt.d=[];for(var dt=0;dt<pt.a;dt++)pt.d[dt]=dt;pt.d.sort(function(gt){return function(ur,fn){return l(gt[ur],gt[fn])?1:-1}}(pt.c)),pt.e=!0;for(var lt=pt.b,mt=lt.a;1<=mt;--mt)Ze(lt,mt);for(lt.h=!0,this.f=new ie(this),re(this,-4e150),re(this,4e150);(Se=je(this.e))!==null;){for(;;){e:if((Y=this.e).a===0)ye=Pe(Y.b);else if(ye=Y.c[Y.d[Y.a-1]],Y.b.a!==0&&l(Y=Pe(Y.b),ye)){ye=Y;break e}if(ye===null||!u(ye,Se))break;ye=je(this.e),P(this,Se.c,ye.c)}(function gt(ur,fn){for(var Wr,sr=(ur.a=fn).c;sr.i===null;)if((sr=sr.c)===fn.c){var sr=ur,gr=fn;(cr=new Ce).a=gr.c.b;for(var ln=(Qt=sr.f).a;(ln=ln.a).b!==null&&!Qt.c(Qt.b,cr,ln.b););var Qt,an,Jr=oe(Qt=ln.b),cr=Qt.a,ln=Jr.a;return void(m(cr.b.a,gr,cr.a)===0?u((cr=Qt.a).a,gr)||u(cr.b.a,gr)||(w(cr.b),Qt.c&&(g(cr.c),Qt.c=!1),v(gr.c,cr),gt(sr,gr)):(an=l(ln.b.a,cr.b.a)?Qt:Jr,Jr=void 0,Qt.d||an.c?(Jr=an===Qt?b(gr.c.b,cr.e):b(ln.b.c.b,gr.c).b,an.c?B(an,Jr):((Qt=q(cr=sr,Qt,Jr)).f=ae(Qt).f+Qt.a.f,Qt.d=G(cr,Qt.f)),gt(sr,gr)):Q(sr,Qt,gr.c,gr.c,null,!0)))}Qt=(cr=oe(sr=k(sr.i))).a,(cr=W(ur,cr,null)).c===Qt?(cr=(Qt=cr).c,ln=oe(sr),Jr=sr.a,an=ln.a,Wr=!1,Jr.b.a!==an.b.a&&H(ur,sr),u(Jr.a,ur.a)&&(v(cr.b.e,Jr),cr=oe(sr=k(sr)).a,W(ur,oe(sr),ln),Wr=!0),u(an.a,ur.a)&&(v(Qt,an.b.e),Qt=W(ur,ln,null),Wr=!0),Wr?Q(ur,sr,Qt.c,cr,cr,!0):(gr=l(an.a,Jr.a)?an.b.e:Jr,Q(ur,sr,gr=b(Qt.c.b,gr),gr.c,gr.c,!1),gr.b.i.c=!0,K(ur,sr))):Q(ur,sr,cr.c,Qt,Qt,!0)})(this,Se)}for(this.a=this.f.a.a.b.a.a,Se=0;(ye=this.f.a.a.b)!==null;)ye.h||++Se,L(ye);for(this.f=null,(Se=this.e).b=null,Se.d=null,this.e=Se.c=null,Se=this.b,Y=Se.a.b;Y!==Se.a;Y=ye)ye=Y.b,(Y=Y.a).e.e===Y&&(F(Y.c,Y),g(Y));if(!this.n){if(Se=this.b,this.m)for(Y=Se.b.h;Y!==Se.b;Y=ye)ye=Y.h,Y.b.d.c!==Y.d.c?Y.f=Y.d.c?1:-1:g(Y);else for(Y=Se.a.b;Y!==Se.a;Y=ye)if(ye=Y.b,Y.c){for(Y=Y.a;l(Y.b.a,Y.a);Y=Y.c.b);for(;l(Y.a,Y.b.a);Y=Y.e);for(ee=Y.c.b,ge=void 0;Y.e!==ee;)if(l(Y.b.a,ee.a)){for(;ee.e!==Y&&(l((J=ee.e).b.a,J.a)||m(ee.a,ee.b.a,ee.e.b.a)<=0);)ee=(ge=b(ee.e,ee)).b;ee=ee.c.b}else{for(;ee.e!==Y&&(l((X=Y.c.b).a,X.b.a)||0<=m(Y.b.a,Y.a,Y.c.b.a));)Y=(ge=b(Y,Y.c.b)).b;Y=Y.e}for(;ee.e.e!==Y;)ge=b(ee.e,ee),ee=ge.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ye=(Se=this.b).a.b;ye!==Se.a;ye=ye.b)if(ye.c){for(this.h&&this.h(2,this.c),Y=ye.a;this.k&&this.k(Y.a.d,this.c),(Y=Y.e)!==ye.a;);this.i&&this.i(this.c)}}else{for(Se=this.b,ye=!!this.l,Y=!1,ee=-1,ge=Se.a.d;ge!==Se.a;ge=ge.d)if(ge.c)for(Y||(this.h&&this.h(4,this.c),Y=!0),Be=ge.a;ye&&(Ae=Be.b.d.c?0:1,ee!==Ae&&(ee=Ae,this.l&&this.l(!!ee,this.c))),this.k&&this.k(Be.a.d,this.c),(Be=Be.e)!==ge.a;);Y&&this.i&&this.i(this.c)}if(this.r){for(Se=this.b,Y=Se.a.b;Y!==Se.a;Y=ye)if(ye=Y.b,!Y.c){for(ge=(ee=Y.a).e,Be=void 0;ge=(Be=ge).e,(Be.d=null)===Be.b.d&&(Be.c===Be?S(Be.a,null):(Be.a.c=Be.c,D(Be,Be.b.e)),(Ae=Be.b).c===Ae?S(Ae.a,null):(Ae.a.c=Ae.c,D(Ae,Ae.b.e)),E(Be)),Be!==ee;);ee=Y.d,((Y=Y.b).d=ee).b=Y}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:he,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},he.prototype.gluDeleteTess=he.prototype.x,he.prototype.gluTessProperty=he.prototype.B,he.prototype.gluGetTessProperty=he.prototype.y,he.prototype.gluTessNormal=he.prototype.A,he.prototype.gluTessCallback=he.prototype.z,he.prototype.gluTessVertex=he.prototype.C,he.prototype.gluTessBeginPolygon=he.prototype.u,he.prototype.gluTessBeginContour=he.prototype.t,he.prototype.gluTessEndContour=he.prototype.v,he.prototype.gluTessEndPolygon=he.prototype.w,i!==void 0&&(i.exports=this.libtess)},{}],256:[function(t,i,s){"use strict";function a(l,c,m,y){var d=0,h=(y=y===void 0?{}:y).loop===void 0?null:y.loop,p=y.palette===void 0?null:y.palette;if(c<=0||m<=0||65535<c||65535<m)throw new Error("Width/Height invalid.");function f(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}l[d++]=71,l[d++]=73,l[d++]=70,l[d++]=56,l[d++]=57,l[d++]=97;var v=0,g=0;if(p!==null){for(var w=f(p);w>>=1;)++v;if(w=1<<v,--v,y.background!==void 0){if(w<=(g=y.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(l[d++]=255&c,l[d++]=c>>8&255,l[d++]=255&m,l[d++]=m>>8&255,l[d++]=(p!==null?128:0)|v,l[d++]=g,l[d++]=0,p!==null)for(var b=0,_=p.length;b<_;++b){var D=p[b];l[d++]=D>>16&255,l[d++]=D>>8&255,l[d++]=255&D}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");l[d++]=33,l[d++]=255,l[d++]=11,l[d++]=78,l[d++]=69,l[d++]=84,l[d++]=83,l[d++]=67,l[d++]=65,l[d++]=80,l[d++]=69,l[d++]=50,l[d++]=46,l[d++]=48,l[d++]=3,l[d++]=1,l[d++]=255&h,l[d++]=h>>8&255,l[d++]=0}var C=!1;this.addFrame=function(M,E,S,O,I,F){if(C===!0&&(--d,C=!1),F=F===void 0?{}:F,M<0||E<0||65535<M||65535<E)throw new Error("x/y invalid.");if(S<=0||O<=0||65535<S||65535<O)throw new Error("Width/Height invalid.");if(I.length<S*O)throw new Error("Not enough pixels for the frame size.");var j=!0,L=F.palette;if(L==null&&(j=!1,L=p),L==null)throw new Error("Must supply either a local or global palette.");for(var k=f(L),B=0;k>>=1;)++B;var k=1<<B,q=F.delay===void 0?0:F.delay,G=F.disposal===void 0?0:F.disposal;if(G<0||3<G)throw new Error("Disposal out of range.");var U=!1,W=0;if(F.transparent!==void 0&&F.transparent!==null&&(U=!0,(W=F.transparent)<0||k<=W))throw new Error("Transparent color index.");if(G===0&&!U&&q===0||(l[d++]=33,l[d++]=249,l[d++]=4,l[d++]=G<<2|(U===!0?1:0),l[d++]=255&q,l[d++]=q>>8&255,l[d++]=W,l[d++]=0),l[d++]=44,l[d++]=255&M,l[d++]=M>>8&255,l[d++]=255&E,l[d++]=E>>8&255,l[d++]=255&S,l[d++]=S>>8&255,l[d++]=255&O,l[d++]=O>>8&255,l[d++]=j===!0?128|B-1:0,j===!0)for(var Q=0,le=L.length;Q<le;++Q){var P=L[Q];l[d++]=P>>16&255,l[d++]=P>>8&255,l[d++]=255&P}return d=function(T,V,H,K){T[V++]=H;var re=V++,ie=1<<H,ce=ie-1,se=1+ie,he=1+se,ue=H+1,te=0,pe=0;function ve(We){for(;We<=te;)T[V++]=255&pe,pe>>=8,te-=8,V===re+256&&(T[re]=255,re=V++)}function Me(We){pe|=We<<te,te+=ue,ve(8)}var xe=K[0]&ce,me={};Me(ie);for(var _e=1,je=K.length;_e<je;++_e){var De=K[_e]&ce,qe=xe<<8|De,Pe=me[qe];if(Pe===void 0){for(pe|=xe<<te,te+=ue;8<=te;)T[V++]=255&pe,pe>>=8,te-=8,V===re+256&&(T[re]=255,re=V++);he===4096?(Me(ie),he=1+se,ue=H+1,me={}):(1<<ue<=he&&++ue,me[qe]=he++),xe=De}else xe=Pe}return Me(xe),Me(se),ve(1),re+1===V?T[re]=0:(T[re]=V-re-1,T[V++]=0),V}(l,d,B<2?2:B,I)},this.end=function(){return C===!1&&(l[d++]=59,C=!0),d},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(M){l=M},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(M){d=M}}function u(l,c,m,y){for(var d=l[c++],h=1<<d,p=1+h,f=1+p,v=d+1,g=(1<<v)-1,w=0,b=0,_=0,D=l[c++],C=new Int32Array(4096),M=null;;){for(;w<16&&D!==0;)b|=l[c++]<<w,w+=8,D===1?D=l[c++]:--D;if(w<v)break;var E=b&g;if(b>>=v,w-=v,E==h)f=1+p,g=(1<<(v=d+1))-1,M=null;else{if(E==p)break;for(var S=E<f?E:M,O=0,I=S;h<I;)I=C[I]>>8,++O;var F=I;if(y<_+O+(S!==E?1:0))return void console.log("Warning, gif stream longer than expected.");m[_++]=F;var j=_+=O;for(S!==E&&(m[_++]=F),I=S;O--;)I=C[I],m[--j]=255&I,I>>=8;M!==null&&f<4096&&(C[f++]=M<<8|F,g+1<=f&&v<12&&(++v,g=g<<1|1)),M=E}}_!==y&&console.log("Warning, gif stream shorter than expected.")}try{s.GifWriter=a,s.GifReader=function(l){var c=0;if(l[c++]!==71||l[c++]!==73||l[c++]!==70||l[c++]!==56||(l[c++]+1&253)!=56||l[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=l[c++]|l[c++]<<8,y=l[c++]|l[c++]<<8,d=l[c++],h=1<<1+(7&d),p=(l[c++],l[c++],null),f=null,v=(d>>7&&(p=c,c+=3*(f=h)),!0),g=[],w=0,b=null,_=0,D=null;for(this.width=m,this.height=y;v&&c<l.length;)switch(l[c++]){case 33:switch(l[c++]){case 255:if(l[c]!==11||l[c+1]==78&&l[c+2]==69&&l[c+3]==84&&l[c+4]==83&&l[c+5]==67&&l[c+6]==65&&l[c+7]==80&&l[c+8]==69&&l[c+9]==50&&l[c+10]==46&&l[c+11]==48&&l[c+12]==3&&l[c+13]==1&&l[c+16]==0)c+=14,D=l[c++]|l[c++]<<8,c++;else for(c+=12;;){if(!(0<=(M=l[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}break;case 249:if(l[c++]!==4||l[c+4]!==0)throw new Error("Invalid graphics extension block.");var C=l[c++],w=l[c++]|l[c++]<<8,b=l[c++];!(1&C)&&(b=null),_=C>>2&7,c++;break;case 254:for(;;){if(!(0<=(M=l[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}break;default:throw new Error("Unknown graphic control label: 0x"+l[c-1].toString(16))}break;case 44:var M,E=l[c++]|l[c++]<<8,S=l[c++]|l[c++]<<8,O=l[c++]|l[c++]<<8,I=l[c++]|l[c++]<<8,q=l[c++],F=q>>6&1,j=1<<1+(7&q),L=p,B=f,k=!1,q=(q>>7&&(k=!0,L=c,c+=3*(B=j)),c);for(c++;;){if(!(0<=(M=l[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}g.push({x:E,y:S,width:O,height:I,has_local_palette:k,palette_offset:L,palette_size:B,data_offset:q,data_length:c-q,transparent_index:b,interlaced:!!F,delay:w,disposal:_});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+l[c-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return D},this.frameInfo=function(G){if(G<0||G>=g.length)throw new Error("Frame index out of range.");return g[G]},this.decodeAndBlitFrameBGRA=function(G,U){for(var G=this.frameInfo(G),W=G.width*G.height,Q=new Uint8Array(W),le=(u(l,G.data_offset,Q,W),G.palette_offset),P=G.transparent_index,T=(P===null&&(P=256),G.width),V=m-T,H=T,K=4*(G.y*m+G.x),re=4*((G.y+G.height)*m+G.x),ie=K,ce=4*V,se=(G.interlaced===!0&&(ce+=4*m*7),8),he=0,ue=Q.length;he<ue;++he){var te,pe,ve=Q[he];H===0&&(H=T,re<=(ie+=ce)&&(ce=4*V+4*m*(se-1),ie=K+(T+V)*(se<<1),se>>=1)),ve===P?ie+=4:(te=l[le+3*ve],pe=l[le+3*ve+1],ve=l[le+3*ve+2],U[ie++]=ve,U[ie++]=pe,U[ie++]=te,U[ie++]=255),--H}},this.decodeAndBlitFrameRGBA=function(G,U){for(var G=this.frameInfo(G),W=G.width*G.height,Q=new Uint8Array(W),le=(u(l,G.data_offset,Q,W),G.palette_offset),P=G.transparent_index,T=(P===null&&(P=256),G.width),V=m-T,H=T,K=4*(G.y*m+G.x),re=4*((G.y+G.height)*m+G.x),ie=K,ce=4*V,se=(G.interlaced===!0&&(ce+=4*m*7),8),he=0,ue=Q.length;he<ue;++he){var te,pe,ve=Q[he];H===0&&(H=T,re<=(ie+=ce)&&(ce=4*V+4*m*(se-1),ie=K+(T+V)*(se<<1),se>>=1)),ve===P?ie+=4:(te=l[le+3*ve],pe=l[le+3*ve+1],ve=l[le+3*ve+2],U[ie++]=te,U[ie++]=pe,U[ie++]=ve,U[ie++]=255),--H}}}}catch{}},{}],257:[function(t,i,s){(function(a){var u,l;u=this,l=function(c){"use strict";function m(z){if(this==null)throw TypeError();var A,N=String(this),R=N.length,z=z?Number(z):0;if(!((z=z!=z?0:z)<0||R<=z))return 55296<=(A=N.charCodeAt(z))&&A<=56319&&z+1<R&&56320<=(R=N.charCodeAt(z+1))&&R<=57343?1024*(A-55296)+R-56320+65536:A}String.prototype.codePointAt||((y=function(){try{var x={},A=Object.defineProperty,N=A(x,x,x)&&A}catch{}return N}())?y(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var y,d=0,h=-3;function p(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(x,A){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=A,this.destLen=0,this.ltree=new p,this.dtree=new p}var v=new p,g=new p,w=new Uint8Array(30),b=new Uint16Array(30),_=new Uint8Array(30),D=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new p,E=new Uint8Array(320);function S(x,A,N,R){for(var z,$=0;$<N;++$)x[$]=0;for($=0;$<30-N;++$)x[$+N]=$/N|0;for(z=R,$=0;$<30;++$)A[$]=z,z+=1<<x[$]}var O=new Uint16Array(16);function I(x,A,N,R){for(var z,$=0;$<16;++$)x.table[$]=0;for($=0;$<R;++$)x.table[A[N+$]]++;for($=z=x.table[0]=0;$<16;++$)O[$]=z,z+=x.table[$];for($=0;$<R;++$)A[N+$]&&(x.trans[O[A[N+$]]++]=$)}function F(x,A,N){if(!A)return N;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var R=x.tag&65535>>>16-A;return x.tag>>>=A,x.bitcount-=A,R+N}function j(x,A){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var N=0,R=0,z=0,$=x.tag;R=2*R+(1&$),$>>>=1,N+=A.table[++z],0<=(R-=A.table[z]););return x.tag=$,x.bitcount-=z,A.trans[N+R]}function L(x,A,N){for(;;){var R=j(x,A);if(R===256)return d;if(R<256)x.dest[x.destLen++]=R;else for(var z,$=F(x,w[R-=257],b[R]),R=j(x,N),Z=z=x.destLen-F(x,_[R],D[R]);Z<z+$;++Z)x.dest[x.destLen++]=x.dest[Z]}}for(var B=v,k=g,q=0;q<7;++q)B.table[q]=0;for(B.table[7]=24,B.table[8]=152,B.table[9]=112,q=0;q<24;++q)B.trans[q]=256+q;for(q=0;q<144;++q)B.trans[24+q]=q;for(q=0;q<8;++q)B.trans[168+q]=280+q;for(q=0;q<112;++q)B.trans[176+q]=144+q;for(q=0;q<5;++q)k.table[q]=0;for(k.table[5]=32,q=0;q<32;++q)k.trans[q]=q;S(w,b,4,3),S(_,D,2,1),w[28]=0,b[28]=258;var G=function(x,A){var N,R,z,$=new f(x,A);do{switch(z=void 0,(R=$).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),z=1&R.tag,R.tag>>>=1,R=z,F($,2,0)){case 0:N=function(Oe){for(var yt,Mt;8<Oe.bitcount;)Oe.sourceIndex--,Oe.bitcount-=8;if((yt=256*Oe.source[Oe.sourceIndex+1]+Oe.source[Oe.sourceIndex])!==(65535&~(256*Oe.source[Oe.sourceIndex+3]+Oe.source[Oe.sourceIndex+2])))return h;for(Oe.sourceIndex+=4,Mt=yt;Mt;--Mt)Oe.dest[Oe.destLen++]=Oe.source[Oe.sourceIndex++];return Oe.bitcount=0,d}($);break;case 1:N=L($,v,g);break;case 2:Re=Fe=Ve=Ne=Z=be=Te=Ie=Ee=de=fe=ne=void 0;for(var Z,ne=$,fe=$.ltree,de=$.dtree,Ee=F(ne,5,257),Ie=F(ne,5,1),Te=F(ne,4,4),be=0;be<19;++be)E[be]=0;for(be=0;be<Te;++be){var Ve=F(ne,3,0);E[C[be]]=Ve}for(I(M,E,0,19),Z=0;Z<Ee+Ie;){var Fe=j(ne,M);switch(Fe){case 16:for(var Re=E[Z-1],Ne=F(ne,2,3);Ne;--Ne)E[Z++]=Re;break;case 17:for(Ne=F(ne,3,3);Ne;--Ne)E[Z++]=0;break;case 18:for(Ne=F(ne,7,11);Ne;--Ne)E[Z++]=0;break;default:E[Z++]=Fe}}I(fe,E,0,Ee),I(de,E,Ee,Ie),N=L($,$.ltree,$.dtree);break;default:N=h}if(N!==d)throw new Error("Data error")}while(!R);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function U(x,A,N,R,z){return Math.pow(1-z,3)*x+3*Math.pow(1-z,2)*z*A+3*(1-z)*Math.pow(z,2)*N+Math.pow(z,3)*R}function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function le(x){throw new Error(x)}function P(x,A){x||le(A)}W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(x,A){typeof x=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof A=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=A,this.y2=A),A<this.y1&&(this.y1=A),A>this.y2&&(this.y2=A))},W.prototype.addX=function(x){this.addPoint(x,null)},W.prototype.addY=function(x){this.addPoint(null,x)},W.prototype.addBezier=function(x,A,N,R,z,$,Z,ne){var fe=[x,A],de=[N,R],Ee=[z,$],Ie=[Z,ne];this.addPoint(x,A),this.addPoint(Z,ne);for(var Te=0;Te<=1;Te++){var be,Ve=6*fe[Te]-12*de[Te]+6*Ee[Te],Fe=-3*fe[Te]+9*de[Te]-9*Ee[Te]+3*Ie[Te],Re=3*de[Te]-3*fe[Te];Fe==0?Ve==0||0<(be=-Re/Ve)&&be<1&&(Te===0&&this.addX(U(fe[Te],de[Te],Ee[Te],Ie[Te],be)),Te===1&&this.addY(U(fe[Te],de[Te],Ee[Te],Ie[Te],be))):(be=Math.pow(Ve,2)-4*Re*Fe)<0||(0<(Re=(-Ve+Math.sqrt(be))/(2*Fe))&&Re<1&&(Te===0&&this.addX(U(fe[Te],de[Te],Ee[Te],Ie[Te],Re)),Te===1&&this.addY(U(fe[Te],de[Te],Ee[Te],Ie[Te],Re))),0<(Re=(-Ve-Math.sqrt(be))/(2*Fe))&&Re<1&&(Te===0&&this.addX(U(fe[Te],de[Te],Ee[Te],Ie[Te],Re)),Te===1&&this.addY(U(fe[Te],de[Te],Ee[Te],Ie[Te],Re))))}},W.prototype.addQuad=function(x,A,N,R,z,$){N=x+2/3*(N-x),R=A+2/3*(R-A),this.addBezier(x,A,N,R,N+1/3*(z-x),R+1/3*($-A),z,$)},Q.prototype.moveTo=function(x,A){this.commands.push({type:"M",x,y:A})},Q.prototype.lineTo=function(x,A){this.commands.push({type:"L",x,y:A})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(x,A,N,R,z,$){this.commands.push({type:"C",x1:x,y1:A,x2:N,y2:R,x:z,y:$})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(x,A,N,R){this.commands.push({type:"Q",x1:x,y1:A,x:N,y:R})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(x){var A;if(x.commands)x=x.commands;else if(x instanceof W)return A=x,this.moveTo(A.x1,A.y1),this.lineTo(A.x2,A.y1),this.lineTo(A.x2,A.y2),this.lineTo(A.x1,A.y2),void this.close();Array.prototype.push.apply(this.commands,x)},Q.prototype.getBoundingBox=function(){for(var x=new W,A=0,N=0,R=0,z=0,$=0;$<this.commands.length;$++){var Z=this.commands[$];switch(Z.type){case"M":x.addPoint(Z.x,Z.y),A=R=Z.x,N=z=Z.y;break;case"L":x.addPoint(Z.x,Z.y),R=Z.x,z=Z.y;break;case"Q":x.addQuad(R,z,Z.x1,Z.y1,Z.x,Z.y),R=Z.x,z=Z.y;break;case"C":x.addBezier(R,z,Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y),R=Z.x,z=Z.y;break;case"Z":R=A,z=N;break;default:throw new Error("Unexpected path command "+Z.type)}}return x.isEmpty()&&x.addPoint(0,0),x},Q.prototype.draw=function(x){x.beginPath();for(var A=0;A<this.commands.length;A+=1){var N=this.commands[A];N.type==="M"?x.moveTo(N.x,N.y):N.type==="L"?x.lineTo(N.x,N.y):N.type==="C"?x.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?x.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},Q.prototype.toPathData=function(x){function A(){for(var $=arguments,Z="",ne=0;ne<arguments.length;ne+=1){var fe=$[ne];0<=fe&&0<ne&&(Z+=" "),Z+=(fe=fe,Math.round(fe)===fe?""+Math.round(fe):fe.toFixed(x))}return Z}x=x!==void 0?x:2;for(var N="",R=0;R<this.commands.length;R+=1){var z=this.commands[R];z.type==="M"?N+="M"+A(z.x,z.y):z.type==="L"?N+="L"+A(z.x,z.y):z.type==="C"?N+="C"+A(z.x1,z.y1,z.x2,z.y2,z.x,z.y):z.type==="Q"?N+="Q"+A(z.x1,z.y1,z.x,z.y):z.type==="Z"&&(N+="Z")}return N},Q.prototype.toSVG=function(x){var A=(A='<path d="')+this.toPathData(x)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?A+=' fill="none"':A+=' fill="'+this.fill+'"'),this.stroke&&(A+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),A+="/>"},Q.prototype.toDOMElement=function(A){var A=this.toPathData(A),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",A),N};var T={fail:le,argument:P,assert:P},V={},H={},K={};function re(x){return function(){return x}}H.BYTE=function(x){return T.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},K.BYTE=re(1),H.CHAR=function(x){return[x.charCodeAt(0)]},K.CHAR=re(1),H.CHARARRAY=function(x){for(var A=[],N=0;N<x.length;N+=1)A[N]=x.charCodeAt(N);return A},K.CHARARRAY=function(x){return x.length},H.USHORT=function(x){return[x>>8&255,255&x]},K.USHORT=re(2),H.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},K.SHORT=re(2),H.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},K.UINT24=re(3),H.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},K.ULONG=re(4),H.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},K.LONG=re(4),H.FIXED=H.ULONG,K.FIXED=K.ULONG,H.FWORD=H.SHORT,K.FWORD=K.SHORT,H.UFWORD=H.USHORT,K.UFWORD=K.USHORT,H.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},K.LONGDATETIME=re(8),H.TAG=function(x){return T.argument(x.length===4,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},K.TAG=re(4),H.Card8=H.BYTE,K.Card8=K.BYTE,H.Card16=H.USHORT,K.Card16=K.USHORT,H.OffSize=H.BYTE,K.OffSize=K.BYTE,H.SID=H.USHORT,K.SID=K.USHORT,H.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?H.NUMBER16(x):H.NUMBER32(x)},K.NUMBER=function(x){return H.NUMBER(x).length},H.NUMBER16=function(x){return[28,x>>8&255,255&x]},K.NUMBER16=re(3),H.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},K.NUMBER32=re(5),H.REAL=function(x){for(var A=x.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(A),R=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),A=(Math.round(x*N)/N).toString()),""),z=0,$=A.length;z<$;z+=1){var Z=A[z];R+=Z==="e"?A[++z]==="-"?"c":"b":Z==="."?"a":Z==="-"?"e":Z}for(var ne=[30],fe=0,de=(R+=1&R.length?"f":"ff").length;fe<de;fe+=2)ne.push(parseInt(R.substr(fe,2),16));return ne},K.REAL=function(x){return H.REAL(x).length},H.NAME=H.CHARARRAY,K.NAME=K.CHARARRAY,H.STRING=H.CHARARRAY,K.STRING=K.CHARARRAY,V.UTF8=function(x,A,N){for(var R=[],z=N,$=0;$<z;$++,A+=1)R[$]=x.getUint8(A);return String.fromCharCode.apply(null,R)},V.UTF16=function(x,A,N){for(var R=[],z=N/2,$=0;$<z;$++,A+=2)R[$]=x.getUint16(A);return String.fromCharCode.apply(null,R)},H.UTF16=function(x){for(var A=[],N=0;N<x.length;N+=1){var R=x.charCodeAt(N);A[A.length]=R>>8&255,A[A.length]=255&R}return A},K.UTF16=function(x){return 2*x.length};var ie,ce={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},se=(V.MACSTRING=function(x,A,N,R){var z=ce[R];if(z!==void 0){for(var $="",Z=0;Z<N;Z++){var ne=x.getUint8(A+Z);$+=ne<=127?String.fromCharCode(ne):z[127&ne]}return $}},typeof WeakMap=="function"&&new WeakMap);function he(x){return-128<=x&&x<=127}H.MACSTRING=function(x,A){var N=function(Z){if(!ie)for(var ne in ie={},ce)ie[ne]=new String(ne);var fe=ie[Z];if(fe!==void 0){if(se){var de=se.get(fe);if(de!==void 0)return de}var Ee=ce[Z];if(Ee!==void 0){for(var Ie={},Te=0;Te<Ee.length;Te++)Ie[Ee.charCodeAt(Te)]=Te+128;return se&&se.set(fe,Ie),Ie}}}(A);if(N!==void 0){for(var R=[],z=0;z<x.length;z++){var $=x.charCodeAt(z);if(128<=$&&($=N[$])===void 0)return;R[z]=$}return R}},K.MACSTRING=function(x,A){return x=H.MACSTRING(x,A),x!==void 0?x.length:0},H.VARDELTAS=function(x){for(var R=0,A=[];R<x.length;)var N=x[R],R=(N===0?function(z,$,Z){for(var ne=0,fe=z.length;$<fe&&ne<64&&z[$]===0;)++$,++ne;return Z.push(128|ne-1),$}:-128<=N&&N<=127?function(z,$,Z){for(var ne=0,fe=z.length,de=$;de<fe&&ne<64;){var Ee=z[de];if(!he(Ee)||Ee===0&&de+1<fe&&z[de+1]===0)break;++de,++ne}Z.push(ne-1);for(var Ie=$;Ie<de;++Ie)Z.push(z[Ie]+256&255);return de}:function(z,$,Z){for(var ne=0,fe=z.length,de=$;de<fe&&ne<64;){var Ee=z[de];if(Ee===0||he(Ee)&&de+1<fe&&he(z[de+1]))break;++de,++ne}Z.push(64|ne-1);for(var Ie=$;Ie<de;++Ie){var Te=z[Ie];Z.push(Te+65536>>8&255,Te+256&255)}return de})(x,R,A);return A},H.INDEX=function(x){for(var A=1,N=[A],R=[],z=0;z<x.length;z+=1){var $=H.OBJECT(x[z]);Array.prototype.push.apply(R,$),A+=$.length,N.push(A)}if(R.length===0)return[0,0];for(var Z=[],ne=1+Math.floor(Math.log(A)/Math.log(2))/8|0,fe=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][ne],de=0;de<N.length;de+=1){var Ee=fe(N[de]);Array.prototype.push.apply(Z,Ee)}return Array.prototype.concat(H.Card16(x.length),H.OffSize(ne),Z,R)},K.INDEX=function(x){return H.INDEX(x).length},H.DICT=function(x){for(var A=[],N=Object.keys(x),R=N.length,z=0;z<R;z+=1){var $=parseInt(N[z],0),Z=x[$];A=(A=A.concat(H.OPERAND(Z.value,Z.type))).concat(H.OPERATOR($))}return A},K.DICT=function(x){return H.DICT(x).length},H.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},H.OPERAND=function(x,A){var N=[];if(Array.isArray(A))for(var R=0;R<A.length;R+=1)T.argument(x.length===A.length,"Not enough arguments given for type"+A),N=N.concat(H.OPERAND(x[R],A[R]));else if(A==="SID")N=N.concat(H.NUMBER(x));else if(A==="offset")N=N.concat(H.NUMBER32(x));else if(A==="number")N=N.concat(H.NUMBER(x));else{if(A!=="real")throw new Error("Unknown operand type "+A);N=N.concat(H.REAL(x))}return N},H.OP=H.BYTE,K.OP=K.BYTE;var ue=typeof WeakMap=="function"&&new WeakMap;function te(x,A,N){for(var R=0;R<A.length;R+=1){var z=A[R];this[z.name]=z.value}if(this.tableName=x,this.fields=A,N)for(var $=Object.keys(N),Z=0;Z<$.length;Z+=1){var ne=$[Z],fe=N[ne];this[ne]!==void 0&&(this[ne]=fe)}}function pe(x,A,N){N===void 0&&(N=A.length);var R=new Array(A.length+1);R[0]={name:x+"Count",type:"USHORT",value:N};for(var z=0;z<A.length;z++)R[z+1]={name:x+z,type:"USHORT",value:A[z]};return R}function ve(x,A,N){var R=A.length,z=new Array(R+1);z[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)z[$+1]={name:x+$,type:"TABLE",value:N(A[$],$)};return z}function Me(x,A,N){var R=A.length,z=[];z[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)z=z.concat(N(A[$],$));return z}function xe(x){x.format===1?te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pe("glyph",x.glyphs))):T.assert(!1,"Can't create coverage table format 2 yet.")}function me(x){te.call(this,"scriptListTable",Me("scriptRecord",x,function(A,N){var R=A.script,z=R.defaultLangSys;return T.assert(!!z,"Unable to write GSUB: script "+A.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:A.tag},{name:"script"+N,type:"TABLE",value:new te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:z.reqFeatureIndex}].concat(pe("featureIndex",z.featureIndexes)))}].concat(Me("langSys",R.langSysRecords,function($,Z){var ne=$.langSys;return[{name:"langSysTag"+Z,type:"TAG",value:$.tag},{name:"langSys"+Z,type:"TABLE",value:new te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ne.reqFeatureIndex}].concat(pe("featureIndex",ne.featureIndexes)))}]})))}]}))}function _e(x){te.call(this,"featureListTable",Me("featureRecord",x,function(A,N){var R=A.feature;return[{name:"featureTag"+N,type:"TAG",value:A.tag},{name:"feature"+N,type:"TABLE",value:new te("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(pe("lookupListIndex",R.lookupListIndexes)))}]}))}function je(x,A){te.call(this,"lookupListTable",ve("lookup",x,function(N){var R=A[N.lookupType];return T.assert(!!R,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new te("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(ve("subtable",N.subtables,R)))}))}H.CHARSTRING=function(x){if(ue){var A=ue.get(x);if(A!==void 0)return A}for(var $=[],N=x.length,R=0;R<N;R+=1)var z=x[R],$=$.concat(H[z.type](z.value));return ue&&ue.set(x,$),$},K.CHARSTRING=function(x){return H.CHARSTRING(x).length},H.OBJECT=function(x){var A=H[x.type];return T.argument(A!==void 0,"No encoding function for type "+x.type),A(x.value)},K.OBJECT=function(x){var A=K[x.type];return T.argument(A!==void 0,"No sizeOf function for type "+x.type),A(x.value)},H.TABLE=function(x){for(var A=[],N=x.fields.length,R=[],z=[],$=0;$<N;$+=1){var Z=x.fields[$],fe=H[Z.type],ne=(T.argument(fe!==void 0,"No encoding function for field type "+Z.type+" ("+Z.name+")"),x[Z.name]),fe=fe(ne=ne===void 0?Z.value:ne);Z.type==="TABLE"?(z.push(A.length),A=A.concat([0,0]),R.push(fe)):A=A.concat(fe)}for(var de=0;de<R.length;de+=1){var Ee=z[de],Ie=A.length;T.argument(Ie<65536,"Table "+x.tableName+" too big."),A[Ee]=Ie>>8,A[Ee+1]=255&Ie,A=A.concat(R[de])}return A},K.TABLE=function(x){for(var A=0,N=x.fields.length,R=0;R<N;R+=1){var z=x.fields[R],$=K[z.type],Z=(T.argument($!==void 0,"No sizeOf function for field type "+z.type+" ("+z.name+")"),x[z.name]);A+=$(Z=Z===void 0?z.value:Z),z.type==="TABLE"&&(A+=2)}return A},H.RECORD=H.TABLE,K.RECORD=K.TABLE,H.LITERAL=function(x){return x},K.LITERAL=function(x){return x.length},te.prototype.encode=function(){return H.TABLE(this)},te.prototype.sizeOf=function(){return K.TABLE(this)};var De={Table:te,Record:te,Coverage:(xe.prototype=Object.create(te.prototype)).constructor=xe,ScriptList:(me.prototype=Object.create(te.prototype)).constructor=me,FeatureList:(_e.prototype=Object.create(te.prototype)).constructor=_e,LookupList:(je.prototype=Object.create(te.prototype)).constructor=je,ushortList:pe,tableList:ve,recordList:Me};function qe(x,A){return x.getUint8(A)}function Pe(x,A){return x.getUint16(A,!1)}function We(x,A){return x.getUint32(A,!1)}function Ze(x,A){return x.getInt16(A,!1)+x.getUint16(A+2,!1)/65535}var Qe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ce(x,A){this.data=x,this.offset=A,this.relativeOffset=0}Ce.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ce.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ce.prototype.parseCard8=Ce.prototype.parseByte,Ce.prototype.parseCard16=Ce.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ce.prototype.parseSID=Ce.prototype.parseUShort,Ce.prototype.parseOffset16=Ce.prototype.parseUShort,Ce.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ce.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},Ce.prototype.parseOffset32=Ce.prototype.parseULong=function(){var x=We(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ce.prototype.parseFixed=function(){var x=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ce.prototype.parseString=function(x){var A=this.data,N=this.offset+this.relativeOffset,R="";this.relativeOffset+=x;for(var z=0;z<x;z++)R+=String.fromCharCode(A.getUint8(N+z));return R},Ce.prototype.parseTag=function(){return this.parseString(4)},Ce.prototype.parseLongDateTime=function(){var x=We(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},Ce.prototype.parseVersion=function(x){var A=Pe(this.data,this.offset+this.relativeOffset),N=Pe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,A+N/(x=x===void 0?4096:x)/10},Ce.prototype.skip=function(x,A){this.relativeOffset+=Qe[x]*(A=A===void 0?1:A)},Ce.prototype.parseULongList=function(x){x===void 0&&(x=this.parseULong());for(var A=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)A[z]=N.getUint32(R),R+=4;return this.relativeOffset+=4*x,A},Ce.prototype.parseOffset16List=Ce.prototype.parseUShortList=function(x){x===void 0&&(x=this.parseUShort());for(var A=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)A[z]=N.getUint16(R),R+=2;return this.relativeOffset+=2*x,A},Ce.prototype.parseShortList=function(x){for(var A=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)A[z]=N.getInt16(R),R+=2;return this.relativeOffset+=2*x,A},Ce.prototype.parseByteList=function(x){for(var A=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)A[z]=N.getUint8(R++);return this.relativeOffset+=x,A},Ce.prototype.parseList=function(x,A){A||(A=x,x=this.parseUShort());for(var N=new Array(x),R=0;R<x;R++)N[R]=A.call(this);return N},Ce.prototype.parseList32=function(x,A){A||(A=x,x=this.parseULong());for(var N=new Array(x),R=0;R<x;R++)N[R]=A.call(this);return N},Ce.prototype.parseRecordList=function(x,A){A||(A=x,x=this.parseUShort());for(var N=new Array(x),R=Object.keys(A),z=0;z<x;z++){for(var $={},Z=0;Z<R.length;Z++){var ne=R[Z],fe=A[ne];$[ne]=fe.call(this)}N[z]=$}return N},Ce.prototype.parseRecordList32=function(x,A){A||(A=x,x=this.parseULong());for(var N=new Array(x),R=Object.keys(A),z=0;z<x;z++){for(var $={},Z=0;Z<R.length;Z++){var ne=R[Z],fe=A[ne];$[ne]=fe.call(this)}N[z]=$}return N},Ce.prototype.parseStruct=function(x){if(typeof x=="function")return x.call(this);for(var A=Object.keys(x),N={},R=0;R<A.length;R++){var z=A[R],$=x[z];N[z]=$.call(this)}return N},Ce.prototype.parseValueRecord=function(x){var A;if((x=x===void 0?this.parseUShort():x)!==0)return A={},1&x&&(A.xPlacement=this.parseShort()),2&x&&(A.yPlacement=this.parseShort()),4&x&&(A.xAdvance=this.parseShort()),8&x&&(A.yAdvance=this.parseShort()),16&x&&(A.xPlaDevice=void 0,this.parseShort()),32&x&&(A.yPlaDevice=void 0,this.parseShort()),64&x&&(A.xAdvDevice=void 0,this.parseShort()),128&x&&(A.yAdvDevice=void 0,this.parseShort()),A},Ce.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),A=this.parseUShort(),N=new Array(A),R=0;R<A;R++)N[R]=this.parseValueRecord(x);return N},Ce.prototype.parsePointer=function(x){var A=this.parseOffset16();if(0<A)return new Ce(this.data,this.offset+A).parseStruct(x)},Ce.prototype.parsePointer32=function(x){var A=this.parseOffset32();if(0<A)return new Ce(this.data,this.offset+A).parseStruct(x)},Ce.prototype.parseListOfLists=function(x){for(var A=this.parseOffset16List(),N=A.length,R=this.relativeOffset,z=new Array(N),$=0;$<N;$++){var Z=A[$];if(Z===0)z[$]=void 0;else if(this.relativeOffset=Z,x){for(var ne=this.parseOffset16List(),fe=new Array(ne.length),de=0;de<ne.length;de++)this.relativeOffset=Z+ne[de],fe[de]=x.call(this);z[$]=fe}else z[$]=this.parseUShortList()}return this.relativeOffset=R,z},Ce.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,A=this.parseUShort(),N=this.parseUShort();if(A===1)return{format:1,glyphs:this.parseUShortList(N)};if(A!==2)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(N),z=0;z<N;z++)R[z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},Ce.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,A=this.parseUShort();if(A===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(A===2)return{format:2,ranges:this.parseRecordList({start:Ce.uShort,end:Ce.uShort,classId:Ce.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},Ce.list=function(x,A){return function(){return this.parseList(x,A)}},Ce.list32=function(x,A){return function(){return this.parseList32(x,A)}},Ce.recordList=function(x,A){return function(){return this.parseRecordList(x,A)}},Ce.recordList32=function(x,A){return function(){return this.parseRecordList32(x,A)}},Ce.pointer=function(x){return function(){return this.parsePointer(x)}},Ce.pointer32=function(x){return function(){return this.parsePointer32(x)}},Ce.tag=Ce.prototype.parseTag,Ce.byte=Ce.prototype.parseByte,Ce.uShort=Ce.offset16=Ce.prototype.parseUShort,Ce.uShortList=Ce.prototype.parseUShortList,Ce.uLong=Ce.offset32=Ce.prototype.parseULong,Ce.uLongList=Ce.prototype.parseULongList,Ce.struct=Ce.prototype.parseStruct,Ce.coverage=Ce.prototype.parseCoverage,Ce.classDef=Ce.prototype.parseClassDef;var oe={reserved:Ce.uShort,reqFeatureIndex:Ce.uShort,featureIndexes:Ce.uShortList},ae=(Ce.prototype.parseScriptList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,script:Ce.pointer({defaultLangSys:Ce.pointer(oe),langSysRecords:Ce.recordList({tag:Ce.tag,langSys:Ce.pointer(oe)})})}))||[]},Ce.prototype.parseFeatureList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,feature:Ce.pointer({featureParams:Ce.offset16,lookupListIndexes:Ce.uShortList})}))||[]},Ce.prototype.parseLookupList=function(x){return this.parsePointer(Ce.list(Ce.pointer(function(){var A=this.parseUShort(),N=(T.argument(1<=A&&A<=9,"GPOS/GSUB lookup type "+A+" unknown."),this.parseUShort()),R=16&N;return{lookupType:A,lookupFlag:N,subtables:this.parseList(Ce.pointer(x[A])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},Ce.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),A=this.parseUShort();return T.argument(x===1&&A<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ce.offset32,featureTableSubstitutionOffset:Ce.offset32})})||[]},{getByte:qe,getCard8:qe,getUShort:Pe,getCard16:Pe,getShort:function(x,A){return x.getInt16(A,!1)},getULong:We,getFixed:Ze,getTag:function(x,A){for(var N="",R=A;R<A+4;R+=1)N+=String.fromCharCode(x.getInt8(R));return N},getOffset:function(x,A,N){for(var R=0,z=0;z<N;z+=1)R=(R<<=8)+x.getUint8(A+z);return R},getBytes:function(x,A,N){for(var R=[],z=A;z<N;z+=1)R.push(x.getUint8(z));return R},bytesToString:function(x){for(var A="",N=0;N<x.length;N+=1)A+=String.fromCharCode(x[N]);return A},Parser:Ce}),X={parse:function(x,A){for(var N={},R=(N.version=ae.getUShort(x,A),T.argument(N.version===0,"cmap table version should be 0."),N.numTables=ae.getUShort(x,A+2),-1),z=N.numTables-1;0<=z;--z){var $=ae.getUShort(x,A+4+8*z),Z=ae.getUShort(x,A+4+8*z+2);if($===3&&(Z===0||Z===1||Z===10)||$===0&&(Z===0||Z===1||Z===2||Z===3||Z===4)){R=ae.getULong(x,A+4+8*z+4);break}}if(R===-1)throw new Error("No valid cmap sub-tables found.");var ne=new ae.Parser(x,A+R);if(N.format=ne.parseUShort(),N.format===12){var fe,de=N,Ee=ne;Ee.parseUShort(),de.length=Ee.parseULong(),de.language=Ee.parseULong(),de.groupCount=fe=Ee.parseULong(),de.glyphIndexMap={};for(var Ie=0;Ie<fe;Ie+=1)for(var Te=Ee.parseULong(),be=Ee.parseULong(),Ve=Ee.parseULong(),Fe=Te;Fe<=be;Fe+=1)de.glyphIndexMap[Fe]=Ve,Ve++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var Re=N,Ne=x,Oe=A,yt=R;Re.length=ne.parseUShort(),Re.language=ne.parseUShort(),Re.segCount=Mt=ne.parseUShort()>>1,ne.skip("uShort",3),Re.glyphIndexMap={};for(var Mt,vt=new ae.Parser(Ne,Oe+yt+14),bt=new ae.Parser(Ne,Oe+yt+16+2*Mt),Ot=new ae.Parser(Ne,Oe+yt+16+4*Mt),Dr=new ae.Parser(Ne,Oe+yt+16+6*Mt),$r=Oe+yt+16+8*Mt,tn=0;tn<Mt-1;tn+=1)for(var Cn=void 0,Mn=vt.parseUShort(),_o=bt.parseUShort(),vr=Ot.parseShort(),Ar=Dr.parseUShort(),hr=_o;hr<=Mn;hr+=1)Ar!==0?($r=($r=Dr.offset+Dr.relativeOffset-2)+Ar+2*(hr-_o),(Cn=ae.getUShort(Ne,$r))!==0&&(Cn=Cn+vr&65535)):Cn=hr+vr&65535,Re.glyphIndexMap[hr]=Cn}return N},make:function(x){for(var A=!0,N=x.length-1;0<N;--N)if(65535<x.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),A=!1;break}var R,z,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:A?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:A?12:20}],Z=($=($=A?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new De.Table("cmap",$));for(Z.segments=[],N=0;N<x.length;N+=1){for(var ne=x.get(N),fe=0;fe<ne.unicodes.length;fe+=1)R=ne.unicodes[fe],z=N,Z.segments.push({end:R,start:R,delta:-(R-z),offset:0,glyphIndex:z});Z.segments=Z.segments.sort(function(Oe,yt){return Oe.start-yt.start})}Z.segments.push({end:65535,start:65535,delta:1,offset:0});var de=Z.segments.length,Ee=0,Ie=[],Te=[],be=[],Ve=[],Fe=[],Re=[];for(N=0;N<de;N+=1){var Ne=Z.segments[N];Ne.end<=65535&&Ne.start<=65535?(Ie=Ie.concat({name:"end_"+N,type:"USHORT",value:Ne.end}),Te=Te.concat({name:"start_"+N,type:"USHORT",value:Ne.start}),be=be.concat({name:"idDelta_"+N,type:"SHORT",value:Ne.delta}),Ve=Ve.concat({name:"idRangeOffset_"+N,type:"USHORT",value:Ne.offset}),Ne.glyphId!==void 0&&(Fe=Fe.concat({name:"glyph_"+N,type:"USHORT",value:Ne.glyphId}))):Ee+=1,A||Ne.glyphIndex===void 0||(Re=(Re=(Re=Re.concat({name:"cmap12Start_"+N,type:"ULONG",value:Ne.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:Ne.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:Ne.glyphIndex}))}return Z.segCountX2=2*(de-Ee),Z.searchRange=2*Math.pow(2,Math.floor(Math.log(de-Ee)/Math.log(2))),Z.entrySelector=Math.log(Z.searchRange/2)/Math.log(2),Z.rangeShift=Z.segCountX2-Z.searchRange,Z.fields=Z.fields.concat(Ie),Z.fields.push({name:"reservedPad",type:"USHORT",value:0}),Z.fields=Z.fields.concat(Te),Z.fields=Z.fields.concat(be),Z.fields=Z.fields.concat(Ve),Z.fields=Z.fields.concat(Fe),Z.cmap4Length=14+2*Ie.length+2+2*Te.length+2*be.length+2*Ve.length+2*Fe.length,A||($=16+4*Re.length,Z.cmap12Offset=20+Z.cmap4Length,Z.fields=Z.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Re.length/3}]),Z.fields=Z.fields.concat(Re)),Z}},J=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ye(x){this.font=x}function Se(x){this.cmap=x}function Ae(x,A){this.encoding=x,this.charset=A}function Be(x){switch(x.version){case 1:this.names=ge.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var A=0;A<x.numberOfGlyphs;A++)x.glyphNameIndex[A]<ge.length?this.names[A]=ge[x.glyphNameIndex[A]]:this.names[A]=x.names[x.glyphNameIndex[A]-ge.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var N=0;N<x.numberOfGlyphs;N++)this.names[N]=ge[N+x.glyphNameIndex[N]];break;default:this.names=[]}}ye.prototype.charToGlyphIndex=function(x){var A=x.codePointAt(0),N=this.font.glyphs;if(N){for(var R=0;R<N.length;R+=1)for(var z=N.get(R),$=0;$<z.unicodes.length;$+=1)if(z.unicodes[$]===A)return R}return null},Se.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},Ae.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),x=this.encoding[x],this.charset.indexOf(x)},Be.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},Be.prototype.glyphIndexToName=function(x){return this.names[x]};var Ge={line:function(x,A,N,R,z){x.beginPath(),x.moveTo(A,N),x.lineTo(R,z),x.stroke()}};function Ke(x){this.bindConstructorValues(x)}function pt(x,A,N){Object.defineProperty(x,A,{get:function(){return x.path,x[N]},set:function(R){x[N]=R},enumerable:!0,configurable:!0})}function dt(x,A){if(this.font=x,this.glyphs={},Array.isArray(A))for(var N=0;N<A.length;N++)this.glyphs[N]=A[N];this.length=A&&A.length||0}Ke.prototype.bindConstructorValues=function(x){var A;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||x.unicode!==void 0?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(x=x.path,A=x||new Q,{configurable:!0,get:function(){return A=typeof A=="function"?A():A},set:function(N){A=N}}))},Ke.prototype.addUnicode=function(x){this.unicodes.length===0&&(this.unicode=x),this.unicodes.push(x)},Ke.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ke.prototype.getPath=function(x,A,N,R,z){x=x!==void 0?x:0,A=A!==void 0?A:0,N=N!==void 0?N:72;for(var $,Z,ne=(R=R||{}).xScale,fe=R.yScale,de=(($=R.hinting&&z&&z.hinting?this.path&&z.hinting.exec(this,N):$)?(Z=z.hinting.getCommands($),x=Math.round(x),A=Math.round(A),ne=fe=1):(Z=this.path.commands,R=1/this.path.unitsPerEm*N,ne===void 0&&(ne=R),fe===void 0&&(fe=R)),new Q),Ee=0;Ee<Z.length;Ee+=1){var Ie=Z[Ee];Ie.type==="M"?de.moveTo(x+Ie.x*ne,A+-Ie.y*fe):Ie.type==="L"?de.lineTo(x+Ie.x*ne,A+-Ie.y*fe):Ie.type==="Q"?de.quadraticCurveTo(x+Ie.x1*ne,A+-Ie.y1*fe,x+Ie.x*ne,A+-Ie.y*fe):Ie.type==="C"?de.curveTo(x+Ie.x1*ne,A+-Ie.y1*fe,x+Ie.x2*ne,A+-Ie.y2*fe,x+Ie.x*ne,A+-Ie.y*fe):Ie.type==="Z"&&de.closePath()}return de},Ke.prototype.getContours=function(){if(this.points===void 0)return[];for(var x=[],A=[],N=0;N<this.points.length;N+=1){var R=this.points[N];A.push(R),R.lastPointOfContour&&(x.push(A),A=[])}return T.argument(A.length===0,"There are still points left in the current contour."),x},Ke.prototype.getMetrics=function(){for(var x=this.path.commands,A=[],N=[],R=0;R<x.length;R+=1){var z=x[R];z.type!=="Z"&&(A.push(z.x),N.push(z.y)),z.type!=="Q"&&z.type!=="C"||(A.push(z.x1),N.push(z.y1)),z.type==="C"&&(A.push(z.x2),N.push(z.y2))}var $={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,A),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},Ke.prototype.draw=function(x,A,N,R,z){this.getPath(A,N,R,z).draw(x)},Ke.prototype.drawPoints=function(x,A,N,R){function z(Ee,Ie,Te,be){var Ve=2*Math.PI;x.beginPath();for(var Fe=0;Fe<Ee.length;Fe+=1)x.moveTo(Ie+Ee[Fe].x*be,Te+Ee[Fe].y*be),x.arc(Ie+Ee[Fe].x*be,Te+Ee[Fe].y*be,2,0,Ve,!1);x.closePath(),x.fill()}A=A!==void 0?A:0,N=N!==void 0?N:0;for(var R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),$=[],Z=[],ne=this.path,fe=0;fe<ne.commands.length;fe+=1){var de=ne.commands[fe];de.x!==void 0&&$.push({x:de.x,y:-de.y}),de.x1!==void 0&&Z.push({x:de.x1,y:-de.y1}),de.x2!==void 0&&Z.push({x:de.x2,y:-de.y2})}x.fillStyle="blue",z($,A,N,R),x.fillStyle="red",z(Z,A,N,R)},Ke.prototype.drawMetrics=function(x,A,N,R){A=A!==void 0?A:0,N=N!==void 0?N:0,R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),x.lineWidth=1,x.strokeStyle="black",Ge.line(x,A,-1e4,A,1e4),Ge.line(x,-1e4,N,1e4,N);var z=this.xMin||0,$=this.yMin||0,Z=this.xMax||0,ne=this.yMax||0,fe=this.advanceWidth||0;x.strokeStyle="blue",Ge.line(x,A+z*R,-1e4,A+z*R,1e4),Ge.line(x,A+Z*R,-1e4,A+Z*R,1e4),Ge.line(x,-1e4,N+-$*R,1e4,N+-$*R),Ge.line(x,-1e4,N+-ne*R,1e4,N+-ne*R),x.strokeStyle="green",Ge.line(x,A+fe*R,-1e4,A+fe*R,1e4)},dt.prototype.get=function(x){return typeof this.glyphs[x]=="function"&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},dt.prototype.push=function(x,A){this.glyphs[x]=A,this.length++};var lt={GlyphSet:dt,glyphLoader:function(x,A){return new Ke({index:A,font:x})},ttfGlyphLoader:function(x,A,N,R,z,$){return function(){var Z=new Ke({index:A,font:x});return Z.path=function(){N(Z,R,z);var ne=$(x.glyphs,Z);return ne.unitsPerEm=x.unitsPerEm,ne},pt(Z,"xMin","_xMin"),pt(Z,"xMax","_xMax"),pt(Z,"yMin","_yMin"),pt(Z,"yMax","_yMax"),Z}},cffGlyphLoader:function(x,A,N,R){return function(){var z=new Ke({index:A,font:x});return z.path=function(){var $=N(x,z,R);return $.unitsPerEm=x.unitsPerEm,$},z}}};function mt(x){return x=x.length<1240?107:x.length<33900?1131:32768,x}function gt(x,A,N){var R,z=[],$=[],Z=ae.getCard16(x,A);if(Z!==0){for(var ne=ae.getByte(x,A+2),fe=A+(Z+1)*ne+2,de=A+3,Ee=0;Ee<Z+1;Ee+=1)z.push(ae.getOffset(x,de,ne)),de+=ne;R=fe+z[Z]}else R=A+2;for(var Ie=0;Ie<z.length-1;Ie+=1){var Te=ae.getBytes(x,fe+z[Ie],fe+z[Ie+1]);N&&(Te=N(Te)),$.push(Te)}return{objects:$,startOffset:A,endOffset:R}}function ur(x,A){if(A===28)return x.parseByte()<<8|x.parseByte();if(A===29)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(A===30){for(var N=x,R="",z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Z=N.parseByte(),$=Z>>4,Z=15&Z;if($==15||(R+=z[$],Z==15))break;R+=z[Z]}return parseFloat(R)}if(32<=A&&A<=246)return A-139;if(247<=A&&A<=250)return 256*(A-247)+x.parseByte()+108;if(251<=A&&A<=254)return 256*-(A-251)-x.parseByte()-108;throw new Error("Invalid b0 "+A)}function fn(x,A,N){var R=new ae.Parser(x,A=A!==void 0?A:0),z=[],$=[];for(N=N!==void 0?N:x.length;R.relativeOffset<N;){var Z=R.parseByte();Z<=21?(Z===12&&(Z=1200+R.parseByte()),z.push([Z,$]),$=[]):$.push(ur(R,Z))}for(var ne=z,fe={},de=0;de<ne.length;de+=1){var Ee=ne[de][0],Ie=ne[de][1],Te=void 0,Te=Ie.length===1?Ie[0]:Ie;if(fe.hasOwnProperty(Ee)&&!isNaN(fe[Ee]))throw new Error("Object "+fe+" already has key "+Ee);fe[Ee]=Te}return fe}function Wr(x,A){return A=A<=390?J[A]:x[A-391]}function sr(x,A,N){for(var R,z={},$=0;$<A.length;$+=1){var Z=A[$];if(Array.isArray(Z.type)){var ne=[];ne.length=Z.type.length;for(var fe=0;fe<Z.type.length;fe++)(R=x[Z.op]!==void 0?x[Z.op][fe]:void 0)===void 0&&(R=Z.value!==void 0&&Z.value[fe]!==void 0?Z.value[fe]:null),Z.type[fe]==="SID"&&(R=Wr(N,R)),ne[fe]=R;z[Z.name]=ne}else(R=x[Z.op])===void 0&&(R=Z.value!==void 0?Z.value:null),Z.type==="SID"&&(R=Wr(N,R)),z[Z.name]=R}return z}var gr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Qt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function an(x,A,N,R){return sr(fn(x,A,N),Qt,R)}function Jr(x,A,N,R){for(var z=[],$=0;$<N.length;$+=1){var Z=new DataView(new Uint8Array(N[$]).buffer),Z=(ne=R,sr(fn(Z,0,Z.byteLength),gr,ne)),ne=(Z._subrs=[],Z._subrsBias=0,Z.private[0]),fe=Z.private[1];ne!==0&&fe!==0&&(ne=an(x,fe+A,ne,R),Z._defaultWidthX=ne.defaultWidthX,Z._nominalWidthX=ne.nominalWidthX,ne.subrs!==0&&(fe=gt(x,fe+ne.subrs+A),Z._subrs=fe.objects,Z._subrsBias=mt(Z._subrs)),Z._privateDict=ne),z.push(Z)}return z}function cr(x,A,N){var R,z,$,Z,ne,fe,de,Ee,Ie,Te=new Q,be=[],Ve=0,Fe=!1,Re=!1,Ne=0,Oe=0,yt=(Ie=(x.isCIDFont?(ne=x.tables.cff.topDict._fdSelect[A.index],ne=x.tables.cff.topDict._fdArray[ne],fe=ne._subrs,de=ne._subrsBias,Ee=ne._defaultWidthX,ne):(fe=x.tables.cff.topDict._subrs,de=x.tables.cff.topDict._subrsBias,Ee=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,Ee);function Mt(bt,Ot){Re&&Te.closePath(),Te.moveTo(bt,Ot),Re=!0}function vt(){be.length%2==0||Fe||(yt=be.shift()+Ie),Ve+=be.length>>1,be.length=0,Fe=!0}return function bt(Ot){for(var Dr,$r,tn,Cn,Mn,_o,vr,Ar,hr,An,zr,wn,Tr=0;Tr<Ot.length;){var hn=Ot[Tr];switch(Tr+=1,hn){case 1:case 3:vt();break;case 4:1<be.length&&!Fe&&(yt=be.shift()+Ie,Fe=!0),Oe+=be.pop(),Mt(Ne,Oe);break;case 5:for(;0<be.length;)Ne+=be.shift(),Oe+=be.shift(),Te.lineTo(Ne,Oe);break;case 6:for(;0<be.length&&(Ne+=be.shift(),Te.lineTo(Ne,Oe),be.length!==0);)Oe+=be.shift(),Te.lineTo(Ne,Oe);break;case 7:for(;0<be.length&&(Oe+=be.shift(),Te.lineTo(Ne,Oe),be.length!==0);)Ne+=be.shift(),Te.lineTo(Ne,Oe);break;case 8:for(;0<be.length;)R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Te.curveTo(R,z,$,Z,Ne,Oe);break;case 10:Mn=be.pop()+de,(_o=fe[Mn])&&bt(_o);break;case 11:return;case 12:switch(hn=Ot[Tr],Tr+=1,hn){case 35:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),vr=$+be.shift(),Ar=Z+be.shift(),hr=vr+be.shift(),An=Ar+be.shift(),zr=hr+be.shift(),wn=An+be.shift(),Ne=zr+be.shift(),Oe=wn+be.shift(),be.shift(),Te.curveTo(R,z,$,Z,vr,Ar),Te.curveTo(hr,An,zr,wn,Ne,Oe);break;case 34:R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),vr=$+be.shift(),Ar=Z,hr=vr+be.shift(),An=Z,zr=hr+be.shift(),wn=Oe,Ne=zr+be.shift(),Te.curveTo(R,z,$,Z,vr,Ar),Te.curveTo(hr,An,zr,wn,Ne,Oe);break;case 36:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),vr=$+be.shift(),Ar=Z,hr=vr+be.shift(),An=Z,zr=hr+be.shift(),wn=An+be.shift(),Ne=zr+be.shift(),Te.curveTo(R,z,$,Z,vr,Ar),Te.curveTo(hr,An,zr,wn,Ne,Oe);break;case 37:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),vr=$+be.shift(),Ar=Z+be.shift(),hr=vr+be.shift(),An=Ar+be.shift(),zr=hr+be.shift(),wn=An+be.shift(),Math.abs(zr-Ne)>Math.abs(wn-Oe)?Ne=zr+be.shift():Oe=wn+be.shift(),Te.curveTo(R,z,$,Z,vr,Ar),Te.curveTo(hr,An,zr,wn,Ne,Oe);break;default:console.log("Glyph "+A.index+": unknown operator 1200"+hn),be.length=0}break;case 14:0<be.length&&!Fe&&(yt=be.shift()+Ie,Fe=!0),Re&&(Te.closePath(),Re=!1);break;case 18:vt();break;case 19:case 20:vt(),Tr+=Ve+7>>3;break;case 21:2<be.length&&!Fe&&(yt=be.shift()+Ie,Fe=!0),Oe+=be.pop(),Mt(Ne+=be.pop(),Oe);break;case 22:1<be.length&&!Fe&&(yt=be.shift()+Ie,Fe=!0),Mt(Ne+=be.pop(),Oe);break;case 23:vt();break;case 24:for(;2<be.length;)R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Te.curveTo(R,z,$,Z,Ne,Oe);Ne+=be.shift(),Oe+=be.shift(),Te.lineTo(Ne,Oe);break;case 25:for(;6<be.length;)Ne+=be.shift(),Oe+=be.shift(),Te.lineTo(Ne,Oe);R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Te.curveTo(R,z,$,Z,Ne,Oe);break;case 26:for(be.length%2&&(Ne+=be.shift());0<be.length;)R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$,Oe=Z+be.shift(),Te.curveTo(R,z,$,Z,Ne,Oe);break;case 27:for(be.length%2&&(Oe+=be.shift());0<be.length;)R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z,Te.curveTo(R,z,$,Z,Ne,Oe);break;case 28:Dr=Ot[Tr],$r=Ot[Tr+1],be.push((Dr<<24|$r<<16)>>16),Tr+=2;break;case 29:Mn=be.pop()+x.gsubrsBias,(_o=x.gsubrs[Mn])&&bt(_o);break;case 30:for(;0<be.length&&(R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+(be.length===1?be.shift():0),Te.curveTo(R,z,$,Z,Ne,Oe),be.length!==0);)R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Oe=Z+be.shift(),Ne=$+(be.length===1?be.shift():0),Te.curveTo(R,z,$,Z,Ne,Oe);break;case 31:for(;0<be.length&&(R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Oe=Z+be.shift(),Ne=$+(be.length===1?be.shift():0),Te.curveTo(R,z,$,Z,Ne,Oe),be.length!==0);)R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+(be.length===1?be.shift():0),Te.curveTo(R,z,$,Z,Ne,Oe);break;default:hn<32?console.log("Glyph "+A.index+": unknown operator "+hn):hn<247?be.push(hn-139):hn<251?(Dr=Ot[Tr],Tr+=1,be.push(256*(hn-247)+Dr+108)):hn<255?(Dr=Ot[Tr],Tr+=1,be.push(256*-(hn-251)-Dr-108)):(Dr=Ot[Tr],$r=Ot[Tr+1],tn=Ot[Tr+2],Cn=Ot[Tr+3],Tr+=4,be.push((Dr<<24|$r<<16|tn<<8|Cn)/65536))}}}(N),A.advanceWidth=yt,Te}function ln(x,A){var N,R=J.indexOf(x);return 0<=R&&(N=R),0<=(R=A.indexOf(x))?N=R+J.length:(N=J.length+A.length,A.push(x)),N}function bs(x,A,N){for(var R={},z=0;z<x.length;z+=1){var $=x[z],Z=A[$.name];Z===void 0||function ne(fe,de){if(fe===de)return 1;if(Array.isArray(fe)&&Array.isArray(de)&&fe.length===de.length){for(var Ee=0;Ee<fe.length;Ee+=1)if(!ne(fe[Ee],de[Ee]))return;return 1}}(Z,$.value)||($.type==="SID"&&(Z=ln(Z,N)),R[$.op]={name:$.name,type:$.type,value:Z})}return R}function ws(x,A){var N=new De.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=bs(gr,x,A),N}function _s(x){var A=new De.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return A.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],A}function da(x){for(var A=new De.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<x.length;N+=1){var R=x.get(N),z=function($){for(var Z=[],ne=$.path,fe=(Z.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),de=0,Ee=0;Ee<ne.commands.length;Ee+=1){var Ie,Te,be,Ve,Fe=void 0,Re=void 0,Ne=ne.commands[Ee];(Ne=Ne.type==="Q"?{type:"C",x:Ne.x,y:Ne.y,x1:1/3*fe+2/3*Ne.x1,y1:1/3*de+2/3*Ne.y1,x2:1/3*Ne.x+2/3*Ne.x1,y2:1/3*Ne.y+2/3*Ne.y1}:Ne).type==="M"?(Fe=Math.round(Ne.x-fe),Re=Math.round(Ne.y-de),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rmoveto",type:"OP",value:21}),fe=Math.round(Ne.x),de=Math.round(Ne.y)):Ne.type==="L"?(Fe=Math.round(Ne.x-fe),Re=Math.round(Ne.y-de),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rlineto",type:"OP",value:5}),fe=Math.round(Ne.x),de=Math.round(Ne.y)):Ne.type==="C"&&(Ie=Math.round(Ne.x1-fe),Te=Math.round(Ne.y1-de),be=Math.round(Ne.x2-Ne.x1),Ve=Math.round(Ne.y2-Ne.y1),Fe=Math.round(Ne.x-Ne.x2),Re=Math.round(Ne.y-Ne.y2),Z.push({name:"dx1",type:"NUMBER",value:Ie}),Z.push({name:"dy1",type:"NUMBER",value:Te}),Z.push({name:"dx2",type:"NUMBER",value:be}),Z.push({name:"dy2",type:"NUMBER",value:Ve}),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rrcurveto",type:"OP",value:8}),fe=Math.round(Ne.x),de=Math.round(Ne.y))}return Z.push({name:"endchar",type:"OP",value:14}),Z}(R);A.charStrings.push({name:R.name,type:"CHARSTRING",value:z})}return A}var xs={parse:function(x,A,N){N.tables.cff={},ne=x,R=A,(z={}).formatMajor=ae.getCard8(ne,R),z.formatMinor=ae.getCard8(ne,R+1),z.size=ae.getCard8(ne,R+2),z.offsetSize=ae.getCard8(ne,R+3),z.startOffset=R,z.endOffset=R+4;var ne=gt(x,z.endOffset,ae.bytesToString),R=gt(x,ne.endOffset),z=gt(x,R.endOffset,ae.bytesToString),ne=gt(x,z.endOffset);if(N.gsubrs=ne.objects,N.gsubrsBias=mt(N.gsubrs),(ne=Jr(x,A,R.objects,z.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ne.length);if(R=ne[0],(N.tables.cff.topDict=R)._privateDict&&(N.defaultWidthX=R._privateDict.defaultWidthX,N.nominalWidthX=R._privateDict.nominalWidthX),R.ros[0]!==void 0&&R.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var ne=R.fdArray,$=R.fdSelect;if(ne===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ne=Jr(x,A,gt(x,ne+=A).objects,z.objects),R._fdArray=ne,R._fdSelect=function(Te,be,Ve,Fe){var Re,Ne=[],Oe=new ae.Parser(Te,be);if((Te=Oe.parseCard8())===0)for(var yt=0;yt<Ve;yt++){if(Fe<=(Re=Oe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Fe+")");Ne.push(Re)}else{if(Te!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Te);var Mt,vt=Oe.parseCard16(),bt=Oe.parseCard16();if(bt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+bt);for(var Ot=0;Ot<vt;Ot++){if(Re=Oe.parseCard8(),Mt=Oe.parseCard16(),Fe<=Re)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Fe+")");if(Ve<Mt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Mt);for(;bt<Mt;bt++)Ne.push(Re);bt=Mt}if(Mt!==Ve)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Mt)}return Ne}(x,$+=A,N.numGlyphs,ne.length)}var $=A+R.private[1],ne=an(x,$,R.private[0],z.objects),Z=(N.defaultWidthX=ne.defaultWidthX,N.nominalWidthX=ne.nominalWidthX,ne.subrs!==0?($=gt(x,$+ne.subrs),N.subrs=$.objects,N.subrsBias=mt(N.subrs)):(N.subrs=[],N.subrsBias=0),gt(x,A+R.charStrings)),ne=(N.nGlyphs=Z.objects.length,function(Ee,Ie,Te,be){var Ve=new ae.Parser(Ee,Ie),Fe=(--Te,[".notdef"]);if((Ee=Ve.parseCard8())===0)for(var Re=0;Re<Te;Re+=1)Ne=Ve.parseSID(),Fe.push(Wr(be,Ne));else if(Ee===1)for(;Fe.length<=Te;)for(var Ne=Ve.parseSID(),Oe=Ve.parseCard8(),yt=0;yt<=Oe;yt+=1)Fe.push(Wr(be,Ne)),Ne+=1;else{if(Ee!==2)throw new Error("Unknown charset format "+Ee);for(;Fe.length<=Te;){Ne=Ve.parseSID(),Oe=Ve.parseCard16();for(var Mt=0;Mt<=Oe;Mt+=1)Fe.push(Wr(be,Ne)),Ne+=1}}return Fe}(x,A+R.charset,N.nGlyphs,z.objects));R.encoding===0?N.cffEncoding=new Ae(Y,ne):R.encoding===1?N.cffEncoding=new Ae(ee,ne):N.cffEncoding=function(Ee,Ie,Te){var be={},Ve=new ae.Parser(Ee,Ie);if((Ee=Ve.parseCard8())===0)for(var Fe=Ve.parseCard8(),Re=0;Re<Fe;Re+=1)be[Oe=Ve.parseCard8()]=Re;else{if(Ee!==1)throw new Error("Unknown encoding format "+Ee);for(var Ne=Ve.parseCard8(),Oe=1,yt=0;yt<Ne;yt+=1)for(var Mt=Ve.parseCard8(),vt=Ve.parseCard8(),bt=Mt;bt<=Mt+vt;bt+=1)be[bt]=Oe,Oe+=1}return new Ae(be,Te)}(x,A+R.encoding,ne),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new lt.GlyphSet(N);for(var fe=0;fe<N.nGlyphs;fe+=1){var de=Z.objects[fe];N.glyphs.push(fe,lt.cffGlyphLoader(N,fe,cr,de))}},make:function(x,Ee){for(var N,R=new De.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),z=1/Ee.unitsPerEm,z={version:Ee.version,fullName:Ee.fullName,familyName:Ee.familyName,weight:Ee.weightName,fontBBox:Ee.fontBBox||[0,0,0,0],fontMatrix:[z,0,0,z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],Z=1;Z<x.length;Z+=1)N=x.get(Z),$.push(N.name);var ne,fe,de=[],Ee=(R.header=new De.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(Te){var be=new De.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var Ve=0;Ve<Te.length;Ve+=1)be.names.push({name:"name_"+Ve,type:"NAME",value:Te[Ve]});return be}([Ee.postScriptName]),ws(z,de)),Ie=(R.topDictIndex=_s(Ee),R.globalSubrIndex=new De.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(Te,be){for(var Ve=new De.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Fe=0;Fe<Te.length;Fe+=1){var Re=ln(Te[Fe],be);Ve.fields.push({name:"glyph_"+Fe,type:"SID",value:Re})}return Ve}($,de),R.charStringsIndex=da(x),R.privateDict=(Ie={},ne=de,(fe=new De.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=bs(Qt,Ie,ne),fe),R.stringIndex=function(Te){var be=new De.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var Ve=0;Ve<Te.length;Ve+=1)be.strings.push({name:"string_"+Ve,type:"STRING",value:Te[Ve]});return be}(de),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return z.charset=Ie,z.encoding=0,z.charStrings=z.charset+R.charsets.sizeOf(),z.private[1]=z.charStrings+R.charStringsIndex.sizeOf(),Ee=ws(z,de),R.topDictIndex=_s(Ee),R}},Ds={parse:function(R,A){var N={},R=new ae.Parser(R,A);return N.version=R.parseVersion(),N.fontRevision=Math.round(1e3*R.parseFixed())/1e3,N.checkSumAdjustment=R.parseULong(),N.magicNumber=R.parseULong(),T.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=R.parseUShort(),N.unitsPerEm=R.parseUShort(),N.created=R.parseLongDateTime(),N.modified=R.parseLongDateTime(),N.xMin=R.parseShort(),N.yMin=R.parseShort(),N.xMax=R.parseShort(),N.yMax=R.parseShort(),N.macStyle=R.parseUShort(),N.lowestRecPPEM=R.parseUShort(),N.fontDirectionHint=R.parseShort(),N.indexToLocFormat=R.parseShort(),N.glyphDataFormat=R.parseShort(),N},make:function(x){var A=Math.round(new Date().getTime()/1e3)+2082844800,N=A;return x.createdTimestamp&&(N=x.createdTimestamp+2082844800),new De.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:A},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)}},we={parse:function(R,A){var N={},R=new ae.Parser(R,A);return N.version=R.parseVersion(),N.ascender=R.parseShort(),N.descender=R.parseShort(),N.lineGap=R.parseShort(),N.advanceWidthMax=R.parseUShort(),N.minLeftSideBearing=R.parseShort(),N.minRightSideBearing=R.parseShort(),N.xMaxExtent=R.parseShort(),N.caretSlopeRise=R.parseShort(),N.caretSlopeRun=R.parseShort(),N.caretOffset=R.parseShort(),R.relativeOffset+=8,N.metricDataFormat=R.parseShort(),N.numberOfHMetrics=R.parseUShort(),N},make:function(x){return new De.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)}},Xe={parse:function(x,A,N,R,z){for(var $,Z,ne=new ae.Parser(x,A),fe=0;fe<R;fe+=1){fe<N&&($=ne.parseUShort(),Z=ne.parseShort());var de=z.get(fe);de.advanceWidth=$,de.leftSideBearing=Z}},make:function(x){for(var A=new De.Table("hmtx",[]),N=0;N<x.length;N+=1){var z=x.get(N),R=z.advanceWidth||0,z=z.leftSideBearing||0;A.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:R}),A.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:z})}return A}},st={make:function(x){for(var A=new De.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),N="",R=12+4*x.length,z=0;z<x.length;++z){var $=N.indexOf(x[z]);$<0&&($=N.length,N+=x[z]),A.fields.push({name:"offset "+z,type:"USHORT",value:R+$}),A.fields.push({name:"length "+z,type:"USHORT",value:x[z].length})}return A.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),A},parse:function(x,A){for(var N=new ae.Parser(x,A),R=N.parseULong(),z=(T.argument(R===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),$=[],Z=0;Z<z;Z++){for(var ne="",fe=A+N.parseUShort(),de=N.parseUShort(),Ee=fe;Ee<fe+de;++Ee)ne+=String.fromCharCode(x.getInt8(Ee));$.push(ne)}return $}},$e={parse:function(R,A){var N={},R=new ae.Parser(R,A);return N.version=R.parseVersion(),N.numGlyphs=R.parseUShort(),N.version===1&&(N.maxPoints=R.parseUShort(),N.maxContours=R.parseUShort(),N.maxCompositePoints=R.parseUShort(),N.maxCompositeContours=R.parseUShort(),N.maxZones=R.parseUShort(),N.maxTwilightPoints=R.parseUShort(),N.maxStorage=R.parseUShort(),N.maxFunctionDefs=R.parseUShort(),N.maxInstructionDefs=R.parseUShort(),N.maxStackElements=R.parseUShort(),N.maxSizeOfInstructions=R.parseUShort(),N.maxComponentElements=R.parseUShort(),N.maxComponentDepth=R.parseUShort()),N},make:function(x){return new De.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])}},kt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ue={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Kt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},nt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Gt="utf-16",it={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Vr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Qr(x,A,N){switch(x){case 0:return Gt;case 1:return Vr[N]||it[A];case 3:if(A===1||A===10)return Gt}}function jr(x){var A,N={};for(A in x)N[x[A]]=parseInt(A);return N}function Nr(x,A,N,R,z,$){return new De.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:A},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:z},{name:"offset",type:"USHORT",value:$}])}function Nt(x,A){if((N=function($,Z){var ne=$.length,fe=Z.length-ne+1;e:for(var de=0;de<fe;de++)for(;de<fe;de++){for(var Ee=0;Ee<ne;Ee++)if(Z[de+Ee]!==$[Ee])continue e;return de}return-1}(x,A))<0)for(var N=A.length,R=0,z=x.length;R<z;++R)A.push(x[R]);return N}var mr={parse:function(x,A,N){for(var R={},z=new ae.Parser(x,A),A=z.parseUShort(),$=z.parseUShort(),Z=z.offset+z.parseUShort(),ne=0;ne<$;ne++){var Ve=z.parseUShort(),fe=z.parseUShort(),de=z.parseUShort(),Ee=z.parseUShort(),Ee=kt[Ee]||Ee,Ie=z.parseUShort(),Te=z.parseUShort(),be=function(Re,Ne,Oe){switch(Re){case 0:if(Ne===65535)return"und";if(Oe)return Oe[Ne];break;case 1:return Ue[Ne];case 3:return nt[Ne]}}(Ve,de,N),Ve=Qr(Ve,fe,de);Ve!==void 0&&be!==void 0&&(fe=void 0,(fe=Ve===Gt?V.UTF16(x,Z+Te,Ie):V.MACSTRING(x,Z+Te,Ie,Ve))&&((de=(de=R[Ee])===void 0?R[Ee]={}:de)[be]=fe))}return A===1&&z.parseUShort(),R},make:function(x,A){var N,R=[],z={},$=jr(kt);for(N in x){var Z=$[N];if(Z===void 0&&(Z=N),Te=parseInt(Z),isNaN(Te))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');z[Te]=x[N],R.push(Te)}for(var ne=jr(Ue),fe=jr(nt),de=[],Ee=[],Ie=0;Ie<R.length;Ie++){var Te,be,Ve=z[Te=R[Ie]];for(be in Ve){var Fe=Ve[be],Mt=1,Re=ne[be],Ne=Kt[Re],Oe=Qr(Mt,Ne,Re),Oe=H.MACSTRING(Fe,Oe),yt=(Oe===void 0&&(Mt=0,(Re=A.indexOf(be))<0&&(Re=A.length,A.push(be)),Ne=4,Oe=H.UTF16(Fe)),Nt(Oe,Ee)),Mt=(de.push(Nr(Mt,Ne,Re,Te,Oe.length,yt)),fe[be]);Mt!==void 0&&(Re=Nt(Ne=H.UTF16(Fe),Ee),de.push(Nr(3,1,Mt,Te,Ne.length,Re)))}}de.sort(function(Ot,Dr){return Ot.platformID-Dr.platformID||Ot.encodingID-Dr.encodingID||Ot.languageID-Dr.languageID||Ot.nameID-Dr.nameID});for(var vt=new De.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:de.length},{name:"stringOffset",type:"USHORT",value:6+12*de.length}]),bt=0;bt<de.length;bt++)vt.fields.push({name:"record_"+bt,type:"RECORD",value:de[bt]});return vt.fields.push({name:"strings",type:"LITERAL",value:Ee}),vt}},ao=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ur={parse:function(x,A){var N={},R=new ae.Parser(x,A);N.version=R.parseUShort(),N.xAvgCharWidth=R.parseShort(),N.usWeightClass=R.parseUShort(),N.usWidthClass=R.parseUShort(),N.fsType=R.parseUShort(),N.ySubscriptXSize=R.parseShort(),N.ySubscriptYSize=R.parseShort(),N.ySubscriptXOffset=R.parseShort(),N.ySubscriptYOffset=R.parseShort(),N.ySuperscriptXSize=R.parseShort(),N.ySuperscriptYSize=R.parseShort(),N.ySuperscriptXOffset=R.parseShort(),N.ySuperscriptYOffset=R.parseShort(),N.yStrikeoutSize=R.parseShort(),N.yStrikeoutPosition=R.parseShort(),N.sFamilyClass=R.parseShort(),N.panose=[];for(var z=0;z<10;z++)N.panose[z]=R.parseByte();return N.ulUnicodeRange1=R.parseULong(),N.ulUnicodeRange2=R.parseULong(),N.ulUnicodeRange3=R.parseULong(),N.ulUnicodeRange4=R.parseULong(),N.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),N.fsSelection=R.parseUShort(),N.usFirstCharIndex=R.parseUShort(),N.usLastCharIndex=R.parseUShort(),N.sTypoAscender=R.parseShort(),N.sTypoDescender=R.parseShort(),N.sTypoLineGap=R.parseShort(),N.usWinAscent=R.parseUShort(),N.usWinDescent=R.parseUShort(),1<=N.version&&(N.ulCodePageRange1=R.parseULong(),N.ulCodePageRange2=R.parseULong()),2<=N.version&&(N.sxHeight=R.parseShort(),N.sCapHeight=R.parseShort(),N.usDefaultChar=R.parseUShort(),N.usBreakChar=R.parseUShort(),N.usMaxContent=R.parseUShort()),N},make:function(x){return new De.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},unicodeRanges:ao,getUnicodeRange:function(x){for(var A=0;A<ao.length;A+=1){var N=ao[A];if(x>=N.begin&&x<N.end)return A}return-1}},Li={parse:function(x,A){var N={},R=new ae.Parser(x,A);switch(N.version=R.parseVersion(),N.italicAngle=R.parseFixed(),N.underlinePosition=R.parseShort(),N.underlineThickness=R.parseShort(),N.isFixedPitch=R.parseULong(),N.minMemType42=R.parseULong(),N.maxMemType42=R.parseULong(),N.minMemType1=R.parseULong(),N.maxMemType1=R.parseULong(),N.version){case 1:N.names=ge.slice();break;case 2:N.numberOfGlyphs=R.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var z=0;z<N.numberOfGlyphs;z++)N.glyphNameIndex[z]=R.parseUShort();N.names=[];for(var $,Z=0;Z<N.numberOfGlyphs;Z++)N.glyphNameIndex[Z]>=ge.length&&($=R.parseChar(),N.names.push(R.parseString($)));break;case 2.5:N.numberOfGlyphs=R.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var ne=0;ne<N.numberOfGlyphs;ne++)N.offset[ne]=R.parseChar()}return N},make:function(){return new De.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Xn=new Array(9),fa=(Xn[1]=function(){var x=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),deltaGlyphId:this.parseUShort()}:A===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),substitute:this.parseOffset16List()}:void T.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},Xn[2]=function(){var x=this.parseUShort();return T.argument(x===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),sequences:this.parseListOfLists()}},Xn[3]=function(){var x=this.parseUShort();return T.argument(x===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),alternateSets:this.parseListOfLists()}},Xn[4]=function(){var x=this.parseUShort();return T.argument(x===1,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ce.uShort,lookupListIndex:Ce.uShort});Xn[5]=function(){var x,A,N=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:R,coverage:this.parsePointer(Ce.coverage),ruleSets:this.parseListOfLists(function(){var z=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(z-1),lookupRecords:this.parseRecordList($,fa)}})}:R===2?{substFormat:R,coverage:this.parsePointer(Ce.coverage),classDef:this.parsePointer(Ce.classDef),classSets:this.parseListOfLists(function(){var z=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(z-1),lookupRecords:this.parseRecordList($,fa)}})}:R===3?(x=this.parseUShort(),A=this.parseUShort(),{substFormat:R,coverages:this.parseList(x,Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList(A,fa)}):void T.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Xn[6]=function(){var x=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fa)}})}:A===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),backtrackClassDef:this.parsePointer(Ce.classDef),inputClassDef:this.parsePointer(Ce.classDef),lookaheadClassDef:this.parsePointer(Ce.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fa)}})}:A===3?{substFormat:3,backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),inputCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList(fa)}:void T.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Xn[7]=function(){var x=this.parseUShort(),x=(T.argument(x===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),A=new Ce(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:Xn[x].call(A)}},Xn[8]=function(){var x=this.parseUShort();return T.argument(x===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),substitutes:this.parseUShortList()}};var gc=new Array(9);gc[1]=function(x){return x.substFormat===1?new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]):new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.ushortList("substitute",x.substitute)))},gc[3]=function(x){return T.assert(x.substFormat===1,"Lookup type 3 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.tableList("altSet",x.alternateSets,function(A){return new De.Table("alternateSetTable",De.ushortList("alternate",A))})))},gc[4]=function(x){return T.assert(x.substFormat===1,"Lookup type 4 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.tableList("ligSet",x.ligatureSets,function(A){return new De.Table("ligatureSetTable",De.tableList("ligature",A,function(N){return new De.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(De.ushortList("component",N.components,N.components.length+1)))}))})))};var Gb={parse:function(x,A){return A=(x=new Ce(x,A=A||0)).parseVersion(1),T.argument(A===1||A===1.1,"Unsupported GSUB table version."),A===1?{version:A,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Xn)}:{version:A,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Xn),variations:x.parseFeatureVariationsList()}},make:function(x){return new De.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new De.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new De.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new De.LookupList(x.lookups,gc)}])}},Hb={parse:function(x,A){for(var N=new ae.Parser(x,A),R=N.parseULong(),z=(T.argument(R===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),$={},Z=0;Z<z;Z++){var ne=N.parseTag(),de=N.parseULong(),fe=N.parseULong(),de=V.UTF8(x,A+de,fe);$[ne]=de}return $},make:function(x){var A,N=Object.keys(x).length,R="",z=16+12*N,$=new De.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:z},{name:"numTags",type:"ULONG",value:N}]);for(A in x){var Z=R.length;R+=x[A],$.fields.push({name:"tag "+A,type:"TAG",value:A}),$.fields.push({name:"offset "+A,type:"ULONG",value:z+Z}),$.fields.push({name:"length "+A,type:"ULONG",value:x[A].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),$}};function qb(x){return Math.log(x)/Math.log(2)|0}function gp(x){for(;x.length%4!=0;)x.push(0);for(var A=0,N=0;N<x.length;N+=4)A+=(x[N]<<24)+(x[N+1]<<16)+(x[N+2]<<8)+x[N+3];return A%=Math.pow(2,32)}function Wb(x,A,N,R){return new De.Record("Table Record",[{name:"tag",type:"TAG",value:x!==void 0?x:""},{name:"checkSum",type:"ULONG",value:A!==void 0?A:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:R!==void 0?R:0}])}function $b(x){for(var A=new De.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(A.tables=x,A.numTables=x.length,Math.pow(2,qb(A.numTables))),R=(A.searchRange=16*N,A.entrySelector=qb(N),A.rangeShift=16*A.numTables-A.searchRange,[]),z=[],$=A.sizeOf()+Wb().sizeOf()*A.numTables;$%4!=0;)$+=1,z.push({name:"padding",type:"BYTE",value:0});for(var Z=0;Z<x.length;Z+=1){var ne=x[Z],fe=(T.argument(ne.tableName.length===4,"Table name"+ne.tableName+" is invalid."),ne.sizeOf()),de=Wb(ne.tableName,gp(ne.encode()),$,fe);for(R.push({name:de.tag+" Table Record",type:"RECORD",value:de}),z.push({name:ne.tableName+" table",type:"RECORD",value:ne}),$+=fe,T.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,z.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(Ee,Ie){return Ee.value.tag>Ie.value.tag?1:-1}),A.fields=A.fields.concat(R),A.fields=A.fields.concat(z),A}function Yb(x,A,N){for(var R=0;R<A.length;R+=1){var z=x.charToGlyphIndex(A[R]);if(0<z)return x.glyphs.get(z).getMetrics()}return N}var iA={make:$b,fontToTable:function(x){for(var A,N=[],R=[],z=[],$=[],Z=[],ne=[],fe=[],de=0,Ee=0,Ie=0,Te=0,be=0,Ve=0;Ve<x.glyphs.length;Ve+=1){var Fe=x.glyphs.get(Ve),Re=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Ve+"): advanceWidth is not a number.");(Re<A||A===void 0)&&0<Re&&(A=Re),de<Re&&(de=Re);var Re=Ur.getUnicodeRange(Re);if(Re<32)Ee|=1<<Re;else if(Re<64)Ie|=1<<Re-32;else if(Re<96)Te|=1<<Re-64;else{if(!(Re<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Re-96}Fe.name!==".notdef"&&(Re=Fe.getMetrics(),N.push(Re.xMin),R.push(Re.yMin),z.push(Re.xMax),$.push(Re.yMax),ne.push(Re.leftSideBearing),fe.push(Re.rightSideBearing),Z.push(Fe.advanceWidth))}var Ne,Oe={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,z),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,Z),advanceWidthAvg:function(hn){for(var Wl=0,ma=0;ma<hn.length;ma+=1)Wl+=hn[ma];return Wl/hn.length}(Z),minLeftSideBearing:Math.min.apply(null,ne),maxLeftSideBearing:Math.max.apply(null,ne),minRightSideBearing:Math.min.apply(null,fe)},yt=(Oe.ascender=x.ascender,Oe.descender=x.descender,Ds.make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Oe.xMin,yMin:Oe.yMin,xMax:Oe.xMax,yMax:Oe.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Mt=we.make({ascender:Oe.ascender,descender:Oe.descender,advanceWidthMax:Oe.advanceWidthMax,minLeftSideBearing:Oe.minLeftSideBearing,minRightSideBearing:Oe.minRightSideBearing,xMaxExtent:Oe.maxLeftSideBearing+(Oe.xMax-Oe.xMin),numberOfHMetrics:x.glyphs.length}),vt=$e.make(x.glyphs.length),bt=Ur.make({xAvgCharWidth:Math.round(Oe.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:A,usLastCharIndex:de,ulUnicodeRange1:Ee,ulUnicodeRange2:Ie,ulUnicodeRange3:Te,ulUnicodeRange4:be,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Oe.ascender,sTypoDescender:Oe.descender,sTypoLineGap:0,usWinAscent:Oe.yMax,usWinDescent:Math.abs(Oe.yMin),ulCodePageRange1:1,sxHeight:Yb(x,"xyvw",{yMax:Math.round(Oe.ascender/2)}).yMax,sCapHeight:Yb(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Oe).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),Ot=Xe.make(x.glyphs),Dr=X.make(x.glyphs),Ar=x.getEnglishName("fontFamily"),hr=x.getEnglishName("fontSubfamily"),vr=Ar+" "+hr,$r=($r=x.getEnglishName("postScriptName"))||Ar.replace(/\s/g,"")+"-"+hr,tn={};for(Ne in x.names)tn[Ne]=x.names[Ne];tn.uniqueID||(tn.uniqueID={en:x.getEnglishName("manufacturer")+":"+vr}),tn.postScriptName||(tn.postScriptName={en:$r}),tn.preferredFamily||(tn.preferredFamily=x.names.fontFamily),tn.preferredSubfamily||(tn.preferredSubfamily=x.names.fontSubfamily);var Mn=[],Cn=mr.make(tn,Mn),Mn=0<Mn.length?st.make(Mn):void 0,_o=Li.make(),vr=xs.make(x.glyphs,{version:x.getEnglishName("version"),fullName:vr,familyName:Ar,weightName:hr,postScriptName:$r,unitsPerEm:x.unitsPerEm,fontBBox:[0,Oe.yMin,Oe.ascender,Oe.advanceWidthMax]}),Ar=x.metas&&0<Object.keys(x.metas).length?Hb.make(x.metas):void 0,hr=[yt,Mt,vt,bt,Cn,Dr,_o,vr,Ot];Mn&&hr.push(Mn),x.tables.gsub&&hr.push(Gb.make(x.tables.gsub)),Ar&&hr.push(Ar);for(var An=gp(($r=$b(hr)).encode()),zr=$r.fields,wn=!1,Tr=0;Tr<zr.length;Tr+=1)if(zr[Tr].name==="head table"){zr[Tr].value.checkSumAdjustment=2981146554-An,wn=!0;break}if(wn)return $r;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:gp};function yp(x,A){for(var N=0,R=x.length-1;N<=R;){var z=N+R>>>1,$=x[z].tag;if($===A)return z;$<A?N=1+z:R=z-1}return-N-1}function Xb(x,A){for(var N=0,R=x.length-1;N<=R;){var z=N+R>>>1,$=x[z];if($===A)return z;$<A?N=1+z:R=z-1}return-N-1}function Zb(x,A){for(var N=0,R=x.length-1;N<=R;){var z,$=N+R>>>1,Z=(z=x[$]).start;if(Z===A)return z;Z<A?N=1+$:R=$-1}if(0<N)return A>(z=x[N-1]).end?0:z}function yc(x,A){this.font=x,this.tableName=A}function vc(x){yc.call(this,x,"gpos")}function Vo(x){yc.call(this,x,"gsub")}function Qb(x,A,N){for(var R=x.subtables,z=0;z<R.length;z++){var $=R[z];if($.substFormat===A)return $}if(N)return R.push(N),N}function Kb(x){for(var A=new ArrayBuffer(x.length),N=new Uint8Array(A),R=0;R<x.length;++R)N[R]=x[R];return A}function ha(x,A){if(!x)throw A}function Jb(x,A,N,R,z){var $=0<(A&R)?($=x.parseByte(),N+($=A&z?$:-$)):0<(A&z)?N:N+x.parseShort();return $}function sA(x,A,N){var R,z=new ae.Parser(A,N);if(x.numberOfContours=z.parseShort(),x._xMin=z.parseShort(),x._yMin=z.parseShort(),x._xMax=z.parseShort(),x._yMax=z.parseShort(),0<x.numberOfContours){for(var $=x.endPointIndices=[],Z=0;Z<x.numberOfContours;Z+=1)$.push(z.parseUShort());x.instructionLength=z.parseUShort(),x.instructions=[];for(var ne=0;ne<x.instructionLength;ne+=1)x.instructions.push(z.parseByte());for(var fe=$[$.length-1]+1,de=[],Ee=0;Ee<fe;Ee+=1)if(R=z.parseByte(),de.push(R),0<(8&R))for(var Ie=z.parseByte(),Te=0;Te<Ie;Te+=1)de.push(R),Ee+=1;if(T.argument(de.length===fe,"Bad flags."),0<$.length){var be,Ve=[];if(0<fe){for(var Fe=0;Fe<fe;Fe+=1)R=de[Fe],(be={}).onCurve=!!(1&R),be.lastPointOfContour=0<=$.indexOf(Fe),Ve.push(be);for(var Re=0,Ne=0;Ne<fe;Ne+=1)R=de[Ne],(be=Ve[Ne]).x=Jb(z,R,Re,2,16),Re=be.x;for(var Oe=0,yt=0;yt<fe;yt+=1)R=de[yt],(be=Ve[yt]).y=Jb(z,R,Oe,4,32),Oe=be.y}x.points=Ve}else x.points=[]}else if(x.numberOfContours===0)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Mt=!0;Mt;){de=z.parseUShort();var vt={glyphIndex:z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&de)?0<(2&de)?(vt.dx=z.parseShort(),vt.dy=z.parseShort()):vt.matchedPoints=[z.parseUShort(),z.parseUShort()]:0<(2&de)?(vt.dx=z.parseChar(),vt.dy=z.parseChar()):vt.matchedPoints=[z.parseByte(),z.parseByte()],0<(8&de)?vt.xScale=vt.yScale=z.parseF2Dot14():0<(64&de)?(vt.xScale=z.parseF2Dot14(),vt.yScale=z.parseF2Dot14()):0<(128&de)&&(vt.xScale=z.parseF2Dot14(),vt.scale01=z.parseF2Dot14(),vt.scale10=z.parseF2Dot14(),vt.yScale=z.parseF2Dot14()),x.components.push(vt),Mt=!!(32&de)}if(256&de){x.instructionLength=z.parseUShort(),x.instructions=[];for(var bt=0;bt<x.instructionLength;bt+=1)x.instructions.push(z.parseByte())}}}function vp(x,A){for(var N=[],R=0;R<x.length;R+=1){var z=x[R],z={x:A.xScale*z.x+A.scale01*z.y+A.dx,y:A.scale10*z.x+A.yScale*z.y+A.dy,onCurve:z.onCurve,lastPointOfContour:z.lastPointOfContour};N.push(z)}return N}function e1(x){var A=new Q;if(x)for(var N=function(Ie){for(var Te=[],be=[],Ve=0;Ve<Ie.length;Ve+=1){var Fe=Ie[Ve];be.push(Fe),Fe.lastPointOfContour&&(Te.push(be),be=[])}return T.argument(be.length===0,"There are still points left in the current contour."),Te}(x),R=0;R<N.length;++R){var z,$=N[R],Z=$[$.length-1],ne=$[0];Z.onCurve?A.moveTo(Z.x,Z.y):ne.onCurve?A.moveTo(ne.x,ne.y):(z={x:.5*(Z.x+ne.x),y:.5*(Z.y+ne.y)},A.moveTo(z.x,z.y));for(var fe=0;fe<$.length;++fe){var de,Ee=Z,Z=ne,ne=$[(fe+1)%$.length];Z.onCurve?A.lineTo(Z.x,Z.y):(de=ne,Ee.onCurve||(Z.x,Ee.x,Z.y,Ee.y),ne.onCurve||(de={x:.5*(Z.x+ne.x),y:.5*(Z.y+ne.y)}),A.quadraticCurveTo(Z.x,Z.y,de.x,de.y))}A.closePath()}return A}function aA(x,A){if(A.isComposite)for(var N=0;N<A.components.length;N+=1){var R=A.components[N],z=x.get(R.glyphIndex);if(z.getPath(),z.points){var $=void 0;if(R.matchedPoints===void 0)$=vp(z.points,R);else{if(R.matchedPoints[0]>A.points.length-1||R.matchedPoints[1]>z.points.length-1)throw Error("Matched points out of range in "+A.name);var Z=A.points[R.matchedPoints[0]],ne=z.points[R.matchedPoints[1]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0},ne=vp([ne],R)[0];R.dx=Z.x-ne.x,R.dy=Z.y-ne.y,$=vp(z.points,R)}A.points=A.points.concat($)}}return e1(A.points)}(vc.prototype=yc.prototype={searchTag:yp,binSearch:Xb,getTable:function(x){var A=this.font.tables[this.tableName];return A=!A&&x?this.font.tables[this.tableName]=this.createDefaultTable():A},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(A){return A.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var A=!1,N=0;N<x.scripts.length;N++){var R=x.scripts[N].tag;if(R==="DFLT")return R;R==="latn"&&(A=!0)}return A?"latn":void 0}},getScriptTable:function(x,A){var N,R=this.getTable(A);if(R)return N=R.scripts,0<=(R=yp(R.scripts,x=x||"DFLT"))?N[R].script:A?(N.splice(-1-R,0,A={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),A.script):void 0},getLangSysTable:function(z,A,N){var R,z=this.getScriptTable(z,N);if(z)return A&&A!=="dflt"&&A!=="DFLT"?0<=(R=yp(z.langSysRecords,A))?z.langSysRecords[R].langSys:N?(z.langSysRecords.splice(-1-R,0,N={tag:A,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:z.defaultLangSys},getFeatureTable:function(x,A,N,R){if(x=this.getLangSysTable(x,A,R),x){for(var z,$=x.featureIndexes,Z=this.font.tables[this.tableName].features,ne=0;ne<$.length;ne++)if((z=Z[$[ne]]).tag===N)return z.feature;if(R)return A=Z.length,T.assert(A===0||N>=Z[A-1].tag,"Features must be added in alphabetical order."),Z.push(z={tag:N,feature:{params:0,lookupListIndexes:[]}}),$.push(A),z.feature}},getLookupTables:function($,A,N,R,z){var $=this.getFeatureTable($,A,N,z),Z=[];if($){for(var ne,fe=$.lookupListIndexes,de=this.font.tables[this.tableName].lookups,Ee=0;Ee<fe.length;Ee++)(ne=de[fe[Ee]]).lookupType===R&&Z.push(ne);if(Z.length===0&&z)return A=de.length,de.push(ne={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),fe.push(A),[ne]}return Z},getGlyphClass:function(x,A){switch(x.format){case 1:return x.startGlyph<=A&&A<x.startGlyph+x.classes.length?x.classes[A-x.startGlyph]:0;case 2:var N=Zb(x.ranges,A);return N?N.classId:0}},getCoverageIndex:function(x,A){switch(x.format){case 1:var N=Xb(x.glyphs,A);return 0<=N?N:-1;case 2:return N=Zb(x.ranges,A),N?N.index+A-N.start:-1}},expandCoverage:function(x){if(x.format===1)return x.glyphs;for(var A=[],N=x.ranges,R=0;R<N.length;R++)for(var z=N[R],$=z.start,Z=z.end,ne=$;ne<=Z;ne++)A.push(ne);return A}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},vc.prototype.getKerningValue=function(x,A,N){for(var R=0;R<x.length;R++)for(var z=x[R].subtables,$=0;$<z.length;$++){var Z=z[$],ne=this.getCoverageIndex(Z.coverage,A);if(!(ne<0))switch(Z.posFormat){case 1:for(var fe=Z.pairSets[ne],de=0;de<fe.length;de++){var Ee=fe[de];if(Ee.secondGlyph===N)return Ee.value1&&Ee.value1.xAdvance||0}break;case 2:var Te=this.getGlyphClass(Z.classDef1,A),Ie=this.getGlyphClass(Z.classDef2,N),Te=Z.classRecords[Te][Ie];return Te.value1&&Te.value1.xAdvance||0}}return 0},vc.prototype.getKerningTables=function(x,A){if(this.font.tables.gpos)return this.getLookupTables(x,A,"kern",2)},(Vo.prototype=yc.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Vo.prototype.getSingle=function(x,A,N){for(var R=[],z=this.getLookupTables(A,N,x,1),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++){var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=void 0;if(fe.substFormat===1)for(var Ie=fe.deltaGlyphId,Ee=0;Ee<de.length;Ee++){var Te=de[Ee];R.push({sub:Te,by:Te+Ie})}else{var be=fe.substitute;for(Ee=0;Ee<de.length;Ee++)R.push({sub:de[Ee],by:be[Ee]})}}return R},Vo.prototype.getAlternates=function(x,A,N){for(var R=[],z=this.getLookupTables(A,N,x,3),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++)for(var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=fe.alternateSets,Ie=0;Ie<de.length;Ie++)R.push({sub:de[Ie],by:Ee[Ie]});return R},Vo.prototype.getLigatures=function(x,A,N){for(var R=[],z=this.getLookupTables(A,N,x,4),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++)for(var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=fe.ligatureSets,Ie=0;Ie<de.length;Ie++)for(var Te=de[Ie],be=Ee[Ie],Ve=0;Ve<be.length;Ve++){var Fe=be[Ve];R.push({sub:[Te].concat(Fe.components),by:Fe.ligGlyph})}return R},Vo.prototype.addSingle=function(x,A,N,R){N=Qb(this.getLookupTables(N,R,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),T.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),R=A.sub,x=this.binSearch(N.coverage.glyphs,R),x<0&&(N.coverage.glyphs.splice(x=-1-x,0,R),N.substitute.splice(x,0,0)),N.substitute[x]=A.by},Vo.prototype.addAlternate=function(x,A,N,R){N=Qb(this.getLookupTables(N,R,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),T.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),R=A.sub,x=this.binSearch(N.coverage.glyphs,R),x<0&&(N.coverage.glyphs.splice(x=-1-x,0,R),N.alternateSets.splice(x,0,0)),N.alternateSets[x]=A.by},Vo.prototype.addLigature=function($,fe,ne,z){var ne=this.getLookupTables(ne,z,$,4,!0)[0],z=ne.subtables[0],$=(z||(ne.subtables[0]=z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),T.assert(z.coverage.format===1,"Ligature: unable to modify coverage table format "+z.coverage.format),fe.sub[0]),Z=fe.sub.slice(1),ne={ligGlyph:fe.by,components:Z},fe=this.binSearch(z.coverage.glyphs,$);if(0<=fe){for(var de=z.ligatureSets[fe],Ee=0;Ee<de.length;Ee++)if(function(Ie,Te){var be=Ie.length;if(be===Te.length){for(var Ve=0;Ve<be;Ve++)if(Ie[Ve]!==Te[Ve])return;return 1}}(de[Ee].components,Z))return;de.push(ne)}else z.coverage.glyphs.splice(fe=-1-fe,0,$),z.ligatureSets.splice(fe,0,[ne])},Vo.prototype.getFeature=function(x,A,N){if(/ss\d\d/.test(x))return this.getSingle(x,A,N);switch(x){case"aalt":case"salt":return this.getSingle(x,A,N).concat(this.getAlternates(x,A,N));case"dlig":case"liga":case"rlig":return this.getLigatures(x,A,N)}},Vo.prototype.add=function(x,A,N,R){if(/ss\d\d/.test(x))return this.addSingle(x,A,N,R);switch(x){case"aalt":case"salt":return typeof A.by=="number"?this.addSingle(x,A,N,R):this.addAlternate(x,A,N,R);case"dlig":case"liga":case"rlig":return this.addLigature(x,A,N,R)}};var t1={getPath:e1,parse:function(x,A,N,R){for(var z=new lt.GlyphSet(R),$=0;$<N.length-1;$+=1){var Z=N[$];Z!==N[$+1]?z.push($,lt.ttfGlyphLoader(R,$,sA,x,A+Z,aA)):z.push($,lt.glyphLoader(R,$))}return z}};function r1(x){this.font=x,this.getCommands=function(A){return t1.getPath(A).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function lA(x){return x}function n1(x){return Math.sign(x)*Math.round(Math.abs(x))}function uA(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function cA(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function dA(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function fA(x){return Math.sign(x)*Math.floor(Math.abs(x))}function o1(x){var A=this.srPeriod,N=this.srPhase,R=1;return x<0&&(x=-x,R=-1),x+=this.srThreshold-N,x=Math.trunc(x/A)*A,(x+=N)<0?N*R:x*R}var Uo={x:1,y:0,axis:"x",distance:function(x,A,N,R){return(N?x.xo:x.x)-(R?A.xo:A.x)},interpolate:function(x,A,N,R){var z,$,Z,ne,fe,de,Ee;if(!R||R===this)return z=x.xo-A.xo,$=x.xo-N.xo,fe=A.x-A.xo,de=N.x-N.xo,(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?void(x.x=x.xo+(fe+de)/2):void(x.x=x.xo+(fe*ne+de*Z)/Ee);z=R.distance(x,A,!0,!0),$=R.distance(x,N,!0,!0),fe=R.distance(A,A,!1,!0),de=R.distance(N,N,!1,!0),(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?Uo.setRelative(x,x,(fe+de)/2,R,!0):Uo.setRelative(x,x,(fe*ne+de*Z)/Ee,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,A,N,R,z){var $,Z;R&&R!==this?($=z?A.xo:A.x,Z=z?A.yo:A.y,$+=N*R.x,Z+=N*R.y,x.x=$+(x.y-Z)/R.normalSlope):x.x=(z?A.xo:A.x)+N},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},pi={x:0,y:1,axis:"y",distance:function(x,A,N,R){return(N?x.yo:x.y)-(R?A.yo:A.y)},interpolate:function(x,A,N,R){var z,$,Z,ne,fe,de,Ee;if(!R||R===this)return z=x.yo-A.yo,$=x.yo-N.yo,fe=A.y-A.yo,de=N.y-N.yo,(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?void(x.y=x.yo+(fe+de)/2):void(x.y=x.yo+(fe*ne+de*Z)/Ee);z=R.distance(x,A,!0,!0),$=R.distance(x,N,!0,!0),fe=R.distance(A,A,!1,!0),de=R.distance(N,N,!1,!0),(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?pi.setRelative(x,x,(fe+de)/2,R,!0):pi.setRelative(x,x,(fe*ne+de*Z)/Ee,R,!0)},normalSlope:0,setRelative:function(x,A,N,R,z){var $,Z;R&&R!==this?($=z?A.xo:A.x,Z=z?A.yo:A.y,$+=N*R.x,Z+=N*R.y,x.y=Z+R.normalSlope*(x.x-$)):x.y=(z?A.yo:A.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function Gl(x,A){this.x=x,this.y=A,this.axis=void 0,this.slope=A/x,this.normalSlope=-x/A,Object.freeze(this)}function Hl(x,A){var N=Math.sqrt(x*x+A*A);return A/=N,(x/=N)===1&&A===0?Uo:x===0&&A===1?pi:new Gl(x,A)}function mi(x,A,N,R){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*A)/64,this.lastPointOfContour=N,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Uo),Object.freeze(pi),Gl.prototype.distance=function(x,A,N,R){return this.x*Uo.distance(x,A,N,R)+this.y*pi.distance(x,A,N,R)},Gl.prototype.interpolate=function(x,z,$,R){var Z=R.distance(x,z,!0,!0),ne=R.distance(x,$,!0,!0),z=R.distance(z,z,!1,!0),$=R.distance($,$,!1,!0),Z=Math.abs(Z),ne=Math.abs(ne),fe=Z+ne;fe===0?this.setRelative(x,x,(z+$)/2,R,!0):this.setRelative(x,x,(z*ne+$*Z)/fe,R,!0)},Gl.prototype.setRelative=function(x,$,fe,de,ne){var Z=ne?$.xo:$.x,ne=ne?$.yo:$.y,$=Z+fe*(de=de||this).x,Z=ne+fe*de.y,ne=de.normalSlope,fe=this.slope,de=x.x,Ee=x.y;x.x=(fe*de-ne*$+Z-Ee)/(fe-ne),x.y=fe*(x.x-de)+Ee},Gl.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},mi.prototype.nextTouched=function(x){for(var A=this.nextPointOnContour;!x.touched(A)&&A!==this;)A=A.nextPointOnContour;return A},mi.prototype.prevTouched=function(x){for(var A=this.prevPointOnContour;!x.touched(A)&&A!==this;)A=A.prevPointOnContour;return A};var ql=Object.freeze(new mi(0,0)),hA={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Bi(x,A){switch(this.env=x,this.stack=[],this.prog=A,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Uo,this.round=n1}}function bc(x){for(var A=x.tZone=new Array(x.gZone.length),N=0;N<A.length;N++)A[N]=new mi(0,0)}function i1(x,A){var N,R=x.prog,z=x.ip,$=1;do if((N=R[++z])===88)$++;else if(N===89)$--;else if(N===64)z+=R[z+1]+1;else if(N===65)z+=2*R[z+1]+1;else if(176<=N&&N<=183)z+=N-176+1;else if(184<=N&&N<=191)z+=2*(N-184+1);else if(A&&$===1&&N===27)break;while(0<$);x.ip=z}function s1(x,A){c.DEBUG&&console.log(A.step,"SVTCA["+x.axis+"]"),A.fv=A.pv=A.dpv=x}function a1(x,A){c.DEBUG&&console.log(A.step,"SPVTCA["+x.axis+"]"),A.pv=A.dpv=x}function l1(x,A){c.DEBUG&&console.log(A.step,"SFVTCA["+x.axis+"]"),A.fv=x}function u1(x,A){var N,z=A.stack,R=z.pop(),z=z.pop(),$=A.z2[R],Z=A.z1[z];c.DEBUG&&console.log("SPVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),A.pv=A.dpv=Hl(N,R)}function c1(x,A){var N,z=A.stack,R=z.pop(),z=z.pop(),$=A.z2[R],Z=A.z1[z];c.DEBUG&&console.log("SFVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),A.fv=Hl(N,R)}function bp(x){c.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function d1(x,A){var N=A.stack.pop(),R=A.z0[N],z=A.fv,$=A.pv,Z=(c.DEBUG&&console.log(A.step,"MDAP["+x+"]",N),$.distance(R,ql));x&&(Z=A.round(Z)),z.setRelative(R,ql,Z,$),z.touch(R),A.rp0=A.rp1=N}function f1(x,A){var N,R,z,$=A.z2,Z=$.length-2;c.DEBUG&&console.log(A.step,"IUP["+x.axis+"]");for(var ne=0;ne<Z;ne++)N=$[ne],x.touched(N)||(R=N.prevTouched(x))!==N&&(R===(z=N.nextTouched(x))&&x.setRelative(N,N,x.distance(R,R,!1,!0),x,!0),x.interpolate(N,R,z,x))}function h1(x,A){for(var N=A.stack,R=x?A.rp1:A.rp2,z=(x?A.z0:A.z1)[R],$=A.fv,Z=A.pv,ne=A.loop,fe=A.z2;ne--;){var de=N.pop(),Ee=fe[de],Ie=Z.distance(z,z,!1,!0);$.setRelative(Ee,Ee,Ie,Z),$.touch(Ee),c.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-ne)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",de)}A.loop=1}function p1(x,A){for(var N=A.stack,Z=x?A.rp1:A.rp2,R=(x?A.z0:A.z1)[Z],z=A.fv,$=A.pv,Z=N.pop(),ne=A.z2[A.contours[Z]],fe=ne,de=(c.DEBUG&&console.log(A.step,"SHC["+x+"]",Z),$.distance(R,R,!1,!0));fe!==R&&z.setRelative(fe,fe,de,$),(fe=fe.nextPointOnContour)!==ne;);}function m1(x,A){var N,R,ne=A.stack,z=x?A.rp1:A.rp2,z=(x?A.z0:A.z1)[z],$=A.fv,Z=A.pv,ne=ne.pop();switch(c.DEBUG&&console.log(A.step,"SHZ["+x+"]",ne),ne){case 0:N=A.tZone;break;case 1:N=A.gZone;break;default:throw new Error("Invalid zone")}for(var fe=Z.distance(z,z,!1,!0),de=N.length-2,Ee=0;Ee<de;Ee++)R=N[Ee],$.setRelative(R,R,fe,Z)}function g1(x,A){var R=A.stack,N=R.pop()/64,R=R.pop(),z=A.z1[R],$=A.z0[A.rp0],Z=A.fv,ne=A.pv;Z.setRelative(z,$,N,ne),Z.touch(z),c.DEBUG&&console.log(A.step,"MSIRP["+x+"]",N,R),A.rp1=A.rp0,A.rp2=R,x&&(A.rp0=R)}function y1(x,A){var N=A.stack,ne=N.pop(),N=N.pop(),R=A.z0[N],z=A.fv,$=A.pv,Z=A.cvt[ne],ne=(c.DEBUG&&console.log(A.step,"MIAP["+x+"]",ne,"(",Z,")",N),$.distance(R,ql));x&&(Math.abs(ne-Z)<A.cvCutIn&&(ne=Z),ne=A.round(ne)),z.setRelative(R,ql,ne,$),A.zp0===0&&(R.xo=R.x,R.yo=R.y),z.touch(R),A.rp0=A.rp1=N}function v1(x,A){var N=A.stack,R=N.pop(),z=A.z2[R];c.DEBUG&&console.log(A.step,"GC["+x+"]",R),N.push(64*A.dpv.distance(z,ql,x,!1))}function b1(x,A){var R=A.stack,N=R.pop(),R=R.pop(),z=A.z1[N],$=A.z0[R],$=A.dpv.distance($,z,x,x);c.DEBUG&&console.log(A.step,"MD["+x+"]",N,R,"->",$),A.stack.push(Math.round(64*$))}function wp(x,A){var N=A.stack,R=N.pop(),z=A.fv,$=A.pv,Z=A.ppem,ne=A.deltaBase+16*(x-1),fe=A.deltaShift,de=A.z0;c.DEBUG&&console.log(A.step,"DELTAP["+x+"]",R,N);for(var Ee=0;Ee<R;Ee++){var Ie=N.pop(),Te=N.pop();ne+((240&Te)>>4)===Z&&(0<=(Te=(15&Te)-8)&&Te++,c.DEBUG&&console.log(A.step,"DELTAPFIX",Ie,"by",Te*fe),Ie=de[Ie],z.setRelative(Ie,Ie,Te*fe,$))}}function wc(x,A){var N=A.stack,R=N.pop();c.DEBUG&&console.log(A.step,"ROUND[]"),N.push(64*A.round(R/64))}function _p(x,A){var N=A.stack,R=N.pop(),z=A.ppem,$=A.deltaBase+16*(x-1),Z=A.deltaShift;c.DEBUG&&console.log(A.step,"DELTAC["+x+"]",R,N);for(var ne=0;ne<R;ne++){var fe=N.pop(),de=N.pop();$+((240&de)>>4)===z&&(0<=(de=(15&de)-8)&&de++,de=de*Z,c.DEBUG&&console.log(A.step,"DELTACFIX",fe,"by",de),A.cvt[fe]+=de)}}function w1(x,A){var N,z=A.stack,R=z.pop(),z=z.pop(),$=A.z2[R],Z=A.z1[z];c.DEBUG&&console.log(A.step,"SDPVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),A.dpv=Hl(N,R)}function Vi(x,A){var N=A.stack,R=A.prog,z=A.ip;c.DEBUG&&console.log(A.step,"PUSHB["+x+"]");for(var $=0;$<x;$++)N.push(R[++z]);A.ip=z}function Ui(x,A){var N=A.ip,R=A.prog,z=A.stack;c.DEBUG&&console.log(A.ip,"PUSHW["+x+"]");for(var $=0;$<x;$++){var Z=R[++N]<<8|R[++N];32768&Z&&(Z=-(1+(65535^Z))),z.push(Z)}A.ip=N}function ht(x,A,N,R,z,$){var Z,ne,de=$.stack,fe=x&&de.pop(),de=de.pop(),Ee=$.rp0,Ee=$.z0[Ee],Ie=$.z1[de],Te=$.minDis,be=$.fv,Ve=$.dpv,Fe=Z=Ve.distance(Ie,Ee,!0,!0),Re=0<=Fe?1:-1;Fe=Math.abs(Fe),x&&(ne=$.cvt[fe],R&&Math.abs(Fe-ne)<$.cvCutIn&&(Fe=ne)),N&&Fe<Te&&(Fe=Te),R&&(Fe=$.round(Fe)),be.setRelative(Ie,Ee,Re*Fe,Ve),be.touch(Ie),c.DEBUG&&console.log($.step,(x?"MIRP[":"MDRP[")+(A?"M":"m")+(N?">":"_")+(R?"R":"_")+(z===0?"Gr":z===1?"Bl":z===2?"Wh":"")+"]",x?fe+"("+$.cvt[fe]+","+ne+")":"",de,"(d =",Z,"->",Re*Fe,")"),$.rp1=$.rp0,$.rp2=de,A&&($.rp0=de)}r1.prototype.exec=function(x,A){if(typeof A!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,R=this._prepState;if(!R||R.ppem!==A){var z=this._fpgmState;if(!z){Bi.prototype=hA,(z=this._fpgmState=new Bi("fpgm",N.tables.fpgm)).funcs=[],z.font=N,c.DEBUG&&(console.log("---EXEC FPGM---"),z.step=-1);try{pa(z)}catch(de){return console.log("Hinting error in FPGM:"+de),void(this._errorState=3)}}Bi.prototype=z,(R=this._prepState=new Bi("prep",N.tables.prep)).ppem=A;var $=N.tables.cvt;if($)for(var Z=R.cvt=new Array($.length),ne=A/N.unitsPerEm,fe=0;fe<$.length;fe++)Z[fe]=$[fe]*ne;else R.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{pa(R)}catch(de){this._errorState<2&&console.log("Hinting error in PREP:"+de),this._errorState=2}}if(!(1<this._errorState))try{return pA(x,R)}catch(de){this._errorState<1&&(console.log("Hinting error:"+de),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var pA=function(x,A){var N=A.ppem/A.font.unitsPerEm,R=N,z=x.components;if(Bi.prototype=A,z){for(var $=A.font,Z=[],ne=[],fe=0;fe<z.length;fe++){var de=z[fe],Ee=$.glyphs.get(de.glyphIndex),Ie=new Bi("glyf",Ee.instructions);c.DEBUG&&(console.log("---EXEC COMP "+fe+"---"),Ie.step=-1),_1(Ee,Ie,N,R);for(var Te=Math.round(de.dx*N),be=Math.round(de.dy*R),Ve=Ie.gZone,Fe=Ie.contours,Re=0;Re<Ve.length;Re++){var Ne=Ve[Re];Ne.xTouched=Ne.yTouched=!1,Ne.xo=Ne.x=Ne.x+Te,Ne.yo=Ne.y=Ne.y+be}var Oe=Z.length;Z.push.apply(Z,Ve);for(var yt=0;yt<Fe.length;yt++)ne.push(Fe[yt]+Oe)}x.instructions&&!Ie.inhibitGridFit&&((Ie=new Bi("glyf",x.instructions)).gZone=Ie.z0=Ie.z1=Ie.z2=Z,Ie.contours=ne,Z.push(new mi(0,0),new mi(Math.round(x.advanceWidth*N),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ie.step=-1),pa(Ie),Z.length-=2)}else Ie=new Bi("glyf",x.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Ie.step=-1),_1(x,Ie,N,R),Z=Ie.gZone;return Z},_1=function(x,A,N,R){for(var z,$,Z,ne=x.points||[],fe=ne.length,de=A.gZone=A.z0=A.z1=A.z2=[],Ee=A.contours=[],Ie=0;Ie<fe;Ie++)z=ne[Ie],de[Ie]=new mi(z.x*N,z.y*R,z.lastPointOfContour,z.onCurve);for(var Te=0;Te<fe;Te++)z=de[Te],$||($=z,Ee.push(Te)),z.lastPointOfContour?((z.nextPointOnContour=$).prevPointOnContour=z,$=void 0):(Z=de[Te+1],(z.nextPointOnContour=Z).prevPointOnContour=z);if(!A.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",A.stack);for(var be=0;be<fe;be++)console.log(be,de[be].x,de[be].y)}if(de.push(new mi(0,0),new mi(Math.round(x.advanceWidth*N),0)),pa(A),de.length-=2,c.DEBUG){console.log("FINISHED GLYPH",A.stack);for(var Ve=0;Ve<fe;Ve++)console.log(Ve,de[Ve].x,de[Ve].y)}}},pa=function(x){var A=x.prog;if(A){var N,R=A.length;for(x.ip=0;x.ip<R;x.ip++){if(c.DEBUG&&x.step++,!(N=mA[A[x.ip]]))throw new Error("unknown instruction: 0x"+Number(A[x.ip]).toString(16));N(x)}}},mA=[s1.bind(void 0,pi),s1.bind(void 0,Uo),a1.bind(void 0,pi),a1.bind(void 0,Uo),l1.bind(void 0,pi),l1.bind(void 0,Uo),u1.bind(void 0,0),u1.bind(void 0,1),c1.bind(void 0,0),c1.bind(void 0,1),function(x){var A=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"SPVFS[]",A,N),x.pv=x.dpv=Hl(N,A)},function(x){var A=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"SPVFS[]",A,N),x.fv=Hl(N,A)},function(x){var A=x.stack,N=x.pv;c.DEBUG&&console.log(x.step,"GPV[]"),A.push(16384*N.x),A.push(16384*N.y)},function(x){var A=x.stack,N=x.fv;c.DEBUG&&console.log(x.step,"GFV[]"),A.push(16384*N.x),A.push(16384*N.y)},function(x){x.fv=x.pv,c.DEBUG&&console.log(x.step,"SFVTPV[]")},function(A){var N=(Z=A.stack).pop(),R=Z.pop(),z=Z.pop(),$=Z.pop(),Z=Z.pop(),fe=A.z0,Ee=A.z1,ne=fe[N],fe=fe[R],de=Ee[z],Ee=Ee[$],A=A.z2[Z],N=(c.DEBUG&&console.log("ISECT[], ",N,R,z,$,Z),ne.x),R=ne.y,z=fe.x,$=fe.y,Z=de.x,ne=de.y,fe=Ee.x,de=Ee.y,Ee=(N-z)*(ne-de)-(R-$)*(Z-fe),Ie=N*$-R*z,Te=Z*de-ne*fe;A.x=(Ie*(Z-fe)-Te*(N-z))/Ee,A.y=(Ie*(ne-de)-Te*(R-$))/Ee},function(x){x.rp0=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var A=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP0[]",A),x.zp0=A){case 0:x.tZone||bc(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var A=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP1[]",A),x.zp1=A){case 0:x.tZone||bc(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var A=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP2[]",A),x.zp2=A){case 0:x.tZone||bc(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var A=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZPS[]",A),x.zp0=x.zp1=x.zp2=A){case 0:x.tZone||bc(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),c.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){c.DEBUG&&console.log(x.step,"RTG[]"),x.round=n1},function(x){c.DEBUG&&console.log(x.step,"RTHG[]"),x.round=cA},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SMD[]",A),x.minDis=A/64},function(x){c.DEBUG&&console.log(x.step,"ELSE[]"),i1(x,!1)},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"JMPR[]",A),x.ip+=A-1},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SCVTCI[]",A),x.cvCutIn=A/64},void 0,void 0,function(x){var A=x.stack;c.DEBUG&&console.log(x.step,"DUP[]"),A.push(A[A.length-1])},bp,function(x){c.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"SWAP[]"),A.push(N),A.push(R)},function(x){var A=x.stack;c.DEBUG&&console.log(x.step,"DEPTH[]"),A.push(A.length)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"CINDEX[]",N),A.push(A[A.length-N])},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"MINDEX[]",N),A.push(A.splice(A.length-N,1)[0])},void 0,void 0,void 0,function(x){var A=(R=x.stack).pop(),N=R.pop(),R=(c.DEBUG&&console.log(x.step,"LOOPCALL[]",A,N),x.ip),z=x.prog;x.prog=x.funcs[A];for(var $=0;$<N;$++)pa(x),c.DEBUG&&console.log(++x.step,$+1<N?"next loopcall":"done loopcall",$);x.ip=R,x.prog=z},function(x){var A=x.stack.pop(),N=(c.DEBUG&&console.log(x.step,"CALL[]",A),x.ip),R=x.prog;x.prog=x.funcs[A],pa(x),x.ip=N,x.prog=R,c.DEBUG&&console.log(++x.step,"returning from",A)},function(x){if(x.env!=="fpgm")throw new Error("FDEF not allowed here");var R=x.stack,A=x.prog,N=x.ip,R=R.pop(),z=N;for(c.DEBUG&&console.log(x.step,"FDEF[]",R);A[++N]!==45;);x.ip=N,x.funcs[R]=A.slice(z+1,N)},void 0,d1.bind(void 0,0),d1.bind(void 0,1),f1.bind(void 0,pi),f1.bind(void 0,Uo),h1.bind(void 0,0),h1.bind(void 0,1),p1.bind(void 0,0),p1.bind(void 0,1),m1.bind(void 0,0),m1.bind(void 0,1),function(x){for(var A=x.stack,N=x.loop,R=x.fv,z=A.pop()/64,$=x.z2;N--;){var Z=A.pop(),ne=$[Z];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-N)+": ":"")+"SHPIX[]",Z,z),R.setRelative(ne,ne,z),R.touch(ne)}x.loop=1},function(x){for(var A=x.stack,N=x.rp1,R=x.rp2,z=x.loop,$=x.z0[N],Z=x.z1[R],ne=x.fv,fe=x.dpv,de=x.z2;z--;){var Ee=A.pop(),Ie=de[Ee];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-z)+": ":"")+"IP[]",Ee,N,"<->",R),ne.interpolate(Ie,$,Z,fe),ne.touch(Ie)}x.loop=1},g1.bind(void 0,0),g1.bind(void 0,1),function(x){for(var A=x.stack,N=x.rp0,R=x.z0[N],z=x.loop,$=x.fv,Z=x.pv,ne=x.z1;z--;){var fe=A.pop(),de=ne[fe];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-z)+": ":"")+"ALIGNRP[]",fe),$.setRelative(de,R,0,Z),$.touch(de)}x.loop=1},function(x){c.DEBUG&&console.log(x.step,"RTDG[]"),x.round=uA},y1.bind(void 0,0),y1.bind(void 0,1),function(x){var A=x.prog,N=x.ip,R=x.stack,z=A[++N];c.DEBUG&&console.log(x.step,"NPUSHB[]",z);for(var $=0;$<z;$++)R.push(A[++N]);x.ip=N},function(x){var A=x.ip,N=x.prog,R=x.stack,z=N[++A];c.DEBUG&&console.log(x.step,"NPUSHW[]",z);for(var $=0;$<z;$++){var Z=N[++A]<<8|N[++A];32768&Z&&(Z=-(1+(65535^Z))),R.push(Z)}x.ip=A},function(x){var R=x.stack,A=(A=x.store)||(x.store=[]),N=R.pop(),R=R.pop();c.DEBUG&&console.log(x.step,"WS",N,R),A[R]=N},function(z){var A=z.stack,N=z.store,R=A.pop(),z=(c.DEBUG&&console.log(z.step,"RS",R),N&&N[R]||0);A.push(z)},function(x){var A=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"WCVTP",A,N),x.cvt[N]=A/64},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"RCVT",N),A.push(64*x.cvt[N])},v1.bind(void 0,0),v1.bind(void 0,1),void 0,b1.bind(void 0,0),b1.bind(void 0,1),function(x){c.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){c.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"LT[]",N,R),A.push(R<N?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"LTEQ[]",N,R),A.push(R<=N?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"GT[]",N,R),A.push(N<R?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"GTEQ[]",N,R),A.push(N<=R?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"EQ[]",N,R),A.push(N===R?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"NEQ[]",N,R),A.push(N!==R?1:0)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"ODD[]",N),A.push(Math.trunc(N)%2?1:0)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"EVEN[]",N),A.push(Math.trunc(N)%2?0:1)},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"IF[]",A),A||(i1(x,!0),c.DEBUG&&console.log(x.step,"EIF[]"))},function(x){c.DEBUG&&console.log(x.step,"EIF[]")},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"AND[]",N,R),A.push(N&&R?1:0)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"OR[]",N,R),A.push(N||R?1:0)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"NOT[]",N),A.push(N?0:1)},wp.bind(void 0,1),function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SDB[]",A),x.deltaBase=A},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SDS[]",A),x.deltaShift=Math.pow(.5,A)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"ADD[]",N,R),A.push(R+N)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"SUB[]",N,R),A.push(R-N)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"DIV[]",N,R),A.push(64*R/N)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"MUL[]",N,R),A.push(R*N/64)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"ABS[]",N),A.push(Math.abs(N))},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"NEG[]",N),A.push(-N)},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"FLOOR[]",N),A.push(64*Math.floor(N/64))},function(x){var A=x.stack,N=A.pop();c.DEBUG&&console.log(x.step,"CEILING[]",N),A.push(64*Math.ceil(N/64))},wc.bind(void 0,0),wc.bind(void 0,1),wc.bind(void 0,2),wc.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var A=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"WCVTF[]",A,N),x.cvt[N]=A*x.ppem/x.font.unitsPerEm},wp.bind(void 0,2),wp.bind(void 0,3),_p.bind(void 0,1),_p.bind(void 0,2),_p.bind(void 0,3),function(x){var A,N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SROUND[]",N),x.round=o1,192&N){case 0:A=.5;break;case 64:A=1;break;case 128:A=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=A,48&N){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*A;break;case 32:x.srPhase=.5*A;break;case 48:x.srPhase=.75*A;break;default:throw new Error("invalid SROUND value")}x.srThreshold=(N&=15)===0?0:(N/8-.5)*A},function(x){var A,N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"S45ROUND[]",N),x.round=o1,192&N){case 0:A=Math.sqrt(2)/2;break;case 64:A=Math.sqrt(2);break;case 128:A=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=A,48&N){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*A;break;case 32:x.srPhase=.5*A;break;case 48:x.srPhase=.75*A;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=(N&=15)===0?0:(N/8-.5)*A},void 0,void 0,function(x){c.DEBUG&&console.log(x.step,"ROFF[]"),x.round=lA},void 0,function(x){c.DEBUG&&console.log(x.step,"RUTG[]"),x.round=dA},function(x){c.DEBUG&&console.log(x.step,"RDTG[]"),x.round=fA},bp,bp,void 0,void 0,void 0,void 0,void 0,function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SCANCTRL[]",A)},w1.bind(void 0,0),w1.bind(void 0,1),function(x){var A=x.stack,N=A.pop(),R=0;c.DEBUG&&console.log(x.step,"GETINFO[]",N),1&N&&(R=35),32&N&&(R|=4096),A.push(R)},void 0,function(x){var A=x.stack,N=A.pop(),R=A.pop(),z=A.pop();c.DEBUG&&console.log(x.step,"ROLL[]"),A.push(R),A.push(N),A.push(z)},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"MAX[]",N,R),A.push(Math.max(R,N))},function(x){var A=x.stack,N=A.pop(),R=A.pop();c.DEBUG&&console.log(x.step,"MIN[]",N,R),A.push(Math.min(R,N))},function(x){var A=x.stack.pop();c.DEBUG&&console.log(x.step,"SCANTYPE[]",A)},function(x){var A=x.stack.pop(),N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"INSTCTRL[]",A,N),A){case 1:return void(x.inhibitGridFit=!!N);case 2:return void(x.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Vi.bind(void 0,1),Vi.bind(void 0,2),Vi.bind(void 0,3),Vi.bind(void 0,4),Vi.bind(void 0,5),Vi.bind(void 0,6),Vi.bind(void 0,7),Vi.bind(void 0,8),Ui.bind(void 0,1),Ui.bind(void 0,2),Ui.bind(void 0,3),Ui.bind(void 0,4),Ui.bind(void 0,5),Ui.bind(void 0,6),Ui.bind(void 0,7),Ui.bind(void 0,8),ht.bind(void 0,0,0,0,0,0),ht.bind(void 0,0,0,0,0,1),ht.bind(void 0,0,0,0,0,2),ht.bind(void 0,0,0,0,0,3),ht.bind(void 0,0,0,0,1,0),ht.bind(void 0,0,0,0,1,1),ht.bind(void 0,0,0,0,1,2),ht.bind(void 0,0,0,0,1,3),ht.bind(void 0,0,0,1,0,0),ht.bind(void 0,0,0,1,0,1),ht.bind(void 0,0,0,1,0,2),ht.bind(void 0,0,0,1,0,3),ht.bind(void 0,0,0,1,1,0),ht.bind(void 0,0,0,1,1,1),ht.bind(void 0,0,0,1,1,2),ht.bind(void 0,0,0,1,1,3),ht.bind(void 0,0,1,0,0,0),ht.bind(void 0,0,1,0,0,1),ht.bind(void 0,0,1,0,0,2),ht.bind(void 0,0,1,0,0,3),ht.bind(void 0,0,1,0,1,0),ht.bind(void 0,0,1,0,1,1),ht.bind(void 0,0,1,0,1,2),ht.bind(void 0,0,1,0,1,3),ht.bind(void 0,0,1,1,0,0),ht.bind(void 0,0,1,1,0,1),ht.bind(void 0,0,1,1,0,2),ht.bind(void 0,0,1,1,0,3),ht.bind(void 0,0,1,1,1,0),ht.bind(void 0,0,1,1,1,1),ht.bind(void 0,0,1,1,1,2),ht.bind(void 0,0,1,1,1,3),ht.bind(void 0,1,0,0,0,0),ht.bind(void 0,1,0,0,0,1),ht.bind(void 0,1,0,0,0,2),ht.bind(void 0,1,0,0,0,3),ht.bind(void 0,1,0,0,1,0),ht.bind(void 0,1,0,0,1,1),ht.bind(void 0,1,0,0,1,2),ht.bind(void 0,1,0,0,1,3),ht.bind(void 0,1,0,1,0,0),ht.bind(void 0,1,0,1,0,1),ht.bind(void 0,1,0,1,0,2),ht.bind(void 0,1,0,1,0,3),ht.bind(void 0,1,0,1,1,0),ht.bind(void 0,1,0,1,1,1),ht.bind(void 0,1,0,1,1,2),ht.bind(void 0,1,0,1,1,3),ht.bind(void 0,1,1,0,0,0),ht.bind(void 0,1,1,0,0,1),ht.bind(void 0,1,1,0,0,2),ht.bind(void 0,1,1,0,0,3),ht.bind(void 0,1,1,0,1,0),ht.bind(void 0,1,1,0,1,1),ht.bind(void 0,1,1,0,1,2),ht.bind(void 0,1,1,0,1,3),ht.bind(void 0,1,1,1,0,0),ht.bind(void 0,1,1,1,0,1),ht.bind(void 0,1,1,1,0,2),ht.bind(void 0,1,1,1,0,3),ht.bind(void 0,1,1,1,1,0),ht.bind(void 0,1,1,1,1,1),ht.bind(void 0,1,1,1,1,2),ht.bind(void 0,1,1,1,1,3)],gA=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function yr(x){(x=x||{}).empty||(ha(x.familyName,"When creating a new Font object, familyName is required."),ha(x.styleName,"When creating a new Font object, styleName is required."),ha(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ha(x.ascender,"When creating a new Font object, ascender is required."),ha(x.descender,"When creating a new Font object, descender is required."),ha(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new lt.GlyphSet(this,x.glyphs||[]),this.encoding=new ye(this),this.position=new vc(this),this.substitution=new Vo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new r1(this):void 0)}})}function x1(x,A){var N,R=JSON.stringify(x),z=256;for(N in A){var $=parseInt(N);if($&&!($<256)){if(JSON.stringify(A[N])===R)return $;z<=$&&(z=$+1)}}return A[z]=x,z}yr.prototype.hasChar=function(x){return this.encoding.charToGlyphIndex(x)!==null},yr.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},yr.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},yr.prototype.stringToGlyphs=function(x,A){A=A||this.defaultRenderOptions;for(var N=gA(x),R=[],z=0;z<N.length;z+=1){var $=N[z];R.push(this.charToGlyphIndex($))}var Z=R.length;if(A.features){var x=A.script||this.substitution.getDefaultScriptName(),ne=[];A.features.liga&&(ne=ne.concat(this.substitution.getFeature("liga",x,A.language))),A.features.rlig&&(ne=ne.concat(this.substitution.getFeature("rlig",x,A.language)));for(var fe=0;fe<Z;fe+=1)for(var de=0;de<ne.length;de++){for(var Ee=ne[de],Ie=Ee.sub,Te=Ie.length,be=0;be<Te&&Ie[be]===R[fe+be];)be++;be===Te&&(R.splice(fe,Te,Ee.by),Z=Z-Te+1)}}for(var Ve=new Array(Z),Fe=this.glyphs.get(0),Re=0;Re<Z;Re+=1)Ve[Re]=this.glyphs.get(R[Re])||Fe;return Ve},yr.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},yr.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},yr.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},yr.prototype.getKerningValue=function(x,A){x=x.index||x,A=A.index||A;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,x,A):this.kerningPairs[x+","+A]||0},yr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},yr.prototype.forEachGlyph=function(x,A,N,R,z,$){A=A!==void 0?A:0,N=N!==void 0?N:0,z=z||this.defaultRenderOptions;var Z,ne=1/this.unitsPerEm*(R=R!==void 0?R:72),fe=this.stringToGlyphs(x,z);z.kerning&&(x=z.script||this.position.getDefaultScriptName(),Z=this.position.getKerningTables(x,z.language));for(var de=0;de<fe.length;de+=1){var Ee=fe[de];$.call(this,Ee,A,N,R,z),Ee.advanceWidth&&(A+=Ee.advanceWidth*ne),z.kerning&&de<fe.length-1&&(A+=(Z?this.position.getKerningValue(Z,Ee.index,fe[de+1].index):this.getKerningValue(Ee,fe[de+1]))*ne),z.letterSpacing?A+=z.letterSpacing*R:z.tracking&&(A+=z.tracking/1e3*R)}return A},yr.prototype.getPath=function(x,A,N,R,z){var $=new Q;return this.forEachGlyph(x,A,N,R,z,function(Z,ne,fe,de){Z=Z.getPath(ne,fe,de,z,this),$.extend(Z)}),$},yr.prototype.getPaths=function(x,A,N,R,z){var $=[];return this.forEachGlyph(x,A,N,R,z,function(Z,ne,fe,de){Z=Z.getPath(ne,fe,de,z,this),$.push(Z)}),$},yr.prototype.getAdvanceWidth=function(x,A,N){return this.forEachGlyph(x,0,0,A,N,function(){})},yr.prototype.draw=function(x,A,N,R,z,$){this.getPath(A,N,R,z,$).draw(x)},yr.prototype.drawPoints=function(x,A,N,R,z,$){this.forEachGlyph(A,N,R,z,$,function(Z,ne,fe,de){Z.drawPoints(x,ne,fe,de)})},yr.prototype.drawMetrics=function(x,A,N,R,z,$){this.forEachGlyph(A,N,R,z,$,function(Z,ne,fe,de){Z.drawMetrics(x,ne,fe,de)})},yr.prototype.getEnglishName=function(x){if(x=this.names[x],x)return x.en},yr.prototype.validate=function(){var x=this;function A(N){N=x.getEnglishName(N),N&&N.trim().length}A("fontFamily"),A("weightName"),A("manufacturer"),A("copyright"),A("version"),this.unitsPerEm},yr.prototype.toTables=function(){return iA.fontToTable(this)},yr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},yr.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),A=new ArrayBuffer(x.length),N=new Uint8Array(A),R=0;R<x.length;R++)N[R]=x[R];return A},yr.prototype.download=function(x){var A=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),R=(x=x||A.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(z){z.root.getFile(x,{create:!0},function($){$.createWriter(function(Z){var ne=new DataView(R),ne=new Blob([ne],{type:"font/opentype"});Z.write(ne),Z.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(z){throw new Error(z.name+": "+z.message)})):(A=t("fs"),N=function(z){for(var $=new a(z.byteLength),Z=new Uint8Array(z),ne=0;ne<$.length;++ne)$[ne]=Z[ne];return $}(R),A.writeFileSync(x,N))},yr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},yr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},yr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var yA={make:function(x,A){var N=new De.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x.axes.length}]);N.offsetToData=N.sizeOf();for(var R,z,$,Z=0;Z<x.axes.length;Z++)N.fields=N.fields.concat((R=Z,z=x.axes[Z],$=A,$=x1(z.name,A),[{name:"tag_"+R,type:"TAG",value:z.tag},{name:"minValue_"+R,type:"FIXED",value:z.minValue<<16},{name:"defaultValue_"+R,type:"FIXED",value:z.defaultValue<<16},{name:"maxValue_"+R,type:"FIXED",value:z.maxValue<<16},{name:"flags_"+R,type:"USHORT",value:0},{name:"nameID_"+R,type:"USHORT",value:$}]));for(var ne=0;ne<x.instances.length;ne++)N.fields=N.fields.concat(function(fe,de,Ee,Ie){for(var Te=[{name:"nameID_"+fe,type:"USHORT",value:x1(de.name,Ie)},{name:"flags_"+fe,type:"USHORT",value:0}],be=0;be<Ee.length;++be){var Ve=Ee[be].tag;Te.push({name:"axis_"+fe+" "+Ve,type:"FIXED",value:de.coordinates[Ve]<<16})}return Te}(ne,x.instances[ne],x.axes,A));return N},parse:function(x,A,N){for(var R,z,$,Z,ne=new ae.Parser(x,A),fe=ne.parseULong(),de=(T.argument(fe===65536,"Unsupported fvar table version."),ne.parseOffset16()),Ee=(ne.skip("uShort",1),ne.parseUShort()),Ie=ne.parseUShort(),Te=ne.parseUShort(),be=ne.parseUShort(),Ve=[],Fe=0;Fe<Ee;Fe++)Ve.push((R=x,z=A+de+Fe*Ie,$=N,Z={},R=new ae.Parser(R,z),Z.tag=R.parseTag(),Z.minValue=R.parseFixed(),Z.defaultValue=R.parseFixed(),Z.maxValue=R.parseFixed(),R.skip("uShort",1),Z.name=$[R.parseUShort()]||{},Z));for(var Re=[],Ne=A+de+Ee*Ie,Oe=0;Oe<Te;Oe++)Re.push(function(yt,Mt,vt,bt){var Ot={},Dr=new ae.Parser(yt,Mt);Ot.name=bt[Dr.parseUShort()]||{},Dr.skip("uShort",1),Ot.coordinates={};for(var $r=0;$r<vt.length;++$r)Ot.coordinates[vt[$r].tag]=Dr.parseFixed();return Ot}(x,Ne+Oe*be,Ve,N));return{axes:Ve,instances:Re}}},wo=new Array(10);wo[1]=function(){var x=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{posFormat:1,coverage:this.parsePointer(Ce.coverage),value:this.parseValueRecord()}:A===2?{posFormat:2,coverage:this.parsePointer(Ce.coverage),values:this.parseValueRecordList()}:void T.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},wo[2]=function(){var x,A,N,R,$=this.offset+this.relativeOffset,z=this.parseUShort(),$=(T.assert(z===1||z===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ce.coverage)),Z=this.parseUShort(),ne=this.parseUShort();return z===1?{posFormat:z,coverage:$,valueFormat1:Z,valueFormat2:ne,pairSets:this.parseList(Ce.pointer(Ce.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Z),value2:this.parseValueRecord(ne)}})))}:z===2?(x=this.parsePointer(Ce.classDef),A=this.parsePointer(Ce.classDef),N=this.parseUShort(),R=this.parseUShort(),{posFormat:z,coverage:$,valueFormat1:Z,valueFormat2:ne,classDef1:x,classDef2:A,class1Count:N,class2Count:R,classRecords:this.parseList(N,Ce.list(R,function(){return{value1:this.parseValueRecord(Z),value2:this.parseValueRecord(ne)}}))}):void 0},wo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},wo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},wo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},wo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},wo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},wo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},wo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var vA=new Array(10),bA={parse:function(x,A){return A=(x=new Ce(x,A=A||0)).parseVersion(1),T.argument(A===1||A===1.1,"Unsupported GPOS table version "+A),A===1?{version:A,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(wo)}:{version:A,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(wo),variations:x.parseFeatureVariationsList()}},make:function(x){return new De.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new De.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new De.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new De.LookupList(x.lookups,vA)}])}},wA={parse:function(x,A){if(x=new ae.Parser(x,A),(A=x.parseUShort())===0){var N=x,R={},Ie=(N.skip("uShort"),N.parseUShort()),z=(T.argument(Ie===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var $=0;$<z;$+=1){var Z=N.parseUShort(),ne=N.parseUShort(),fe=N.parseShort();R[Z+","+ne]=fe}return R}if(A!==1)throw new Error("Unsupported kern table version ("+A+").");var de=x,Ee={},Ie=(de.skip("uShort"),1<de.parseULong()&&console.warn("Only the first kern subtable is supported."),de.skip("uLong"),255&de.parseUShort());if(de.skip("uShort"),Ie==0){var Te=de.parseUShort();de.skip("uShort",3);for(var be=0;be<Te;be+=1){var Ve=de.parseUShort(),Fe=de.parseUShort(),Re=de.parseShort();Ee[Ve+","+Fe]=Re}}return Ee}},_A={parse:function(x,A,N,R){for(var z=new ae.Parser(x,A),$=R?z.parseUShort:z.parseULong,Z=[],ne=0;ne<N+1;ne+=1){var fe=$.call(z);R&&(fe*=2),Z.push(fe)}return Z}};function xA(x,A){t("fs").readFile(x,function(N,R){if(N)return A(N.message);A(null,Kb(R))})}function DA(x,A){var N=new XMLHttpRequest;N.open("get",x,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?A(null,N.response):A("Font could not be loaded: "+N.statusText)},N.onerror=function(){A("Font could not be loaded")},N.send()}function D1(x,A){for(var N=[],R=12,z=0;z<A;z+=1){var $=ae.getTag(x,R),Z=ae.getULong(x,R+4),ne=ae.getULong(x,R+8),fe=ae.getULong(x,R+12);N.push({tag:$,checksum:Z,offset:ne,length:fe,compression:!1}),R+=16}return N}function en(N,A){if(A.compression!=="WOFF")return{data:N,offset:A.offset};var N=new Uint8Array(N.buffer,A.offset+2,A.compressedLength-2),R=new Uint8Array(A.length);if(G(N,R),R.byteLength!==A.length)throw new Error("Decompression error: "+A.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function xp(Oe){var A,N,R,z,$,Z,ne,fe,de,Ee,Ie,Te,be,Ve,Fe=new yr({empty:!0}),Re=new DataView(Oe,0),Ne=[],Oe=ae.getTag(Re,0);if(Oe==="\0\0\0"||Oe==="true"||Oe==="typ1")Fe.outlinesFormat="truetype",Ne=D1(Re,R=ae.getUShort(Re,4));else if(Oe==="OTTO")Fe.outlinesFormat="cff",Ne=D1(Re,R=ae.getUShort(Re,4));else{if(Oe!=="wOFF")throw new Error("Unsupported OpenType signature "+Oe);var yt=ae.getTag(Re,4);if(yt==="\0\0\0")Fe.outlinesFormat="truetype";else{if(yt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Oe);Fe.outlinesFormat="cff"}Ne=function(Ar,hr){for(var An=[],zr=44,wn=0;wn<hr;wn+=1){var Tr=ae.getTag(Ar,zr),hn=ae.getULong(Ar,zr+4),Wl=ae.getULong(Ar,zr+8),ma=ae.getULong(Ar,zr+12),S1=void 0,S1=Wl<ma&&"WOFF";An.push({tag:Tr,offset:hn,compression:S1,compressedLength:Wl,length:ma}),zr+=20}return An}(Re,R=ae.getUShort(Re,12))}for(var Mt=0;Mt<R;Mt+=1){var vt=Ne[Mt],bt=void 0;switch(vt.tag){case"cmap":bt=en(Re,vt),Fe.tables.cmap=X.parse(bt.data,bt.offset),Fe.encoding=new Se(Fe.tables.cmap);break;case"cvt ":bt=en(Re,vt),Ve=new ae.Parser(bt.data,bt.offset),Fe.tables.cvt=Ve.parseShortList(vt.length/2);break;case"fvar":$=vt;break;case"fpgm":bt=en(Re,vt),Ve=new ae.Parser(bt.data,bt.offset),Fe.tables.fpgm=Ve.parseByteList(vt.length);break;case"head":bt=en(Re,vt),Fe.tables.head=Ds.parse(bt.data,bt.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,A=Fe.tables.head.indexToLocFormat;break;case"hhea":bt=en(Re,vt),Fe.tables.hhea=we.parse(bt.data,bt.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":de=vt;break;case"ltag":bt=en(Re,vt),N=st.parse(bt.data,bt.offset);break;case"maxp":bt=en(Re,vt),Fe.tables.maxp=$e.parse(bt.data,bt.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":Te=vt;break;case"OS/2":bt=en(Re,vt),Fe.tables.os2=Ur.parse(bt.data,bt.offset);break;case"post":bt=en(Re,vt),Fe.tables.post=Li.parse(bt.data,bt.offset),Fe.glyphNames=new Be(Fe.tables.post);break;case"prep":bt=en(Re,vt),Ve=new ae.Parser(bt.data,bt.offset),Fe.tables.prep=Ve.parseByteList(vt.length);break;case"glyf":Z=vt;break;case"loca":Ie=vt;break;case"CFF ":z=vt;break;case"kern":Ee=vt;break;case"GPOS":ne=vt;break;case"GSUB":fe=vt;break;case"meta":be=vt}}if(yt=en(Re,Te),Fe.tables.name=mr.parse(yt.data,yt.offset,N),Fe.names=Fe.tables.name,Z&&Ie)Oe=A===0,yt=en(Re,Ie),yt=_A.parse(yt.data,yt.offset,Fe.numGlyphs,Oe),Oe=en(Re,Z),Fe.glyphs=t1.parse(Oe.data,Oe.offset,yt,Fe);else{if(!z)throw new Error("Font doesn't contain TrueType or CFF outlines.");Oe=en(Re,z),xs.parse(Oe.data,Oe.offset,Fe)}for(var yt=en(Re,de),Ot=(Xe.parse(yt.data,yt.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),Fe),Dr=Ot.tables.cmap.glyphIndexMap,$r=Object.keys(Dr),tn=0;tn<$r.length;tn+=1){var Cn,Mn=$r[tn],_o=Dr[Mn];(Cn=Ot.glyphs.get(_o)).addUnicode(parseInt(Mn))}for(var vr=0;vr<Ot.glyphs.length;vr+=1)Cn=Ot.glyphs.get(vr),Ot.cffEncoding?Ot.isCIDFont?Cn.name="gid"+vr:Cn.name=Ot.cffEncoding.charset[vr]:Ot.glyphNames.names&&(Cn.name=Ot.glyphNames.glyphIndexToName(vr));return Ee?(Oe=en(Re,Ee),Fe.kerningPairs=wA.parse(Oe.data,Oe.offset)):Fe.kerningPairs={},ne&&(yt=en(Re,ne),Fe.tables.gpos=bA.parse(yt.data,yt.offset),Fe.position.init()),fe&&(Oe=en(Re,fe),Fe.tables.gsub=Gb.parse(Oe.data,Oe.offset)),$&&(yt=en(Re,$),Fe.tables.fvar=yA.parse(yt.data,yt.offset,Fe.names)),be&&(Oe=en(Re,be),Fe.tables.meta=Hb.parse(Oe.data,Oe.offset),Fe.metas=Fe.tables.meta),Fe}c.Font=yr,c.Glyph=Ke,c.Path=Q,c.BoundingBox=W,c._parse=ae,c.parse=xp,c.load=function(x,A){(typeof window>"u"?xA:DA)(x,function(N,R){if(N)return A(N);var z;try{z=xp(R)}catch($){return A($,null)}return A(null,z)})},c.loadSync=function(x){return xp(Kb(t("fs").readFileSync(x)))},Object.defineProperty(c,"__esModule",{value:!0})},typeof s=="object"&&i!==void 0?l(s):typeof n=="function"&&n.amd?n(["exports"],l):l(u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,i,s){(function(a){function u(m,y){for(var d=0,h=m.length-1;0<=h;h--){var p=m[h];p==="."?m.splice(h,1):p===".."?(m.splice(h,1),d++):d&&(m.splice(h,1),d--)}if(y)for(;d--;)m.unshift("..");return m}function l(m,y){if(m.filter)return m.filter(y);for(var d=[],h=0;h<m.length;h++)y(m[h],h,m)&&d.push(m[h]);return d}s.resolve=function(){for(var m="",y=!1,d=arguments.length-1;-1<=d&&!y;d--){var h=0<=d?arguments[d]:a.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");h&&(m=h+"/"+m,y=h.charAt(0)==="/")}return(y?"/":"")+(m=u(l(m.split("/"),function(p){return!!p}),!y).join("/"))||"."},s.normalize=function(m){var y=s.isAbsolute(m),d=c(m,-1)==="/";return(m=(m=u(l(m.split("/"),function(h){return!!h}),!y).join("/"))||y?m:".")&&d&&(m+="/"),(y?"/":"")+m},s.isAbsolute=function(m){return m.charAt(0)==="/"},s.join=function(){var m=Array.prototype.slice.call(arguments,0);return s.normalize(l(m,function(y,d){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},s.relative=function(m,y){function d(b){for(var _=0;_<b.length&&b[_]==="";_++);for(var D=b.length-1;0<=D&&b[D]==="";D--);return D<_?[]:b.slice(_,D-_+1)}m=s.resolve(m).substr(1),y=s.resolve(y).substr(1);for(var h=d(m.split("/")),p=d(y.split("/")),f=Math.min(h.length,p.length),v=f,g=0;g<f;g++)if(h[g]!==p[g]){v=g;break}for(var w=[],g=v;g<h.length;g++)w.push("..");return(w=w.concat(p.slice(v))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var y=m.charCodeAt(0)===47,d=-1,h=!0,p=m.length-1;1<=p;--p)if(m.charCodeAt(p)===47){if(!h){d=p;break}}else h=!1;return d===-1?y?"/":".":y&&d===1?"/":m.slice(0,d)},s.basename=function(m,y){return m=function(d){typeof d!="string"&&(d+="");for(var h=0,p=-1,f=!0,v=d.length-1;0<=v;--v)if(d.charCodeAt(v)===47){if(!f){h=v+1;break}}else p===-1&&(f=!1,p=v+1);return p===-1?"":d.slice(h,p)}(m),m=y&&m.substr(-1*y.length)===y?m.substr(0,m.length-y.length):m},s.extname=function(m){typeof m!="string"&&(m+="");for(var y=-1,d=0,h=-1,p=!0,f=0,v=m.length-1;0<=v;--v){var g=m.charCodeAt(v);if(g===47){if(p)continue;d=v+1;break}h===-1&&(p=!1,h=v+1),g===46?y===-1?y=v:f!==1&&(f=1):y!==-1&&(f=-1)}return y===-1||h===-1||f===0||f===1&&y===h-1&&y===d+1?"":m.slice(y,h)};var c="ab".substr(-1)==="b"?function(m,y,d){return m.substr(y,d)}:function(m,y,d){return y<0&&(y=m.length+y),m.substr(y,d)}}).call(this,t("_process"))},{_process:259}],259:[function(t,l,s){var a,u,l=l.exports={};function c(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:c}catch{a=c}try{u=typeof clearTimeout=="function"?clearTimeout:m}catch{u=m}function y(_){if(a===setTimeout)return setTimeout(_,0);if((a===c||!a)&&setTimeout)return(a=setTimeout)(_,0);try{return a(_,0)}catch{try{return a.call(null,_,0)}catch{return a.call(this,_,0)}}}var d,h=[],p=!1,f=-1;function v(){p&&d&&(p=!1,d.length?h=d.concat(h):f=-1,h.length&&g())}function g(){if(!p){for(var _=y(v),D=(p=!0,h.length);D;){for(d=h,h=[];++f<D;)d&&d[f].run();f=-1,D=h.length}d=null,p=!1,function(C){if(u===clearTimeout)return clearTimeout(C);if((u===m||!u)&&clearTimeout)return(u=clearTimeout)(C);try{u(C)}catch{try{return u.call(null,C)}catch{return u.call(this,C)}}}(_)}}function w(_,D){this.fun=_,this.array=D}function b(){}l.nextTick=function(_){var D=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)D[C-1]=arguments[C];h.push(new w(_,D)),h.length!==1||p||y(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=b,l.addListener=b,l.once=b,l.off=b,l.removeListener=b,l.removeAllListeners=b,l.emit=b,l.prependListener=b,l.prependOnceListener=b,l.listeners=function(_){return[]},l.binding=function(_){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(_){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],260:[function(t,i,s){i=function(a){"use strict";var u,l=Object.prototype,c=l.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},m=M.iterator||"@@iterator",y=M.asyncIterator||"@@asyncIterator",d=M.toStringTag||"@@toStringTag";function h(q,V,U,H){var Q,le,P,T,V=V&&V.prototype instanceof _?V:_,V=Object.create(V.prototype),H=new L(H||[]);return V._invoke=(Q=q,le=U,P=H,T=f,function(K,re){if(T===g)throw new Error("Generator is already running");if(T===w){if(K==="throw")throw re;return k()}for(P.method=K,P.arg=re;;){var ie=P.delegate;if(ie&&(ie=function ce(se,he){var ue=se.iterator[he.method];if(ue===u){if(he.delegate=null,he.method==="throw"){if(se.iterator.return&&(he.method="return",he.arg=u,ce(se,he),he.method==="throw"))return b;he.method="throw",he.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}if(ue=p(ue,se.iterator,he.arg),ue.type==="throw")return he.method="throw",he.arg=ue.arg,he.delegate=null,b;if(ue=ue.arg,!ue)return he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,b;{if(!ue.done)return ue;he[se.resultName]=ue.value,he.next=se.nextLoc,he.method!=="return"&&(he.method="next",he.arg=u)}return he.delegate=null,b}(ie,P),ie)){if(ie===b)continue;return ie}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(T===f)throw T=w,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);if(T=g,ie=p(Q,le,P),ie.type==="normal"){if(T=P.done?w:v,ie.arg!==b)return{value:ie.arg,done:P.done}}else ie.type==="throw"&&(T=w,P.method="throw",P.arg=ie.arg)}}),V}function p(q,G,U){try{return{type:"normal",arg:q.call(G,U)}}catch(W){return{type:"throw",arg:W}}}a.wrap=h;var f="suspendedStart",v="suspendedYield",g="executing",w="completed",b={};function _(){}function D(){}function C(){}var M={},E=(M[m]=function(){return this},Object.getPrototypeOf),E=E&&E(E(B([]))),S=(E&&E!==l&&c.call(E,m)&&(M=E),C.prototype=_.prototype=Object.create(M));function O(q){["next","throw","return"].forEach(function(G){q[G]=function(U){return this._invoke(G,U)}})}function I(q){var G;this._invoke=function(U,W){function Q(){return new Promise(function(le,P){(function T(ce,H,K,re){var ie,ce=p(q[ce],q,H);if(ce.type!=="throw")return(H=(ie=ce.arg).value)&&typeof H=="object"&&c.call(H,"__await")?Promise.resolve(H.__await).then(function(se){T("next",se,K,re)},function(se){T("throw",se,K,re)}):Promise.resolve(H).then(function(se){ie.value=se,K(ie)},function(se){return T("throw",se,K,re)});re(ce.arg)})(U,W,le,P)})}return G=G?G.then(Q,Q):Q()}}function F(q){var G={tryLoc:q[0]};1 in q&&(G.catchLoc=q[1]),2 in q&&(G.finallyLoc=q[2],G.afterLoc=q[3]),this.tryEntries.push(G)}function j(q){var G=q.completion||{};G.type="normal",delete G.arg,q.completion=G}function L(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(F,this),this.reset(!0)}function B(q){if(q){var G,U=q[m];if(U)return U.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return G=-1,(U=function W(){for(;++G<q.length;)if(c.call(q,G))return W.value=q[G],W.done=!1,W;return W.value=u,W.done=!0,W}).next=U}return{next:k}}function k(){return{value:u,done:!0}}return(D.prototype=S.constructor=C).constructor=D,C[d]=D.displayName="GeneratorFunction",a.isGeneratorFunction=function(q){return q=typeof q=="function"&&q.constructor,!!q&&(q===D||(q.displayName||q.name)==="GeneratorFunction")},a.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,C):(q.__proto__=C,d in q||(q[d]="GeneratorFunction")),q.prototype=Object.create(S),q},a.awrap=function(q){return{__await:q}},O(I.prototype),I.prototype[y]=function(){return this},a.AsyncIterator=I,a.async=function(q,G,U,W){var Q=new I(h(q,G,U,W));return a.isGeneratorFunction(G)?Q:Q.next().then(function(le){return le.done?le.value:Q.next()})},O(S),S[d]="Generator",S[m]=function(){return this},S.toString=function(){return"[object Generator]"},a.keys=function(q){var G,U=[];for(G in q)U.push(G);return U.reverse(),function W(){for(;U.length;){var Q=U.pop();if(Q in q)return W.value=Q,W.done=!1,W}return W.done=!0,W}},a.values=B,L.prototype={constructor:L,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(j),!q)for(var G in this)G.charAt(0)==="t"&&c.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=u)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var G=this;function U(V,H){return le.type="throw",le.arg=q,G.next=V,H&&(G.method="next",G.arg=u),!!H}for(var W=this.tryEntries.length-1;0<=W;--W){var Q=this.tryEntries[W],le=Q.completion;if(Q.tryLoc==="root")return U("end");if(Q.tryLoc<=this.prev){var P=c.call(Q,"catchLoc"),T=c.call(Q,"finallyLoc");if(P&&T){if(this.prev<Q.catchLoc)return U(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return U(Q.finallyLoc)}else if(P){if(this.prev<Q.catchLoc)return U(Q.catchLoc,!0)}else{if(!T)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return U(Q.finallyLoc)}}}},abrupt:function(q,G){for(var U=this.tryEntries.length-1;0<=U;--U){var W=this.tryEntries[U];if(W.tryLoc<=this.prev&&c.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Q=W;break}}var le=(Q=Q&&(q==="break"||q==="continue")&&Q.tryLoc<=G&&G<=Q.finallyLoc?null:Q)?Q.completion:{};return le.type=q,le.arg=G,Q?(this.method="next",this.next=Q.finallyLoc,b):this.complete(le)},complete:function(q,G){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&G&&(this.next=G),b},finish:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var U=this.tryEntries[G];if(U.finallyLoc===q)return this.complete(U.completion,U.afterLoc),j(U),b}},catch:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var U,W,Q=this.tryEntries[G];if(Q.tryLoc===q)return(U=Q.completion).type==="throw"&&(W=U.arg,j(Q)),W}throw new Error("illegal catch attempt")},delegateYield:function(q,G,U){return this.delegate={iterator:B(q),resultName:G,nextLoc:U},this.method==="next"&&(this.arg=u),b}},a}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},{}],261:[function(t,i,s){(function(a){"use strict";var u,l,c,m,y,d,h,p,f,v;function g(j){if(typeof j!="string"&&(j=String(j)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(j))throw new TypeError("Invalid character in header field name");return j.toLowerCase()}function w(j){return j=typeof j!="string"?String(j):j}function b(j){var L={next:function(){var B=j.shift();return{done:B===void 0,value:B}}};return l&&(L[Symbol.iterator]=function(){return L}),L}function _(j){this.map={},j instanceof _?j.forEach(function(L,B){this.append(B,L)},this):Array.isArray(j)?j.forEach(function(L){this.append(L[0],L[1])},this):j&&Object.getOwnPropertyNames(j).forEach(function(L){this.append(L,j[L])},this)}function D(j){if(j.bodyUsed)return Promise.reject(new TypeError("Already read"));j.bodyUsed=!0}function C(j){return new Promise(function(L,B){j.onload=function(){L(j.result)},j.onerror=function(){B(j.error)}})}function M(j){var L=new FileReader,B=C(L);return L.readAsArrayBuffer(j),B}function E(j){var L;return j.slice?j.slice(0):((L=new Uint8Array(j.byteLength)).set(new Uint8Array(j)),L.buffer)}function S(){return this.bodyUsed=!1,this._initBody=function(j){if(this._bodyInit=j)if(typeof j=="string")this._bodyText=j;else if(c&&Blob.prototype.isPrototypeOf(j))this._bodyBlob=j;else if(m&&FormData.prototype.isPrototypeOf(j))this._bodyFormData=j;else if(u&&URLSearchParams.prototype.isPrototypeOf(j))this._bodyText=j.toString();else if(y&&c&&h(j))this._bodyArrayBuffer=E(j.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(j)&&!p(j))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(j)}else this._bodyText="";this.headers.get("content-type")||(typeof j=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(j)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var j=D(this);if(j)return j;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var j,L,B=D(this);if(B)return B;if(this._bodyBlob)return B=this._bodyBlob,j=new FileReader,L=C(j),j.readAsText(B),L;if(this._bodyArrayBuffer)return Promise.resolve(function(k){for(var q=new Uint8Array(k),G=new Array(q.length),U=0;U<q.length;U++)G[U]=String.fromCharCode(q[U]);return G.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function O(j,L){var B,k=(L=L||{}).body;if(j instanceof O){if(j.bodyUsed)throw new TypeError("Already read");this.url=j.url,this.credentials=j.credentials,L.headers||(this.headers=new _(j.headers)),this.method=j.method,this.mode=j.mode,k||j._bodyInit==null||(k=j._bodyInit,j.bodyUsed=!0)}else this.url=String(j);if(this.credentials=L.credentials||this.credentials||"omit",!L.headers&&this.headers||(this.headers=new _(L.headers)),this.method=(j=L.method||this.method||"GET",B=j.toUpperCase(),-1<f.indexOf(B)?B:j),this.mode=L.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}function I(j){var L=new FormData;return j.trim().split("&").forEach(function(B){var k;B&&(k=(B=B.split("=")).shift().replace(/\+/g," "),B=B.join("=").replace(/\+/g," "),L.append(decodeURIComponent(k),decodeURIComponent(B)))}),L}function F(j,L){L=L||{},this.type="default",this.status=L.status===void 0?200:L.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in L?L.statusText:"OK",this.headers=new _(L.headers),this.url=L.url||"",this._initBody(j)}a.fetch||(u="URLSearchParams"in a,l="Symbol"in a&&"iterator"in Symbol,c="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in a,(y="ArrayBuffer"in a)&&(d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(j){return j&&DataView.prototype.isPrototypeOf(j)},p=ArrayBuffer.isView||function(j){return j&&-1<d.indexOf(Object.prototype.toString.call(j))}),_.prototype.append=function(j,L){j=g(j),L=w(L);var B=this.map[j];this.map[j]=B?B+","+L:L},_.prototype.delete=function(j){delete this.map[g(j)]},_.prototype.get=function(j){return j=g(j),this.has(j)?this.map[j]:null},_.prototype.has=function(j){return this.map.hasOwnProperty(g(j))},_.prototype.set=function(j,L){this.map[g(j)]=w(L)},_.prototype.forEach=function(j,L){for(var B in this.map)this.map.hasOwnProperty(B)&&j.call(L,this.map[B],B,this)},_.prototype.keys=function(){var j=[];return this.forEach(function(L,B){j.push(B)}),b(j)},_.prototype.values=function(){var j=[];return this.forEach(function(L){j.push(L)}),b(j)},_.prototype.entries=function(){var j=[];return this.forEach(function(L,B){j.push([B,L])}),b(j)},l&&(_.prototype[Symbol.iterator]=_.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},S.call(O.prototype),S.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},F.error=function(){var j=new F(null,{status:0,statusText:""});return j.type="error",j},v=[301,302,303,307,308],F.redirect=function(j,L){if(v.indexOf(L)===-1)throw new RangeError("Invalid status code");return new F(null,{status:L,headers:{location:j}})},a.Headers=_,a.Request=O,a.Response=F,a.fetch=function(j,L){return new Promise(function(B,k){var q=new O(j,L),G=new XMLHttpRequest;G.onload=function(){var U,W={status:G.status,statusText:G.statusText,headers:(W=G.getAllResponseHeaders()||"",U=new _,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var P=P.split(":"),T=P.shift().trim();T&&(P=P.join(":").trim(),U.append(T,P))}),U)},Q=(W.url="responseURL"in G?G.responseURL:W.headers.get("X-Request-URL"),"response"in G?G.response:G.responseText);B(new F(Q,W))},G.onerror=function(){k(new TypeError("Network request failed"))},G.ontimeout=function(){k(new TypeError("Network request failed"))},G.open(q.method,q.url,!0),q.credentials==="include"?G.withCredentials=!0:q.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&c&&(G.responseType="blob"),q.headers.forEach(function(U,W){G.setRequestHeader(W,U)}),G.send(q._bodyInit===void 0?null:q._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,i,s){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,u=c(t("../core/main")),l=c(t("../color/color_conversion"));function c(d){return d&&d.__esModule?d:{default:d}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(f){var h,p,f=l.default._rgbaToHSBA(f),v=[(a=f)[0],f[1],f[2]];v[0]!==0&&(v[0]=Math.round(100*v[0]),(f=v[0].toString().split(""))[p=f.length-1]=parseInt(f[p]),f[p]<2.5?f[p]=0:2.5<=f[p]&&f[p]<7.5&&(f[p]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[p]&&(f[p]=0,f[0]=f[0]+1),v[0]=10*f[0]+f[1]):7.5<=f[p]?v[0]=10:v[0]=f[p]),v[2]=v[2]/255;for(var g=v.length-1;1<=g;g--)v[g]<=.25?v[g]=0:.25<v[g]&&v[g]<.75?v[g]=.5:v[g]=1;if(v[0]===0&&v[1]===0&&v[2]===1){for(var w=2;0<=w;w--)a[w]=Math.round(1e4*a[w])/1e4;for(var b=0;b<m.length;b++){if(m[b].h===a[0]&&m[b].s===a[1]&&m[b].b===a[2]){h=m[b].name;break}h="white"}}else for(var _=0;_<y.length;_++)if(y[_].h===v[0]&&y[_].s===v[1]&&y[_].b===v[2]){h=y[_].name;break}return h},t=u.default,s.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",l="_fallbackDesc",c="_fallbackTable",m="_Label",y="_labelDesc",d="_labelTable";function h(p){if(p==="label"||p==="fallback")throw new Error("description should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")||p.endsWith("?")||p.endsWith("!")||(p+="."),p}a.default.prototype.describe=function(p,f){var v;a.default._validateParameters("describe",arguments),typeof p=="string"&&(v=this.canvas.id,p=h(p),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==p&&(this.descriptions.fallback.innerHTML=p):this._describeHTML("fallback",p),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==p&&(this.descriptions.label.innerHTML=p):this._describeHTML("label",p)))},a.default.prototype.describeElement=function(p,f,v){var g,w;a.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof p=="string"&&(g=this.canvas.id,f=h(f),w=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(p),p=p.replace(/[^a-zA-Z0-9]/g,""),w='<th scope="row">'.concat(w,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[p]?this.descriptions.fallbackElements[p].innerHTML!==w&&(this.descriptions.fallbackElements[p].innerHTML=w):this._describeElementHTML("fallback",p,w),v===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[p]?this.descriptions.labelElements[p].innerHTML!==w&&(this.descriptions.labelElements[p].innerHTML=w):this._describeElementHTML("label",p,w)))},a.default.prototype._describeHTML=function(p,f){var v,g=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(g+u))?this.dummyDOM.querySelector("#"+g+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+l,'"></p>')):(v='<div id="'.concat(g).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#".concat(g)).innerHTML=v),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(l)),this.descriptions.fallback.innerHTML=f):p==="label"&&(this.dummyDOM.querySelector("#".concat(g+m))?this.dummyDOM.querySelector("#".concat(g+d))&&this.dummyDOM.querySelector("#".concat(g+d)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(y,'"></p>')):(v='<div id="'.concat(g).concat(m,'" class="p5Label"><p id="').concat(g).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",v)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+y),this.descriptions.label.innerHTML=f)},a.default.prototype._describeElementHTML=function(p,f,v){var g,w=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(w+u))?this.dummyDOM.querySelector("#"+w+c)||this.dummyDOM.querySelector("#"+w+l).insertAdjacentHTML("afterend",'<table id="'.concat(w).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(w).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(w).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+w).innerHTML=g),(g=document.createElement("tr")).id=w+"_fte_"+f,this.dummyDOM.querySelector("#"+w+c).appendChild(g),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(w).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=v):p==="label"&&(this.dummyDOM.querySelector("#".concat(w+m))?this.dummyDOM.querySelector("#".concat(w+d))||this.dummyDOM.querySelector("#"+w+y).insertAdjacentHTML("afterend",'<table id="'.concat(w+d,'"></table>')):(g='<div id="'.concat(w).concat(m,'" class="p5Label"><table id="').concat(w).concat(d,'"></table></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",g)),(p=document.createElement("tr")).id=w+"_lte_"+f,this.dummyDOM.querySelector("#"+w+d).appendChild(p),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(w).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=v)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(a){var u,l,c,m;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(u=this._accessibleOutputs[a],c=function(y,d,h,p){return d="".concat(d," canvas, ").concat(h," by ").concat(p," pixels, contains ").concat(y[0]),d=(y[0]===1?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(y[1]),d}((l=function(y,d){var h,p="",f="",v=0;for(h in d){var g,w=0;for(g in d[h]){var b='<li id="'.concat(y,"shape").concat(v,'">').concat(d[h][g].color," ").concat(h,",");h==="line"?b+=" location = ".concat(d[h][g].pos,", length = ").concat(d[h][g].length," pixels"):(b+=" location = ".concat(d[h][g].pos),h!=="point"&&(b+=", area = ".concat(d[h][g].area," %")),b+="</li>"),p+=b,w++,v++}f=1<w?"".concat(f," ").concat(w," ").concat(h,"s"):"".concat(f," ").concat(w," ").concat(h)}return{numShapes:[v,f],details:p}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,d){var h,p,f=0,v="",g=Array.from(Array(10),function(){return Array(10)});for(h in d)for(var w in d[h]){var b=void 0;b=h!=="line"?'<a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][w].color," ").concat(h,"</a>"):'<a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][w].color," ").concat(h," midpoint</a>"),d[h][w].loc.locY<g.length&&d[h][w].loc.locX<g[d[h][w].loc.locY].length&&(g[d[h][w].loc.locY][d[h][w].loc.locX]?g[d[h][w].loc.locY][d[h][w].loc.locX]=g[d[h][w].loc.locY][d[h][w].loc.locX]+"  "+b:g[d[h][w].loc.locY][d[h][w].loc.locX]=b,f++)}for(p in g){var _,D="<tr>";for(_ in g[p])D+="<td>",g[p][_]!==void 0&&(D+=g[p][_]),D+="</td>";v=v+D+"</tr>"}return v}(a,this.ingredients.shapes),c!==u.summary.innerHTML&&(u.summary.innerHTML=c),m!==u.map.innerHTML&&(u.map.innerHTML=m),l.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=l.details),this._accessibleOutputs[a]=u)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c){return function(m){if(Array.isArray(m)){for(var y=0,d=new Array(m.length);y<m.length;y++)d[y]=m[y];return d}}(c)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(c,m,y){return m=Math.floor(c[0]/m*10),c=Math.floor(c[1]/y*10),m===10&&(m-=1),c===10&&(c-=1),{locX:m,locY:c}}a.default.prototype.textOutput=function(c){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(c){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(c,m){var y,d,h,p=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),"");m==="Fallback"?(y=p+c,this.dummyDOM.querySelector("#".concat(d=p+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(p,"_Description"))?this.dummyDOM.querySelector("#".concat(p,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(p)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(y=p+c+(f=m),this.dummyDOM.querySelector("#".concat(d=p+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(p,"_Label"))?this.dummyDOM.querySelector("#".concat(p,"_Label")):this.dummyDOM.querySelector("#".concat(p))).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>'))),this._accessibleOutputs[y]={},c==="textOutput"?(f="#".concat(p,"gridOutput").concat(f),h='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(d)).innerHTML=h,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):c==="gridOutput"&&(f="#".concat(p,"textOutput").concat(f),h='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(d)).innerHTML=h,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},a.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},a.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},a.default.prototype._accsCanvasColors=function(c,m){c==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},a.default.prototype._accsOutput=function(c,m){c==="ellipse"&&m[2]===m[3]?c="circle":c==="rectangle"&&m[2]===m[3]&&(c="square");var y,d,h={},p=!0,f=function(g,w){var b;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(b=Math.round(w[0]+w[2]/2),Math.round(w[1]+w[3]/2)):g==="triangle"?(b=(w[0]+w[2]+w[4])/3,(w[1]+w[3]+w[5])/3):g==="quadrilateral"?(b=(w[0]+w[2]+w[4]+w[6])/4,(w[1]+w[3]+w[5]+w[7])/4):g==="line"?(b=(w[0]+w[2])/2,(w[1]+w[3])/2):(b=w[0],w[1]),[b,g]}(c,m);if(c==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),y=this._getPos(m[0],[1]),d=this._getPos(m[2],[3]),h.loc=l(f,this.width,this.height),h.pos=y===d?"at ".concat(y):"from ".concat(y," to ").concat(d)):(c==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(c,m)),h.pos=this._getPos.apply(this,u(f)),h.loc=l(f,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[h]){for(var v in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][v])===JSON.stringify(h)&&(p=!1);p===!0&&this.ingredients.shapes[c].push(h)}}else this.ingredients.shapes[c]=[h]},a.default.prototype._getPos=function(d,y){var d=new DOMPointReadOnly(d,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),d=d.matrixTransform(y),y=d.x,d=d.y,h=this.width*this._pixelDensity,p=this.height*this._pixelDensity;return y<.4*h?d<.4*p?"top left":.6*p<d?"bottom left":"mid left":.6*h<y?d<.4*p?"top right":.6*p<d?"bottom right":"mid right":d<.4*p?"top middle":.6*p<d?"bottom middle":"middle"},a.default.prototype._getArea=function(c,m){var y,d,h=0,p=(c==="arc"?(h=(y=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(d=m[0],w=m[1],p=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),b=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),v=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),f=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),d=Math.abs(d*(b-f)+p*(f-w)+v*(w-b))/2,y>Math.PI?h+=d:h-=d)):c==="ellipse"||c==="circle"?h=3.14*m[2]/2*m[3]/2:c==="line"||c==="point"?h=0:c==="quadrilateral"?h=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:c==="rectangle"||c==="square"?h=m[2]*m[3]:c==="triangle"&&(h=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,v=[new DOMPoint(0,0),new DOMPoint(p,0),new DOMPoint(p,f),new DOMPoint(0,f)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),w=v.map(function(_){return _.matrixTransform(g)}),b=Math.abs((w[3].x+w[0].x)*(w[3].y-w[0].y)+(w[0].x+w[1].x)*(w[0].y-w[1].y)+(w[1].x+w[2].x)*(w[1].y-w[2].y)+(w[2].x+w[3].x)*(w[2].y-w[3].y))/2;return Math.round(100*h/b)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(a){var u,l,c,m;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(u=this._accessibleOutputs[a],c=function(y,d,h,p){return h="Your output is a, ".concat(h," by ").concat(p," pixels, ").concat(d," canvas containing the following"),h=y===1?"".concat(h," shape:"):"".concat(h," ").concat(y," shapes:"),h}((l=function(y,d){var h,p="",f=0;for(h in d)for(var v in d[h]){var g='<li><a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][v].color," ").concat(h,"</a>");h==="line"?g+=", ".concat(d[h][v].pos,", ").concat(d[h][v].length," pixels long.</li>"):(g+=", at ".concat(d[h][v].pos),h!=="point"&&(g+=", covering ".concat(d[h][v].area,"% of the canvas")),g+=".</li>"),p+=g,f++}return{numShapes:f,listShapes:p}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,d){var h,p="",f=0;for(h in d)for(var v in d[h]){var g='<tr id="'.concat(y,"shape").concat(f,'"><th>').concat(d[h][v].color," ").concat(h,"</th>");h==="line"?g+="<td>location = ".concat(d[h][v].pos,"</td><td>length = ").concat(d[h][v].length," pixels</td></tr>"):(g+="<td>location = ".concat(d[h][v].pos,"</td>"),h!=="point"&&(g+="<td> area = ".concat(d[h][v].area,"%</td>")),g+="</tr>"),p+=g,f++}return p}(a,this.ingredients.shapes),c!==u.summary.innerHTML&&(u.summary.innerHTML=c),l.listShapes!==u.list.innerHTML&&(u.list.innerHTML=l.listShapes),m!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=m),this._accessibleOutputs[a]=u)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,i,s){"use strict";var a=(a=t("./core/main"))&&a.__esModule?a:{default:a};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),i.exports=a.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(a){var u=a[0],l=a[1],c=a[2],m=(2-l)*c/2;return m!=0&&(m==1?l=0:m<.5?l/=2-l:l=l*c/(2-2*m)),[u,l,m,a[3]]},_hsbaToRGBA:function(a){var u,l,c,m,y,d=6*a[0],h=a[1],p=a[2];return h===0?[p,p,p,a[3]]:(l=p*(1-h),c=p*(1-h*(d-(u=Math.floor(d)))),h=p*(1-h*(1+u-d)),d=u===1?(m=c,y=p,l):u===2?(m=l,y=p,h):u===3?(m=l,y=c,p):u===4?(m=h,y=l,p):u===5?(m=p,y=l,c):(m=p,y=h,l),[m,y,d,a[3]])},_hslaToHSBA:function(a){var u=a[0],l=a[1],c=a[2],m=c<.5?(1+l)*c:c+l-c*l;return[u,l=2*(m-c)/m,m,a[3]]},_hslaToRGBA:function(a){var u,l=6*a[0],c=a[1],m=a[2];return c===0?[m,m,m,a[3]]:[(u=function(y,d,h){return y<0?y+=6:6<=y&&(y-=6),y<1?d+(h-d)*y:y<3?h:y<4?d+(h-d)*(4-y):d})(2+l,c=2*m-(m=m<.5?(1+c)*m:m+c-m*c),m),u(l,c,m),u(l-2,c,m),a[3]]},_rgbaToHSBA:function(a){var u,l,c=a[0],m=a[1],y=a[2],d=Math.max(c,m,y),h=d-Math.min(c,m,y);return h==0?l=u=0:(l=h/d,c===d?u=(m-y)/h:m===d?u=2+(y-c)/h:y===d&&(u=4+(c-m)/h),u<0?u+=6:6<=u&&(u-=6)),[u/6,l,d,a[3]]},_rgbaToHSLA:function(a){var u,l,c=a[0],m=a[1],y=a[2],d=Math.max(c,m,y),p=Math.min(c,m,y),h=d+p,p=d-p;return p==0?l=u=0:(l=h<1?p/h:p/(2-h),c===d?u=(m-y)/p:m===d?u=2+(y-c)/p:y===d&&(u=4+(c-m)/p),u<0?u+=6:6<=u&&(u-=6)),[u/6,l,h/2,a[3]]}},t=t.default.ColorConversion,s.default=t},{"../core/main":283}],269:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(d){return l.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()},l.default.prototype.blue=function(d){return l.default._validateParameters("blue",arguments),this.color(d)._getBlue()},l.default.prototype.brightness=function(d){return l.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()},l.default.prototype.color=function(){for(var d,h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];return l.default._validateParameters("color",p),p[0]instanceof l.default.Color?p[0]:(d=Array.isArray(p[0])?p[0]:p,new l.default.Color(this,d))},l.default.prototype.green=function(d){return l.default._validateParameters("green",arguments),this.color(d)._getGreen()},l.default.prototype.hue=function(d){return l.default._validateParameters("hue",arguments),this.color(d)._getHue()},l.default.prototype.lerpColor=function(d,h,p){l.default._validateParameters("lerpColor",arguments);var f,v,g,w=this._colorMode,b=this._colorMaxes;if(w===c.RGB)v=d.levels.map(function(_){return _/255}),g=h.levels.map(function(_){return _/255});else if(w===c.HSB)d._getBrightness(),h._getBrightness(),v=d.hsba,g=h.hsba;else{if(w!==c.HSL)throw new Error("".concat(w," cannot be used for interpolation."));d._getLightness(),h._getLightness(),v=d.hsla,g=h.hsla}return p=Math.max(Math.min(p,1),0),this.lerp===void 0&&(this.lerp=function(_,D,C){return C*(D-_)+_}),w===c.RGB?f=this.lerp(v[0],g[0],p):(.5<Math.abs(v[0]-g[0])&&(v[0]>g[0]?g[0]+=1:v[0]+=1),1<=(f=this.lerp(v[0],g[0],p))&&--f),d=this.lerp(v[1],g[1],p),h=this.lerp(v[2],g[2],p),v=this.lerp(v[3],g[3],p),f*=b[w][0],d*=b[w][1],h*=b[w][2],v*=b[w][3],this.color(f,d,h,v)},l.default.prototype.lightness=function(d){return l.default._validateParameters("lightness",arguments),this.color(d)._getLightness()},l.default.prototype.red=function(d){return l.default._validateParameters("red",arguments),this.color(d)._getRed()},l.default.prototype.saturation=function(d){return l.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var y=l.default;s.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(f,i,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(_)}function u(_){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(D){return a(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":a(D)})(_)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=d(f("../core/main")),c=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var D=y();if(D&&D.has(_))return D.get(_);var C,M={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in _){var S;Object.prototype.hasOwnProperty.call(_,C)&&((S=E?Object.getOwnPropertyDescriptor(_,C):null)&&(S.get||S.set)?Object.defineProperty(M,C,S):M[C]=_[C])}return M.default=_,D&&D.set(_,M),M}(f("../core/constants")),m=d(f("./color_conversion"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function d(_){return _&&_.__esModule?_:{default:_}}function h(_,D){for(var C=0;C<D.length;C++){var M=D[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,b=/(\d{1,3})/,v=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(v.source,"%")),w={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",b.source,",",b.source,",",b.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",b.source,",",b.source,",",b.source,",",v.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",b.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",b.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i")},b=(l.default.Color=function(){function _(E,S){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,S),this._calculateLevels()}var D,C,M;return D=_,M=[{key:"_parseInputs",value:function(E,S,O,I){var F,j=arguments.length,L=this.mode,B=this.maxes[L],k=[];if(3<=j){for(k[0]=E/B[0],k[1]=S/B[1],k[2]=O/B[2],k[3]=typeof I=="number"?I/B[3]:1,F=k.length-1;0<=F;--F){var q=k[F];q<0?k[F]=0:1<q&&(k[F]=1)}return L===c.HSL?m.default._hslaToRGBA(k):L===c.HSB?m.default._hsbaToRGBA(k):k}if(j===1&&typeof E=="string"){if(O=E.trim().toLowerCase(),p[O])return _._parseInputs.call(this,p[O]);if(w.HEX3.test(O))return(k=w.HEX3.exec(O).slice(1).map(function(G){return parseInt(G+G,16)/255}))[3]=1,k;if(w.HEX6.test(O))return(k=w.HEX6.exec(O).slice(1).map(function(G){return parseInt(G,16)/255}))[3]=1,k;if(w.HEX4.test(O))return k=w.HEX4.exec(O).slice(1).map(function(G){return parseInt(G+G,16)/255});if(w.HEX8.test(O))return k=w.HEX8.exec(O).slice(1).map(function(G){return parseInt(G,16)/255});if(w.RGB.test(O))return(k=w.RGB.exec(O).slice(1).map(function(G){return G/255}))[3]=1,k;if(w.RGB_PERCENT.test(O))return(k=w.RGB_PERCENT.exec(O).slice(1).map(function(G){return parseFloat(G)/100}))[3]=1,k;if(w.RGBA.test(O))return k=w.RGBA.exec(O).slice(1).map(function(G,U){return U===3?parseFloat(G):G/255});if(w.RGBA_PERCENT.test(O))return k=w.RGBA_PERCENT.exec(O).slice(1).map(function(G,U){return U===3?parseFloat(G):parseFloat(G)/100});if(w.HSL.test(O)?(k=w.HSL.exec(O).slice(1).map(function(G,U){return U===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:w.HSLA.test(O)&&(k=w.HSLA.exec(O).slice(1).map(function(G,U){return U===0?parseInt(G,10)/360:U===3?parseFloat(G):parseInt(G,10)/100})),(k=k.map(function(G){return Math.max(Math.min(G,1),0)})).length)return m.default._hslaToRGBA(k);if(w.HSB.test(O)?(k=w.HSB.exec(O).slice(1).map(function(G,U){return U===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:w.HSBA.test(O)&&(k=w.HSBA.exec(O).slice(1).map(function(G,U){return U===0?parseInt(G,10)/360:U===3?parseFloat(G):parseInt(G,10)/100})),k.length){for(F=k.length-1;0<=F;--F)k[F]=Math.max(Math.min(k[F],1),0);return m.default._hsbaToRGBA(k)}k=[1,1,1,1]}else{if(j!==1&&j!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));k[0]=E/B[2],k[1]=E/B[2],k[2]=E/B[2],k[3]=typeof S=="number"?S/B[3]:1,k=k.map(function(G){return Math.max(Math.min(G,1),0)})}return k}}],(C=[{key:"toString",value:function(E){var S=this.levels,O=this._array,I=O[3];switch(E){case"#rrggbb":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16));case"#rrggbbaa":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16),S[3]<16?"0".concat(S[3].toString(16)):S[3].toString(16));case"#rgb":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16),Math.round(15*O[3]).toString(16));case"rgb":return"rgb(".concat(S[0],", ",S[1],", ",S[2],")");case"rgb%":return"rgb(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%, ",(100*O[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(S[0],",",S[1],",",S[2],",",I,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,S=this.levels=new Array(E.length),O=E.length-1;0<=O;--O)S[O]=Math.round(255*E[O]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,S){this.mode=E,this.maxes=S}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&h(D.prototype,C),M&&h(D,M),_}(),l.default.Color);s.default=b},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(d,h){this._renderer.beginClip(h),d(),this._renderer.endClip(h)},l.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(d,h,p,f,v){return l.default._validateParameters("colorMode",arguments),d!==c.RGB&&d!==c.HSB&&d!==c.HSL||(this._colorMode=d,d=this._colorMaxes[d],arguments.length===2?(d[0]=h,d[1]=h,d[2]=h,d[3]=h):arguments.length===4?(d[0]=h,d[1]=p,d[2]=f):arguments.length===5&&(d[0]=h,d[1]=p,d[2]=f,d[3]=v)),this},l.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=l.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.QUADRATIC=s.LINEAR=s._CTX_MIDDLE=s._DEFAULT_LEADMULT=s._DEFAULT_TEXT_FILL=s.WORD=s.CHAR=s.BOLDITALIC=s.BOLD=s.ITALIC=s.NORMAL=s.BLUR=s.ERODE=s.DILATE=s.POSTERIZE=s.INVERT=s.OPAQUE=s.GRAY=s.THRESHOLD=s.BURN=s.DODGE=s.SOFT_LIGHT=s.HARD_LIGHT=s.OVERLAY=s.REPLACE=s.SCREEN=s.MULTIPLY=s.EXCLUSION=s.SUBTRACT=s.DIFFERENCE=s.LIGHTEST=s.DARKEST=s.ADD=s.REMOVE=s.BLEND=s.UP_ARROW=s.TAB=s.SHIFT=s.RIGHT_ARROW=s.RETURN=s.OPTION=s.LEFT_ARROW=s.ESCAPE=s.ENTER=s.DOWN_ARROW=s.DELETE=s.CONTROL=s.BACKSPACE=s.ALT=s.AUTO=s.HSL=s.HSB=s.RGB=s.MITER=s.BEVEL=s.ROUND=s.SQUARE=s.PROJECT=s.PIE=s.CHORD=s.OPEN=s.CLOSE=s.TESS=s.QUAD_STRIP=s.QUADS=s.TRIANGLE_STRIP=s.TRIANGLE_FAN=s.TRIANGLES=s.LINE_LOOP=s.LINE_STRIP=s.LINES=s.POINTS=s.BASELINE=s.BOTTOM=s.TOP=s.CENTER=s.LEFT=s.RIGHT=s.RADIUS=s.CORNERS=s.CORNER=s.RAD_TO_DEG=s.DEG_TO_RAD=s.RADIANS=s.DEGREES=s.TWO_PI=s.TAU=s.QUARTER_PI=s.PI=s.HALF_PI=s.WAIT=s.TEXT=s.MOVE=s.HAND=s.CROSS=s.ARROW=s.WEBGL2=s.WEBGL=s.P2D=s.VERSION=void 0,s.RGBA=s.HALF_FLOAT=s.FLOAT=s.UNSIGNED_INT=s.UNSIGNED_BYTE=s.COVER=s.CONTAIN=s.FALLBACK=s.LABEL=s.AXES=s.GRID=s._DEFAULT_FILL=s._DEFAULT_STROKE=s.PORTRAIT=s.LANDSCAPE=s.SMOOTH=s.FLAT=s.MIRROR=s.CLAMP=s.REPEAT=s.NEAREST=s.IMAGE=s.IMMEDIATE=s.TEXTURE=s.FILL=s.STROKE=s.CURVE=s.BEZIER=void 0;var a=Math.PI,u=(s.VERSION="1.10.0",s.P2D="p2d",s.WEBGL="webgl",s.WEBGL2="webgl2",s.ARROW="default",s.CROSS="crosshair",s.HAND="pointer",s.MOVE="move",s.TEXT="text",s.WAIT="wait",a/2),u=(s.HALF_PI=u,a),u=(s.PI=u,a/4),u=(s.QUARTER_PI=u,2*a),u=(s.TAU=u,2*a),u=(s.TWO_PI=u,s.DEGREES="degrees",s.RADIANS="radians",a/180),u=(s.DEG_TO_RAD=u,180/a);s.RAD_TO_DEG=u,s.CORNER="corner",s.CORNERS="corners",s.RADIUS="radius",s.RIGHT="right",s.LEFT="left",s.CENTER="center",s.TOP="top",s.BOTTOM="bottom",s.BASELINE="alphabetic",s.POINTS=0,s.LINES=1,s.LINE_STRIP=3,s.LINE_LOOP=2,s.TRIANGLES=4,s.TRIANGLE_FAN=6,s.TRIANGLE_STRIP=5,s.QUADS="quads",s.QUAD_STRIP="quad_strip",s.TESS="tess",s.CLOSE="close",s.OPEN="open",s.CHORD="chord",s.PIE="pie",s.PROJECT="square",s.SQUARE="butt",s.ROUND="round",s.BEVEL="bevel",s.MITER="miter",s.RGB="rgb",s.HSB="hsb",s.HSL="hsl",s.AUTO="auto",s.ALT=18,s.BACKSPACE=8,s.CONTROL=17,s.DELETE=46,s.DOWN_ARROW=40,s.ENTER=13,s.ESCAPE=27,s.LEFT_ARROW=37,s.OPTION=18,s.RETURN=13,s.RIGHT_ARROW=39,s.SHIFT=16,s.TAB=9,s.UP_ARROW=38,s.BLEND="source-over",s.REMOVE="destination-out",s.ADD="lighter",s.DARKEST="darken",s.LIGHTEST="lighten",s.DIFFERENCE="difference",s.SUBTRACT="subtract",s.EXCLUSION="exclusion",s.MULTIPLY="multiply",s.SCREEN="screen",s.REPLACE="copy",s.OVERLAY="overlay",s.HARD_LIGHT="hard-light",s.SOFT_LIGHT="soft-light",s.DODGE="color-dodge",s.BURN="color-burn",s.THRESHOLD="threshold",s.GRAY="gray",s.OPAQUE="opaque",s.INVERT="invert",s.POSTERIZE="posterize",s.DILATE="dilate",s.ERODE="erode",s.BLUR="blur",s.NORMAL="normal",s.ITALIC="italic",s.BOLD="bold",s.BOLDITALIC="bold italic",s.CHAR="CHAR",s.WORD="WORD",s._DEFAULT_TEXT_FILL="#000000",s._DEFAULT_LEADMULT=1.25,s._CTX_MIDDLE="middle",s.LINEAR="linear",s.QUADRATIC="quadratic",s.BEZIER="bezier",s.CURVE="curve",s.STROKE="stroke",s.FILL="fill",s.TEXTURE="texture",s.IMMEDIATE="immediate",s.IMAGE="image",s.NEAREST="nearest",s.REPEAT="repeat",s.CLAMP="clamp",s.MIRROR="mirror",s.FLAT="flat",s.SMOOTH="smooth",s.LANDSCAPE="landscape",s.PORTRAIT="portrait",s._DEFAULT_STROKE="#000000",s._DEFAULT_FILL="#FFFFFF",s.GRID="grid",s.AXES="axes",s.LABEL="label",s.FALLBACK="fallback",s.CONTAIN="contain",s.COVER="cover",s.UNSIGNED_BYTE="unsigned-byte",s.UNSIGNED_INT="unsigned-int",s.FLOAT="float",s.HALF_FLOAT="half-float",s.RGBA="rgba"},{}],273:[function(t,i,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(v)}function u(v){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(c=t("./main"))&&c.__esModule?c:{default:c},c=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var g=m();if(g&&g.has(v))return g.get(v);var w,b={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var D;Object.prototype.hasOwnProperty.call(v,w)&&((D=_?Object.getOwnPropertyDescriptor(v,w):null)&&(D.get||D.set)?Object.defineProperty(b,w,D):b[w]=v[w])}return b.default=v,g&&g.set(v,b),b}(t("./constants"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}var y=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],d=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),h=!1;function p(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var v;arguments.length?(v=console).log.apply(v,arguments):h||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(h=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(v,g,w){var b,_="auto",D=this._curElement.elt;y.includes(v)?_=v:typeof v=="string"&&(b="",g&&w&&typeof g=="number"&&typeof w=="number"&&(b="".concat(g," ").concat(w)),_=v.substring(0,7)==="http://"||v.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(v)?"url(".concat(v,") ").concat(b,", auto"):v),D.style.cursor=_},l.default.prototype.frameRate=function(v){return l.default._validateParameters("frameRate",arguments),typeof v!="number"||v<0?this._frameRate:(this._setProperty("_targetFrameRate",v),v===0&&this._setProperty("_frameRate",v),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(v){return this.frameRate(v)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=c.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=0,l.default.prototype.windowHeight=0,l.default.prototype._onresize=function(v){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(v))===void 0||g||v.preventDefault()},l.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f())},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(v){if(l.default._validateParameters("fullscreen",arguments),v===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(v){if(v=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(v){var g;return l.default._validateParameters("pixelDensity",arguments),typeof v=="number"?(v!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=v),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(v){return v!==""})},l.default.prototype.getURLParams=function(){for(var v,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(v=g.exec(location.search))!=null;)v.index===g.lastIndex&&g.lastIndex++,w[v[1]]=v[2];return w},t=l.default,s.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function u(d,h){h=h||console.log.bind(console),l||m(),l.some(function(p){var f;if(d.message&&d.message.match("\\W?".concat(p.name,"\\W"))!==null)return f=p.type==="function"?"".concat(p.name,"()"):p.name,h("Did you just try to use p5.js's ".concat(f," ").concat(p.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var l=null,m=null,c=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function d(p){return Object.getOwnPropertyNames(p).filter(function(f){return f[0]!=="_"&&!(f in h)&&(h[f]=!0)}).map(function(f){var v=typeof p[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:v}})}var h={};(l=[].concat(d(a.default.prototype),d(t("../constants")))).sort(function(p,f){return f.name.length-p.name.length})},y=(a.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),a.default);s.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};t("../internationalization"),a.default._friendlyFileLoadError=function(){},t=a.default,s.default=t},{"../internationalization":281,"../main":283}],276:[function(t,i,s){"use strict";function a(T){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(T)}function u(T){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(V){return a(V)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":a(V)})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=G(t("../main")),c=t("../internationalization"),m=q(t("../constants")),y,d,h,p,f,v,g,w,b,_,D,C,M,E,S,O,I,F,j,L,B;function k(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,k=function(){return T},T)}function q(T){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var V=k();if(V&&V.has(T))return V.get(T);var H,K,re={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in T)Object.prototype.hasOwnProperty.call(T,H)&&((K=ie?Object.getOwnPropertyDescriptor(T,H):null)&&(K.get||K.set)?Object.defineProperty(re,H,K):re[H]=T[H]);return re.default=T,V&&V.set(T,re),re}function G(T){return T&&T.__esModule?T:{default:T}}function U(T){return le(T)||Q(T)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Q(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}function le(T){if(Array.isArray(T)){for(var V=0,H=new Array(T.length);V<T.length;V++)H[V]=T[V];return H}}l.default._fesCodeReader=function(){};var P=l.default;s.default=P},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function a(){var u=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(l)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(l)},this).map(function(y){var d=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),h=d.match(/ (\((.+):(\d+):(\d+)\)$)/),d=(d=h?d.replace(h[0],""):d).split(/\s+/).slice(1),h=this.extractLocation(h?h[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(y){return!y.match(c)},this).map(function(y){var d,h;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(h=y.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&h[1]?h[1]:void 0,fileName:(h=this.extractLocation(y.replace(d,"")))[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,d=m.message.split(`
`),h=[],p=2,f=d.length;p<f;p+=2){var v=y.exec(d[p]);v&&h.push({fileName:v[2],lineNumber:v[1],source:d[p]})}return h},parseOpera10:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=m.stacktrace.split(`
`),h=[],p=0,f=d.length;p<f;p+=2){var v=y.exec(d[p]);v&&h.push({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:d[p]})}return h},parseOpera11:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(u)&&!y.match(/^Error created at/)},this).map(function(y){var d,p=y.split("@"),h=this.extractLocation(p.pop()),p=p.shift()||"";return{functionName:p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(d=p.match(/\(([^)]*)\)/)?p.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)===void 0||d==="[arguments not available]"?void 0:d.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new a},t=t.default,s.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(m){if(!(m&&m.__esModule)&&!(m===null||c(m)!=="object"&&typeof m!="function")){var y=l();if(y&&y.has(m))return y.get(m);var d,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in m){var f;Object.prototype.hasOwnProperty.call(m,d)&&((f=p?Object.getOwnPropertyDescriptor(m,d):null)&&(f.get||f.set)?Object.defineProperty(h,d,f):h[d]=m[d])}h.default=m,y&&y.set(m,h)}})(t("../constants")),t("../internationalization");function l(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,l=function(){return m},m)}function c(m){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,s.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}function u(m){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var y=c();if(y&&y.has(m))return y.get(m);var d,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in m){var f;Object.prototype.hasOwnProperty.call(m,d)&&((f=p?Object.getOwnPropertyDescriptor(m,d):null)&&(f.get||f.set)?Object.defineProperty(h,d,f):h[d]=m[d])}return h.default=m,y&&y.set(m,h),h}(t("./constants"));function c(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,c=function(){return m},m)}s.default={modeAdjust:function(m,y,d,h,p){return p===l.CORNER?{x:m,y,w:d,h}:p===l.CORNERS?{x:m,y,w:d-m,h:h-y}:p===l.RADIUS?{x:m-d,y:y-h,w:2*d,h:2*h}:p===l.CENTER?{x:m-.5*d,y:y-.5*h,w:d,h}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(l,c){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),u]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,i,s){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.setTranslatorLanguage=s.currentTranslatorLanguage=s.availableTranslatorLanguages=s.initialize=s.translator=void 0;var a,u,l=m(t("i18next")),c=m(t("i18next-browser-languagedetector"));function m(h){return h&&h.__esModule?h:{default:h}}function y(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}var d=function(){function h(g,w){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(g,w)}var p,f,v;return p=h,(f=[{key:"fetchWithTimeout",value:function(g,w){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,w),new Promise(function(_,D){return setTimeout(function(){return D(new Error("timeout"))},b)})])}},{key:"init",value:function(g){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=w}},{key:"read",value:function(g,w,b){var _=this.options.loadPath;g===this.options.fallback?b(null,a[g][w]):u.includes(g)?(_=this.services.interpolator.interpolate(_,{lng:g,ns:w}),this.loadUrl(_,b)):b("Not found",!1)}},{key:"loadUrl",value:function(g,w){this.fetchWithTimeout(g).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(b){return w(null,b)}).catch(w)}}])&&y(p.prototype,f),v&&y(p,v),h}();d.type="backend",s.translator=function(h,p){console.debug("p5.js translator called before translations were loaded"),l.default.t(h,p)},s.initialize=function(){return l.default.use(c.default).use(d).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(h){s.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},s.availableTranslatorLanguages=function(){return l.default.languages},s.currentTranslatorLanguage=function(h){return l.default.language},s.setTranslatorLanguage=function(h){return l.default.changeLanguage(h||void 0,function(p){return console.debug("Translations failed to load (".concat(p,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,s.default=t},{"./main":283}],283:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("./shim");var l=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=c();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("./constants"));function c(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,c=function(){return h},h)}function m(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}var y,d=function(){function h(g,_){var b=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=_,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(h.prototype._registeredMethods),D=!0,C=!1,M=void 0;try{for(var E,S=_[Symbol.iterator]();!(D=(E=S.next()).done);D=!0){var O=E.value;this._registeredMethods[O]=h.prototype._registeredMethods[O].slice()}}catch(U){C=!0,M=U}finally{try{D||S.return==null||S.return()}finally{if(C)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),h.prototype.callRegisteredHooksFor=function(U){var W=this||h.prototype,Q=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(U)){var W=W._registeredMethods[U],le=!0,U=!1,P=void 0;try{for(var T,V=W[Symbol.iterator]();!(le=(T=V.next()).done);le=!0){var H=T.value;typeof H=="function"&&H.call(Q)}}catch(ie){U=!0,P=ie}finally{try{le||V.return==null||V.return()}finally{if(U)throw P}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var U=b._isGlobal?window:b;if(U.preload){b.callRegisteredHooksFor("beforePreload");var W,Q=document.getElementById(b._loadingScreenId),le=(Q||((Q=document.createElement("div")).innerHTML="Loading...",Q.style.position="absolute",Q.id=b._loadingScreenId,(b._userNode||document.body).appendChild(Q)),b._preloadMethods);for(W in le){le[W]=le[W]||h;var P=le[W];P!==h.prototype&&P!==h||(b._isGlobal&&(window[W]=b._wrapPreload(b,W)),P=b),b._registeredPreloadMethods[W]=P[W],P[W]=b._wrapPreload(P,W)}U.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var U,W=this._isGlobal?window:this;W._preloadCount===0&&((U=document.getElementById(W._loadingScreenId))&&U.parentNode.removeChild(U),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var U=this._isGlobal?window:this;U._preloadDone||typeof U.preload!="function"||(U._setProperty("_preloadCount",U._preloadCount-1),U._runIfPreloadsAreDone())},this._wrapPreload=function(U,W){var Q=this;return function(){Q._incrementPreload();for(var le=arguments.length,P=new Array(le),T=0;T<le;T++)P[T]=arguments[T];return Q._registeredPreloadMethods[W].apply(U,P)}},this._incrementPreload=function(){var U=this._isGlobal?window:this;U._preloadDone||U._setProperty("_preloadCount",U._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var U=b._isGlobal?window:b;if(typeof U.preload=="function")for(var W in b._preloadMethods)U[W]=b._preloadMethods[W][W],U[W]&&b&&(U[W]=U[W].bind(b));b._millisStart=window.performance.now(),U._preloadDone=!0,typeof U.setup=="function"&&U.setup();var Q=document.getElementsByTagName("canvas"),le=!0,P=!1,T=void 0;try{for(var V,H=Q[Symbol.iterator]();!(le=(V=H.next()).done);le=!0){var K=V.value;K.dataset.hidden==="true"&&(K.style.visibility="",delete K.dataset.hidden)}}catch(re){P=!0,T=re}finally{try{le||H.return==null||H.return()}finally{if(P)throw T}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(W){var W=W||window.performance.now(),Q=W-b._lastTargetFrameTime,le=1e3/b._targetFrameRate;(!b._loop||le-5<=Q)&&(b.deltaTime=W-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+le,W),b._lastRealFrameTime=W,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(U,W){b[U]=W,b._isGlobal&&(window[U]=W)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var U=document.getElementById(b._loadingScreenId);if(U&&(U.parentNode.removeChild(U),b._incrementPreload()),b._curElement){for(var W in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(W,b._events[W]);var Q=!0,U=!1,le=void 0;try{for(var P,T=b._elements[Symbol.iterator]();!(Q=(P=T.next()).done);Q=!0){var V,H=P.value;for(V in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(V,H._events[V])}}catch(se){U=!0,le=se}finally{try{Q||T.return==null||T.return()}finally{if(U)throw le}}var K=b;b._registeredMethods.remove.forEach(function(se){se!==void 0&&se.call(K)})}if(b._isGlobal){for(var re in h.prototype)try{delete window[re]}catch{window[re]=void 0}for(var ie in b)if(b.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}h.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(U){U!==void 0&&U.call(this)},this),this._setupPromisePreloads();var I,F,j=this._createFriendlyGlobalFunctionBinder();if(g)g(this),h._checkForUserDefinedFunctions(this);else{for(var L in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[L]=="function"?(I=L.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(L)&&Math[L]===h.prototype[L]?j(L,h.prototype[L]):j(L,h.prototype[L].bind(this)))):j(L,h.prototype[L]);for(var B in this)this.hasOwnProperty(B)&&j(B,this[B])}for(F in this._events){var k=this["_on".concat(F)];k&&(k=k.bind(this),window.addEventListener(F,k,{passive:!1}),this._events[F]=k)}function q(){b._setProperty("focused",!0)}function G(){b._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",G),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",G)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var p,f,v;return p=h,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,w){h.prototype._preloadMethods.hasOwnProperty(g)||(h.prototype._preloadMethods[g]=w)}},{key:"registerMethod",value:function(g,w){var b=this||h.prototype;b._registeredMethods.hasOwnProperty(g)||(b._registeredMethods[g]=[]),b._registeredMethods[g].push(w)}},{key:"unregisterMethod",value:function(g,w){var b=this||h.prototype;if(b._registeredMethods.hasOwnProperty(g)){for(var _=b._registeredMethods[g],D=[],C=0;C<_.length;C++)_[C]===w&&D.push(C);for(var M=D.length-1;0<=M;M--)_.splice(D[M],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=g.globalObject||window;return g.log||console.log.bind(console),function(b,_){h.disableFriendlyErrors,w[b]=_}}}])&&m(p.prototype,f),v&&m(p,v),h}();for(y in d.instance=null,d.disableFriendlyErrors=!1,l)d.prototype[y]=l[y];d.VERSION=l.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={},s.default=d},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function u(l,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Element=function(){function l(d,h){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=d,this._pInst=this._pixelsState=h,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,m,y;return c=l,y=[{key:"_adjustListener",value:function(d,h,p){return h===!1?a.default.Element._detachListener(d,p):a.default.Element._attachListener(d,h,p),this}},{key:"_attachListener",value:function(d,h,p){p._events[d]&&a.default.Element._detachListener(d,p),h=h.bind(p),p.elt.addEventListener(d,h,!1),p._events[d]=h}},{key:"_detachListener",value:function(d,h){var p=h._events[d];h.elt.removeEventListener(d,p,!1),h._events[d]=null}}],(m=[{key:"parent",value:function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof a.default.Element&&(d=d.elt),d.appendChild(this.elt),this)}},{key:"id",value:function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)}},{key:"mousePressed",value:function(d){return a.default.Element._adjustListener("mousedown",function(h){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(h),d.call(this,h)},this),this}},{key:"doubleClicked",value:function(d){return a.default.Element._adjustListener("dblclick",d,this),this}},{key:"mouseWheel",value:function(d){return a.default.Element._adjustListener("wheel",d,this),this}},{key:"mouseReleased",value:function(d){return a.default.Element._adjustListener("mouseup",d,this),this}},{key:"mouseClicked",value:function(d){return a.default.Element._adjustListener("click",d,this),this}},{key:"mouseMoved",value:function(d){return a.default.Element._adjustListener("mousemove",d,this),this}},{key:"mouseOver",value:function(d){return a.default.Element._adjustListener("mouseover",d,this),this}},{key:"mouseOut",value:function(d){return a.default.Element._adjustListener("mouseout",d,this),this}},{key:"touchStarted",value:function(d){return a.default.Element._adjustListener("touchstart",d,this),this}},{key:"touchMoved",value:function(d){return a.default.Element._adjustListener("touchmove",d,this),this}},{key:"touchEnded",value:function(d){return a.default.Element._adjustListener("touchend",d,this),this}},{key:"dragOver",value:function(d){return a.default.Element._adjustListener("dragover",d,this),this}},{key:"dragLeave",value:function(d){return a.default.Element._adjustListener("dragleave",d,this),this}},{key:"_setProperty",value:function(d,h){this[d]=h}}])&&u(c.prototype,m),y&&u(c,y),l}(),t=a.default.Element,s.default=t},{"./main":283}],285:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function u(w){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(g=t("./main"))&&g.__esModule?g:{default:g},c=function(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var b=m();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("./constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}function y(w,b){for(var _=0;_<b.length;_++){var D=b[_];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function d(w,b){return(d=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_})(w,b)}function h(w){return function(){var b,_=v(w);return p(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=v(this).constructor,Reflect.construct(_,arguments,b)):_.apply(this,arguments))}}function p(w,b){return!b||u(b)!=="object"&&typeof b!="function"?f(w):b}function f(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function v(w){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(w)}l.default.Graphics=function(w){var b=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),w&&d(b,w);var _,D=h(C);function C(M,E,B,O,I){var F;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");L=I||document.createElement("canvas"),(F=D.call(this,L,O)).canvas=L;var j,L=B||c.P2D,B=O._userNode||document.body;for(j in I||B.appendChild(F.canvas),l.default.prototype)F[j]||(typeof l.default.prototype[j]=="function"?F[j]=l.default.prototype[j].bind(f(F)):F[j]=l.default.prototype[j]);return l.default.prototype._initializeInstanceVariables.apply(f(F)),F.width=M,F.height=E,F._pixelDensity=O._pixelDensity,L===c.WEBGL?(F._renderer=new l.default.RendererGL(F.canvas,f(F),!1),M=(I=F._renderer._adjustDimensions(M,E)).adjustedWidth,E=I.adjustedHeight):F._renderer=new l.default.Renderer2D(F.canvas,f(F),!1),O._elements.push(f(F)),Object.defineProperty(f(F),"deltaTime",{get:function(){return this._pInst.deltaTime}}),F._renderer.resize(M,E),F._renderer._applyDefaults(),p(F,f(F))}return b=C,(w=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var M,E=this._pInst._elements.indexOf(this);for(M in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(M,this._events[M]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(M){return new l.default.Framebuffer(this,M)}}])&&y(b.prototype,w),_&&y(b,_),C}(l.default.Element);var g=l.default.Graphics;s.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(v=t("./main"))&&v.__esModule?v:{default:v},l=function(w){if(w&&w.__esModule)return w;if(w===null||m(w)!=="object"&&typeof w!="function")return{default:w};var b=c();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("../core/constants"));function c(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,c=function(){return w},w)}function m(w){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}function y(w,b){for(var _=0;_<b.length;_++){var D=b[_];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function d(w,b){return(d=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_})(w,b)}function h(w){return function(){var b,_,D=f(w);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=f(this).constructor,Reflect.construct(D,arguments,b)):D.apply(this,arguments),D=this,!(_=b)||m(_)!=="object"&&typeof _!="function"?p(D):_}}function p(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(w)}var v=function(w){var b=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),w&&d(b,w);var _,D=h(C);function C(M,E,S){var O;if(this instanceof C)return(O=D.call(this,M,E)).canvas=M,O._pixelsState=E,S?(O._isMainCanvas=!0,O._pInst._setProperty("_curElement",p(O)),O._pInst._setProperty("canvas",O.canvas),O._pInst._setProperty("width",O.width),O._pInst._setProperty("height",O.height)):(O.canvas.style.display="none",O._styles=[]),O._clipping=!1,O._clipInvert=!1,O._textSize=12,O._textLeading=15,O._textFont="sans-serif",O._textStyle=l.NORMAL,O._textAscent=null,O._textDescent=null,O._textAlign=l.LEFT,O._textBaseline=l.BASELINE,O._textWrap=l.WORD,O._rectMode=l.CORNER,O._ellipseMode=l.CENTER,O._curveTightness=0,O._imageMode=l.CORNER,O._tint=null,O._doStroke=!0,O._doFill=!0,O._strokeSet=!1,O._fillSet=!1,O._leadingSet=!1,O._pushPopDepth=0,O;throw new TypeError("Cannot call a class as a function")}return b=C,(w=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(M){this._pushPopDepth--,M.properties&&Object.assign(this,M.properties)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=M.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(M,E){this.width=M,this.height=E,this.elt.width=M*this._pInst._pixelDensity,this.elt.height=E*this._pInst._pixelDensity,this.elt.style.width="".concat(M,"px"),this.elt.style.height="".concat(E,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(M,E,S,O){var I=this._pixelsState,F=I._pixelDensity,j=this.canvas;if(M===void 0&&E===void 0)M=E=0,S=I.width,O=I.height;else if(M*=F,E*=F,S===void 0&&O===void 0)return M<0||E<0||M>=j.width||E>=j.height?[0,0,0,0]:this._getPixel(M,E);return I=new u.default.Image(S*F,O*F),I.pixelDensity(F),I.canvas.getContext("2d").drawImage(j,M,E,S*F,O*F,0,0,S*F,O*F),I}},{key:"textLeading",value:function(M){return typeof M=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",M),this._pInst):this._textLeading}},{key:"textStyle",value:function(M){return M?(M!==l.NORMAL&&M!==l.ITALIC&&M!==l.BOLD&&M!==l.BOLDITALIC||this._setProperty("_textStyle",M),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(M,E){return M!==void 0?(this._setProperty("_textAlign",M),E!==void 0&&this._setProperty("_textBaseline",E),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(M){return this._setProperty("_textWrap",M),this._textWrap}},{key:"text",value:function(M,E,S,O,I){var F,j,L,B,k=this._pInst,q=this._textWrap,G=Number.MAX_VALUE,U=S;if((this._doFill||this._doStroke)&&M!==void 0){if(F=(M=(M=typeof M!="string"?M.toString():M).replace(/(\t)/g,"  ")).split(`
`),O!==void 0){switch(this._rectMode===l.CENTER&&(E-=O/2),this._textAlign){case l.CENTER:E+=O/2;break;case l.RIGHT:E+=O}if(I!==void 0){this._rectMode===l.CENTER&&(S-=I/2,U-=I/2);var M=S,W=k.textAscent();switch(this._textBaseline){case l.BOTTOM:B=S+I,S=Math.max(B,S),U+=W;break;case l.CENTER:B=S+I/2,S=Math.max(B,S),U+=W/2}G=S+I-W,this._textBaseline===l.CENTER&&(G=M+I-W/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(U=S-(M=k.textSize()*this._textLeading)/2,G=S+M/2);if(q===l.WORD){for(var Q=[],le=0;le<F.length;le++){for(var P="",T=F[le].split(" "),V=0;V<T.length;V++)j="".concat(P+T[V])+" ",P=O<(L=this.textWidth(j))&&0<P.length?(Q.push(P),"".concat(T[V])+" "):j;Q.push(P)}var H=0;this._textBaseline===l.CENTER?H=(Q.length-1)*k.textLeading()/2:this._textBaseline===l.BOTTOM&&(H=(Q.length-1)*k.textLeading());for(var K=0;K<F.length;K++){P="",T=F[K].split(" ");for(var re=0;re<T.length;re++)j="".concat(P+T[re])+" ",O<(L=this.textWidth(j))&&0<P.length?(this._renderText(k,P.trim(),E,S-H,G,U),P="".concat(T[re])+" ",S+=k.textLeading()):P=j;this._renderText(k,P.trim(),E,S-H,G,U),S+=k.textLeading()}}else{for(var ie=[],ce=0;ce<F.length;ce++)for(var se=F[ce].split(P=""),he=0;he<se.length;he++)j="".concat(P+se[he]),(L=this.textWidth(j))<=O?P+=se[he]:O<L&&0<P.length&&(ie.push(P),P="".concat(se[he]));ie.push(P);var ue=0;this._textBaseline===l.CENTER?ue=(ie.length-1)*k.textLeading()/2:this._textBaseline===l.BOTTOM&&(ue=(ie.length-1)*k.textLeading());for(var te=0;te<F.length;te++){se=F[te].split(P="");for(var pe=0;pe<se.length;pe++)j="".concat(P+se[pe]),(L=this.textWidth(j))<=O?P+=se[pe]:O<L&&0<P.length&&(this._renderText(k,P.trim(),E,S-ue,G,U),S+=k.textLeading(),P="".concat(se[pe]))}this._renderText(k,P.trim(),E,S-ue,G,U),S+=k.textLeading()}}else{var ve=0;this._textBaseline===l.CENTER?ve=(F.length-1)*k.textLeading()/2:this._textBaseline===l.BOTTOM&&(ve=(F.length-1)*k.textLeading());for(var Me=0;Me<F.length;Me++)this._renderText(k,F[Me],E,S-ve,G,U-ve),S+=k.textLeading()}return k}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(M)==="object"&&M.font&&M.font.supported}},{key:"_updateTextMetrics",value:function(){var M,E,S,O,I,F;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((M=document.createElement("span")).style.fontFamily=this._textFont,M.style.fontSize="".concat(this._textSize,"px"),M.innerHTML="ABCjgq|",(F=document.createElement("div")).style.display="inline-block",F.style.width="1px",F.style.height="0px",O=((E=document.createElement("div")).appendChild(M),E.appendChild(F),E.style.height="0px",E.style.overflow="hidden",document.body.appendChild(E),F.style.verticalAlign="baseline",g(F)),I=g(M),S=O[1]-I[1],O=(F.style.verticalAlign="bottom",g(F)),I=g(M),F=O[1]-I[1]-S,document.body.removeChild(E),this._setProperty("_textAscent",S),this._setProperty("_textDescent",F)),this}}])&&y(b.prototype,w),_&&y(b,_),C}(u.default.Element);function g(w){var b=0,_=0;if(w.offsetParent)for(;b+=w.offsetLeft,_+=w.offsetTop,w=w.offsetParent;);else b+=w.offsetLeft,_+=w.offsetTop;return[b,_]}v.prototype.textSize=function(w){return typeof w=="number"?(this._setProperty("_textSize",w),this._leadingSet||this._setProperty("_textLeading",w*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer=v,t=u.default.Renderer,s.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(w,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function u(b){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}w("core-js/modules/es.symbol"),w("core-js/modules/es.symbol.description"),w("core-js/modules/es.symbol.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.for-each"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.array.join"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.function.name"),w("core-js/modules/es.number.to-fixed"),w("core-js/modules/es.object.get-own-property-descriptor"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.reflect.construct"),w("core-js/modules/es.reflect.get"),w("core-js/modules/es.regexp.exec"),w("core-js/modules/es.regexp.to-string"),w("core-js/modules/es.string.iterator"),w("core-js/modules/es.weak-map"),w("core-js/modules/web.dom-collections.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.for-each"),w("core-js/modules/es.array.join"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.function.name"),w("core-js/modules/es.number.to-fixed"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.regexp.exec"),w("core-js/modules/es.regexp.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(g=w("./main"))&&g.__esModule?g:{default:g},c=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var _=m();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(w("./constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function y(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function d(b,_,D){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(S,M,E){var S=function(O,I){for(;!Object.prototype.hasOwnProperty.call(O,I)&&(O=f(O))!==null;);return O}(S,M);if(S)return(S=Object.getOwnPropertyDescriptor(S,M)).get?S.get.call(E):S.value})(b,_,D||b)}function h(b,_){return(h=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function p(b){return function(){var _,D=f(b),D=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=f(this).constructor,Reflect.construct(D,arguments,_)):D.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}w("./p5.Renderer");var v="rgba(0,0,0,0)",g=function(b){var _=M;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&h(_,b);var D,C=p(M);function M(E,S,O){if(this instanceof M)return(E=C.call(this,E,S,O)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return _=M,(b=[{key:"getFilterGraphicsLayer",value:function(){var E;return this.filterGraphicsLayer||(E=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,c.WEBGL,E)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,S){d(f(M.prototype),"resize",this).call(this,E,S),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,S;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),S=(S=this._pInst).color.apply(S,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(S.levels),S=S.toString(),this._setFill(S),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,S){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,S).toString(),this.drawingContext.strokeStyle=E,S=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=S,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(d(f(M.prototype),"beginClip",this).call(this,E),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.strokeStyle=E,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=E,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),d(f(M.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(E,S,O,I,F,j,L,B,k){E.gifProperties&&E._animateGif(this._pInst);try{l.default.MediaElement&&E instanceof l.default.MediaElement&&E._ensureCanvas();var q=(q=this._tint&&E.canvas?this._getTintedImageCanvas(E):q)||E.canvas||E.elt,G=1;E.width&&0<E.width&&(G=q.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(q,G*S,G*O,G*I,G*F,j,L,B,k),this._isErasing&&this._pInst.erase()}catch(U){if(U.name!=="NS_ERROR_NOT_AVAILABLE")throw U}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var S=E.tintCanvas.getContext("2d");return S.save(),S.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(S.drawImage(E.canvas,0,0),S.globalCompositeOperation="luminosity",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="color",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="multiply",S.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),S.fillRect(0,0,E.canvas.width,E.canvas.height),S.globalCompositeOperation="destination-in"),S.globalAlpha=this._tint[3]/255,S.drawImage(E.canvas,0,0),S.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==c.BLEND&&E!==c.REMOVE&&E!==c.DARKEST&&E!==c.LIGHTEST&&E!==c.DIFFERENCE&&E!==c.MULTIPLY&&E!==c.EXCLUSION&&E!==c.SCREEN&&E!==c.REPLACE&&E!==c.OVERLAY&&E!==c.HARD_LIGHT&&E!==c.SOFT_LIGHT&&E!==c.DODGE&&E!==c.BURN&&E!==c.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,S=arguments.length,O=new Array(S),I=0;I<S;I++)O[I]=arguments[I];var F=O[O.length-1],j=Array.prototype.slice.call(O,0,O.length-1);this.drawingContext.globalCompositeOperation=F,l.default.prototype.copy.apply(this,j),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,S){return E=this.drawingContext.getImageData(E,S,1,1).data,[E[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,S=E._pixelDensity,O=this.width*S,S=this.height*S,O=this.drawingContext.getImageData(0,0,O,S);E._setProperty("imageData",O),E._setProperty("pixels",O.data)}},{key:"set",value:function(E,S,O){E=Math.floor(E),S=Math.floor(S);var I=this._pixelsState;if(O instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(I._pixelDensity,I._pixelDensity),this.drawingContext.clearRect(E,S,O.width,O.height),this.drawingContext.drawImage(O.canvas,E,S),this.drawingContext.restore();else{var F=0,j=0,L=0,B=0,k=4*(S*I._pixelDensity*(this.width*I._pixelDensity)+E*I._pixelDensity);if(I.imageData||I.loadPixels(),typeof O=="number")k<I.pixels.length&&(L=j=F=O,B=255);else if(Array.isArray(O)){if(O.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");k<I.pixels.length&&(F=O[0],j=O[1],L=O[2],B=O[3])}else O instanceof l.default.Color&&k<I.pixels.length&&(F=O.levels[0],j=O.levels[1],L=O.levels[2],B=O.levels[3]);for(var q=0;q<I._pixelDensity;q++)for(var G=0;G<I._pixelDensity;G++)k=4*((S*I._pixelDensity+G)*this.width*I._pixelDensity+(E*I._pixelDensity+q)),I.pixels[k]=F,I.pixels[k+1]=j,I.pixels[k+2]=L,I.pixels[k+3]=B}}},{key:"updatePixels",value:function(E,S,O,I){var F=this._pixelsState,j=F._pixelDensity;E===void 0&&S===void 0&&O===void 0&&I===void 0&&(S=E=0,O=this.width,I=this.height),E*=j,S*=j,O*=j,I*=j,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=F.imageData),this.drawingContext.putImageData(F.imageData,E,S,0,0,O,I)}},{key:"_acuteArcToBezier",value:function(E,S){var j=S/2,O=Math.cos(j),B=Math.sin(j),I=1/Math.tan(j),j=E+j,F=Math.cos(j),j=Math.sin(j),L=(4-O)/3,B=B+(O-L)*I;return{ax:Math.cos(E).toFixed(7),ay:Math.sin(E).toFixed(7),bx:(L*F+B*j).toFixed(7),by:(L*j-B*F).toFixed(7),cx:(L*F-B*j).toFixed(7),cy:(L*j+B*F).toFixed(7),dx:Math.cos(E+S).toFixed(7),dy:Math.sin(E+S).toFixed(7)}}},{key:"arc",value:function(E,S,O,I,F,j,L){var B,k=this.drawingContext,q=O/2,G=I/2,U=[];for(E+=q,S+=G;1e-5<=j-F;)B=Math.min(j-F,c.HALF_PI),U.push(this._acuteArcToBezier(F,B)),F+=B;return this._doFill&&(this._clipping||k.beginPath(),U.forEach(function(W,Q){Q===0&&k.moveTo(E+W.ax*q,S+W.ay*G),k.bezierCurveTo(E+W.bx*q,S+W.by*G,E+W.cx*q,S+W.cy*G,E+W.dx*q,S+W.dy*G)}),L!==c.PIE&&L!=null||k.lineTo(E,S),k.closePath(),this._clipping||k.fill()),this._doStroke&&(this._clipping||k.beginPath(),U.forEach(function(W,Q){Q===0&&k.moveTo(E+W.ax*q,S+W.ay*G),k.bezierCurveTo(E+W.bx*q,S+W.by*G,E+W.cx*q,S+W.cy*G,E+W.dx*q,S+W.dy*G)}),L===c.PIE?(k.lineTo(E,S),k.closePath()):L===c.CHORD&&k.closePath(),this._clipping||k.stroke()),this}},{key:"ellipse",value:function(B){var S=this.drawingContext,O=this._doFill,I=this._doStroke,F=parseFloat(B[0]),j=parseFloat(B[1]),L=parseFloat(B[2]),B=parseFloat(B[3]);if(O&&!I){if(this._getFill()===v)return this}else if(!O&&I&&this._getStroke()===v)return this;F+=L/2,j+=B/2,L/=2,B/=2,this._clipping||S.beginPath(),S.ellipse(F,j,L,B,0,0,2*Math.PI),!this._clipping&&O&&S.fill(),!this._clipping&&I&&S.stroke()}},{key:"line",value:function(E,S,O,I){var F=this.drawingContext;return this._doStroke&&this._getStroke()!==v&&(this._clipping||F.beginPath(),F.moveTo(E,S),F.lineTo(O,I),F.stroke()),this}},{key:"point",value:function(E,S){var O,I,F=this.drawingContext;return!this._doStroke||this._getStroke()===v?this:(O=this._getStroke(),I=this._getFill(),this._clipping||this._setFill(O),this._clipping||F.beginPath(),F.arc(E,S,F.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(F.fill(),this._setFill(I))))}},{key:"quad",value:function(E,S,O,I,F,j,L,B){var k=this.drawingContext,q=this._doFill,G=this._doStroke;if(q&&!G){if(this._getFill()===v)return this}else if(!q&&G&&this._getStroke()===v)return this;return this._clipping||k.beginPath(),k.moveTo(E,S),k.lineTo(O,I),k.lineTo(F,j),k.lineTo(L,B),k.closePath(),!this._clipping&&q&&k.fill(),!this._clipping&&G&&k.stroke(),this}},{key:"rect",value:function(G){var S,O,I=G[0],F=G[1],j=G[2],L=G[3],B=G[4],k=G[5],q=G[6],G=G[7],U=this.drawingContext,W=this._doFill,Q=this._doStroke;if(W&&!Q){if(this._getFill()===v)return this}else if(!W&&Q&&this._getStroke()===v)return this;return this._clipping||U.beginPath(),B===void 0?U.rect(I,F,j,L):(k===void 0&&(k=B),q===void 0&&(q=k),G===void 0&&(G=q),Q=(W=Math.abs(j))/2,O=(S=Math.abs(L))/2,S<2*(B=W<2*B?Q:B)&&(B=O),S<2*(k=W<2*k?Q:k)&&(k=O),S<2*(q=W<2*q?Q:q)&&(q=O),S<2*(G=W<2*G?Q:G)&&(G=O),this._clipping||U.beginPath(),U.moveTo(I+B,F),U.arcTo(I+j,F,I+j,F+L,k),U.arcTo(I+j,F+L,I,F+L,q),U.arcTo(I,F+L,I,F,G),U.arcTo(I,F,I+j,F,B),U.closePath()),!this._clipping&&this._doFill&&U.fill(),!this._clipping&&this._doStroke&&U.stroke(),this}},{key:"triangle",value:function(q){var S=this.drawingContext,O=this._doFill,I=this._doStroke,F=q[0],j=q[1],L=q[2],B=q[3],k=q[4],q=q[5];if(O&&!I){if(this._getFill()===v)return this}else if(!O&&I&&this._getStroke()===v)return this;this._clipping||S.beginPath(),S.moveTo(F,j),S.lineTo(L,B),S.lineTo(k,q),S.closePath(),!this._clipping&&O&&S.fill(),!this._clipping&&I&&S.stroke()}},{key:"endShape",value:function(E,S,O,I,F,j,L){if(S.length!==0&&(this._doStroke||this._doFill)){var B,k,q,G=E===c.CLOSE,U=(G&&!j&&S.push(S[0]),S.length);if(O&&L===null){if(3<U){var W=[],Q=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[1][0],S[1][1]),k=1;k+2<U;k++)B=S[k],W[0]=[B[0],B[1]],W[1]=[B[0]+(Q*S[k+1][0]-Q*S[k-1][0])/6,B[1]+(Q*S[k+1][1]-Q*S[k-1][1])/6],W[2]=[S[k+1][0]+(Q*S[k][0]-Q*S[k+2][0])/6,S[k+1][1]+(Q*S[k][1]-Q*S[k+2][1])/6],W[3]=[S[k+1][0],S[k+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);G&&this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this._doFillStrokeClose(G)}}else if(I&&L===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<U;k++)S[k].isVert?S[k].moveTo?this.drawingContext.moveTo(S[k][0],S[k][1]):this.drawingContext.lineTo(S[k][0],S[k][1]):this.drawingContext.bezierCurveTo(S[k][0],S[k][1],S[k][2],S[k][3],S[k][4],S[k][5]);this._doFillStrokeClose(G)}else if(F&&L===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<U;k++)S[k].isVert?S[k].moveTo?this.drawingContext.moveTo(S[k][0],S[k][1]):this.drawingContext.lineTo(S[k][0],S[k][1]):this.drawingContext.quadraticCurveTo(S[k][0],S[k][1],S[k][2],S[k][3]);this._doFillStrokeClose(G)}else if(L===c.POINTS)for(k=0;k<U;k++)B=S[k],this._doStroke&&this._pInst.stroke(B[6]),this._pInst.point(B[0],B[1]);else if(L===c.LINES)for(k=0;k+1<U;k+=2)B=S[k],this._doStroke&&this._pInst.stroke(S[k+1][6]),this._pInst.line(B[0],B[1],S[k+1][0],S[k+1][1]);else if(L===c.TRIANGLES)for(k=0;k+2<U;k+=3)B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(S[k+2][0],S[k+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(S[k+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(S[k+2][6]),this.drawingContext.stroke());else if(L===c.TRIANGLE_STRIP)for(k=0;k+1<U;k++)B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+1][5]),k+2<U&&(this.drawingContext.lineTo(S[k+2][0],S[k+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+2][5])),this._doFillStrokeClose(G);else if(L===c.TRIANGLE_FAN){if(2<U){for(this._clipping||this.drawingContext.beginPath(),k=2;k<U;k++)B=S[k],this.drawingContext.moveTo(S[0][0],S[0][1]),this.drawingContext.lineTo(S[k-1][0],S[k-1][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(S[0][0],S[0][1]),k<U-1&&(this._doFill&&B[5]!==S[k+1][5]||this._doStroke&&B[6]!==S[k+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(B[5]),this.drawingContext.fill(),this._pInst.fill(S[k+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(B[6]),this.drawingContext.stroke(),this._pInst.stroke(S[k+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(G)}}else if(L===c.QUADS)for(k=0;k+3<U;k+=4){for(B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),q=1;q<4;q++)this.drawingContext.lineTo(S[k+q][0],S[k+q][1]);this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+3][6]),this._doFillStrokeClose(G)}else if(L===c.QUAD_STRIP){if(3<U)for(k=0;k+1<U;k+=2)B=S[k],this._clipping||this.drawingContext.beginPath(),k+3<U?(this.drawingContext.moveTo(S[k+2][0],S[k+2][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(S[k+3][0],S[k+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+3][6])):(this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1])),this._doFillStrokeClose(G)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0][0],S[0][1]),k=1;k<U;k++)(B=S[k]).isVert&&(B.moveTo?(G&&this.drawingContext.closePath(),this.drawingContext.moveTo(B[0],B[1])):this.drawingContext.lineTo(B[0],B[1]));this._doFillStrokeClose(G)}j=F=I=O=!1,G&&S.pop()}return this}},{key:"strokeCap",value:function(E){return E!==c.ROUND&&E!==c.SQUARE&&E!==c.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==c.ROUND&&E!==c.BEVEL&&E!==c.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,S,O,I,F,j,L,B){return this._pInst.beginShape(),this._pInst.vertex(E,S),this._pInst.bezierVertex(O,I,F,j,L,B),this._pInst.endShape(),this}},{key:"curve",value:function(E,S,O,I,F,j,L,B){return this._pInst.beginShape(),this._pInst.curveVertex(E,S),this._pInst.curveVertex(O,I),this._pInst.curveVertex(F,j),this._pInst.curveVertex(L,B),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,S,O,I,F,j){this.drawingContext.transform(E,S,O,I,F,j)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,S){return this.drawingContext.scale(E,S),this}},{key:"translate",value:function(E,S){return E instanceof l.default.Vector&&(S=E.y,E=E.x),this.drawingContext.translate(E,S),this}},{key:"_renderText",value:function(E,S,O,I,F,j){if(!(I<j||F<=I))return E.push(),this._isOpenType()?this._textFont._renderPath(S,O,I,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(S,O,I),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(S,O,I))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E=this._pInst,S=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),S=this._textFont,this._isOpenType()&&(S=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),S||"sans-serif");return/\s/.exec(S)&&(S='"'.concat(S,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(S),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),d(f(M.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,d(f(M.prototype),"pop",this).call(this,E)}}])&&y(_.prototype,b),D&&y(_,D),M}(l.default.Renderer),w=(g.prototype.text=function(b,_,D,S,M){S!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(E=!0,this.drawingContext.textBaseline=c.TOP);var E,S=l.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=c.BASELINE),S},l.default.Renderer2D=g,l.default.Renderer2D);s.default=w},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("./main"))&&t.__esModule?t:{default:t};a.default.prototype._promisePreloads=[];function u(){return{}}var l=!(a.default.prototype.registerPromisePreload=function(c){a.default.prototype._promisePreloads.push(c)});a.default.prototype._setupPromisePreloads=function(){var c=!0,m=!1,y=void 0;try{for(var d,h=this._promisePreloads[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value,f=this,v=p.method,g=p.addCallbacks,w=p.legacyPreloadSetup,b=p.target||this,_=b[v].bind(b);if(b===a.default.prototype){if(l)continue;f=null,_=b[v]}b[v]=this._wrapPromisePreload(f,_,g),w&&(b[w.method]=this._legacyPreloadGenerator(f,w,b[v]))}}catch(D){m=!0,y=D}finally{try{c||h.return==null||h.return()}finally{if(m)throw y}}l=!0},a.default.prototype._wrapPromisePreload=function(c,m,y){var d=function(){for(var h=this,p=(this._incrementPreload(),null),f=null,v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];if(y)for(var b=g.length-1;0<=b&&!f&&typeof g[b]=="function";b--)f=p,p=g.pop();var _=Promise.resolve(m.apply(this,g));return p&&_.then(p),f&&_.catch(f),_.then(function(){return h._decrementPreload()}),_};return d=c?d.bind(c):d},a.default.prototype._legacyPreloadGenerator=function(c,h,y){var d=h.createBaseObject||u,h=function(){var p=this;this._incrementPreload();for(var f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];var w=d.apply(this,v);return y.apply(this,v).then(function(b){Object.assign(w,b),p._decrementPreload()}),w};return h=c?h.bind(c):h}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(d=t("./main"))&&d.__esModule?d:{default:d},l=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var p=c();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("./constants"));function c(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,c=function(){return h},h)}function m(h){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",d=(u.default.prototype.createCanvas=function(h,p,f,v){var g,w,b;if(u.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=l.P2D,v=arguments[2]):g=f||l.P2D,v)(b=document.getElementById(y))&&b.parentNode.removeChild(b),b=v,this._defaultGraphicsCreated=!1;else{if(g===l.WEBGL)(b=document.getElementById(y))&&(b.parentNode.removeChild(b),w=this._renderer,this._elements=this._elements.filter(function(D){return D!==w})),(b=document.createElement("canvas")).id=y,b.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)b=this.canvas;else{b=v||document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;y="defaultCanvas".concat(_),b.id=y,b.classList.add("p5Canvas")}this._setupDone||(b.dataset.hidden=!0,b.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(b)}return g===l.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(b,this,!0)),this._elements.push(this._renderer),h=(v=this._renderer._adjustDimensions(h,p)).adjustedWidth,p=v.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(b,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,p),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(h,p,f){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var v,g,w,b={};for(v in this.drawingContext){var _=this.drawingContext[v];m(_)!=="object"&&typeof _!="function"&&(b[v]=_)}for(w in this._renderer instanceof u.default.RendererGL&&(h=(g=this._renderer._adjustDimensions(h,p)).adjustedWidth,p=g.adjustedHeight),this.width=h,this.height=p,this._renderer.resize(h,p),b)try{this.drawingContext[w]=b[w]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(h,p){for(var f=arguments.length,v=new Array(2<f?f-2:0),g=2;g<f;g++)v[g-2]=arguments[g];return v[0]instanceof HTMLCanvasElement&&(v[1]=v[0],v[0]=l.P2D),u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(h,p,v[0],this,v[1])},u.default.prototype.createFramebuffer=function(h){return new u.default.Framebuffer(this,h)},u.default.prototype.clearDepth=function(h){this._assert3d("clearDepth"),this._renderer.clearDepth(h)},u.default.prototype.blendMode=function(h){u.default._validateParameters("blendMode",arguments),h===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=l.BLEND),this._renderer.blendMode(h)},u.default);s.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=d(t("../main")),c=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var f=y();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../constants")),m=d(t("../helpers"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function d(p){return p&&p.__esModule?p:{default:p}}function h(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(p,f,v,g,w){var b;return p-=c.TWO_PI*Math.floor(p/c.TWO_PI),f-=c.TWO_PI*Math.floor(f/c.TWO_PI),b=Math.min(Math.abs(p-f),c.TWO_PI-Math.abs(p-f)),w&&(p=p<=c.HALF_PI?Math.atan(v/g*Math.tan(p)):p>c.HALF_PI&&p<=3*c.HALF_PI?Math.atan(v/g*Math.tan(p))+c.PI:Math.atan(v/g*Math.tan(p))+c.TWO_PI,f=f<=c.HALF_PI?Math.atan(v/g*Math.tan(f)):f>c.HALF_PI&&f<=3*c.HALF_PI?Math.atan(v/g*Math.tan(f))+c.PI:Math.atan(v/g*Math.tan(f))+c.TWO_PI),f<p&&(f+=c.TWO_PI),{start:p,stop:f,correspondToSamePoint:b<1e-5}},l.default.prototype.arc=function(p,f,v,g,w,b,_,D){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&w!==b&&(w=this._toRadians(w),b=this._toRadians(b),v=Math.abs(v),g=Math.abs(g),p=m.default.modeAdjust(p,f,v,g,this._renderer._ellipseMode),(f=this._normalizeArcAngles(w,b,p.w,p.h,!0)).correspondToSamePoint?this._renderer.ellipse([p.x,p.y,p.w,p.h,D]):(this._renderer.arc(p.x,p.y,p.w,p.h,f.start,f.stop,_,D),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[p.x,p.y,p.w,p.h,f.start,f.stop,_]))),this},l.default.prototype.ellipse=function(p,f,v,g,w){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];l.default._validateParameters("circle",f);var g=f.slice(0,2);return g.push(f[2],f[2]),this._renderEllipse.apply(this,h(g))},l.default.prototype._renderEllipse=function(p,f,v,g,w){return(this._renderer._doStroke||this._renderer._doFill)&&(v<0&&(v=Math.abs(v)),g===void 0?g=v:g<0&&(g=Math.abs(g)),p=m.default.modeAdjust(p,f,v,g,this._renderer._ellipseMode),this._renderer.ellipse([p.x,p.y,p.w,p.h,w]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[p.x,p.y,p.w,p.h])),this},l.default.prototype.line=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return l.default._validateParameters("line",v),this._renderer._doStroke&&(p=this._renderer).line.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",v),this},l.default.prototype.point=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return l.default._validateParameters("point",v),this._renderer._doStroke&&(v.length===1&&v[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,v[0].x,v[0].y,v[0].z):((p=this._renderer).point.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",v))),this},l.default.prototype.quad=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return l.default._validateParameters("quad",v),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&v.length<12?this._renderer.quad.call(this._renderer,v[0],v[1],0,v[2],v[3],0,v[4],v[5],0,v[6],v[7],0,v[8],v[9]):((p=this._renderer).quad.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",v))),this},l.default.prototype.rect=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return l.default._validateParameters("rect",f),this._renderRect.apply(this,f)},l.default.prototype.square=function(p,f,v,g,w,b,_){return l.default._validateParameters("square",arguments),this._renderRect.call(this,p,f,v,v,g,w,b,_)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var p=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=[p.x,p.y,p.w,p.h],v=4;v<arguments.length;v++)f[v]=arguments[v];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[p.x,p.y,p.w,p.h])}return this},l.default.prototype.triangle=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return l.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},t=l.default,s.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}l.default.prototype.ellipseMode=function(d){return l.default._validateParameters("ellipseMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._ellipseMode=d),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(d){return l.default._validateParameters("rectMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._rectMode=d),this},l.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(d){return l.default._validateParameters("strokeCap",arguments),d!==c.ROUND&&d!==c.SQUARE&&d!==c.PROJECT||this._renderer.strokeCap(d),this},l.default.prototype.strokeJoin=function(d){return l.default._validateParameters("strokeJoin",arguments),d!==c.ROUND&&d!==c.BEVEL&&d!==c.MITER||this._renderer.strokeJoin(d),this},l.default.prototype.strokeWeight=function(d){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var y=l.default;s.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var l,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,m),this},a.default.prototype.bezierDetail=function(l){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},a.default.prototype.bezierPoint=function(l,c,m,y,d){a.default._validateParameters("bezierPoint",arguments);var h=1-d;return Math.pow(h,3)*l+3*Math.pow(h,2)*d*c+3*h*Math.pow(d,2)*m+Math.pow(d,3)*y},a.default.prototype.bezierTangent=function(l,c,m,y,d){a.default._validateParameters("bezierTangent",arguments);var h=1-d;return 3*y*Math.pow(d,2)-3*m*Math.pow(d,2)+6*m*h*d-6*c*h*d+3*c*Math.pow(h,2)-3*l*Math.pow(h,2)},a.default.prototype.curve=function(){for(var l,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("curve",m),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,m),this},a.default.prototype.curveDetail=function(l){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},a.default.prototype.curveTightness=function(l){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},a.default.prototype.curvePoint=function(l,c,m,y,d){a.default._validateParameters("curvePoint",arguments);var h=this._renderer._curveTightness,p=d*d*d,f=d*d;return l*((h-1)/2*p+(1-h)*f+(h-1)/2*d)+c*((h+3)/2*p+(-5-h)/2*f+1)+m*((-3-h)/2*p+(h+2)*f+(1-h)/2*d)+y*((1-h)/2*p+(h-1)/2*f)},a.default.prototype.curveTangent=function(l,c,m,y,f){a.default._validateParameters("curveTangent",arguments);var h=this._renderer._curveTightness,p=f*f*3,f=2*f;return l*((h-1)/2*p+(1-h)*f+(h-1)/2)+c*((h+3)/2*p+(-5-h)/2*f)+m*((-3-h)/2*p+(h+2)*f+(1-h)/2)+y*((1-h)/2*p+(h-1)/2*f)};var u=a.default;s.default=u},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,i,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(_)}function u(_){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(D){return a(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":a(D)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../main"))&&b.__esModule?b:{default:b},c=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var D=m();if(D&&D.has(_))return D.get(_);var C,M={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in _){var S;Object.prototype.hasOwnProperty.call(_,C)&&((S=E?Object.getOwnPropertyDescriptor(_,C):null)&&(S.get||S.set)?Object.defineProperty(M,C,S):M[C]=_[C])}return M.default=_,D&&D.set(_,M),M}(t("../constants"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}var y=null,d=[],h=[],p=!1,f=!1,v=!1,g=!1,w=!0,b=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(h=[],g=!0),this},l.default.prototype.beginShape=function(_){var D;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(D=this._renderer).beginShape.apply(D,arguments):(y=_===c.POINTS||_===c.LINES||_===c.TRIANGLES||_===c.TRIANGLE_FAN||_===c.TRIANGLE_STRIP||_===c.QUADS||_===c.QUAD_STRIP?_:null,d=[],h=[]),this},l.default.prototype.bezierVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];if(l.default._validateParameters("bezierVertex",C),this._renderer.isP3D)(_=this._renderer).bezierVertex.apply(_,C);else if(d.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{p=!0;for(var E=[],S=0;S<C.length;S++)E[S]=C[S];E.isVert=!1,(g?h:d).push(E)}return this},l.default.prototype.curveVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];return l.default._validateParameters("curveVertex",C),this._renderer.isP3D?(_=this._renderer).curveVertex.apply(_,C):(f=!0,this.vertex(C[0],C[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var _=h[0].slice();_.isVert=h[0].isVert,_.moveTo=!1,h.push(_),w&&(d.push(d[0]),w=!1);for(var D=0;D<h.length;D++)d.push(h[D])}return this},l.default.prototype.endShape=function(_){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),D<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),D=1),this._renderer.isP3D)this._renderer.endShape(_,f,p,v,g,y,D);else{if(D!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),d.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;D=_===c.CLOSE,D&&!g&&d.push(d[0]),this._renderer.endShape(_,d,f,p,v,g,y),w=!(g=v=p=f=!1),D&&d.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];if(l.default._validateParameters("quadraticVertex",C),this._renderer.isP3D)(_=this._renderer).quadraticVertex.apply(_,C);else{if(this._contourInited)return(_={}).x=C[0],_.y=C[1],_.x3=C[2],_.y3=C[3],_.type=c.QUADRATIC,this._contourVertices.push(_),this;if(0<d.length){v=!0;for(var E=[],S=0;S<C.length;S++)E[S]=C[S];E.isVert=!1,(g?h:d).push(E)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(_,D,C,M,E){var S;return this._renderer.isP3D?(S=this._renderer).vertex.apply(S,arguments):((S=[]).isVert=!0,S[0]=_,S[1]=D,S[2]=0,S[3]=0,S[4]=0,S[5]=this._renderer._getFill(),S[6]=this._renderer._getStroke(),C&&(S.moveTo=C),(g?(h.length===0&&(S.moveTo=!0),h):d).push(S)),this},l.default.prototype.normal=function(_,D,C){var M;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},l.default);s.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,i,s){},{}],295:[function(t,i,s){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var u=parseInt(a),l=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var c=0;c<u;c++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,s.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function u(l){return function(c){if(Array.isArray(c)){for(var m=0,y=new Array(c.length);m<c.length;m++)y[m]=c[m];return y}}(l)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,u(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(l,c){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),c),this},a.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},a.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},a.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},a.default.prototype.scale=function(l,c,m){var y;return a.default._validateParameters("scale",arguments),l instanceof a.default.Vector?(l=(y=l).x,c=y.y,m=y.z):Array.isArray(l)&&(l=(y=l)[0],c=y[1],m=y[2]||1),isNaN(c)?c=m=l:isNaN(m)&&(m=1),this._renderer.scale(l,c,m),this},a.default.prototype.shearX=function(l){return a.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},a.default.prototype.shearY=function(l){return a.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},a.default.prototype.translate=function(l,c,m){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,c,m):this._renderer.translate(l,c),this},t=a.default,s.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(m){return function(y){if(Array.isArray(y)){for(var d=0,h=new Array(y.length);d<y.length;d++)h[d]=y[d];return h}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(m){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}u.default.prototype.storeItem=function(m,y){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var d=c(y);switch(d){case"number":case"boolean":y=y.toString();break;case"object":y instanceof u.default.Color?d="p5.Color":y instanceof u.default.Vector&&(d="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(m,y),m="".concat(m,"p5TypeID"),localStorage.setItem(m,d)},u.default.prototype.getItem=function(m){var y=localStorage.getItem(m),d=localStorage.getItem("".concat(m,"p5TypeID"));if(d===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(d){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,l(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,l(y))}return y},u.default.prototype.clearStorage=function(){var m=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&m.removeItem(y.replace("p5TypeID",""))})},u.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,i,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(v)}function u(v){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),g&&m(v,g)}function m(v,g){return(m=Object.setPrototypeOf||function(w,b){return w.__proto__=b,w})(v,g)}function y(v){return function(){var g,w=d(v),w=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=d(this).constructor,Reflect.construct(w,arguments,g)):w.apply(this,arguments),this);if(!g||u(g)!=="object"&&typeof g!="function"){if(w!==void 0)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function d(v){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(v)}function h(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function p(v,g){for(var w=0;w<g.length;w++){var b=g[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function f(v,g,w){g&&p(v.prototype,g),w&&p(v,w)}l.default.prototype.createStringDict=function(v,g){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(v,g)},l.default.prototype.createNumberDict=function(v,g){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(v,g)},l.default.TypedDict=function(){function v(g,w){return h(this,v),g instanceof Object?this.data=g:(this.data={},this.data[g]=w),this}return f(v,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,w){this._validate(w)?this.data[g]=w:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var w in g)this.set(w,g[w])}},{key:"create",value:function(g,w){g instanceof Object&&w===void 0?this._addObj(g):g!==void 0?this.set(g,w):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var w,b="";for(w in this.data)b+="".concat(w,",").concat(this.data[w],`
`);var _=new Blob([b],{type:"text/csv"});l.default.prototype.downloadFile(_,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,w){l.default.prototype.saveJSON(this.data,g,w)}},{key:"_validate",value:function(g){return!0}}]),v}(),l.default.StringDict=function(){c(g,l.default.TypedDict);var v=y(g);function g(){h(this,g);for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];return v.call.apply(v,[this].concat(b))}return f(g,[{key:"_validate",value:function(w){return typeof w=="string"}}]),g}(),l.default.NumberDict=function(){c(g,l.default.TypedDict);var v=y(g);function g(){h(this,g);for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];return v.call.apply(v,[this].concat(b))}return f(g,[{key:"_validate",value:function(w){return typeof w=="number"}},{key:"add",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]+=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"sub",value:function(w,b){this.add(w,-b)}},{key:"mult",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]*=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"div",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]/=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"_valueTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var b,_=this.data[Object.keys(this.data)[0]];for(b in this.data)this.data[b]*w<_*w&&(_=this.data[b]);return _}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var b=Object.keys(this.data)[0],_=1;_<Object.keys(this.data).length;_++)Object.keys(this.data)[_]*w<b*w&&(b=Object.keys(this.data)[_]);return b}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),t=l.default.TypedDict,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function c(b,_,D){_&&l(b.prototype,_),D&&l(b,D)}function m(b,_){return(m=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function y(b){return function(){var _,D,C=h(b);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(C,arguments,_)):C.apply(this,arguments),C=this,!(D=_)||f(D)!=="object"&&typeof D!="function"?d(C):D}}function d(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function h(b){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b){return(f=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}function v(b,_,D){return(_._userNode||document.body).appendChild(b),D=new(D?u.default.MediaElement:u.default.Element)(b,_),_._elements.push(D),D}function g(b,S,D,C){var M=document.createElement(S),E=(typeof(D=D||"")=="string"&&(D=[D]),!0),S=!1,O=void 0;try{for(var I,F=D[Symbol.iterator]();!(E=(I=F.next()).done);E=!0){var j=I.value,L=document.createElement("source");L.setAttribute("src",j),M.appendChild(L)}}catch(k){S=!0,O=k}finally{try{E||F.return==null||F.return()}finally{if(S)throw O}}typeof C=="function"&&M.addEventListener("canplaythrough",function k(){C(),M.removeEventListener("canplaythrough",k)});var B=v(M,b,!0);return B.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){B.width=M.videoWidth,B.height=M.videoHeight,B.elt.width===0&&(B.elt.width=M.videoWidth),B.elt.height===0&&(B.elt.height=M.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),B}u.default.prototype.select=function(b,_){return u.default._validateParameters("select",arguments),_=this._getContainer(_).querySelector(b),_?this._wrapElement(_):null},u.default.prototype.selectAll=function(b,_){u.default._validateParameters("selectAll",arguments);var D=[],C=this._getContainer(_).querySelectorAll(b);if(C)for(var M=0;M<C.length;M++){var E=this._wrapElement(C[M]);D.push(E)}return D},u.default.prototype._getContainer=function(b){var _=document;return typeof b=="string"?_=document.querySelector(b)||document:b instanceof u.default.Element?_=b.elt:b instanceof HTMLElement&&(_=b),_},u.default.prototype._wrapElement=function(b){var _,D=Array.prototype.slice.call(b.children);return b.tagName==="INPUT"&&b.type==="checkbox"?((_=new u.default.Element(b,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):b.tagName==="VIDEO"||b.tagName==="AUDIO"?new u.default.MediaElement(b,this):b.tagName==="SELECT"?this.createSelect(new u.default.Element(b,this)):0<D.length&&D.every(function(C){return C.tagName==="INPUT"||C.tagName==="LABEL"})&&(b.tagName==="DIV"||b.tagName==="SPAN")?this.createRadio(new u.default.Element(b,this)):new u.default.Element(b,this)},u.default.prototype.removeElements=function(b){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},u.default.Element.prototype.changed=function(b){return u.default.Element._adjustListener("change",b,this),this},u.default.Element.prototype.input=function(b){return u.default.Element._adjustListener("input",b,this),this},u.default.prototype.createDiv=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=b,v(_,this)},u.default.prototype.createP=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=b,v(_,this)},u.default.prototype.createSpan=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=b,v(_,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var b,_=document.createElement("img"),D=arguments;return 1<D.length&&typeof D[1]=="string"&&(_.alt=D[1]),2<D.length&&typeof D[2]=="string"&&(_.crossOrigin=D[2]),_.src=D[0],b=v(_,this),_.addEventListener("load",function(){b.width=_.offsetWidth||_.width,b.height=_.offsetHeight||_.height;var C=D[D.length-1];typeof C=="function"&&C(b)}),b},u.default.prototype.createA=function(b,_,D){u.default._validateParameters("createA",arguments);var C=document.createElement("a");return C.href=b,C.innerHTML=_,D&&(C.target=D),v(C,this)},u.default.prototype.createSlider=function(b,_,D,C){u.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=b,M.max=_,C===0?M.step=1e-18:C&&(M.step=C),typeof D=="number"&&(M.value=D),v(M,this)},u.default.prototype.createButton=function(b,_){u.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=b,_&&(D.value=_),v(D,this)},u.default.prototype.createCheckbox=function(){for(var b=arguments.length,_=new Array(b),D=0;D<b;D++)_[D]=arguments[D];u.default._validateParameters("createCheckbox",_);var C=document.createElement("div"),M=document.createElement("input"),E=(M.type="checkbox",document.createElement("label")),S=(E.appendChild(M),C.appendChild(E),v(C,this));return S.checked=function(){var O=S.elt.firstElementChild.getElementsByTagName("input")[0];if(O){if(arguments.length===0)return O.checked;O.checked=!(arguments.length<=0||!arguments[0])}return S},this.value=function(O){return S.value=O,this},_[0]&&(S.value(_[0]),(C=document.createElement("span")).innerHTML=_[0],E.appendChild(C)),_[1]&&(M.checked=!0),S},u.default.prototype.createSelect=function(){for(var b,_=arguments.length,D=new Array(_),C=0;C<_;C++)D[C]=arguments[C];u.default._validateParameters("createSelect",D);var M,E=D[0];return E instanceof u.default.Element&&E.elt instanceof HTMLSelectElement?this.elt=(b=E).elt:E instanceof HTMLSelectElement?(b=v(E,this),this.elt=E):(M=document.createElement("select"),E&&typeof E=="boolean"&&M.setAttribute("multiple","true"),b=v(M,this),this.elt=M),b.option=function(S,O){var I;if(S!==void 0){for(var F,j=0;j<this.elt.length;j+=1)if(this.elt[j].textContent===S){I=j;break}I!==void 0?O===!1?this.elt.remove(I):this.elt[I].value=O:((F=document.createElement("option")).textContent=S,F.value=O===void 0?S:O,this.elt.appendChild(F),this._pInst._elements.push(F))}},b.selected=function(S){if(S!==void 0){for(var O=0;O<this.elt.length;O+=1)this.elt[O].value.toString()===S.toString()&&(this.elt.selectedIndex=O);return this}if(this.elt.getAttribute("multiple")){var I=[],F=!0,j=!1,L=void 0;try{for(var B,k=this.elt.selectedOptions[Symbol.iterator]();!(F=(B=k.next()).done);F=!0){var q=B.value;I.push(q.value)}}catch(G){j=!0,L=G}finally{try{F||k.return==null||k.return()}finally{if(j)throw L}}return I}return this.elt.value},b.disable=function(S){if(typeof S=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===S&&(this.elt[O].disabled=!0,this.elt[O].selected=!1);else this.elt.disabled=!0;return this},b.enable=function(S){if(typeof S=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===S&&(this.elt[O].disabled=!1,this.elt[O].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},b},u.default.prototype.createRadio=function(){function b(S){return S instanceof HTMLInputElement&&S.type==="radio"}function _(S){return S instanceof HTMLLabelElement}var D,C,M,E=arguments.length<=0?void 0:arguments[0];return E instanceof u.default.Element&&(E.elt instanceof HTMLDivElement||E.elt instanceof HTMLSpanElement)?(D=E,this.elt=E.elt):E instanceof HTMLDivElement||E instanceof HTMLSpanElement?(D=v(E,this),C=this.elt=E,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(M=arguments.length<=1?void 0:arguments[1])):(typeof E=="string"&&(M=E),C=document.createElement("div"),D=v(C,this),this.elt=C),D._name=M||"radioOption",D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(S){return b(S)||_(S)&&b(S.firstElementChild)}).map(function(S){return b(S)?S:S.firstElementChild})},D.option=function(S,O){var I,F,j,L=!0,B=!1,k=void 0;try{for(var q,G=D._getOptionsArray()[Symbol.iterator]();!(L=(q=G.next()).done);L=!0){var U=q.value;if(U.value===S){I=U;break}}}catch(W){B=!0,k=W}finally{try{L||G.return==null||G.return()}finally{if(B)throw k}}return I===void 0&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",S)),I.setAttribute("name",D._name),_(I.parentElement)?F=I.parentElement:(F=document.createElement("label")).insertAdjacentElement("afterbegin",I),F.lastElementChild instanceof HTMLSpanElement?j=F.lastElementChild:(j=document.createElement("span"),I.insertAdjacentElement("afterend",j)),j.innerHTML=O===void 0?S:O,this.elt.appendChild(F),I},D.remove=function(S){var O=!0,I=!1,F=void 0;try{for(var j,L=D._getOptionsArray()[Symbol.iterator]();!(O=(j=L.next()).done);O=!0){var B=j.value;if(B.value===S)return void(_(B.parentElement)?B.parentElement:B).remove()}}catch(k){I=!0,F=k}finally{try{O||L.return==null||L.return()}finally{if(I)throw F}}},D.value=function(){var S="",O=!0,I=!1,F=void 0;try{for(var j,L=D._getOptionsArray()[Symbol.iterator]();!(O=(j=L.next()).done);O=!0){var B=j.value;if(B.checked){S=B.value;break}}}catch(k){I=!0,F=k}finally{try{O||L.return==null||L.return()}finally{if(I)throw F}}return S},D.selected=function(S){var O=null;if(S===void 0){var I=!0,F=!1,j=void 0;try{for(var L,B=D._getOptionsArray()[Symbol.iterator]();!(I=(L=B.next()).done);I=!0){var k=L.value;if(k.checked){O=k;break}}}catch(Q){F=!0,j=Q}finally{try{I||B.return==null||B.return()}finally{if(F)throw j}}}else{D._getOptionsArray().forEach(function(P){P.checked=!1,P.removeAttribute("checked")});var q=!0,F=!1,j=void 0;try{for(var G,U=D._getOptionsArray()[Symbol.iterator]();!(q=(G=U.next()).done);q=!0){var W=G.value;W.value===S&&(W.setAttribute("checked",!0),W.checked=!0,O=W)}}catch(P){F=!0,j=P}finally{try{q||U.return==null||U.return()}finally{if(F)throw j}}}return O},D.disable=function(){var S=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],O=!0,I=!1,F=void 0;try{for(var j,L=D._getOptionsArray()[Symbol.iterator]();!(O=(j=L.next()).done);O=!0)j.value.setAttribute("disabled",S)}catch(B){I=!0,F=B}finally{try{O||L.return==null||L.return()}finally{if(I)throw F}}},D},u.default.prototype.createColorPicker=function(b){u.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",b?b instanceof u.default.Color?_.value=b.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=u.default.prototype.color(b).toString("#rrggbb")):_.value="#000000",(_=v(_,this)).color=function(){return b&&(b.mode&&(u.default.prototype._colorMode=b.mode),b.maxes&&(u.default.prototype._colorMaxes=b.maxes)),u.default.prototype.color(this.elt.value)},_},u.default.prototype.createInput=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",D=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",b),D.setAttribute("type",_),v(D,this)},u.default.prototype.createFileInput=function(b){var _,D=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),D&&_.setAttribute("multiple",!0),_.addEventListener("change",function(C){var M=!0,E=!1,S=void 0;try{for(var O,I=C.target.files[Symbol.iterator]();!(M=(O=I.next()).done);M=!0){var F=O.value;u.default.File._load(F,b)}}catch(j){E=!0,S=j}finally{try{M||I.return==null||I.return()}finally{if(E)throw S}}},!1),v(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(b,_){return u.default._validateParameters("createVideo",arguments),g(this,"video",b,_)},u.default.prototype.createAudio=function(b,_){return u.default._validateParameters("createAudio",arguments),g(this,"audio",b,_)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(b){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(D,C){_.call(navigator,b,D,C)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){for(var b=arguments.length,_=new Array(b),D=0;D<b;D++)_[D]=arguments[D];if(u.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var C,M=!0,E=!0,S=!1,O=0,I=_;O<I.length;O++){var F=I[O];F===u.default.prototype.VIDEO?E=!1:F===u.default.prototype.AUDIO?M=!1:f(F)==="object"?(F.flipped!==void 0&&(S=F.flipped,delete F.flipped),j=Object.assign({},j,F)):typeof F=="function"&&(C=F)}var j=Object.assign({},{video:M,audio:E},j),L=document.createElement("video"),B=(L.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(j).then(function(k){try{"srcObject"in L?L.srcObject=k:L.src=window.URL.createObjectURL(k)}catch{L.src=k}}).catch(function(k){k.name==="NotFoundError"&&u.default._friendlyError("No webcam found on this device","createCapture"),k.name==="NotAllowedError"&&u.default._friendlyError("Access to the camera was denied","createCapture"),console.error(k)}),v(L,this,!0));return B.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){L.play(),L.width?(B.width=L.width,B.height=L.height,S&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=L.videoWidth,B.height=B.elt.height=L.videoHeight),B.loadedmetadata=!0,C&&C(L.srcObject)}),B.flipped=S,B},u.default.prototype.createElement=function(b,_){return u.default._validateParameters("createElement",arguments),b=document.createElement(b),_!==void 0&&(b.innerHTML=_),v(b,this)},u.default.Element.prototype.addClass=function(b){return this.elt.className?this.hasClass(b)||(this.elt.className=this.elt.className+" "+b):this.elt.className=b,this},u.default.Element.prototype.removeClass=function(b){return this.elt.classList.remove(b),this},u.default.Element.prototype.hasClass=function(b){return this.elt.classList.contains(b)},u.default.Element.prototype.toggleClass=function(b){return this.elt.classList.contains(b)?this.elt.classList.remove(b):this.elt.classList.add(b),this},u.default.Element.prototype.child=function(b){return b===void 0?this.elt.childNodes:(typeof b=="string"?(b[0]==="#"&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof u.default.Element&&(b=b.elt),b instanceof HTMLElement&&this.elt.appendChild(b),this)},u.default.Element.prototype.center=function(b){var _=this.elt.style.display,D=this.elt.style.display==="none",C=this.parent().style.display==="none",M={x:this.elt.offsetLeft,y:this.elt.offsetTop},E=(D&&this.show(),C&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),S=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return b==="both"||b===void 0?this.position(E/2+this.parent().offsetLeft,S/2+this.parent().offsetTop):b==="horizontal"?this.position(E/2+this.parent().offsetLeft,M.y):b==="vertical"&&this.position(M.x,S/2+this.parent().offsetTop),this.style("display",_),D&&this.hide(),C&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=b,this},u.default.Element.prototype._rotate=function(){var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=b,this},u.default.Element.prototype.style=function(b,_){if((_=_ instanceof u.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(b.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(b);for(var D=b.split(";"),C=0;C<D.length;C++){var M=D[C].split(":");M[0]&&M[1]&&(this.elt.style[M[0].trim()]=M[1].trim())}}else this.elt.style[b]=_,b!=="width"&&b!=="height"&&b!=="left"&&b!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(b).replace(/[^\d.]/g,""),this[b]=Math.round(parseFloat(_,10)));return this},u.default.Element.prototype.attribute=function(b,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(b):(this.elt.setAttribute(b,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(b);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(b,_)},u.default.Element.prototype.removeAttribute=function(b){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(b);return this.elt.removeAttribute(b),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(b,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=b,C=_,M=u.default.prototype.AUTO;if(D!==M||C!==M){if(D===M?D=_*this.width/this.height:C===M&&(C=b*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,S={},O=this.elt.getContext("2d");for(E in O)S[E]=O[E];for(E in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",C*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=C+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),S)this.elt.getContext("2d")[E]=S[E]}else this.elt.style.width=D+"px",this.elt.style.height=C+"px",this.elt.width=D,this.elt.height=C;this.width=D,this.height=C,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",C))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(D){D.stop()}));var b,_=this._pInst._elements.indexOf(this);for(b in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(b,this._events[b]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(b,_){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(C){C.preventDefault()}),this.elt.addEventListener("dragleave",D)),u.default.Element._attachListener("drop",function(M){M.preventDefault(),typeof _=="function"&&_.call(this,M);var M=M.dataTransfer.files,E=!0,S=!1,O=void 0;try{for(var I,F=M[Symbol.iterator]();!(E=(I=F.next()).done);E=!0){var j=I.value;u.default.File._load(j,b)}}catch(L){S=!0,O=L}finally{try{E||F.return==null||F.return()}finally{if(S)throw O}}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.Element.prototype.draggable=function(b){var _,D="ontouchstart"in window,C=0,M=0,E=0,S=0,O=D?"touchend":"mouseup",I=D?"touchmove":"mousemove";function F(L){var B;L=L||window.event,S=D?(B=L.changedTouches,C=E-parseInt(B[0].clientX),M=S-parseInt(B[0].clientY),E=parseInt(B[0].clientX),parseInt(B[0].clientY)):(C=E-parseInt(L.clientX),M=S-parseInt(L.clientY),E=parseInt(L.clientX),parseInt(L.clientY)),b.style.left=b.offsetLeft-C+"px",b.style.top=b.offsetTop-M+"px"}function j(){document.removeEventListener(O,j,!1),document.removeEventListener(I,F,!1)}return b===void 0?_=b=this.elt:b!==this.elt&&b.elt!==this.elt&&(b=b.elt,_=this.elt),_.addEventListener(D?"touchstart":"mousedown",function(L){{var B;L=L||window.event,S=D?(B=L.changedTouches,E=parseInt(B[0].clientX),parseInt(B[0].clientY)):(E=parseInt(L.clientX),parseInt(L.clientY))}return document.addEventListener(O,j,!1),document.addEventListener(I,F,!1),!1},!1),_.style.cursor="move",this};function w(b,_,D,C){p(this,w),this.callback=b,this.time=_,this.id=D,this.val=C}t=function(b){var _=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&m(_,b);var D=y(C);function C(M,E){p(this,C);var S=d(E=D.call(this,M,E));return E.elt.crossOrigin="anonymous",E._prevTime=0,E._cueIDCounter=0,E._cues=[],E.pixels=[],E._pixelsState=d(E),E._pixelDensity=1,E._modified=!1,E._frameOnCanvas=-1,Object.defineProperty(S,"src",{get:function(){var O=S.elt.children[0].src,I=S.elt.src===window.location.href?"":S.elt.src;return O===window.location.href?I:O},set:function(O){for(var I=0;I<S.elt.children.length;I++)S.elt.removeChild(S.elt.children[I]);var F=document.createElement("source");F.src=O,M.appendChild(F),S.elt.src=O,S.modified=!0}}),S._onended=function(){},S.elt.onended=function(){S._onended(S)},E}return c(C,[{key:"play",value:function(){var M;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(M=this.elt.play())&&M.catch&&M.catch(function(E){E.name==="NotAllowedError"?console.error(E):console.error("Media play method encountered an unexpected error",E)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var M=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(M)},{passive:!0,once:!0})}},{key:"autoplay",value:function(M){var E=this,S=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",M),M&&!S&&(M=function(){return E._setupAutoplayFailDetection()},this.elt.readyState===4?M():this.elt.addEventListener("canplay",M,{passive:!0,once:!0})),this}},{key:"volume",value:function(M){if(M===void 0)return this.elt.volume;this.elt.volume=M}},{key:"speed",value:function(M){if(M===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=M:this.presetPlaybackRate=M}},{key:"time",value:function(M){return M===void 0?this.elt.currentTime:(this.elt.currentTime=M,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var M=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&M&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return u.default.Renderer2D.prototype.loadPixels.apply(this,E)}},{key:"updatePixels",value:function(M,E,S,O){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,M,E,S,O)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return u.default.Renderer2D.prototype.get.apply(this,E)}},{key:"_getPixel",value:function(){this.loadPixels();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return u.default.Renderer2D.prototype._getPixel.apply(this,E)}},{key:"set",value:function(M,E,S){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,M,E,S),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];u.default.prototype.copy.apply(this,E)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];u.default.Image.prototype.mask.apply(this,E)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(M){this._modified=M}},{key:"onended",value:function(M){return this._onended=M,this}},{key:"connect",value:function(M){var E,S;if(typeof u.default.prototype.getAudioContext=="function")E=u.default.prototype.getAudioContext(),S=u.default.soundOut.input;else try{S=(E=M.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=E.createMediaElementSource(this.elt),this.audioSourceNode.connect(S)),M?M.input?this.audioSourceNode.connect(M.input):this.audioSourceNode.connect(M):this.audioSourceNode.connect(S)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(M,I,S){var O=this._cueIDCounter++,I=new w(I,M,O,S);return this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),O}},{key:"removeCue",value:function(M){for(var E=0;E<this._cues.length;E++)this._cues[E].id===M&&(console.log(M),this._cues.splice(E,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var M=this.time(),E=0;E<this._cues.length;E++){var S=this._cues[E].time,O=this._cues[E].val;this._prevTime<S&&S<=M&&this._cues[E].callback(O)}this._prevTime=M}}]),C}(u.default.Element),u.default.MediaElement=t,t=function(){function b(_,D){p(this,b),this.file=_,this._pInst=D,D=_.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=_.name,this.size=_.size,this.data=void 0}return c(b,null,[{key:"_createLoader",value:function(_,D){var C=new FileReader;return C.onload=function(M){var E,S=new u.default.File(_);S.file.type==="application/json"?S.data=JSON.parse(M.target.result):S.file.type==="text/xml"?(E=new DOMParser().parseFromString(M.target.result,"text/xml"),S.data=new u.default.XML(E.documentElement)):S.data=M.target.result,D(S)},C}},{key:"_load",value:function(_,D){var C;/^text\//.test(_.type)||_.type==="application/json"?u.default.File._createLoader(_,D).readAsText(_):/^(video|audio)\//.test(_.type)?((C=new u.default.File(_)).data=URL.createObjectURL(_),D(C)):u.default.File._createLoader(_,D).readAsDataURL(_)}}]),b}(),u.default.File=t,t=u.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(f,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(f=f("../core/main"))&&f.__esModule?f:{default:f};a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var u=a.default.prototype.pRotationZ=0,l=0,c=0,m="clockwise",y="clockwise",d="clockwise",h=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),p=30,f=(a.default.prototype.setMoveThreshold=function(v){a.default._validateParameters("setMoveThreshold",arguments),h=v},a.default.prototype.setShakeThreshold=function(v){a.default._validateParameters("setShakeThreshold",arguments),p=v},a.default.prototype._ondeviceorientation=function(v){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(v.beta)),this._setProperty("rotationY",this._fromDegrees(v.gamma)),this._setProperty("rotationZ",this._fromDegrees(v.alpha)),this._handleMotion()},a.default.prototype._ondevicemotion=function(v){this._updatePAccelerations(),this._setProperty("accelerationX",2*v.acceleration.x),this._setProperty("accelerationY",2*v.acceleration.y),this._setProperty("accelerationZ",2*v.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var v,g,w,b,_,D=this._isGlobal?window:this;typeof D.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&D.deviceMoved(),typeof D.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,w=this._toDegrees(this.pRotationX)+180,v=u+180,0<g-w&&g-w<270||g-w<-270?m="clockwise":(g-w<0||270<g-w)&&(m="counter-clockwise"),m!==this.pRotateDirectionX&&(v=g),90<Math.abs(g-v)&&Math.abs(g-v)<270&&(v=g,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=m,u=v-180,w=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,v=l+180,0<w-g&&w-g<270||w-g<-270?y="clockwise":(w-g<0||270<w-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(v=w),90<Math.abs(w-v)&&Math.abs(w-v)<270&&(v=w,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=y,l=v-180,0<(g=this._toDegrees(this.rotationZ))-(w=this._toDegrees(this.pRotationZ))&&g-w<270||g-w<-270?d="clockwise":(g-w<0||270<g-w)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(c=g),90<Math.abs(g-c)&&Math.abs(g-c)<270&&(c=g,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof D.deviceShaken=="function"&&(this.pAccelerationX!==null&&(b=Math.abs(this.accelerationX-this.pAccelerationX),_=Math.abs(this.accelerationY-this.pAccelerationY)),p<b+_&&D.deviceShaken())},a.default);s.default=f},{"../core/main":283}],301:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(u){var l;this._downKeys[u.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(l=this._isGlobal?window:this).keyPressed!="function"||u.charCode||l.keyPressed(u)===!1&&u.preventDefault())},a.default.prototype._onkeyup=function(u){this._downKeys[u.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),this._setProperty("keyCode",u.which);var l=this._isGlobal?window:this;typeof l.keyReleased=="function"&&l.keyReleased(u)===!1&&u.preventDefault()},a.default.prototype._onkeypress=function(u){var l;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(u)===!1&&u.preventDefault())},a.default.prototype._onblur=function(u){this._downKeys={}},a.default.prototype.keyIsDown=function(u){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},a.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=a.default,s.default=t},{"../core/main":283}],302:[function(t,i,s){"use strict";function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function u(y){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},c=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var d=m();if(d&&d.has(y))return d.get(y);var h,p={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in y){var v;Object.prototype.hasOwnProperty.call(y,h)&&((v=f?Object.getOwnPropertyDescriptor(y,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=y[h])}return p.default=y,d&&d.set(y,p),p}(t("../core/constants"));function m(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,m=function(){return y},y)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(y){var d,h,p,f,v;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(d=this._curElement.elt,h=this.width,p=this.height,(f=y)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),v=d.getBoundingClientRect(),h=d.scrollWidth/h||1,d=d.scrollHeight/p||1,p={x:(f.clientX-v.left)/h,y:(f.clientY-v.top)/d,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",p.x),this._setProperty("mouseY",p.y),this._setProperty("winMouseX",p.winX),this._setProperty("winMouseY",p.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",c.CENTER):y.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},l.default.prototype._onmousemove=function(y){var d=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof d.mouseDragged=="function"?d.mouseDragged(y)===!1&&y.preventDefault():typeof d.touchMoved=="function"&&d.touchMoved(y)===!1&&y.preventDefault():typeof d.mouseMoved=="function"&&d.mouseMoved(y)===!1&&y.preventDefault()},l.default.prototype._onmousedown=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof d.mousePressed=="function"?d.mousePressed(y)===!1&&y.preventDefault():typeof d.touchStarted=="function"&&d.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},l.default.prototype._onmouseup=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof d.mouseReleased=="function"?d.mouseReleased(y)===!1&&y.preventDefault():typeof d.touchEnded=="function"&&d.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(y){var d=this._isGlobal?window:this;typeof d.mouseClicked=="function"&&d.mouseClicked(y)===!1&&y.preventDefault()},l.default.prototype._ondblclick=function(y){var d=this._isGlobal?window:this;typeof d.doubleClicked=="function"&&d.doubleClicked(y)===!1&&y.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(y){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof d.mouseWheel=="function"&&(y.delta=y.deltaY,d.mouseWheel(y)===!1&&y.preventDefault())},l.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=l.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var u=[],l=0;l<a.touches.length;l++)u[l]=function(v,f,g,d){var h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,p=v.getBoundingClientRect(),f=v.scrollWidth/f||1,v=v.scrollHeight/g||1,g=d.touches[h]||d.changedTouches[h];return{x:(g.clientX-p.left)/f,y:(g.clientY-p.top)/v,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,a,l);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(a){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof u.touchStarted=="function"&&(u.touchStarted(a)===!1&&a.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(a){var u=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof u.touchMoved=="function"?u.touchMoved(a)===!1&&a.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(a)===!1&&a.preventDefault()},t.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"&&(u.touchEnded(a)===!1&&a.preventDefault(),this.touchend=!0)},t=t.default,s.default=t},{"../core/main":283}],304:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,u,l,c,m={_toPixels:function(y){var d,h;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(h=(d=y.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,h=new Uint8Array(h),d.readPixels(0,0,y.width,y.height,d.RGBA,d.UNSIGNED_BYTE,h),h):void 0},_getARGB:function(y,d){return d*=4,y[3+d]<<24&4278190080|y[d]<<16&16711680|y[1+d]<<8&65280|255&y[2+d]},_setPixels:function(y,d){for(var h,p=0,f=y.length;p<f;p++)y[0+(h=4*p)]=(16711680&d[p])>>>16,y[1+h]=(65280&d[p])>>>8,y[2+h]=255&d[p],y[3+h]=(4278190080&d[p])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,d){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,d)},apply:function(y,v,h){var p=y.getContext("2d"),f=p.getImageData(0,0,y.width,y.height),v=v(f,h);v instanceof ImageData?p.putImageData(v,0,0,0,0,y.width,y.height):p.putImageData(f,0,0,0,0,y.width,y.height)},threshold:function(y){for(var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,h=m._toPixels(y),p=Math.floor(255*d),f=0;f<h.length;f+=4){var v=void 0,v=p<=.2126*h[f]+.7152*h[f+1]+.0722*h[f+2]?255:0;h[f]=h[f+1]=h[f+2]=v}},gray:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4){var p=d[h],f=d[h+1],v=d[h+2];d[h]=d[h+1]=d[h+2]=.2126*p+.7152*f+.0722*v}},opaque:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4)d[h+3]=255;return d},invert:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4)d[h]=255-d[h],d[h+1]=255-d[h+1],d[h+2]=255-d[h+2]},posterize:function(y){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,h=m._toPixels(y);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=d-1,f=0;f<h.length;f+=4){var v=h[f],g=h[f+1],w=h[f+2];h[f]=255*(v*d>>8)/p,h[f+1]=255*(g*d>>8)/p,h[f+2]=255*(w*d>>8)/p}},dilate:function(y){for(var d,h,p,f,v,g,w,b,_,D=m._toPixels(y),C=0,M=D.length?D.length/4:0,E=new Int32Array(M);C<M;)for(h=(d=C)+y.width;C<h;)f=p=m._getARGB(D,C),(_=C-1)<d&&(_=C),h<=(b=C+1)&&(b=C),(v=C-y.width)<0&&(v=0),M<=(g=C+y.width)&&(g=C),v=m._getARGB(D,v),_=m._getARGB(D,_),g=m._getARGB(D,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(w=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(p=_,f=w),f<(w=77*((_=m._getARGB(D,b))>>16&255)+151*(_>>8&255)+28*(255&_))&&(p=_,f=w),f<(b=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(p=v,f=b),f<(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(p=g,f=_),E[C++]=p;m._setPixels(D,E)},erode:function(y){for(var d,h,p,f,v,g,w,b,_,D=m._toPixels(y),C=0,M=D.length?D.length/4:0,E=new Int32Array(M);C<M;)for(h=(d=C)+y.width;C<h;)f=p=m._getARGB(D,C),(_=C-1)<d&&(_=C),h<=(b=C+1)&&(b=C),(v=C-y.width)<0&&(v=0),M<=(g=C+y.width)&&(g=C),v=m._getARGB(D,v),_=m._getARGB(D,_),g=m._getARGB(D,g),(w=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(p=_,f=w),(w=77*((_=m._getARGB(D,b))>>16&255)+151*(_>>8&255)+28*(255&_))<f&&(p=_,f=w),(b=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<f&&(p=v,f=b),(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(p=g,f=_),E[C++]=p;m._setPixels(D,E)},blur:function(y,d){for(var h,p,f,v,g,w,b,_,D,C,M=m._toPixels(y),E=y.width,S=y.height,O=E*S,I=new Int32Array(O),F=0;F<O;F++)I[F]=m._getARGB(M,F);var j,L,B,k,q,G,U,W,Q=new Int32Array(O),le=new Int32Array(O),P=new Int32Array(O),T=new Int32Array(O),V=0,H=3.5*d|0;if(a!==(H=H<1?1:H<248?H:248)){u=1+(a=H)<<1,l=new Int32Array(u),c=new Array(u);for(var K=0;K<u;K++)c[K]=new Int32Array(256);for(var re=1,ie=H-1;re<H;re++){l[H+re]=l[ie]=G=ie*ie,U=c[H+re],W=c[ie--];for(var ce=0;ce<256;ce++)U[ce]=W[ce]=G*ce}q=l[H]=H*H,U=c[H];for(var se=0;se<256;se++)U[se]=q*se}for(L=0;L<S;L++){for(j=0;j<E;j++){if(v=f=p=g=h=0,(w=j-a)<0)C=-w,w=0;else{if(E<=w)break;C=0}for(B=C;B<u&&!(E<=w);B++){var he=I[w+V];k=c[B],g+=k[(-16777216&he)>>>24],p+=k[(16711680&he)>>16],f+=k[(65280&he)>>8],v+=k[255&he],h+=l[B],w++}Q[b=V+j]=g/h,le[b]=p/h,P[b]=f/h,T[b]=v/h}V+=E}for(D=(_=-a)*E,L=V=0;L<S;L++){for(j=0;j<E;j++){if(v=f=p=g=h=0,_<0)C=b=-_,w=j;else{if(S<=_)break;C=0,b=_,w=j+D}for(B=C;B<u&&!(S<=b);B++)k=c[B],g+=k[Q[w]],p+=k[le[w]],f+=k[P[w]],v+=k[T[w]],h+=l[B],b++,w+=E;I[j+V]=g/h<<24|p/h<<16|f/h<<8|v/h}V+=E,D+=E,_++}m._setPixels(M,I)}};s.default=m},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),u=l(t("omggif"));function l(m){return m&&m.__esModule?m:{default:m}}function c(m){return function(y){if(Array.isArray(y)){for(var d=0,h=new Array(y.length);d<y.length;d++)h[d]=y[d];return h}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(m,y){return a.default._validateParameters("createImage",arguments),new a.default.Image(m,y)},a.default.prototype.saveCanvas=function(){for(var m,y,d,h,p,f,v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];switch(a.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(m=g[0],g.shift()):g[0]instanceof a.default.Element?(m=g[0].elt,g.shift()):g[0]instanceof a.default.Framebuffer?(h=g[0],(p=this.createGraphics(h.width,h.height)).pixelDensity(pixelDensity()),h.loadPixels(),p.loadPixels(),p.pixels.set(h.pixels),p.updatePixels(),m=p.elt,g.shift()):m=this._curElement&&this._curElement.elt,1<=g.length&&(y=g[0]),d=(d=2<=g.length?g[1]:d)||a.default.prototype._checkFileExtension(y,d)[1]||"png"){default:f="image/png";break;case"webp":f="image/webp";break;case"jpeg":case"jpg":f="image/jpeg"}m.toBlob(function(b){a.default.prototype.downloadFile(b,y,d),p&&p.remove()},f)},a.default.prototype.encodeAndDownloadGif=function(m,y){for(var d=m.gifProperties,h=d.loopLimit,p=(h===1?h=null:h===null&&(h=0),new Uint8Array(m.width*m.height*d.numFrames)),f=[],v={},g=0;g<d.numFrames;g++){for(var w=new Set,b=d.frames[g].image.data,_=b.length,D=new Uint32Array(m.width*m.height),C=0,M=0;C<_;C+=4,M++){var E=b[C+0]<<16|b[C+1]<<8|b[C+2]<<0;w.add(E),D[M]=E}var S=c(w).sort().toString();v[S]===void 0?v[S]={freq:1,frames:[g]}:(v[S].freq+=1,v[S].frames.push(g)),f.push(D)}for(var F=[],O=Object.keys(v).sort(function(P,T){return v[T].freq-v[P].freq}),I=O[0].split(",").map(function(P){return parseInt(P)}),F=F.concat(v[I].frames),j=new Set(I),L=1;L<O.length;L++){var B=O[L].split(",").map(function(P){return parseInt(P)}).filter(function(P){return!j.has(P)});if(I.length+B.length<=256){for(var k=0;k<B.length;k++)I.push(B[k]),j.add(B[k]);F=F.concat(v[O[L]].frames)}}F=new Set(F);for(var q={},G=0;G<I.length;G++)q[I[G]]||(q[I[G]]=G);for(var U=1;U<I.length;)U<<=1;I.length=U;for(var h={loop:h,palette:new Uint32Array(I)},W=new u.default.GifWriter(p,m.width,m.height,h),Q={},le=0;le<d.numFrames;le++)(function(T){var V=!F.has(T),H=V?[]:I,K=new Uint8Array(m.width*m.height),re={},ie=new Set,ce=(f[T].forEach(function(pe,ve){V?(re[pe]===void 0&&(re[pe]=H.length,H.push(pe)),K[ve]=re[pe]):K[ve]=q[pe],0<T&&f[T-1][ve]!==pe&&ie.add(pe)}),{}),se=H.filter(function(pe){return!ie.has(pe)});if(0<se.length){var se=se[0],he=(V?re:q)[se];if(0<T){for(var ue=0;ue<f[T].length;ue++)f[T-1][ue]===f[T][ue]&&(K[ue]=he);ce.transparent=he,Q.frameOpts.disposal=1}}if(ce.delay=d.frames[T].delay/10,V){for(var te=1;te<H.length;)te<<=1;H.length=te,ce.palette=new Uint32Array(H)}0<T&&W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:K,frameOpts:ce}})(le);Q.frameOpts.disposal=1,W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),h=new Blob([p.slice(0,W.end())],{type:"image/gif"}),a.default.prototype.downloadFile(h,y,"gif")},a.default.prototype.saveFrames=function(m,y,d,f,p){a.default._validateParameters("saveFrames",arguments),d=a.default.prototype.constrain(d=d||3,0,15),d*=1e3;var f=a.default.prototype.constrain(f||15,0,22),v=0,g=a.default.prototype._makeFrame,w=this._curElement.elt,b=[],_=setInterval(function(){b.push(g(m+v,y,w)),v++},1e3/f);setTimeout(function(){if(clearInterval(_),p)p(b);else for(var D=0,C=b;D<C.length;D++){var M=C[D];a.default.prototype.downloadFile(M.imageData,M.filename,M.ext)}b=[]},.01+d)},a.default.prototype._makeFrame=function(m,y,p){var h,p=this?this._curElement.elt:p;if(y)switch(y.toLowerCase()){case"png":h="image/png";break;case"jpeg":case"jpg":h="image/jpeg";break;default:h="image/png"}else y="png",h="image/png";var p=(p=p.toDataURL(h)).replace(h,"image/octet-stream"),f={};return f.imageData=p,f.filename=m,f.ext=y,f},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function u(w){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var l=p(t("../core/main")),c=p(t("../core/helpers")),m=function(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var b=h();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("../core/constants")),y=p(t("omggif")),d=t("gifenc");function h(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,h=function(){return w},w)}function p(w){return w&&w.__esModule?w:{default:w}}function f(w,b,_,D,C,M,E){try{var S=w[M](E),O=S.value}catch(I){return void _(I)}S.done?b(O):Promise.resolve(O).then(D,C)}function v(w,b,_,D,C,M,E,S,O,I,F){var j,L,B,k,q,G,U,W,Q;return w===m.COVER&&(j=b,B=_,U=M,W=E,G=S,Q=O,L=I,k=F,q=Math.max(U/L,W/k),U/=q,W/=q,q=G,G=Q,j===m.CENTER?q+=(L-U)/2:j===m.RIGHT&&(q+=L-U),B===m.CENTER?G+=(k-W)/2:B===m.BOTTOM&&(G+=k-W),S=(Q={x:q,y:G,w:U,h:W}).x,O=Q.y,I=Q.w,F=Q.h),w===m.CONTAIN&&(j=b,L=_,B=D,k=C,q=M,G=E,U=I,W=F,Q=Math.max(U/q,W/G),U/=Q,W/=Q,Q=B,B=k,j===m.CENTER?Q+=(q-U)/2:j===m.RIGHT&&(Q+=q-U),L===m.CENTER?B+=(G-W)/2:L===m.BOTTOM&&(B+=G-W),D=(w={x:Q,y:B,w:U,h:W}).x,C=w.y,M=w.w,E=w.h),{sx:S,sy:O,sw:I,sh:F,dx:D,dy:C,dw:M,dh:E}}function g(w,b){return 0<w&&w<b?w:b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(w,b,_){l.default._validateParameters("loadImage",arguments);var D=new l.default.Image(1,1,this),C=this,M=new Request(w,{method:"GET",mode:"cors"});return fetch(w,M).then(function(E){var S,O=E.headers.get("content-type");O===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),O&&O.includes("image/gif")?E.arrayBuffer().then(function(I){if(I){for(var I=new Uint8Array(I),F=D,j=b,L=_,B=(function(V){C._decrementPreload()}).bind(C),k=new y.default.GifReader(I),q=(F.width=F.canvas.width=k.width,F.height=F.canvas.height=k.height,[]),G=k.numFrames(),U=new Uint8ClampedArray(F.width*F.height*4),W=0;W<G;W++){var Q=k.frameInfo(W),le=F.drawingContext.getImageData(0,0,F.width,F.height),P=(U=le.data.slice(),function(V,H){try{H.decodeAndBlitFrameRGBA(V,U)}catch(K){l.default._friendlyFileLoadError(8,F.src),typeof L=="function"?L(K):console.error(K)}}(W,k),new ImageData(U,F.width,F.height)),P=(F.drawingContext.putImageData(P,0,0),Q.delay);P===0&&(P=10),q.push({image:F.drawingContext.getImageData(0,0,F.width,F.height),delay:10*P}),Q.disposal===2?F.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&F.drawingContext.putImageData(le,0,0,Q.x,Q.y,Q.width,Q.height)}(I=k.loopCount())===null?I=1:I===0&&(I=null),F.drawingContext.putImageData(q[0].image,0,0),1<q.length&&(F.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:q,numFrames:G,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof j=="function"&&j(F),B()}},function(I){typeof _=="function"?(_(I),C._decrementPreload()):console.error(I)}):((S=new Image).onload=function(){D.width=D.canvas.width=S.width,D.height=D.canvas.height=S.height,D.drawingContext.drawImage(S,0,0),D.modified=!0,typeof b=="function"&&b(D),C._decrementPreload()},S.onerror=function(I){l.default._friendlyFileLoadError(0,S.src),typeof _=="function"?(_(I),C._decrementPreload()):console.error(I)},w.indexOf("data:image/")!==0&&(S.crossOrigin="Anonymous"),S.src=w),D.modified=!0}).catch(function(E){l.default._friendlyFileLoadError(0,w),typeof _=="function"?(_(E),C._decrementPreload()):console.error(E)}),D},l.default.prototype.saveGif=function(){w=regeneratorRuntime.mark(function _(D,C){var M,E,S,O,I,F,j,L,B,k,q,G,U,W,Q,le,P,T,V,H,K,re,ie,ce,se,he,ue=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(M=2<ue.length&&ue[2]!==void 0?ue[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof D!="string")throw TypeError("fileName parameter must be a string");te.next=3;break;case 3:if(typeof C!="number")throw TypeError("Duration parameter must be a number");te.next=5;break;case 5:if(E=M&&M.delay||0,S=M&&M.units||"seconds",O=M&&M.silent||!1,I=M&&M.notificationDuration||0,F=M&&M.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");te.next=12;break;case 12:if(S!=="seconds"&&S!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');te.next=14;break;case 14:if(typeof O!="boolean")throw TypeError("Silent parameter must be a boolean");te.next=16;break;case 16:if(typeof I!="number")throw TypeError("Notification duration parameter must be a number");te.next=18;break;case 18:if(typeof F!="string")throw TypeError("Notification ID parameter must be a string");te.next=20;break;case 20:return this._recording=!0,k=this._targetFrameRate,j=(j=1/(k=k!==1/0&&k!==void 0&&k!==0?k:60)*1e3)<20?20:j,B=(L=S==="seconds"?C*k:C)+(k=S==="seconds"?E*k:E),k=k,this.frameCount=k,q=this._pixelDensity,this.pixelDensity(1),G=[],document.getElementById(F)!==null&&document.getElementById(F).remove(),O||((U=this.createP("")).id(F),U.style("font-size","16px"),U.style("font-family","Montserrat"),U.style("background-color","#ffffffa0"),U.style("padding","8px"),U.style("border-radius","10px"),U.position(0,0)),this._renderer instanceof l.default.RendererGL&&(Q=this.drawingContext,W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),te.next=39,Promise.resolve();case 39:if(k<B)return this.redraw(),ce=void 0,ce=this._renderer instanceof l.default.RendererGL?(W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,W),function(pe,ve,Me){for(var xe=parseInt(Me/2),me=4*ve,_e=new Uint8Array(4*ve),je=0;je<xe;++je){var De=je*me,qe=(Me-je-1)*me;_e.set(pe.subarray(De,De+me)),pe.copyWithin(De,qe,qe+me),pe.set(_e,qe)}return pe}(W,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,G.push(ce),k++,O||U.html("Saved frame <b>"+G.length.toString()+"</b> out of "+L.toString()),te.next=48,new Promise(function(pe){return setTimeout(pe,0)});te.next=50;break;case 48:te.next=39;break;case 50:O||U.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(q),le=(0,d.GIFEncoder)(),P=function(pe){for(var ve=new Uint8Array(pe.length*pe[0].length),Me=0;Me<pe.length;Me++)ve.set(pe[Me],Me*pe[0].length);var xe=(0,d.quantize)(ve,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe}(G),T={},V=function(pe){for(var ve=pe.length/4,Me=new Uint8Array(ve),xe=0;xe<ve;xe++){var me=pe[4*xe]<<24|pe[4*xe+1]<<16|pe[4*xe+2]<<8|pe[4*xe+3];T[me]===void 0&&(T[me]=(0,d.nearestColorIndex)(P,pe.slice(4*xe,4*(xe+1)))),Me[xe]=T[me]}return Me},H=P.length-1,K=[],re=0;case 60:if(!(re<G.length)){te.next=71;break}if(ie=V(G[re]),ce=ie.slice(),re===0)le.writeFrame(ie,this.width,this.height,{palette:P,delay:j,dispose:1});else{for(se=0;se<ie.length;se++)ie[se]===K[se]&&(ie[se]=H);le.writeFrame(ie,this.width,this.height,{delay:j,transparent:!0,transparentIndex:H,dispose:1})}return K=ce,O||U.html("Rendered frame <b>"+re.toString()+"</b> out of "+L.toString()),te.next=68,new Promise(function(pe){return setTimeout(pe,0)});case 68:re++,te.next=60;break;case 71:le.finish(),he=le.bytesView(),he=new Blob([he],{type:"image/gif"}),G=[],this._recording=!1,this.loop(),O||(U.html("Done. Downloading your gif!\u{1F338}"),0<I&&setTimeout(function(){return U.remove()},1e3*I)),l.default.prototype.downloadFile(he,D,"gif");case 80:case"end":return te.stop()}},_,this)});var w,b=function(){var _=this,D=arguments;return new Promise(function(C,M){var E=w.apply(_,D);function S(I){f(E,C,M,S,O,"next",I)}function O(I){f(E,C,M,S,O,"throw",I)}S(void 0)})};return function(_,D){return b.apply(this,arguments)}}(),l.default.prototype.image=function(w,b,_,D,k,q,G,U,Q,I,F,j){l.default._validateParameters("image",arguments);var W=w.width,L=w.height,B=(j=j||m.CENTER,F=F||m.CENTER,w.elt&&(W=W!==void 0?W:w.elt.width,L=L!==void 0?L:w.elt.height),w.elt&&w.elt.videoWidth&&!w.canvas&&(W=W!==void 0?W:w.elt.videoWidth,L=L!==void 0?L:w.elt.videoHeight),D||W),k=k||L,q=q||0,G=G||0,U=g(U!==void 0?U:W,W),W=g(Q!==void 0?Q:L,L),Q=1;w.elt&&!w.canvas&&w.elt.style.width&&(Q=w.elt.videoWidth&&!D?w.elt.videoWidth:w.elt.width,Q/=parseInt(w.elt.style.width,10)),q*=Q,G*=Q,W*=Q,U*=Q,L=v(I,F,j,(L=c.default.modeAdjust(b,_,B,k,this._renderer._imageMode)).x,L.y,L.w,L.h,q,G,U,W),this._renderer.image(w,L.sx,L.sy,L.sw,L.sh,L.dx,L.dy,L.dw,L.dh)},l.default.prototype.tint=function(){for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];l.default._validateParameters("tint",b);var D=this.color.apply(this,b);this._renderer._tint=D.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(w){l.default._validateParameters("imageMode",arguments),w!==m.CORNER&&w!==m.CORNERS&&w!==m.CENTER||(this._renderer._imageMode=w)},t=l.default,s.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),u=l(t("./filters"));function l(m){return m&&m.__esModule?m:{default:m}}function c(m,y){for(var d=0;d<y.length;d++){var h=y[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}a.default.Image=function(){function m(p,f){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,d,h;return y=m,(d=[{key:"pixelDensity",value:function(p){return p!==void 0?(p<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),p=1),this._pixelDensity=p,this.width/=p,this.height/=p,this):this._pixelDensity}},{key:"_animateGif",value:function(g){var f,v=this.gifProperties,g=g._lastRealFrameTime||window.performance.now();v.lastChangeTime===0&&(v.lastChangeTime=g),v.playing&&(v.timeDisplayed=g-v.lastChangeTime,f=v.frames[v.displayIndex].delay,v.timeDisplayed>=f&&(f=Math.floor(v.timeDisplayed/f),v.timeDisplayed=0,v.lastChangeTime=g,v.displayIndex+=f,v.loopCount=Math.floor(v.displayIndex/v.numFrames),v.loopLimit!==null&&v.loopCount>=v.loopLimit?v.playing=!1:(g=v.displayIndex%v.numFrames,this.drawingContext.putImageData(v.frames[g].image,0,0),v.displayIndex=g,this.setModified(!0))))}},{key:"_setProperty",value:function(p,f){this[p]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,f,v,g){a.default.Renderer2D.prototype.updatePixels.call(this,p,f,v,g),this.setModified(!0)}},{key:"get",value:function(p,f,v,g){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return a.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(p,f,v){a.default.Renderer2D.prototype.set.call(this,p,f,v),this.setModified(!0)}},{key:"resize",value:function(p,f){p===0&&f===0?(p=this.canvas.width,f=this.canvas.height):p===0?p=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*p/this.canvas.width),p=Math.floor(p),f=Math.floor(f);var v=document.createElement("canvas");if(v.width=p,v.height=f,this.gifProperties)for(var g=this.gifProperties,w=0;w<g.numFrames;w++){for(var b=this.drawingContext.createImageData(p,f),_=(S=S=E=M=C=void 0,g.frames[w].image),D=b,C=0,M=0;M<D.height;M++)for(var E=0;E<D.width;E++){var S=Math.floor(E*_.width/D.width),S=4*(Math.floor(M*_.height/D.height)*_.width+S);D.data[C++]=_.data[S++],D.data[C++]=_.data[S++],D.data[C++]=_.data[S++],D.data[C++]=_.data[+S]}g.frames[w].image=b}v.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,v.width,v.height),this.canvas.width=this.width=p,this.canvas.height=this.height=f,this.drawingContext.drawImage(v,0,0,p,f,0,0,p,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];a.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(p){var f=this.drawingContext.globalCompositeOperation,v=this._pixelDensity,g=1,w=[p=p===void 0?this:p,0,0,(g=p instanceof a.default.Renderer?p._pInst._pixelDensity:g)*p.width,g*p.height,0,0,v*this.width,v*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var b=0;b<this.gifProperties.frames.length;b++)this.drawingContext.putImageData(this.gifProperties.frames[b].image,0,0),this.copy.apply(this,w),this.gifProperties.frames[b].image=this.drawingContext.getImageData(0,0,v*this.width,v*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,w);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(p,f){u.default.apply(this.canvas,u.default[p],f),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,f){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,p):a.default.prototype.saveCanvas(this.canvas,p,f)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var f;this.gifProperties&&(p<(f=this.gifProperties).numFrames&&0<=p?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=p,this.drawingContext.putImageData(f.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,f){if(this.gifProperties){var v=this.gifProperties;if(f<v.numFrames&&0<=f)v.frames[f].delay=p;else{var g=!0,f=!1,w=void 0;try{for(var b,_=v.frames[Symbol.iterator]();!(g=(b=_.next()).done);g=!0)b.value.delay=p}catch(C){f=!0,w=C}finally{try{g||_.return==null||_.return()}finally{if(f)throw w}}}}}}])&&c(y.prototype,d),h&&c(y,h),m}(),t=a.default.Image,s.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),u=l(t("./filters"));function l(c){return c&&c.__esModule?c:{default:c}}t("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var c,m=arguments.length,y=new Array(m),d=0;d<m;d++)y[d]=arguments[d];a.default._validateParameters("blend",y),this._renderer?(c=this._renderer).blend.apply(c,y):a.default.Renderer2D.prototype.blend.apply(this,y)},a.default.prototype.copy=function(){for(var c,m,y,d,h,p,f,v,g,w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];if(a.default._validateParameters("copy",b),b.length===9)c=b[0],m=b[1],y=b[2],d=b[3],h=b[4],p=b[5],f=b[6],v=b[7],g=b[8];else{if(b.length!==8)throw new Error("Signature not supported");c=this,m=b[0],y=b[1],d=b[2],h=b[3],p=b[4],f=b[5],v=b[6],g=b[7]}a.default.prototype._copyHelper(this,c,m,y,d,h,p,f,v,g)},a.default.prototype._copyHelper=function(c,m,y,d,h,p,f,v,g,w){var b=m.canvas.width/m.width,_=0,D=0;m._renderer&&m._renderer.isP3D&&(_=m.width/2,D=m.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),a.default.RendererGL.prototype.image.call(c._renderer,m,y+_,d+D,h,p,f,v,g,w),c.pop()):c.drawingContext.drawImage(m.canvas,b*(y+_),b*(d+D),b*h,b*p,f,v,g,w)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];a.default._validateParameters("filter",m);var f=(function(){var v,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v])===!1&&(g.useWebGL=!1)),g}).apply(void 0,m),d=f.shader,h=f.operation,p=f.value,f=f.useWebGL;this._renderer.isP3D&&d?a.default.RendererGL.prototype.filter.call(this._renderer,d):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,h,p):((d=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),d.filter.apply(d,m),this.copy(d._renderer,0,0,this.width,this.height,0,0,this.width,this.height),d.clear())):this.canvas!==void 0?u.default.apply(this.canvas,u.default[h],p):u.default.apply(this.elt,u.default[h],p)},a.default.prototype.get=function(c,m,y,d){var h;return a.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},a.default.prototype.loadPixels=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];a.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},a.default.prototype.set=function(c,m,y){this._renderer.set(c,m,y)},a.default.prototype.updatePixels=function(c,m,y,d){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,m,y,d)},t=a.default,s.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=m(t("../core/main")),l=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),c=m(t("file-saver"));function m(p){return p&&p.__esModule?p:{default:p}}function y(p){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}function d(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(p,f){f&&f!==!0&&f!=="true"||(f="");var v="";return(p=p||"untitled")&&p.includes(".")&&(v=p.split(".").pop()),f&&v!==f&&(v=f,p="".concat(p,".").concat(v)),[p,v]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];u.default._validateParameters("loadJSON",f);for(var g,w,b,_=f[0],D={},C="json",M=1;M<f.length;M++){var E=f[M];typeof E=="string"?E!=="jsonp"&&E!=="json"||(C=E):typeof E=="function"?g?w=E:g=E:y(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(C="jsonp",b=E)}var S=this;return this.httpDo(_,"GET",b,C,function(O){for(var I in O)D[I]=O[I];g!==void 0&&g(O),S._decrementPreload()},function(O){if(u.default._friendlyFileLoadError(5,_),!w)throw O;w(O)}),D},u.default.prototype.loadStrings=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];u.default._validateParameters("loadStrings",f);for(var g,w,b=[],_=1;_<f.length;_++){var D=f[_];typeof D=="function"&&(g===void 0?g=D:w===void 0&&(w=D))}var C=this;return u.default.prototype.httpDo.call(this,f[0],"GET","text",function(M){for(var E=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),S=0,O=E.length;S<O;S+=32768)Array.prototype.push.apply(b,E.slice(S,Math.min(S+32768,O)));g!==void 0&&g(b),C._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(3,M),!w)throw M;w(M)}),b},u.default.prototype.loadTable=function(p){var f,v,g,w=[],b=!1,_=p.substring(p.lastIndexOf(".")+1,p.length);_==="csv"?g=",":_==="ssv"?g=";":_==="tsv"&&(g="	");for(var D=1;D<arguments.length;D++)typeof arguments[D]=="function"?f===void 0?f=arguments[D]:v===void 0&&(v=arguments[D]):typeof arguments[D]=="string"&&(w.push(arguments[D]),arguments[D]==="header"&&(b=!0),arguments[D]==="csv"?g=",":arguments[D]==="ssv"?g=";":arguments[D]==="tsv"&&(g="	"));var C=new u.default.Table,M=this;return this.httpDo(p,"GET","table",function(E){for(var S,O,I={},F=0,j=[],L=0,B=null,k=function(){I.currentState=F,I.token=""},q=function(){B.push(I.token),k()},G=function(){I.currentState=4,j.push(B),B=null};;){if((S=E[L++])==null){if(I.escaped)throw new Error("Unclosed quote in file.");if(B){q(),G();break}}if(B===null&&(I.escaped=!1,B=[],k()),I.currentState===F){if(S==='"'){I.escaped=!0,I.currentState=1;continue}I.currentState=1}if(I.currentState===1&&I.escaped)if(S==='"')E[L]==='"'?(I.token+='"',L++):(I.escaped=!1,I.currentState=2);else{if(S==="\r")continue;I.token+=S}else S==="\r"?(E[L]===`
`&&L++,q(),G()):S===`
`?(q(),G()):S===g?q():I.currentState===1&&(I.token+=S)}if(b)C.columns=j.shift();else for(var U=0;U<j[0].length;U++)C.columns[U]="null";for(var W=0;W<j.length;W++)(j[W].length!==1||j[W][0]!=="undefined"&&j[W][0]!=="")&&((O=new u.default.TableRow).arr=j[W],O.obj=function(Q,le){if((le=le||[])===void 0)for(var P=0;P<Q.length;P++)le[P.toString()]=P;return Object.fromEntries(le.map(function(T,V){return[T,Q[V]]}))}(j[W],C.columns),C.addRow(O));typeof f=="function"&&f(C),M._decrementPreload()},function(E){u.default._friendlyFileLoadError(2,p),v?v(E):console.error(E)}),C},u.default.prototype.loadXML=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];for(var g,w,b=new u.default.XML,_=1;_<f.length;_++){var D=f[_];typeof D=="function"&&(g===void 0?g=D:w===void 0&&(w=D))}var C=this;return this.httpDo(f[0],"GET","xml",function(M){for(var E in M)b[E]=M[E];g!==void 0&&g(b),C._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(1,M),!w)throw M;w(M)}),b},u.default.prototype.loadBytes=function(p,f,v){var g={},w=this;return this.httpDo(p,"GET","arrayBuffer",function(b){g.bytes=new Uint8Array(b),typeof f=="function"&&f(g),w._decrementPreload()},function(b){if(u.default._friendlyFileLoadError(6,p),!v)throw b;v(b)}),g},u.default.prototype.httpGet=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return u.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,f)},u.default.prototype.httpPost=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return u.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,f)},u.default.prototype.httpDo=function(){for(var p,f,v,g={},w=0,b="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)w++;var D=arguments.length-w,C=arguments.length<=0?void 0:arguments[0];if(D==2&&typeof C=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")F=new Request(C,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var M,E="GET",S=1;S<arguments.length;S++){var O=S<0||arguments.length<=S?void 0:arguments[S];if(typeof O=="string")O==="GET"||O==="POST"||O==="PUT"||O==="DELETE"?E=O:O==="json"||O==="jsonp"||O==="binary"||O==="arrayBuffer"||O==="xml"||O==="text"||O==="table"?p=O:M=O;else if(typeof O=="number")M=O.toString();else if(y(O)==="object")if(O.hasOwnProperty("jsonpCallback")||O.hasOwnProperty("jsonpCallbackFunction"))for(var I in O)g[I]=O[I];else b=O instanceof u.default.XML?(M=O.serialize(),"application/xml"):(M=JSON.stringify(O),"application/json");else typeof O=="function"&&(f?v=O:f=O)}var D=E==="GET"?new Headers:new Headers({"Content-Type":b}),F=new Request(C,{method:E,mode:"cors",body:M,headers:D})}return(D=(D=(p=p||(C.includes("json")?"json":C.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(C,g):fetch(F)).then(function(j){if(!j.ok)throw(L=new Error(j.body)).status=j.status,L.ok=!1,L;var L=0;switch((L=p!=="jsonp"?j.headers.get("content-length"):L)&&64e6<L&&u.default._friendlyFileLoadError(7,C),p){case"json":case"jsonp":return j.json();case"binary":return j.blob();case"arrayBuffer":return j.arrayBuffer();case"xml":return j.text().then(function(B){return B=new DOMParser().parseFromString(B,"text/xml"),new u.default.XML(B.documentElement)});default:return j.text()}})).then(f||function(){}),D.catch(v||console.error),D},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(p,f){var v,g;for(g in u.default.prototype._pWriters)if(u.default.prototype._pWriters[g].name===p)return v=new u.default.PrintWriter(p+this.millis(),f),u.default.prototype._pWriters.push(v),v;return v=new u.default.PrintWriter(p,f),u.default.prototype._pWriters.push(v),v},u.default.PrintWriter=function(p,f){var v=this;this.name=p,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,w=[];for(g in w.push(this.content),u.default.prototype.writeFile(w,p,f),u.default.prototype._pWriters)u.default.prototype._pWriters[g].name===this.name&&u.default.prototype._pWriters.splice(g,1);v.clear(),v={}}},u.default.prototype.save=function(p,f,v){var g=arguments,w=(this._curElement||this).elt;if(g.length===0)u.default.prototype.saveCanvas(w);else if(g[0]instanceof u.default.Renderer||g[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")u.default.prototype.saveCanvas(w,g[0]);else switch(h(g[1],g[2])[1]){case"json":return void u.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void u.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?u.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof u.default.Table?u.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof u.default.Image?u.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},u.default.prototype.saveJSON=function(p,f,v){u.default._validateParameters("saveJSON",arguments),v=v?JSON.stringify(p):JSON.stringify(p,void 0,2),this.saveStrings(v.split(`
`),f,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(p,f,v,g){u.default._validateParameters("saveStrings",arguments);for(var w=this.createWriter(f,v||"txt"),b=0;b<p.length;b++)g?w.write(p[b]+`\r
`):w.write(p[b]+`
`);w.close(),w.clear()},u.default.prototype.saveTable=function(p,f,v){u.default._validateParameters("saveTable",arguments),g=v===void 0?f.substring(f.lastIndexOf(".")+1,f.length):v;var g,w=this.createWriter(f,g),b=p.columns,_=g==="tsv"?"	":",";if(g!=="html"){if(b[0]!=="0"){for(var D=0;D<b.length;D++)D<b.length-1?w.write(b[D]+_):w.write(b[D]);w.write(`
`)}for(var C=0;C<p.rows.length;C++){for(var M=void 0,M=0;M<p.rows[C].arr.length;M++)M<p.rows[C].arr.length-1?g==="csv"&&String(p.rows[C].arr[M]).includes(",")?w.write('"'+p.rows[C].arr[M]+'"'+_):w.write(p.rows[C].arr[M]+_):g==="csv"&&String(p.rows[C].arr[M]).includes(",")?w.write('"'+p.rows[C].arr[M]+'"'):w.write(p.rows[C].arr[M]);w.write(`
`)}}else{if(w.print("<html>"),w.print("<head>"),w.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),w.print("</head>"),w.print("<body>"),w.print("  <table>"),b[0]!=="0"){w.print("    <tr>");for(var E=0;E<b.length;E++){var S=d(b[E]);w.print("      <td>".concat(S)),w.print("      </td>")}w.print("    </tr>")}for(var O=0;O<p.rows.length;O++){w.print("    <tr>");for(var I=0;I<p.columns.length;I++){var F=d(p.rows[O].getString(I));w.print("      <td>".concat(F)),w.print("      </td>")}w.print("    </tr>")}w.print("  </table>"),w.print("</body>"),w.print("</html>")}w.close(),w.clear()},u.default.prototype.writeFile=function(w,f,v){var g="application/octet-stream",w=(u.default.prototype._isSafari()&&(g="text/plain"),new Blob(w,{type:g}));u.default.prototype.downloadFile(w,f,v)},u.default.prototype.downloadFile=function(p,w,b){var g,w=h(w,b),b=w[0];p instanceof Blob?c.default.saveAs(p,b):((g=document.createElement("a")).href=p,g.download=b,g.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},g.style.display="none",document.body.appendChild(g),u.default.prototype._isSafari()&&(p=(p=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(w[1],'"'),alert(p)),g.click())},u.default.prototype._checkFileExtension=h,u.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=u.default,s.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Table=function(){function l(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],h=this,p=l;if(!(h instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=d}var c,m,y;return c=l,(m=[{key:"addRow",value:function(d){if(d=d||new a.default.TableRow,d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d}},{key:"removeRow",value:function(d){this.rows[d].table=null,d=this.rows.splice(d+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(d)}},{key:"getRow",value:function(d){return this.rows[d]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(d,h){if(typeof h=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[h]===d)return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[h]===d)return this.rows[f];return null}},{key:"findRows",value:function(d,h){var p=[];if(typeof h=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[h]===d&&p.push(this.rows[f]);else for(var v=0;v<this.rows.length;v++)this.rows[v].arr[h]===d&&p.push(this.rows[v]);return p}},{key:"matchRow",value:function(d,h){if(typeof h=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[h].match(d))return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[h].match(d))return this.rows[f];return null}},{key:"matchRows",value:function(d,h){var p=[];if(typeof h=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[h].match(d)&&p.push(this.rows[f]);else for(var v=0;v<this.rows.length;v++)this.rows[v].obj[h].match(d)&&p.push(this.rows[v]);return p}},{key:"getColumn",value:function(d){var h=[];if(typeof d=="string")for(var p=0;p<this.rows.length;p++)h.push(this.rows[p].obj[d]);else for(var f=0;f<this.rows.length;f++)h.push(this.rows[f].arr[d]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(d){this.columns.push(d||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(d,h){for(var p=[],f=0;f<d.length;f++)p.push(d.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var v=new RegExp(p.join("|"),"g");if(h===void 0)for(var g=0;g<this.columns.length;g++)for(var w=0;w<this.rows.length;w++){var b=(b=this.rows[w].arr[g]).replace(v,"");this.rows[w].arr[g]=b,this.rows[w].obj[this.columns[g]]=b}else if(typeof h=="string")for(var _=0;_<this.rows.length;_++){var D=(D=this.rows[_].obj[h]).replace(v,""),C=(this.rows[_].obj[h]=D,this.columns.indexOf(h));this.rows[_].arr[C]=D}else for(var M=0;M<this.rows.length;M++){var E=(E=this.rows[M].arr[h]).replace(v,"");this.rows[M].arr[h]=E,this.rows[M].obj[this.columns[h]]=E}}},{key:"trim",value:function(d){var h=new RegExp(" ","g");if(d===void 0)for(var p=0;p<this.columns.length;p++)for(var f=0;f<this.rows.length;f++){var v=(v=this.rows[f].arr[p]).replace(h,"");this.rows[f].arr[p]=v,this.rows[f].obj[this.columns[p]]=v}else if(typeof d=="string")for(var g=0;g<this.rows.length;g++){var w=(w=this.rows[g].obj[d]).replace(h,""),b=(this.rows[g].obj[d]=w,this.columns.indexOf(d));this.rows[g].arr[b]=w}else for(var _=0;_<this.rows.length;_++){var D=(D=this.rows[_].arr[d]).replace(h,"");this.rows[_].arr[d]=D,this.rows[_].obj[this.columns[d]]=D}}},{key:"removeColumn",value:function(f){typeof f=="string"?p=this.columns.indexOf(h=f):h=this.columns[p=f];var h,p,f=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var v=0;v<this.rows.length;v++){var g=this.rows[v].arr,w=g.splice(p+1,g.length);g.pop(),this.rows[v].arr=g.concat(w),delete this.rows[v].obj[h]}}},{key:"set",value:function(d,h,p){this.rows[d].set(h,p)}},{key:"setNum",value:function(d,h,p){this.rows[d].setNum(h,p)}},{key:"setString",value:function(d,h,p){this.rows[d].setString(h,p)}},{key:"get",value:function(d,h){return this.rows[d].get(h)}},{key:"getNum",value:function(d,h){return this.rows[d].getNum(h)}},{key:"getString",value:function(d,h){return this.rows[d].getString(h)}},{key:"getObject",value:function(d){for(var h,p={},f=0;f<this.rows.length;f++)if(h=this.rows[f].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));p[h[d]]=h}else p[f]=this.rows[f].obj;return p}},{key:"getArray",value:function(){for(var d=[],h=0;h<this.rows.length;h++)d.push(this.rows[h].arr);return d}}])&&u(c.prototype,m),y&&u(c,y),l}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,i,s){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(u,l){for(var c=0;c<l.length;c++){var m=l[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}t.default.TableRow=function(){function u(y,d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var h=[];y&&(h=y.split(d=d||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var l,c,m;return l=u,(c=[{key:"set",value:function(y,d){if(typeof y=="string"){var h=this.table.columns.indexOf(y);if(!(0<=h))throw new Error('This table has no column named "'.concat(y,'"'));this.obj[y]=d,this.arr[h]=d}else{if(!(y<this.table.columns.length))throw new Error("Column #".concat(y," is out of the range of this table"));this.arr[y]=d,h=this.table.columns[y],this.obj[h]=d}}},{key:"setNum",value:function(y,d){d=parseFloat(d),this.set(y,d)}},{key:"setString",value:function(y,d){d=d.toString(),this.set(y,d)}},{key:"get",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y]}},{key:"getNum",value:function(y){var d=parseFloat(typeof y=="string"?this.obj[y]:this.arr[y]);if(d.toString()==="NaN")throw"Error: ".concat(this.obj[y]," is NaN (Not a Number)");return d}},{key:"getString",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y].toString()}}])&&a(l.prototype,c),m&&a(l,m),u}(),t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c,m){for(var y=0;y<m.length;y++){var d=m[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function l(c){for(var m=[],y=0;y<c.length;y++)m.push(new a.default.XML(c[y]));return m}a.default.XML=function(){function c(h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");h?this.DOM=h:(h=document.implementation.createDocument(null,"doc"),this.DOM=h.createElement("root"))}var m,y,d;return m=c,(y=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(h){var p=this.DOM.innerHTML,f=this.DOM.attributes,v=document.implementation.createDocument(null,"default").createElement(h);v.innerHTML=p;for(var g=0;g<f.length;g++)v.setAttribute(f[g].nodeName,f[g].nodeValue);this.DOM=v}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var h=[],p=0;p<this.DOM.childNodes.length;p++)h.push(this.DOM.childNodes[p].nodeName);return h}},{key:"getChildren",value:function(h){return l(h?this.DOM.getElementsByTagName(h):this.DOM.children)}},{key:"getChild",value:function(h){if(typeof h!="string")return new a.default.XML(this.DOM.children[h]);var p=!0,f=!1,v=void 0;try{for(var g,w=this.DOM.children[Symbol.iterator]();!(p=(g=w.next()).done);p=!0){var b=g.value;if(b.tagName===h)return new a.default.XML(b)}}catch(_){f=!0,v=_}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}}},{key:"addChild",value:function(h){h instanceof a.default.XML&&this.DOM.appendChild(h.DOM)}},{key:"removeChild",value:function(h){var p=-1;if(typeof h=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===h){p=f;break}}else p=h;p!==-1&&this.DOM.removeChild(this.DOM.children[p])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var h=[],p=!0,f=!1,v=void 0;try{for(var g,w=this.DOM.attributes[Symbol.iterator]();!(p=(g=w.next()).done);p=!0){var b=g.value;h.push(b.nodeName)}}catch(_){f=!0,v=_}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}return h}},{key:"hasAttribute",value:function(h){var p={},f=!0,v=!1,g=void 0;try{for(var w,b=this.DOM.attributes[Symbol.iterator]();!(f=(w=b.next()).done);f=!0){var _=w.value;p[_.nodeName]=_.nodeValue}}catch(D){v=!0,g=D}finally{try{f||b.return==null||b.return()}finally{if(v)throw g}}return!!p[h]}},{key:"getNum",value:function(h,p){var f={},v=!0,g=!1,w=void 0;try{for(var b,_=this.DOM.attributes[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var D=b.value;f[D.nodeName]=D.nodeValue}}catch(C){g=!0,w=C}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}return Number(f[h])||p||0}},{key:"getString",value:function(h,p){var f={},v=!0,g=!1,w=void 0;try{for(var b,_=this.DOM.attributes[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var D=b.value;f[D.nodeName]=D.nodeValue}}catch(C){g=!0,w=C}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}return f[h]?String(f[h]):p||null}},{key:"setAttribute",value:function(h,p){this.DOM.setAttribute(h,p)}},{key:"getContent",value:function(h){var p=this.DOM.textContent;return(p=p.replace(/\s\s+/g,","))||h||null}},{key:"setContent",value:function(h){this.DOM.children.length||(this.DOM.textContent=h)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&u(m.prototype,y),d&&u(m,d),c}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l){return function(c){if(Array.isArray(c)){for(var m=0,y=new Array(c.length);m<c.length;m++)y[m]=c[m];return y}}(l)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(l,c,m){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(l,m),c)},a.default.prototype.dist=function(){for(var l=arguments.length,c=new Array(l),m=0;m<l;m++)c[m]=arguments[m];return a.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(l,c,m){return a.default._validateParameters("lerp",arguments),m*(c-l)+l},a.default.prototype.log=Math.log,a.default.prototype.mag=function(l,c){return a.default._validateParameters("mag",arguments),Math.hypot(l,c)},a.default.prototype.map=function(l,c,m,y,d,h){return a.default._validateParameters("map",arguments),l=(l-c)/(m-c)*(d-y)+y,h?y<d?this.constrain(l,y,d):this.constrain(l,d,y):l},a.default.prototype.max=function(){for(var l=function(d){return Math.max.apply(Math,u(d))},c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return Array.isArray(m[0])?l(m[0]):l(m)},a.default.prototype.min=function(){for(var l=function(d){return Math.min.apply(Math,u(d))},c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return Array.isArray(m[0])?l(m[0]):l(m)},a.default.prototype.norm=function(l,c,m){return a.default._validateParameters("norm",arguments),this.map(l,c,m,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(l,c){return c?(c=Math.pow(10,c),Math.round(l*c)/c):Math.round(l)},a.default.prototype.sq=function(l){return l*l},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(y){a.default._validateParameters("fract",arguments);var c,m=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,m=1),String(y).includes(".")&&!String(y).includes("e")?(c=String(y),c=+("0"+c.slice(c.indexOf("."))),Math.abs(m-c)):y<1?Math.abs(m-y):0)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c,m,y){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(d,h,p){var f=[null];return f.push.apply(f,h),h=new(Function.bind.apply(d,f)),p&&l(h,p.prototype),h}).apply(null,arguments)}function l(c,m){return(l=Object.setPrototypeOf||function(y,d){return y.__proto__=d,y})(c,m)}a.default.prototype.createVector=function(c,m,y){return this instanceof a.default?u(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(c,m,y)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function a(d){return .5*(1-Math.cos(d*Math.PI))}var u,l=4095,c=4,m=.5,y=(y.default.prototype.noise=function(d){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var f=0;f<4096;f++)u[f]=Math.random()}d<0&&(d=-d),h<0&&(h=-h),p<0&&(p=-p);for(var v,g,w=Math.floor(d),b=Math.floor(h),_=Math.floor(p),D=d-w,C=h-b,M=p-_,E=0,S=.5,O=0;O<c;O++){var I=w+(b<<4)+(_<<8),F=a(D),j=a(C),L=u[I&l];L+=F*(u[I+1&l]-L),v=u[I+16&l],L+=j*((v+=F*(u[I+16+1&l]-v))-L),v=u[(I+=256)&l],v+=F*(u[I+1&l]-v),g=u[I+16&l],v+=j*((g+=F*(u[I+16+1&l]-g))-v),E+=(L+=a(M)*(v-L))*S,S*=m,w<<=1,b<<=1,_<<=1,1<=(D*=2)&&(w++,D--),1<=(C*=2)&&(b++,C--),1<=(M*=2)&&(_++,M--)}return E},y.default.prototype.noiseDetail=function(d,h){0<d&&(c=d),0<h&&(m=h)},y.default.prototype.noiseSeed=function(d){f=4294967296;var h,p,f,v={setSeed:function(w){p=h=(w??Math.random()*f)>>>0},getSeed:function(){return h},rand:function(){return(p=(1664525*p+1013904223)%f)/f}};v.setSeed(d),u=new Array(4096);for(var g=0;g<4096;g++)u[g]=v.rand()},y.default);s.default=y},{"../core/main":283}],316:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=m();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}function y(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}l.default.Vector=function(){function h(){var _=this,g=h;if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function");var w,b,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],w=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(w=(arguments.length<=0?void 0:arguments[0])||0,b=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=w,this.y=b,this.z=_}var p,f,v;return p=h,v=[{key:"fromAngle",value:function(g){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new l.default.Vector(w*Math.cos(g),w*Math.sin(g),0)}},{key:"fromAngles",value:function(M,D){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=Math.cos(D),D=Math.sin(D),C=Math.cos(M),M=Math.sin(M);return new l.default.Vector(b*M*D,-b*C,b*M*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*c.TWO_PI,w=2*Math.random()-1,_=Math.sqrt(1-w*w),b=_*Math.cos(g),_=_*Math.sin(g);return new l.default.Vector(b,_,w)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),C.add(D),C}},{key:"rem",value:function(g,w){if(g instanceof l.default.Vector&&w instanceof l.default.Vector)return(g=g.copy()).rem(w),g}},{key:"sub",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),C.sub(D),C}},{key:"mult",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),C.mult(D),C}},{key:"rotate",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length===2?C=_.copy():(C instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),C.set(_)),C.rotate(D),C}},{key:"div",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),C.div(D),C}},{key:"dot",value:function(g,w){return g.dot(w)}},{key:"cross",value:function(g,w){return g.cross(w)}},{key:"dist",value:function(g,w){return g.dist(w)}},{key:"lerp",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2],M=w[3];return M?M.set(_):(M=_.copy(),w.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(D,C),M}},{key:"slerp",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2],M=w[3];return M?M.set(_):(M=_.copy(),w.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(D,C),M}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1];return w.length<2?D=_.copy():(D instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),D.set(_)),D.normalize()}},{key:"limit",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),C.set(_)),C.limit(D)}},{key:"setMag",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),C.set(_)),C.setMag(D)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,w){return g.angleBetween(w)}},{key:"reflect",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),C.set(_)),C.reflect(D)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,w){var b;return g instanceof l.default.Vector?b=g:Array.isArray(g)?b=new l.default.Vector().set(g):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),b.equals(w)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,w,b){return g instanceof l.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=w||0,this.z=b||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,w,b){return g instanceof l.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=w||0,this.z+=b||0),this}},{key:"calculateRemainder2D",value:function(g,w){return g!==0&&(this.x=this.x%g),w!==0&&(this.y=this.y%w),this}},{key:"calculateRemainder3D",value:function(g,w,b){return g!==0&&(this.x=this.x%g),w!==0&&(this.y=this.y%w),b!==0&&(this.z=this.z%b),this}},{key:"rem",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _,D,C,M=w[0],E=w[1],S=w[2];if(M instanceof l.default.Vector){if([M.x,M.y,M.z].every(Number.isFinite))return _=parseFloat(M.x),D=parseFloat(M.y),C=parseFloat(M.z),this.calculateRemainder3D(_,D,C)}else if(Array.isArray(M)){if(M.every(Number.isFinite))return M.length===2?this.calculateRemainder2D(M[0],M[1]):M.length===3?this.calculateRemainder3D(M[0],M[1],M[2]):void 0}else if(w.length===1){if(Number.isFinite(M)&&M!==0)return this.x=this.x%M,this.y=this.y%M,this.z=this.z%M,this}else if(w.length===2){if(w.every(Number.isFinite))return this.calculateRemainder2D(M,E)}else if(w.length===3&&w.every(Number.isFinite))return this.calculateRemainder3D(M,E,S)}},{key:"sub",value:function(g,w,b){return g instanceof l.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=w||0,this.z-=b||0),this}},{key:"mult",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _,D=w[0],C=w[1],M=w[2];return D instanceof l.default.Vector?Number.isFinite(D.x)&&Number.isFinite(D.y)&&Number.isFinite(D.z)&&typeof D.x=="number"&&typeof D.y=="number"&&typeof D.z=="number"?(this.x*=D.x,this.y*=D.y,this.z*=D.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(D)?D.every(function(E){return Number.isFinite(E)})&&D.every(function(E){return typeof E=="number"})?D.length===1?(this.x*=D[0],this.y*=D[0],this.z*=D[0]):D.length===2?(this.x*=D[0],this.y*=D[1]):D.length===3&&(this.x*=D[0],this.y*=D[1],this.z*=D[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=w).every(function(E){return Number.isFinite(E)})&&_.every(function(E){return typeof E=="number"})?(w.length===1&&(this.x*=D,this.y*=D,this.z*=D),w.length===2&&(this.x*=D,this.y*=C),w.length===3&&(this.x*=D,this.y*=C,this.z*=M)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];if(_ instanceof l.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var M=_.z===0&&this.z===0;if(_.x===0||_.y===0||!M&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,M||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(Number.isFinite)&&_.every(function(E){return typeof E=="number"})){if(_.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(w.every(Number.isFinite)&&w.every(function(E){return typeof E=="number"})){if(w.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;w.length===1&&(this.x/=_,this.y/=_,this.z/=_),w.length===2&&(this.x/=_,this.y/=D),w.length===3&&(this.x/=_,this.y/=D,this.z/=C)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,w=this.y,b=this.z;return g*g+w*w+b*b}},{key:"dot",value:function(g,w,b){return g instanceof l.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(w||0)+this.z*(b||0)}},{key:"cross",value:function(_){var w=this.y*_.z-this.z*_.y,b=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,w,b,_):new l.default.Vector(w,b,_)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var w=this.magSq();return g*g<w&&this.div(Math.sqrt(w)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var w=this.mag();return this.x=w*Math.cos(g),this.y=w*Math.sin(g),this}},{key:"rotate",value:function(w){var w=this.heading()+w,b=(this.isPInst&&(w=this._toRadians(w)),this.mag());return this.x=Math.cos(w)*b,this.y=Math.sin(w)*b,this}},{key:"angleBetween",value:function(g){var w;return this.magSq()*g.magSq()==0?NaN:(w=this.cross(g),g=Math.atan2(w.mag(),this.dot(g))*Math.sign(w.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,w,b,_){return g instanceof l.default.Vector?this.lerp(g.x,g.y,g.z,w):(this.x+=(g-this.x)*_||0,this.y+=(w-this.y)*_||0,this.z+=(b-this.z)*_||0,this)}},{key:"slerp",value:function(g,w){if(w!==0){if(w===1)return this.set(g);var b=this.mag(),_=g.mag();if(b*_==0)this.mult(1-w).add(g.x*w,g.y*w,g.z*w);else{var D=this.cross(g),C=D.mag(),M=Math.atan2(C,this.dot(g));if(0<C)D.x/=C,D.y/=C,D.z/=C;else{if(M<.5*Math.PI)return this.mult(1-w).add(g.x*w,g.y*w,g.z*w),this;this.z===0&&g.z===0?D.set(0,0,1):this.x!==0?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}C=D.cross(this),g=1-w+w*_/b,D=g*Math.cos(w*M),_=g*Math.sin(w*M),this.x=this.x*D+C.x*_,this.y=this.y*D+C.y*_,this.z=this.z*D+C.z*_}}return this}},{key:"reflect",value:function(g){return g=l.default.Vector.normalize(g),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(C,w,b){var _,D,C=C instanceof l.default.Vector?(_=C.x||0,D=C.y||0,C.z||0):Array.isArray(C)?(_=C[0]||0,D=C[1]||0,C[2]||0):(_=C||0,D=w||0,b||0);return this.x===_&&this.y===D&&this.z===C}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(g){return Math.abs(+(g||0))<=Number.EPSILON?0:g}}])&&y(p.prototype,f),v&&y(p,v),h}();var d=l.default.Vector;s.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(m,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(m=m("../core/main"))&&m.__esModule?m:{default:m},u="_lcg_random_state",l=4294967296,c=0,m=(a.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%l,this[y]/l},a.default.prototype._lcgSetSeed=function(y,d){this[y]=(d??Math.random()*l)>>>0},a.default.prototype.randomSeed=function(y){this._lcgSetSeed(u,y),this._gaussian_previous=!1},a.default.prototype.random=function(y,d){var h,p;return a.default._validateParameters("random",arguments),h=this[u]!=null?this._lcg(u):Math.random(),y===void 0?h:d===void 0?Array.isArray(y)?y[Math.floor(h*y.length)]:h*y:(d<y&&(p=y,y=d,d=p),h*(d-y)+y)},a.default.prototype.randomGaussian=function(y){var d,h,p,f,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)d=c,this._gaussian_previous=!1;else{for(;1<=(f=(h=this.random(2)-1)*h+(p=this.random(2)-1)*p););d=h*(f=Math.sqrt(-2*Math.log(f)/f)),c=p*f,this._gaussian_previous=!0}return d*v+(y||0)},a.default);s.default=m},{"../core/main":283}],318:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}l.default.prototype._angleMode=c.RADIANS,l.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))},l.default.prototype.asin=function(d){return this._fromRadians(Math.asin(d))},l.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))},l.default.prototype.atan2=function(d,h){return this._fromRadians(Math.atan2(d,h))},l.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))},l.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))},l.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))},l.default.prototype.degrees=function(d){return d*c.RAD_TO_DEG},l.default.prototype.radians=function(d){return d*c.DEG_TO_RAD},l.default.prototype.angleMode=function(d){if(l.default._validateParameters("angleMode",arguments),d===void 0)return this._angleMode;d!==c.DEGREES&&d!==c.RADIANS||d!==this._angleMode&&(d===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=d)},l.default.prototype._toRadians=function(d){return this._angleMode===c.DEGREES?d*c.DEG_TO_RAD:d},l.default.prototype._toDegrees=function(d){return this._angleMode===c.RADIANS?d*c.RAD_TO_DEG:d},l.default.prototype._fromRadians=function(d){return this._angleMode===c.DEGREES?d*c.RAD_TO_DEG:d},l.default.prototype._fromDegrees=function(d){return this._angleMode===c.RADIANS?d*c.DEG_TO_RAD:d};var y=l.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,i,s){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.textAlign=function(u,l){var c;return a.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},a.default.prototype.textLeading=function(u){var l;return a.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},a.default.prototype.textSize=function(u){var l;return a.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},a.default.prototype.textStyle=function(u){var l;return a.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},a.default.prototype.textWidth=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];if(l[0]+="",a.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var m=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],d=0;d<m.length;d++)y.push(this._renderer.textWidth(m[d]));return Math.max.apply(Math,y)},a.default.prototype.textAscent=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return a.default._validateParameters("textAscent",l),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return a.default._validateParameters("textDescent",l),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(u){return a.default._validateParameters("textWrap",[u]),this._renderer.textWrap(u)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=d(t("../core/constants")),m=d(t("opentype.js"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function d(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var f=y();if(f&&f.has(p))return f.get(p);var v,g,w={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&((g=b?Object.getOwnPropertyDescriptor(p,v):null)&&(g.get||g.set)?Object.defineProperty(w,v,g):w[v]=p[v]);return w.default=p,f&&f.set(p,w),w}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(p,f,v){l.default._validateParameters("loadFont",arguments);var g=new l.default.Font(this),w=this;return m.load(p,function(D,C){if(D)return l.default._friendlyFileLoadError(4,p),v!==void 0?v(D):void console.error(D,p);g.font=C,f!==void 0&&f(g),w._decrementPreload();var D=p.split("\\").pop().split("/").pop(),C=D.lastIndexOf("."),M=C<1?null:D.slice(C+1);["ttf","otf","woff","woff2"].includes(M)&&(M=D.slice(0,C!==-1?C:0),(D=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(p,`);
}
`))),document.head.appendChild(D))}),g},l.default.prototype.text=function(p,f,v,g,w){var b;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},l.default.prototype.textFont=function(p,f){if(l.default._validateParameters("textFont",arguments),arguments.length){if(p)return this._renderer._setProperty("_textFont",p),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var h=l.default;s.default=h},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,i,s){"use strict";function a(E){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},l=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var S=c();if(S&&S.has(E))return S.get(E);var O,I={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in E){var j;Object.prototype.hasOwnProperty.call(E,O)&&((j=F?Object.getOwnPropertyDescriptor(E,O):null)&&(j.get||j.set)?Object.defineProperty(I,O,j):I[O]=E[O])}return I.default=E,S&&S.set(E,I),I}(t("../core/constants"));function c(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,c=function(){return E},E)}function m(E){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(E)}function y(E,S){for(var O=0;O<S.length;O++){var I=S[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function d(E,S){var O=E.length;return E[S<0?S%O+O:S%O]}function h(E,S,O,I){var F,j,L;return I?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),j=h.tmpPoint1,L=h.tmpPoint2,j.x=S.x-E.x,j.y=S.y-E.y,L.x=O.x-S.x,L.y=O.y-S.y,F=j.x*L.x+j.y*L.y,j=Math.sqrt(j.x*j.x+j.y*j.y),L=Math.sqrt(L.x*L.x+L.y*L.y),Math.acos(F/(j*L))<I):(S[0]-E[0])*(O[1]-E[1])-(O[0]-E[0])*(S[1]-E[1])==0}function p(T,H,V,K,re,j,L,B,k){var q=1-k,U=Math.pow(q,3),W=Math.pow(q,2),P=k*k,Q=P*k,G=U*T+3*W*k*V+3*q*k*k*re+Q*L,U=U*H+3*W*k*K+3*q*k*k*j+Q*B,W=T+2*k*(V-T)+P*(re-2*V+T),Q=H+2*k*(K-H)+P*(j-2*K+H),le=V+2*k*(re-V)+P*(L-2*re+V),P=K+2*k*(j-K)+P*(B-2*j+K),T=q*T+k*V,V=q*H+k*K,H=q*re+k*L,K=q*j+k*B,re=90-180*Math.atan2(W-le,Q-P)/Math.PI;return(le<W||Q<P)&&(re+=180),{x:G,y:U,m:{x:W,y:Q},n:{x:le,y:P},start:{x:T,y:V},end:{x:H,y:K},alpha:re}}function f(E,S,O,I,F,j,L,B,k){return k==null?C(E,S,O,I,F,j,L,B):p(E,S,O,I,F,j,L,B,function(q,G,U,W,Q,le,P,T,V){if(!(V<0||C(q,G,U,W,Q,le,P,T)<V)){var H,K=.5,re=1-K;for(H=C(q,G,U,W,Q,le,P,T,re);.01<Math.abs(H-V);)H=C(q,G,U,W,Q,le,P,T,re+=(H<V?1:-1)*(K/=2));return re}}(E,S,O,I,F,j,L,B,k))}function v(E,S,O){for(var I,F,j,L,B,k=0,q=0,G=(E=function(U,W){function Q(xe,me,_e){var je,De;if(!xe)return["C",me.x,me.y,me.x,me.y,me.x,me.y];switch(xe[0]in{T:1,Q:1}||(me.qx=me.qy=null),xe[0]){case"M":me.X=xe[1],me.Y=xe[2];break;case"A":xe=["C"].concat(w.apply(0,[me.x,me.y].concat(xe.slice(1))));break;case"S":De=_e==="C"||_e==="S"?(je=2*me.x-me.bx,2*me.y-me.by):(je=me.x,me.y),xe=["C",je,De].concat(xe.slice(1));break;case"T":_e==="Q"||_e==="T"?(me.qx=2*me.x-me.qx,me.qy=2*me.y-me.qy):(me.qx=me.x,me.qy=me.y),xe=["C"].concat(D(me.x,me.y,me.qx,me.qy,xe[1],xe[2]));break;case"Q":me.qx=xe[1],me.qy=xe[2],xe=["C"].concat(D(me.x,me.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(_(me.x,me.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(_(me.x,me.y,xe[1],me.y));break;case"V":xe=["C"].concat(_(me.x,me.y,me.x,xe[1]));break;case"Z":xe=["C"].concat(_(me.x,me.y,me.X,me.Y))}return xe}function le(xe,me){if(7<xe[me].length){xe[me].shift();for(var _e=xe[me];_e.length;)ie[me]="A",H&&(ce[me]="A"),xe.splice(me++,0,["C"].concat(_e.splice(0,6)));xe.splice(me,1),T=Math.max(V.length,H&&H.length||0)}}function P(xe,me,_e,je,De){xe&&me&&xe[De][0]==="M"&&me[De][0]!=="M"&&(me.splice(De,0,["M",je.x,je.y]),_e.bx=0,_e.by=0,_e.x=xe[De][1],_e.y=xe[De][2],T=Math.max(V.length,H&&H.length||0))}var T,V=g(U),H=W&&g(W),K={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],ce=[],se="",he="";T=Math.max(V.length,H&&H.length||0);for(var ue=0;ue<T;ue++){(se=V[ue]?V[ue][0]:se)!=="C"&&(ie[ue]=se,ue&&(he=ie[ue-1])),V[ue]=Q(V[ue],K,he),ie[ue]!=="A"&&se==="C"&&(ie[ue]="C"),le(V,ue),H&&((se=H[ue]?H[ue][0]:se)!=="C"&&(ce[ue]=se,ue&&(he=ce[ue-1])),H[ue]=Q(H[ue],re,he),ce[ue]!=="A"&&se==="C"&&(ce[ue]="C"),le(H,ue)),P(V,H,K,re,ue),P(H,V,re,K,ue);var te=V[ue],pe=H&&H[ue],ve=te.length,Me=H&&pe.length;K.x=te[ve-2],K.y=te[ve-1],K.bx=parseFloat(te[ve-4])||K.x,K.by=parseFloat(te[ve-3])||K.y,re.bx=H&&(parseFloat(pe[Me-4])||re.x),re.by=H&&(parseFloat(pe[Me-3])||re.y),re.x=H&&pe[Me-2],re.y=H&&pe[Me-1]}return H?[V,H]:V}(E)).length;q<G;q++){if((j=E[q])[0]==="M")I=+j[1],F=+j[2];else{if(S<k+(L=f(I,F,j[1],j[2],j[3],j[4],j[5],j[6]))&&!O)return{x:(B=f(I,F,j[1],j[2],j[3],j[4],j[5],j[6],S-k)).x,y:B.y,alpha:B.alpha};k+=L,I=+j[5],F=+j[6]}j.shift()}return B=(B=O?k:p(I,F,j[0],j[1],j[2],j[3],j[4],j[5],1)).alpha?{x:B.x,y:B.y,alpha:B.alpha}:B}function g(E){var S=[],O=0,I=0,F=0,j=0,L=0;if(E){E[0][0]==="M"&&(F=O=+E[0][1],j=I=+E[0][2],L++,S[0]=["M",O,I]);for(var B,k,q=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",G=L,U=E.length;G<U;G++){if(S.push(B=[]),(k=E[G])[0]!==k[0].toUpperCase())switch(B[0]=k[0].toUpperCase(),B[0]){case"A":B[1]=k[1],B[2]=k[2],B[3]=k[3],B[4]=k[4],B[5]=k[5],B[6]=+(k[6]+O),B[7]=+(k[7]+I);break;case"V":B[1]=+k[1]+I;break;case"H":B[1]=+k[1]+O;break;case"R":for(var W,Q=2,le=(W=[O,I].concat(k.slice(1))).length;Q<le;Q++)W[Q]=+W[Q]+O,W[++Q]=+W[Q]+I;S.pop(),S=S.concat(b(W,q));break;case"M":F=+k[1]+O,j=+k[2]+I;break;default:for(var P=1,T=k.length;P<T;P++)B[P]=+k[P]+(P%2?O:I)}else if(k[0]==="R")W=[O,I].concat(k.slice(1)),S.pop(),S=S.concat(b(W,q)),B=["R"].concat(k.slice(-2));else for(var V=0,H=k.length;V<H;V++)B[V]=k[V];switch(B[0]){case"Z":O=F,I=j;break;case"H":O=B[1];break;case"V":I=B[1];break;case"M":F=B[B.length-2],j=B[B.length-1];break;default:O=B[B.length-2],I=B[B.length-1]}}}return S}function w(E,S,O,I,H,ie,K,B,k,q){function G(Me,xe,me){return{x:Me*Math.cos(me)-xe*Math.sin(me),y:Me*Math.sin(me)+xe*Math.cos(me)}}var U,T=Math.PI,V=120*T/180,W=T/180*(+H||0),Q=[],le=(q?(ue=q[0],U=q[1],se=q[2],he=q[3]):(E=(re=G(E,S,-W)).x,S=re.y,1<(le=(P=(E-(B=(re=G(B,k,-W)).x))/2)*P/(O*O)+(re=(S-(k=re.y))/2)*re/(I*I))&&(O*=le=Math.sqrt(le),I*=le),le=O*O,ce=I*I,se=(ie=(ie===K?-1:1)*Math.sqrt(Math.abs((le*ce-le*re*re-ce*P*P)/(le*re*re+ce*P*P))))*O*re/I+(E+B)/2,he=ie*-I*P/O+(S+k)/2,ue=Math.asin(((S-he)/I).toFixed(9)),U=Math.asin(((k-he)/I).toFixed(9)),(ue=E<se?T-ue:ue)<0&&(ue=2*T+ue),(U=B<se?T-U:U)<0&&(U=2*T+U),K&&U<ue&&(ue-=2*T),!K&&ue<U&&(U-=2*T)),U-ue),P=(Math.abs(le)>V&&(ce=U,re=B,ie=k,U=ue+V*(K&&ue<U?1:-1),Q=w(B=se+O*Math.cos(U),k=he+I*Math.sin(U),O,I,H,0,K,re,ie,[U,ce,se,he])),le=U-ue,Math.cos(ue)),T=Math.sin(ue),V=Math.cos(U),H=Math.sin(U),K=Math.tan(le/4),re=4/3*O*K,ie=4/3*I*K,ce=[E,S],se=[E+re*T,S-ie*P],he=[B+re*H,k-ie*V],ue=[B,k];if(se[0]=2*ce[0]-se[0],se[1]=2*ce[1]-se[1],q)return[se,he,ue].concat(Q);for(var te=[],pe=0,ve=(Q=[se,he,ue].concat(Q).join().split(",")).length;pe<ve;pe++)te[pe]=pe%2?G(Q[pe-1],Q[pe],W).y:G(Q[pe],Q[pe+1],W).x;return te}function b(E,S){for(var O=[],I=0,F=E.length;I<F-2*!S;I+=2){var j=[{x:+E[I-2],y:+E[I-1]},{x:+E[I],y:+E[I+1]},{x:+E[I+2],y:+E[I+3]},{x:+E[I+4],y:+E[I+5]}];S?I?F-4===I?j[3]={x:+E[0],y:+E[1]}:F-2===I&&(j[2]={x:+E[0],y:+E[1]},j[3]={x:+E[2],y:+E[3]}):j[0]={x:+E[F-2],y:+E[F-1]}:F-4===I?j[3]=j[2]:I||(j[0]={x:+E[I],y:+E[I+1]}),O.push(["C",(-j[0].x+6*j[1].x+j[2].x)/6,(-j[0].y+6*j[1].y+j[2].y)/6,(j[1].x+6*j[2].x-j[3].x)/6,(j[1].y+6*j[2].y-j[3].y)/6,j[2].x,j[2].y])}return O}function _(E,S,O,I){return[E,S,O,I,O,I]}function D(E,S,O,I,F,j){return[1/3*E+2/3*O,1/3*S+2/3*I,1/3*F+2/3*O,1/3*j+2/3*I,F,j]}function C(E,S,O,I,F,j,L,B,k){for(var q=(k=1<(k=k??1)?1:k<0?0:k)/2,G=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],U=0,W=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var P=q*G[Q]+q,le=M(P,E,O,F,L),P=M(P,S,I,j,B);U+=W[Q]*Math.sqrt(le*le+P*P)}return q*U}function M(E,S,O,I,F){return E*(E*(-3*S+9*O-9*I+3*F)+6*S-12*O+6*I)-3*S+3*O}u.default.Font=function(){function E(F){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=F,this.cache={},this.font=void 0}var S,O,I;return S=E,(O=[{key:"textBounds",value:function(F){var j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,k=B&&B.renderer&&B.renderer._pInst||this.parent,q=k._renderer.drawingContext,G=(q.textAlign||l.LEFT,q.textBaseline||l.BASELINE,G||k._renderer._textSize);if(!ie){for(var U=[],W=[],Q=[],le=(Q[0]=[],[]),P=this._scale(G),T=k._renderer.textLeading(),V=0,H=(this.font.forEachGlyph(F,j,L,G,B,function(he,ue,te,pe){var ve=he.getMetrics();he.index===0?Q[V+=1]=[]:(Q[V].push(ue+ve.xMin*P),Q[V].push(ue+ve.xMax*P),le.push(te+V*T+-ve.yMin*P),le.push(te+V*T+-ve.yMax*P))}),0<Q[V].length&&(U[V]=Math.min.apply(null,Q[V]),W[V]=Math.max.apply(null,Q[V])),0),K=0;K<=V;K++){U[K]=Math.min.apply(null,Q[K]),W[K]=Math.max.apply(null,Q[K]);var re=W[K]-U[K];H<re&&(H=re)}var q=Math.min.apply(null,U),ie={x:q,y:L=Math.min.apply(null,le),h:Math.max.apply(null,le)-L,w:H,advance:q-j},G=this._handleAlignment(k._renderer,F,ie.x,ie.y,ie.w+ie.advance);ie.x=G.x,ie.y=G.y}return ie}},{key:"textToPoints",value:function(F,j,L,B,k){var q=j,G=[],U=F.split(/\r?\n|\r|\n/g);B=B||this.parent._renderer._textSize;for(var W,Q,le,P=0;P<U.length;P++){var T=0;j=q;for(var V=(V=U[P]).replace("	","  "),H=this._getGlyphs(V),K=0;K<H.length;K++){if(Q=V,!((le=H)[W=K].name&&le[W].name==="space"||Q.length===le.length&&Q[W]===" "))for(var re=function(he){for(var ue,te=[],pe=0;pe<he.length;pe++)he[pe].type==="M"&&(ue&&te.push(ue),ue=[]),ue.push(function(ve){var Me=[ve.type];return ve.type==="M"||ve.type==="L"?Me.push(ve.x,ve.y):ve.type==="C"?Me.push(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y):ve.type==="Q"&&Me.push(ve.x1,ve.y1,ve.x,ve.y),Me}(he[pe]));return te.push(ue),te}(H[K].getPath(j,L,B).commands),ie=0;ie<re.length;ie++)for(var ce=function(he,ue){for(var ue=function(me,_e){if(m(me)!=="object")me=_e;else for(var je in _e)me[je]===void 0&&(me[je]=_e[je]);return me}(ue,{sampleFactor:.1,simplifyThreshold:0}),te=v(he,0,1),pe=te/(te*ue.sampleFactor),ve=[],Me=0;Me<te;Me+=pe)ve.push(v(he,Me));return ue.simplifyThreshold&&function(xe){for(var me=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,_e=0,je=xe.length-1;3<xe.length&&0<=je;--je)h(d(xe,je-1),d(xe,je),d(xe,je+1),me)&&(xe.splice(je%xe.length,1),_e++)}(ve,ue.simplifyThreshold),ve}(re[ie],k),se=0;se<ce.length;se++)ce[se].x+=T,G.push(ce[se]);T+=H[K].advanceWidth*this._scale(B)}L+=this.parent._renderer._textLeading}return G}},{key:"_getGlyphs",value:function(F){return this.font.stringToGlyphs(F)}},{key:"_getPath",value:function(F,q,L,B){var k=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer,q=this._handleAlignment(k,F,q,L);return this.font.getPath(F,q.x,q.y,k._textSize,B)}},{key:"_getPathData",value:function(F,j,L,B){var k=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,j,L,B):m(j)==="object"&&(B=j),B&&typeof B.decimals=="number"&&(k=B.decimals),F.toPathData(k)}},{key:"_getSVG",value:function(F,j,L,B){var k=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,j,L,B):m(j)==="object"&&(B=j),B&&(typeof B.decimals=="number"&&(k=B.decimals),typeof B.strokeWidth=="number"&&(F.strokeWidth=B.strokeWidth),B.fill!==void 0&&(F.fill=B.fill),B.stroke!==void 0&&(F.stroke=B.stroke)),F.toSVG(k)}},{key:"_renderPath",value:function(G,W,Q,B){var k=B&&B.renderer||this.parent._renderer,q=k.drawingContext,G=(m(G)==="object"&&G.commands?G:this._getPath(G,W,Q,B)).commands,U=(k._clipping||q.beginPath(),!0),W=!1,Q=void 0;try{for(var le,P=G[Symbol.iterator]();!(U=(le=P.next()).done);U=!0){var T=le.value;T.type==="M"?q.moveTo(T.x,T.y):T.type==="L"?q.lineTo(T.x,T.y):T.type==="C"?q.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?q.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&q.closePath()}}catch(V){W=!0,Q=V}finally{try{U||P.return==null||P.return()}finally{if(W)throw Q}}return k._doStroke&&k._strokeSet&&!k._clipping&&q.stroke(),k._doFill&&!k._clipping&&(k._fillSet||k._setFill(l._DEFAULT_TEXT_FILL),q.fill()),this}},{key:"_textWidth",value:function(F,j){return this.font.getAdvanceWidth(F,j)}},{key:"_textAscent",value:function(F){return this.font.ascender*this._scale(F)}},{key:"_textDescent",value:function(F){return-this.font.descender*this._scale(F)}},{key:"_scale",value:function(F){return 1/this.font.unitsPerEm*(F||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(F,j,L,B,k){var q=F._textSize;switch(k===void 0&&(k=this._textWidth(j,q)),F._textAlign){case l.CENTER:L-=k/2;break;case l.RIGHT:L-=k}switch(F._textBaseline){case l.TOP:B+=this._textAscent(q);break;case l.CENTER:B+=this._textAscent(q)/2;break;case l.BOTTOM:B-=this._textDescent(q)}return{x:L,y:B}}}])&&y(S.prototype,O),I&&y(S,I),E}(),t=u.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(a,u){return a.push(u),a},t.default.prototype.arrayCopy=function(a,u,l,c,m){var y,d;a=m!==void 0?(d=Math.min(m,a.length),y=c,a.slice(u,d+u)):(d=l!==void 0?(d=l,Math.min(d,a.length)):a.length,l=u,a.slice(y=0,d)),Array.prototype.splice.apply(l,[y,d].concat(a))},t.default.prototype.concat=function(a,u){return a.concat(u)},t.default.prototype.reverse=function(a){return a.reverse()},t.default.prototype.shorten=function(a){return a.pop(),a},t.default.prototype.shuffle=function(a,u){for(var l,c,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),y=(a=u||m?a:a.slice()).length;1<y;)l=this.random(0,1)*y|0,c=a[--y],a[y]=a[l],a[l]=c;return a},t.default.prototype.sort=function(a,c){var l=c?a.slice(0,Math.min(c,a.length)):a,c=c?a.slice(Math.min(c,a.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(m,y){return m-y})).concat(c)},t.default.prototype.splice=function(a,u,l){return Array.prototype.splice.apply(a,[l,0].concat(u)),a},t.default.prototype.subset=function(a,u,l){return l!==void 0?a.slice(u,u+l):a.slice(u,a.length)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,i,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},a.default.prototype.int=function(u){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,l):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(c){return a.default.prototype.int(c,l)}):void 0},a.default.prototype.str=function(u){return u instanceof Array?u.map(a.default.prototype.str):String(u)},a.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(u){return u=a.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(a.default.prototype.char):typeof u=="string"?a.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},a.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(u,l){if(l=l??8,u instanceof Array)return u.map(function(m){return a.default.prototype.hex(m,l)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(l);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var c=Number(u).toString(16).toUpperCase();c.length<l;)c="0".concat(c);return c=c.length>=l?c.substring(c.length-l,c.length):c}},a.default.prototype.unhex=function(u){return u instanceof Array?u.map(a.default.prototype.unhex):parseInt("0x".concat(u),16)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(d=t("../core/main"))&&d.__esModule?d:{default:d};function u(h,p){return function(f){if(Array.isArray(f))return f}(h)||function(f,v){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var g=[],w=!0,b=!1,_=void 0;try{for(var D,C=f[Symbol.iterator]();!(w=(D=C.next()).done)&&(g.push(D.value),!v||g.length!==v);w=!0);}catch(M){b=!0,_=M}finally{try{w||C.return==null||C.return()}finally{if(b)throw _}}return g}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(h,p,f){var g=u(h.toString().split("."),2),v=g[0],g=g[1];return f===void 0?(v=v.padStart(p,"0"),g?v+"."+g:v):(v=(h=u(h.toFixed(f).toString().split("."),2))[0],g=h[1],v=v.padStart(p,"0"),g===void 0?v:v+"."+g)}function c(g,p){var f=(g=g.toString()).indexOf("."),v=f!==-1?g.substring(f):"",g=(g=f!==-1?g.substring(0,f):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(p===0)v="";else if(p!==void 0)if(p>v.length)for(var w=p-(v+=f===-1?".":"").length+1,b=0;b<w;b++)v+="0";else v=v.substring(0,p+1);return g+v}function m(h){return 0<parseFloat(h)?"+".concat(h.toString()):h.toString()}function y(h){return 0<=parseFloat(h)?" ".concat(h.toString()):h.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.join=function(h,p){return a.default._validateParameters("join",arguments),h.join(p)},a.default.prototype.match=function(h,p){return a.default._validateParameters("match",arguments),h.match(p)},a.default.prototype.matchAll=function(h,p){a.default._validateParameters("matchAll",arguments);for(var f=new RegExp(p,"g"),v=f.exec(h),g=[];v!==null;)g.push(v),v=f.exec(h);return g},a.default.prototype.nf=function(h,p,f){return a.default._validateParameters("nf",arguments),h instanceof Array?h.map(function(v){return l(v,p,f)}):Object.prototype.toString.call(h)==="[object Arguments]"?h.length===3?this.nf(h[0],h[1],h[2]):h.length===2?this.nf(h[0],h[1]):this.nf(h[0]):l(h,p,f)},a.default.prototype.nfc=function(h,p){return a.default._validateParameters("nfc",arguments),h instanceof Array?h.map(function(f){return c(f,p)}):c(h,p)},a.default.prototype.nfp=function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];a.default._validateParameters("nfp",p);var v=a.default.prototype.nf.apply(this,p);return v instanceof Array?v.map(m):m(v)},a.default.prototype.nfs=function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];a.default._validateParameters("nfs",p);var v=a.default.prototype.nf.apply(this,p);return v instanceof Array?v.map(y):y(v)},a.default.prototype.split=function(h,p){return a.default._validateParameters("split",arguments),h.split(p)},a.default.prototype.splitTokens=function(h,p){var f,v;return a.default._validateParameters("splitTokens",arguments),v=p!==void 0?(v=/\]/g.exec(p=p),(f=/\[/g.exec(p))&&v?(p=p.slice(0,v.index)+p.slice(v.index+1),f=/\[/g.exec(p),p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[\\[".concat(p,"\\]]"),"g")):v?(p=p.slice(0,v.index)+p.slice(v.index+1),new RegExp("[".concat(p,"\\]]"),"g")):f?(p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[".concat(p,"\\[]"),"g")):new RegExp("[".concat(p,"]"),"g")):/\s/g,h.split(v).filter(function(g){return g})},a.default.prototype.trim=function(h){return a.default._validateParameters("trim",arguments),h instanceof Array?h.map(this.trim):h.trim()};var d=a.default;s.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,s.default=t},{"../core/main":283}],326:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=m();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants")));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(h){return this._renderer.buildGeometry(h)},l.default.prototype.freeGeometry=function(h){this._renderer._freeBuffers(h.gid)},l.default.prototype.plane=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=(this._assert3d("plane"),l.default._validateParameters("plane",arguments),"plane|".concat(v,"|").concat(g));return this._renderer.geometryInHash(w)||((h=new l.default.Geometry(v,g,function(){for(var b,_,D=0;D<=this.detailY;D++)for(var C=D/this.detailY,M=0;M<=this.detailX;M++)b=M/this.detailX,_=new l.default.Vector(b-.5,C-.5,0),this.vertices.push(_),this.uvs.push(b,C)})).computeFaces().computeNormals(),v<=1&&g<=1?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(w,h)),this._renderer.drawBuffersScaled(w,p,f,1),this},l.default.prototype.box=function(h,p,f,v,g){this._assert3d("box"),l.default._validateParameters("box",arguments),h===void 0&&(h=50),p===void 0&&(p=h),f===void 0&&(f=p);var w,b=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,b=(g===void 0&&(g=b?1:4),"box|".concat(v=v===void 0?b?1:4:v,"|").concat(g));return this._renderer.geometryInHash(b)||((w=new l.default.Geometry(v,g,function(){var _=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(D,C){for(var C=4*C,M=0;M<4;M++){var E=D[M],E=new l.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);_.vertices.push(E),_.uvs.push(1&M,(2&M)/2)}_.faces.push([C,1+C,2+C]),_.faces.push([2+C,1+C,3+C])})})).computeNormals(),v<=4&&g<=4?w._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,w)),this._renderer.drawBuffersScaled(b,h,p,f),this},l.default.prototype.sphere=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(h,h,h,p,f),this};function y(h,p,f,v,g,w,b){h=h<=0?1:h,p=p<0?0:p,f=f<=0?h:f,v=v<3?3:v;for(var _,D,C=(w=w===void 0||w)?-2:0,M=(g=g<1?1:g)+((b=b===void 0?p!==0:b)?2:0),E=Math.atan2(h-p,f),S=Math.sin(E),O=Math.cos(E),I=C;I<=M;++I){var F=I/g,j=f*F,L=void 0,L=I<0?(F=j=0,h):g<I?(j=f,F=1,p):h+(p-h)*F;for(I!==-2&&I!==g+2||(L=0),j-=f/2,_=0;_<v;++_){var B=_/(v-1),q=2*Math.PI*B,k=Math.sin(q),q=Math.cos(q),G=(this.vertices.push(new l.default.Vector(k*L,j,q*L)),void 0),G=I<0?new l.default.Vector(0,-1,0):g<I&&p?new l.default.Vector(0,1,0):new l.default.Vector(k*O,S,q*O);this.vertexNormals.push(G),this.uvs.push(B,F)}}var U=0;if(w){for(D=0;D<v;++D)this.faces.push([U+D,U+v+(D+1)%v,U+v+D]);U+=2*v}for(I=0;I<g;++I){for(_=0;_<v;++_){var W=(_+1)%v;this.faces.push([U+_,U+W,U+v+W]),this.faces.push([U+_,U+v+W,U+v+_])}U+=v}if(b)for(U+=v,_=0;_<v;++_)this.faces.push([U+_,U+(_+1)%v,U+v])}l.default.prototype.cylinder=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],_=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(v,"|").concat(g,"|").concat(w,"|").concat(b));return this._renderer.geometryInHash(_)||(h=new l.default.Geometry(v,g),y.call(h,1,1,1,v,g,w,b),v<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,h)),this._renderer.drawBuffersScaled(_,p,f,p),this},l.default.prototype.cone=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(v,"|").concat(g,"|").concat(w));return this._renderer.geometryInHash(b)||(h=new l.default.Geometry(v,g),y.call(h,1,0,1,v,g,w,!1),v<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,p,f,p),this},l.default.prototype.ellipsoid=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:p,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,w=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,b=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(w));return this._renderer.geometryInHash(b)||((h=new l.default.Geometry(g,w,function(){for(var _=0;_<=this.detailY;_++)for(var D=_/this.detailY,C=Math.PI*D-Math.PI/2,M=Math.cos(C),E=Math.sin(C),S=0;S<=this.detailX;S++){var O=S/this.detailX,F=2*Math.PI*O,I=Math.cos(F),F=Math.sin(F),F=new l.default.Vector(M*F,E,M*I);this.vertices.push(F),this.vertexNormals.push(F),this.uvs.push(O,D)}})).computeFaces(),g<=24&&w<=24?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,p,f,v),this},l.default.prototype.torus=function(h,b,f,v){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(b===void 0)b=10;else if(!b)return;f===void 0&&(f=24),v===void 0&&(v=16);var g,w=(b/h).toPrecision(4),b="torus|".concat(w,"|").concat(f,"|").concat(v);return this._renderer.geometryInHash(b)||((g=new l.default.Geometry(f,v,function(){for(var _=0;_<=this.detailY;_++)for(var D=_/this.detailY,C=2*Math.PI*D,M=Math.cos(C),E=Math.sin(C),S=1+w*M,O=0;O<=this.detailX;O++){var I=O/this.detailX,F=2*Math.PI*I,L=Math.cos(F),F=Math.sin(F),j=new l.default.Vector(S*L,S*F,w*E),L=new l.default.Vector(M*L,M*F,E);this.vertices.push(j),this.vertexNormals.push(L),this.uvs.push(I,D)}})).computeFaces(),f<=24&&v<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,g)),this._renderer.drawBuffersScaled(b,h,h,h),this},l.default.RendererGL.prototype.point=function(h,p){var f=[];return f.push(new l.default.Vector(h,p,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(b){var p=b[0],f=b[1],v=b[2],g=b[3],w=b[4],b=b[5],_=(this.geometryInHash("tri")||((_=new l.default.Geometry(1,1,function(){var M=[];M.push(new l.default.Vector(0,0,0)),M.push(new l.default.Vector(1,0,0)),M.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uModelMatrix.copy());try{var D=Math.sign(p*g-v*f+v*b-w*g+w*f-p*b),C=new l.default.Matrix([v-p,g-f,0,0,w-p,b-f,0,0,0,0,D,0,p,f,0,1]).mult(this.uModelMatrix);this.uModelMatrix=C,this.drawBuffers("tri")}finally{this.uModelMatrix=_}return this},l.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,c.TWO_PI,c.OPEN,h[4])},l.default.RendererGL.prototype.arc=function(){var h,p=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],v=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],w=arguments.length<=4?void 0:arguments[4],b=arguments.length<=5?void 0:arguments[5],_=arguments.length<=6?void 0:arguments[6],D=(arguments.length<=7?void 0:arguments[7])||25,C=(Math.abs(b-w)>=c.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(w,"|").concat(b,"|").concat(_,"|")).concat(D,"|"),M=(this.geometryInHash(C)||((h=new l.default.Geometry(D,1,function(){if(w.toFixed(10)!==b.toFixed(10)){_!==c.PIE&&_!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=D;E++){var O=(b-w)*(E/D)+w,S=.5+Math.cos(O)/2,O=.5+Math.sin(O)/2;this.vertices.push(new l.default.Vector(S,O,0)),this.uvs.push([S,O]),E<D-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(_){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),D<=50?h._edgesToVertices(h):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(C,h)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(v,g,1),this.drawBuffers(C)}finally{this.uModelMatrix=M}return this},l.default.RendererGL.prototype.rect=function(h){var p=h[0],f=h[1],v=h[2],g=h[3];if(h[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,w=h[4]||(_?1:24),b=h[5]||(_?1:16),_="rect|".concat(w,"|").concat(b),D=(this.geometryInHash(_)||((D=new l.default.Geometry(w,b,function(){for(var G=0;G<=this.detailY;G++)for(var U=G/this.detailY,W=0;W<=this.detailX;W++){var Q=W/this.detailX,le=new l.default.Vector(Q,U,0);this.vertices.push(le),this.uvs.push(Q,U)}0<w&&0<b&&(this.edges=[[0,w],[w,(w+1)*(b+1)-1],[(w+1)*(b+1)-1,(w+1)*b],[(w+1)*b,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,D)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(v,g,1),this.drawBuffers(_)}finally{this.uModelMatrix=D}}else{var _=h[4],D=h[5]===void 0?_:h[5],C=h[6]===void 0?D:h[6],h=h[7]===void 0?C:h[7],F=v,M=g,O=((F+=p)<p&&(O=p,p=F,F=O),(M+=f)<f&&(O=f,f=M,M=O),Math.min((F-p)/2,(M-f)/2)),E=(O<_&&(_=O),O<D&&(D=O),O<C&&(C=O),O<h&&(h=O),p),S=f,O=F,p=M,I=(this.beginShape(),D!==0?(this.vertex(O-D,S),this.quadraticVertex(O,S,O,S+D)):this.vertex(O,S),C!==0?(this.vertex(O,p-C),this.quadraticVertex(O,p,O-C,p)):this.vertex(O,p),h!==0?(this.vertex(E+h,p),this.quadraticVertex(E,p,E,p-h)):this.vertex(E,p),_!==0?(this.vertex(E,S+_),this.quadraticVertex(E,S,E+_,S)):this.vertex(E,S),!(this.immediateMode.geometry.uvs.length=0)),f=!1,F=void 0;try{for(var j,L=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(j=L.next()).done);I=!0){var B=j.value,k=(B.x-E)/v,q=(B.y-S)/g;this.immediateMode.geometry.uvs.push(k,q)}}catch(P){f=!0,F=P}finally{try{I||L.return==null||L.return()}finally{if(f)throw F}}this.endShape(c.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(h,p,f,v,g,w,b,_,D,C,M,E){var S=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,O=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,I="quad|".concat(h,"|").concat(p,"|").concat(f,"|").concat(v,"|").concat(g,"|").concat(w,"|").concat(b,"|").concat(_,"|").concat(D,"|").concat(C,"|").concat(M,"|").concat(E,"|").concat(S,"|").concat(O);if(!this.geometryInHash(I)){var F=new l.default.Geometry(S,O,function(){for(var W=1/(this.detailX-1),Q=1/(this.detailY-1),le=0;le<this.detailY;le++)for(var P=0;P<this.detailX;P++){var T=P*W,V=le*Q;this.vertices.push(new l.default.Vector((1-T)*((1-V)*h+V*C)+T*((1-V)*v+V*b),(1-T)*((1-V)*p+V*M)+T*((1-V)*g+V*_),(1-T)*((1-V)*f+V*E)+T*((1-V)*w+V*D))),this.uvs.push([T,V])}});F.faces=[];for(var j=0;j<O-1;j++)for(var L=0;L<S-1;L++){var B=L+j*S,k=L+1+(j+1)*S,q=L+(j+1)*S;F.faces.push([B,L+1+j*S,k]),F.faces.push([B,k,q])}F.computeNormals();for(var G=[F.edges.length=0,2,3,1],U=0;U<G.length;U++)F.edges.push([G[U],G[(U+1)%G.length]]);F._edgesToVertices(),this.createBuffers(I,F)}return this.drawBuffers(I),this},l.default.RendererGL.prototype.bezier=function(h,p,f,v,g,w,b,_,D,C,M,E){arguments.length===8&&(M=_,C=b,_=w,b=g,g=v,v=f,f=w=D=E=0);var S=this._pInst._bezierDetail||20;this.beginShape();for(var O=0;O<=S;O++){var I=Math.pow(1-O/S,3),F=O/S*3*Math.pow(1-O/S,2),j=3*Math.pow(O/S,2)*(1-O/S),L=Math.pow(O/S,3);this.vertex(h*I+v*F+b*j+C*L,p*I+g*F+_*j+M*L,f*I+w*F+D*j+E*L)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(h,p,f,v,g,w,b,_,D,C,M,E){arguments.length===8&&(C=b,M=_,b=g,_=v,g=v=f,f=w=D=E=0);var S=this._pInst._curveDetail;this.beginShape();for(var O=0;O<=S;O++){var I=.5*Math.pow(O/S,3),F=.5*Math.pow(O/S,2),j=O/S*.5;this.vertex(I*(3*v-h-3*b+C)+F*(2*h-5*v+4*b-C)+j*(-h+b)+2*v*.5,I*(3*g-p-3*_+M)+F*(2*p-5*g+4*_-M)+j*(-p+_)+2*g*.5,I*(3*w-f-3*D+E)+F*(2*f-5*w+4*D-E)+j*(-f+D)+2*w*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableBezier[S]=this._bezierCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableBezier[S]=this._bezierCoefficients(w);break}M+=C,E-=C,++S}}for(var O=this._lookUpTableBezier.length,I=[],F=0;F<4;F++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var j=[];for(F=0;F<4;F++)j.push([]);if(j[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),j[3]=this.curStrokeColor.slice(),D===6){this.isBezier=!0;var b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],L=Math.hypot(b[0]-b[1],_[0]-_[1]),k=Math.hypot(b[1]-b[2],_[1]-_[2]),B=Math.hypot(b[2]-b[3],_[2]-_[3]),k=L+k+B;for(L/=k,B/=k,g=0;g<4;g++)I[1].push(I[0][g]*(1-L)+I[3][g]*L),I[2].push(I[0][g]*B+I[3][g]*(1-B)),j[1].push(j[0][g]*(1-L)+j[3][g]*L),j[2].push(j[0][g]*B+j[3][g]*(1-B));for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[v][F]*I[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[v][F]*j[F][g];h+=b[F]*this._lookUpTableBezier[v][F],p+=_[F]*this._lookUpTableBezier[v][F]}this.vertex(h,p)}this.curFillColor=I[3],this.curStrokeColor=j[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(D===9){this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],G=Math.hypot(b[0]-b[1],_[0]-_[1],q[0]-q[1]),k=Math.hypot(b[1]-b[2],_[1]-_[2],q[1]-q[2]),U=Math.hypot(b[2]-b[3],_[2]-_[3],q[2]-q[3]),D=G+k+U;for(G/=D,U/=D,g=0;g<4;g++)I[1].push(I[0][g]*(1-G)+I[3][g]*G),I[2].push(I[0][g]*U+I[3][g]*(1-U)),j[1].push(j[0][g]*(1-G)+j[3][g]*G),j[2].push(j[0][g]*U+j[3][g]*(1-U));for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=f=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[v][F]*I[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[v][F]*j[F][g];h+=b[F]*this._lookUpTableBezier[v][F],p+=_[F]*this._lookUpTableBezier[v][F],f+=q[F]*this._lookUpTableBezier[v][F]}this.vertex(h,p,f)}this.curFillColor=I[3],this.curStrokeColor=j[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[S]=this._quadraticCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableQuadratic[S]=this._quadraticCoefficients(w);break}M+=C,E-=C,++S}}for(var O=this._lookUpTableQuadratic.length,I=[],F=0;F<3;F++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var j=[];for(F=0;F<3;F++)j.push([]);if(j[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),j[2]=this.curStrokeColor.slice(),D===4){this.isQuadratic=!0;var b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],L=Math.hypot(b[0]-b[1],_[0]-_[1]);for(L/=L+Math.hypot(b[1]-b[2],_[1]-_[2]),g=0;g<4;g++)I[1].push(I[0][g]*(1-L)+I[2][g]*L),j[1].push(j[0][g]*(1-L)+j[2][g]*L);for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[v][F]*I[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[v][F]*j[F][g];h+=b[F]*this._lookUpTableQuadratic[v][F],p+=_[F]*this._lookUpTableQuadratic[v][F]}this.vertex(h,p)}this.curFillColor=I[2],this.curStrokeColor=j[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(D===6){this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var B=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],k=Math.hypot(b[0]-b[1],_[0]-_[1],B[0]-B[1]);for(k/=k+Math.hypot(b[1]-b[2],_[1]-_[2],B[1]-B[2]),g=0;g<4;g++)I[1].push(I[0][g]*(1-k)+I[2][g]*k),j[1].push(j[0][g]*(1-k)+j[2][g]*k);for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=f=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[v][F]*I[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[v][F]*j[F][g];h+=b[F]*this._lookUpTableQuadratic[v][F],p+=_[F]*this._lookUpTableQuadratic[v][F],f+=B[F]*this._lookUpTableQuadratic[v][F]}this.vertex(h,p,f)}this.curFillColor=I[2],this.curStrokeColor=j[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableBezier[S]=this._bezierCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableBezier[S]=this._bezierCoefficients(w);break}M+=C,E-=C,++S}}var O=this._lookUpTableBezier.length;if(D===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<O;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],this.vertex(p,f);for(g=0;g<D;g++)this.immediateMode._curveVertex.shift()}}else if(D===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<O;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],v=h[0]*this._lookUpTableBezier[g][0]+h[1]*this._lookUpTableBezier[g][1]+h[2]*this._lookUpTableBezier[g][2]+h[3]*this._lookUpTableBezier[g][3],this.vertex(p,f,v);for(g=0;g<D;g++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(h,E,f,S,g,w,b,_,D){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(c.NORMAL);var C=0,M=(E<=h.width&&(C=E/h.width),1),E=(E+S<=h.width&&(M=(E+S)/h.width),0),S=(f<=h.height&&(E=f/h.height),1);f+g<=h.height&&(S=(f+g)/h.height),this.beginShape(),this.vertex(w,b,0,C,E),this.vertex(w+_,b,0,M,E),this.vertex(w+_,b+D,0,M,S),this.vertex(w,b+D,0,C,S),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var d=l.default;s.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function y(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(p,f){for(var v=0;v<f.length;v++){var g=f[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}var h=function(){function p(w){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");(this.renderer=w)._pInst.push(),this.identityMatrix=new l.default.Matrix,w.uModelMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(p.nextGeometryId),p.nextGeometryId++,this.hasTransform=!1}var f,v,g;return f=p,(v=[{key:"transformVertices",value:function(w){var b=this;return this.hasTransform?w.map(function(_){return b.renderer.uModelMatrix.multiplyPoint(_)}):w}},{key:"transformNormals",value:function(w){var b=this;return this.hasTransform?w.map(function(_){return b.renderer.uNMatrix.multiplyVec3(_)}):w}},{key:"addGeometry",value:function(w){for(var b,_=this,D=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(M,E){return M===_.identityMatrix.mat4[E]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),C=((b=this.geometry.vertices).push.apply(b,y(this.transformVertices(w.vertices))),(b=this.geometry.vertexNormals).push.apply(b,y(this.transformNormals(w.vertexNormals))),(b=this.geometry.uvs).push.apply(b,y(w.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,y(w.faces.map(function(M){return M.map(function(E){return E+D})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,y(w.edges.map(function(M){return M.map(function(E){return E+D})}))),y(w.vertexColors));C.length<4*w.vertices.length;)C.push.apply(C,y(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,y(C))}},{key:"addImmediate",value:function(){var w=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,_=[];if(this.renderer._doFill)if(b===c.TRIANGLE_STRIP||b===c.QUAD_STRIP)for(var D=2;D<w.vertices.length;D++)D%2==0?_.push([D,D-1,D-2]):_.push([D,D-2,D-1]);else if(b===c.TRIANGLE_FAN)for(var C=2;C<w.vertices.length;C++)_.push([0,C-1,C]);else for(var M=0;M<w.vertices.length;M+=3)_.push([M,M+1,M+2]);this.addGeometry(Object.assign({},w,{faces:_}))}},{key:"addRetained",value:function(w){this.addGeometry(w.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&d(f.prototype,v),g&&d(f,g),p}();h.nextGeometryId=0,s.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},l=function(d){if(d&&d.__esModule)return d;if(d===null||m(d)!=="object"&&typeof d!="function")return{default:d};var h=c();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function c(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,c=function(){return d},d)}function m(d){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}u.default.prototype.orbitControl=function(d,h,p,D){var v=this,g=(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);d===void 0&&(d=1),h===void 0&&(h=d),p===void 0&&(p=1),m(D)!=="object"&&(D={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var M=D.disableTouchActions;this.touchActionsDisabled===!0||M!==void 0&&!M||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var w,b,_,M=D.freeRotation,D=M!==void 0&&M,C=[],M=(this.touches.forEach(function(L){v._renderer.prevTouches.forEach(function(B){L.id===B.id&&(B={x:L.x,y:L.y,px:B.x,py:B.y},C.push(B))})}),this._renderer.prevTouches=this.touches,0),E=0,S=0,O=0,I=0,F=this.height<this.width?this.height:this.width,j=!1;return 0<C.length?(j=0<C[0].x&&C[0].x<this.width&&0<C[0].y&&C[0].y<this.height,C.length===1?(E=-d*((w=C[0]).x-w.px)/F,S=h*(w.y-w.py)/F):(w=C[0],b=C[1],M=-(Math.hypot(w.x-b.x,w.y-b.y)-Math.hypot(w.px-b.px,w.py-b.py))*p*4e-4,O=.5*(w.x+b.x)-.5*(w.px+b.px),I=.5*(w.y+b.y)-.5*(w.py+b.py)),0<this.touches.length?j&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(j=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(M=Math.sign(this._mouseWheelDeltaY)*p,M*=.01,this._mouseWheelDeltaY=0,j&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-d*this.movedX/F,S=h*this.movedY/F):this.mouseButton===this.RIGHT&&(O=this.movedX,I=this.movedY*g.yScale),j&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),M!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=M),.001<Math.abs(this._renderer.zoomVelocity)?(D?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&S===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*S),1e-6<this._renderer.rotateVelocity.magSq()?(D?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),O===0&&I===0||!this._renderer.executeRotateAndMove||(w=2*O/this.width,b=2*-I/this.height,this._renderer.moveVelocity.add(.15*w,.15*b)),1e-6<this._renderer.moveVelocity.magSq()?(p=g._getLocalAxes(),d=g.eyeX-g.centerX,h=g.eyeY-g.centerY,F=g.eyeZ-g.centerZ,j=Math.sqrt(d*d+h*h+F*F),M=new u.default.Vector(g.centerX,g.centerY,g.centerZ),M=g.cameraMatrix.multiplyPoint(M),(M=this._renderer.uPMatrix.multiplyAndNormalizePoint(M)).x-=this._renderer.moveVelocity.x,M.y-=this._renderer.moveVelocity.y,S=(E=this._renderer.uPMatrix.mat4)[15]===0?(_=(E[8]+M.x)/E[0]*j,(E[9]+M.y)/E[5]*j):(_=(M.x-E[12])/E[0],(M.y-E[13])/E[5]),g.setPosition(g.eyeX+_*p.x[0]+S*p.y[0],g.eyeY+_*p.x[1]+S*p.y[1],g.eyeZ+_*p.x[2]+S*p.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];u.default._validateParameters("debugMode",h);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);h[0]===l.GRID?this.registerMethod("post",this._grid(h[1],h[2],h[3],h[4],h[5])):h[0]===l.AXES?this.registerMethod("post",this._axesIcon(h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid(h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon(h[5],h[6],h[7],h[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)},u.default.prototype._grid=function(d,h,p,f,v){d===void 0&&(d=this.width/2),h===void 0&&(h=Math.round(d/30)<4?4:Math.round(d/30)),p===void 0&&(p=0),f===void 0&&(f=0),v===void 0&&(v=0);var g=d/h,w=d/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var b=0;b<=h;b++)this.beginShape(this.LINES),this.vertex(-w+p,f,b*g-w+v),this.vertex(w+p,f,b*g-w+v),this.endShape();for(var _=0;_<=h;_++)this.beginShape(this.LINES),this.vertex(_*g-w+p,f,-w+v),this.vertex(_*g-w+p,f,w+v),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(d,h,p,f){return d===void 0&&(d=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),p===void 0&&(p=h),f===void 0&&(f=h),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h+d,p,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h,p+d,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h,p,f+d),this.endShape(),this.pop()}};var y=u.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.ambientLight=function(u,l,c,m){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(u,l,c){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},a.default.prototype.directionalLight=function(u,v,f,m,y,d){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),u=u instanceof a.default.Color?u:this.color(u,v,f);var h,p,v=arguments[arguments.length-1],f=typeof v=="number"?(h=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(h=v.x,p=v.y,v.z),v=Math.sqrt(h*h+p*p+f*f);return this._renderer.directionalLightDirections.push(h/v,p/v,f/v),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(u,f,v,m,y,d){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),u=u instanceof a.default.Color?u:this.color(u,f,v);var h,p,f=arguments[arguments.length-1],v=typeof f=="number"?(h=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(h=f.x,p=f.y,f.z);return this._renderer.pointLightPositions.push(h,p,v),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(u){this._renderer.activeImageLight=u,this._renderer._enableLighting=!0},a.default.prototype.panorama=function(u){this.filter(this._renderer._getSphereMapping(u))},a.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this},a.default.prototype.lightFalloff=function(u,l,c){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&l===0&&c===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=c,this},a.default.prototype.spotLight=function(u,l,c,m,y,d,h,p,f,v,g){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var w,b,_,D=arguments.length;switch(D){case 11:case 10:w=this.color(u,l,c),b=new a.default.Vector(m,y,d),_=new a.default.Vector(h,p,f);break;case 9:u instanceof a.default.Color?(w=u,b=new a.default.Vector(l,c,m),_=new a.default.Vector(y,d,h),v=p,g=f):m instanceof a.default.Vector?(w=this.color(u,l,c),b=m,_=new a.default.Vector(y,d,h),v=p,g=f):h instanceof a.default.Vector?(w=this.color(u,l,c),b=new a.default.Vector(m,y,d),_=h,v=p,g=f):(w=this.color(u,l,c),b=new a.default.Vector(m,y,d),_=new a.default.Vector(h,p,f));break;case 8:v=(_=u instanceof a.default.Color?(w=u,b=new a.default.Vector(l,c,m),new a.default.Vector(y,d,h)):m instanceof a.default.Vector?(w=this.color(u,l,c),b=m,new a.default.Vector(y,d,h)):(w=this.color(u,l,c),b=new a.default.Vector(m,y,d),h),p);break;case 7:u instanceof a.default.Color&&l instanceof a.default.Vector?(w=u,b=l,_=new a.default.Vector(c,m,y),v=d,g=h):u instanceof a.default.Color&&y instanceof a.default.Vector?(w=u,b=new a.default.Vector(l,c,m),_=y,v=d,g=h):m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(u,l,c),b=m,_=y,v=d,g=h):_=u instanceof a.default.Color?(w=u,b=new a.default.Vector(l,c,m),new a.default.Vector(y,d,h)):m instanceof a.default.Vector?(w=this.color(u,l,c),b=m,new a.default.Vector(y,d,h)):(w=this.color(u,l,c),b=new a.default.Vector(m,y,d),h);break;case 6:m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(u,l,c),b=m,_=y,v=d):u instanceof a.default.Color&&y instanceof a.default.Vector?(w=u,b=new a.default.Vector(l,c,m),_=y,v=d):u instanceof a.default.Color&&l instanceof a.default.Vector&&(w=u,b=l,_=new a.default.Vector(c,m,y),v=d);break;case 5:u instanceof a.default.Color&&l instanceof a.default.Vector&&c instanceof a.default.Vector?(w=u,b=l,_=c,v=m,g=y):m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(u,l,c),b=m,_=y):u instanceof a.default.Color&&y instanceof a.default.Vector?(w=u,b=new a.default.Vector(l,c,m),_=y):u instanceof a.default.Color&&l instanceof a.default.Vector&&(w=u,b=l,_=new a.default.Vector(c,m,y));break;case 4:w=u,b=l,_=c,v=m;break;case 3:w=u,b=l,_=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(b.x,b.y,b.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),v===void 0&&(v=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),v=this._renderer._pInst._toRadians(v),this._renderer.spotLightAngle.push(Math.cos(v)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return a.default._validateParameters("noLights",l),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var u=(d=t("../core/main"))&&d.__esModule?d:{default:d};function l(h){return function(p){if(Array.isArray(p)){for(var f=0,v=new Array(p.length);f<p.length;f++)v[f]=p[f];return v}}(h)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(h,p,f,v,g,w,b){try{var _=h[w](b),D=_.value}catch(C){return void f(C)}_.done?p(D):Promise.resolve(D).then(v,g)}function m(h){return function(){var p=this,f=arguments;return new Promise(function(v,g){var w=h.apply(p,f);function b(D){c(w,v,g,b,_,"next",D)}function _(D){c(w,v,g,b,_,"throw",D)}b(void 0)})}}function y(h){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("./p5.Geometry"),u.default.prototype.loadModel=function(h,p){u.default._validateParameters("loadModel",arguments);var f,v,g=!1,w=!1,b=!1,_=h.slice(-4),D=(p&&y(p)==="object"?(g=p.normalize||!1,f=p.successCallback,v=p.failureCallback,_=p.fileType||_,w=p.flipU||!1,b=p.flipV||!1):typeof p=="boolean"?(g=p,f=arguments[2],v=arguments[3],arguments[4]!==void 0&&(_=arguments[4])):(f=typeof p=="function"?p:void 0,v=arguments[2],arguments[3]!==void 0&&(_=arguments[3])),new u.default.Geometry),C=(D.gid="".concat(h,"|").concat(g),this);function M(){return(M=m(regeneratorRuntime.mark(function S(O){var I,F,j,L;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:for(I=[],F=0;F<O.length;F++)(j=O[F].match(/^mtllib (.+)/))&&function(){var k="",q=j[1],G=h.split("/");k=1<G.length?(G.pop(),G.join("/")+"/"+q):q,I.push(function(){return E.apply(this,arguments)}(k).then(function(U){return U?(W=C,Q=k,new Promise(function(le,P){var T=null,V={};W.loadStrings(Q,function(H){for(var K=0;K<H.length;++K){var re,ie=H[K].trim().split(/\s+/);ie[0]==="newmtl"?(re=ie[1],V[T=re]={}):ie[0]==="Kd"?V[T].diffuseColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="Ka"?V[T].ambientColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="Ks"?V[T].specularColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="map_Kd"&&(V[T].texturePath=ie[1])}le(V)},P)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(k)),{});var W,Q}).catch(function(U){return console.warn("Error loading MTL file: ".concat(k),U),{}}))}();return B.prev=2,B.next=5,Promise.all(I);case 5:return L=B.sent,L=Object.assign.apply(Object,[{}].concat(l(L))),B.abrupt("return",L);case 10:return B.prev=10,B.t0=B.catch(2),B.abrupt("return",{});case 13:case"end":return B.stop()}},S,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark(function S(O){var I;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,fetch(O,{method:"HEAD"});case 3:return I=F.sent,F.abrupt("return",I.ok);case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",!1);case 10:case"end":return F.stop()}},S,null,[[0,7]])}))).apply(this,arguments)}return _.match(/\.stl$/i)?this.httpDo(h,"GET","arrayBuffer",function(S){(function(O,I){if(function(F){for(var j=new DataView(F),L=[115,111,108,105,100],B=0;B<5;B++)if(function(k,q,G){for(var U=0,W=k.length;U<W;U++)if(k[U]!==q.getUint8(G+U,!1))return;return 1}(L,j,B))return;return 1}(I))(function(F,j){for(var L,B,k,q,G,U,W,Q=new DataView(j),le=Q.getUint32(80,!0),P=!1,T=0;T<70;T++)Q.getUint32(T,!1)===1129270351&&Q.getUint8(T+4)===82&&Q.getUint8(T+5)===61&&(P=!0,q=[],G=Q.getUint8(T+6)/255,U=Q.getUint8(T+7)/255,W=Q.getUint8(T+8)/255);for(var V=0;V<le;V++){for(var H,K=84+50*V,re=Q.getFloat32(K,!0),ie=Q.getFloat32(4+K,!0),ce=Q.getFloat32(8+K,!0),se=(P&&(H=Q.getUint16(48+K,!0),k=32768&H?(L=G,B=U,W):(L=(31&H)/31,B=(H>>5&31)/31,(H>>10&31)/31)),new u.default.Vector(re,ie,ce)),he=1;he<=3;he++){var ue=K+12*he,ue=new u.default.Vector(Q.getFloat32(ue,!0),Q.getFloat32(4+ue,!0),Q.getFloat32(8+ue,!0));F.vertices.push(ue),F.vertexNormals.push(se),P&&q.push(L,B,k)}F.faces.push([3*V,3*V+1,3*V+2]),F.uvs.push([0,0],[0,0],[0,0])}})(O,I);else{if(I=new DataView(I),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");I=new TextDecoder("utf-8").decode(I).split(`
`),function(F,j){for(var L,B,k="",q=[],G=0;G<j.length;++G){for(var U=j[G].trim(),W=U.split(" "),Q=0;Q<W.length;++Q)W[Q]===""&&W.splice(Q,1);if(W.length!==0)switch(k){case"":if(W[0]!=="solid")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "solid"'));k="solid";break;case"solid":if(W[0]!=="facet"||W[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "facet normal"'));L=new u.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),F.vertexNormals.push(L,L,L),k="facet normal";break;case"facet normal":if(W[0]!=="outer"||W[1]!=="loop")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "outer loop"'));k="vertex";break;case"vertex":if(W[0]==="vertex")B=new u.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])),F.vertices.push(B),F.uvs.push([0,0]),q.push(F.vertices.indexOf(B));else{if(W[0]!=="endloop")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "vertex" or "endloop"'));F.faces.push(q),q=[],k="endloop"}break;case"endloop":if(W[0]!=="endfacet")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "endfacet"'));k="endfacet";break;case"endfacet":if(W[0]!=="endsolid"){if(W[0]!=="facet"||W[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(W[0],'", should be "endsolid" or "facet normal"'));L=new u.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),F.vertexNormals.push(L,L,L),k="facet normal"}break;default:console.error('Invalid state "'.concat(k,'"'))}}}(O,I)}})(D,S),g&&D.normalize(),w&&D.flipU(),b&&D.flipV(),C._decrementPreload(),typeof f=="function"&&f(D)},v):_.match(/\.obj$/i)?this.loadStrings(h,function(){var S=m(regeneratorRuntime.mark(function O(I){var F;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,function(){return M.apply(this,arguments)}(I);case 3:F=j.sent,function(L,B){for(var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},q={v:[],vt:[],vn:[]},G={},U=null,W=new Set,Q=!1,le=!1,P=0;P<B.length;++P){var T=B[P].trim().split(/\b\s+/);if(0<T.length){if(T[0]==="usemtl")U=T[1];else if(T[0]==="v"||T[0]==="vn"){var V=new u.default.Vector(parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3]));q[T[0]].push(V)}else if(T[0]==="vt")V=[parseFloat(T[1]),1-parseFloat(T[2])],q[T[0]].push(V);else if(T[0]==="f")for(var H=3;H<T.length;++H){for(var K=[],re=[1,H-1,H],ie=0;ie<re.length;++ie){for(var ce,se=T[re[ie]],he=se.split("/"),ue=0;ue<he.length;ue++)he[ue]=parseInt(he[ue])-1;G[se]||(G[se]={}),G[se][U]===void 0?(ce=L.vertices.length,L.vertices.push(q.v[he[0]].copy()),L.uvs.push(q.vt[he[1]]?q.vt[he[1]].slice():[0,0]),L.vertexNormals.push(q.vn[he[2]]?q.vn[he[2]].copy():new u.default.Vector),G[se][U]=ce,K.push(ce),U&&k[U]&&k[U].diffuseColor&&W.add(q.v[he[0]])):K.push(G[se][U])}if(K[0]!==K[1]&&K[0]!==K[2]&&K[1]!==K[2])if(L.faces.push(K),U&&k[U]&&k[U].diffuseColor){Q=Q=!0;for(var te=k[U].diffuseColor,pe=0;pe<K.length;pe++)L.vertexColors.push(te[0]),L.vertexColors.push(te[1]),L.vertexColors.push(te[2])}else le=!0}}}if(L.vertexNormals.length===0&&L.computeNormals(),Q===le)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(D,I,F),j.next=11;break;case 7:return j.prev=7,j.t0=j.catch(0),v?v(j.t0):u.default._friendlyError("Error during parsing: "+j.t0.message),j.abrupt("return");case 11:return j.prev=11,g&&D.normalize(),w&&D.flipU(),b&&D.flipV(),C._decrementPreload(),typeof f=="function"&&f(D),j.finish(11);case 18:case"end":return j.stop()}},O,null,[[0,7,11,18]])}));return function(O){return S.apply(this,arguments)}}(),v):(u.default._friendlyFileLoadError(3,h),v?v():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),D},u.default.prototype.model=function(h){this._assert3d("model"),u.default._validateParameters("model",arguments),0<h.vertices.length&&(this._renderer.geometryInHash(h.gid)||(h.edges.length===0&&h._makeTriangleEdges(),h._edgesToVertices(),this._renderer.createBuffers(h.gid,h)),this._renderer.drawBuffers(h.gid))};var d=u.default;s.default=d},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Texture"),l.default.prototype.loadShader=function(d,h,p,f){l.default._validateParameters("loadShader",arguments),f=f||console.error;function v(){w._decrementPreload(),p&&p(g)}var g=new l.default.Shader,w=this,b=!1,_=!1;return this.loadStrings(d,function(D){g._vertSrc=D.join(`
`),_=!0,b&&v()},f),this.loadStrings(h,function(D){g._fragSrc=D.join(`
`),b=!0,_&&v()},f),g},l.default.prototype.createShader=function(d,h){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,d,h)},l.default.prototype.createFilterShader=function(d){l.default._validateParameters("createFilterShader",arguments);var h=d.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,h=new l.default.Shader(this._renderer,h,d);return this._renderer.GL?h.ensureCompiledOnContext(this):h.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),h},l.default.prototype.shader=function(d){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),this},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(d){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(d){d!==c.IMAGE&&d!==c.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=d},l.default.prototype.textureWrap=function(d){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,p=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=h,!0),f=!1,v=void 0;try{for(var g,w=this._renderer.textures.values()[Symbol.iterator]();!(p=(g=w.next()).done);p=!0)g.value.setWrapMode(d,h)}catch(b){f=!0,v=b}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return l.default._validateParameters("normalMaterial",h),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(d,h,p){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var f=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(d,h,p,f){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var v=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=v._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(d,h,p,f){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var v=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=v._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(d){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=d<1?1:d,this},l.default.prototype.metalness=function(d){return this._assert3d("metalness"),d=1-Math.exp(-d/100),this._renderer._useMetalness=d,this},l.default.RendererGL.prototype._applyColorBlend=function(d,v){var p=this.GL,f=this.drawMode===c.TEXTURE,v=v||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==c.BLEND||d[d.length-1]<1||this._isErasing;return v!==this._isBlending&&(v||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?p.enable(p.BLEND):p.disable(p.BLEND),p.depthMask(!0),this._isBlending=v),this._applyBlendMode(),d},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case c.BLEND:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.ADD:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE);break;case c.REMOVE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case c.REPLACE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO);break;case c.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=l.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,i,s){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.prototype.camera=function(){var l;this._assert3d("camera");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("camera",m),(l=this._renderer._curCamera).camera.apply(l,m),this},a.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("perspective",m),(l=this._renderer._curCamera).perspective.apply(l,m),this},a.default.prototype.linePerspective=function(l){if(a.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof a.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(l===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=l},a.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("ortho",m),(l=this._renderer._curCamera).ortho.apply(l,m),this},a.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("frustum",m),(l=this._renderer._curCamera).frustum.apply(l,m),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new a.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},a.default.Camera=function(){function l(d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=d,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var c,m,y;return c=l,(m=[{key:"perspective",value:function(v,h,p,f){this.cameraType=0<arguments.length?"custom":"default",v===void 0?(v=this.defaultCameraFOV,this.cameraFOV=v):this.cameraFOV=this._renderer._pInst._toRadians(v),h===void 0&&(h=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=p,this.cameraFar=f,this.projMatrix=a.default.Matrix.identity();var v=1/Math.tan(this.cameraFOV/2),g=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(v/h,0,0,0,0,-v*this.yScale,0,0,0,0,(f+p)*g,-1,0,0,2*f*p*g,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(E,M,p,f,v,g){var S=this.fbo||this._renderer,S=(E===void 0&&(E=-S.width/2),M===void 0&&(M=+S.width/2),p===void 0&&(p=-S.height/2),f===void 0&&(f=+S.height/2),v===void 0&&(v=0),g===void 0&&(g=Math.max(S.width,S.height)+800),this.cameraNear=v,M-E),w=f-p,b=(this.cameraFar=g)-v,_=2/S,D=2/w*this.yScale,C=-2/b,M=-(M+E)/S,E=-(f+p)/w,S=-(g+v)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-D,0,0,0,0,C,0,M,E,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(E,M,p,f,v,g){E===void 0&&(E=.05*-this._renderer.width),M===void 0&&(M=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),v===void 0&&(v=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),this.cameraNear=v;var S=M-E,w=f-p,b=(this.cameraFar=g)-v,_=2*v/S,D=2*v/w*this.yScale,C=-2*g*v/b,M=(M+E)/S,E=(f+p)/w,S=-(g+v)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-D,0,0,M,E,S,-1,0,0,C,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(_,h,p,f){var v=this.centerX,g=this.centerY,w=this.centerZ,b=(v-=this.eyeX,g-=this.eyeY,w-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),_=(b.rotate(this._renderer._pInst._toRadians(_),h,p,f),[v*b.mat4[0]+g*b.mat4[4]+w*b.mat4[8],v*b.mat4[1]+g*b.mat4[5]+w*b.mat4[9],v*b.mat4[2]+g*b.mat4[6]+w*b.mat4[10]]);_[0]+=this.eyeX,_[1]+=this.eyeY,_[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,_[0],_[1],_[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(p){var h=this._getLocalAxes(),p=a.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(p),h.z[0],h.z[1],h.z[2]).rotateVector(new a.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"pan",value:function(d){var h=this._getLocalAxes();this._rotateView(d,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(d){var h=this._getLocalAxes();this._rotateView(d,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(d,h,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,h,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(d,h,p,f,v,g,w,b,_){return d===void 0&&(d=this.defaultEyeX,h=this.defaultEyeY,p=this.defaultEyeZ,f=d,v=h,b=1,_=w=g=0),this.eyeX=d,this.eyeY=h,this.eyeZ=p,f!==void 0&&(this.centerX=f,this.centerY=v,this.centerZ=g),w!==void 0&&(this.upX=w,this.upY=b,this.upZ=_),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),v=-d,this.cameraMatrix.translate([v,-h,-p]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(f,v,p){var g=this._getLocalAxes(),f=[g.x[0]*f,g.x[1]*f,g.x[2]*f],v=[g.y[0]*v,g.y[1]*v,g.y[2]*v],g=[g.z[0]*p,g.z[1]*p,g.z[2]*p];this.camera(this.eyeX+f[0]+v[0]+g[0],this.eyeY+f[1]+v[1]+g[1],this.eyeZ+f[2]+v[2]+g[2],this.centerX+f[0]+v[0]+g[0],this.centerY+f[1]+v[1]+g[1],this.centerZ+f[2]+v[2]+g[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(d,h,p){var f=d-this.eyeX,v=h-this.eyeY,g=p-this.eyeZ;this.camera(d,h,p,this.centerX+f,this.centerY+v,this.centerZ+g,this.upX,this.upY,this.upZ)}},{key:"set",value:function(d){for(var h=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];h<p.length;h++){var f=p[h];this[f]=d[f]}this.cameraMatrix=d.cameraMatrix.copy(),this.projMatrix=d.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(d,h,p){var f,v,g,w,b,_,D,C,M,E,S,O,I,F,j,L,B,k;p===0?this.set(d):p===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=d.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/d.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=d.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/d.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),w=new a.default.Vector(d.eyeX,d.eyeY,d.eyeZ),b=new a.default.Vector(h.eyeX,h.eyeY,h.eyeZ),L=new a.default.Vector(d.centerX,d.centerY,d.centerZ),k=new a.default.Vector(h.centerX,h.centerY,h.centerZ),g=a.default.Vector.dist(w,L),f=a.default.Vector.dist(b,k),f=g*Math.pow(f/g,p),g=a.default.Vector.sub(w,b),v=1,1e-6<(B=(F=w.copy().sub(b).sub(L).add(k)).magSq())&&(v=a.default.Vector.dot(g,F)/B,v=Math.max(0,Math.min(v,1))),g=a.default.Vector.lerp(a.default.Vector.lerp(w,L,v),a.default.Vector.lerp(b,k,v),p),F=d.cameraMatrix.createSubMatrix3x3(),B=h.cameraMatrix.createSubMatrix3x3(),w=F.row(2),L=B.row(2),b=F.row(1),k=B.row(1),d=new a.default.Vector,h=new a.default.Vector,_=new a.default.Vector,D=new a.default.Vector,1-(C=.5*((F=(B=B.mult3x3(F.copy().transpose3x3())).diagonal())[0]+F[1]+F[2]-1))<1e-7?(d.set(a.default.Vector.lerp(w,L,p)).normalize(),_.set(d).mult(v*f).add(g),D.set(d).mult((v-1)*f).add(g),h.set(a.default.Vector.lerp(b,k,p)).normalize()):(L=1/(1-C),k=Math.max(F[0],F[1],F[2]),O=B.mat3[1]+B.mat3[3],I=B.mat3[2]+B.mat3[6],j=B.mat3[5]+B.mat3[7],k=k===F[0]?(E=.5*O*(L/=M=Math.sqrt((F[0]-C)*L)),S=.5*I*L,.5*(B.mat3[7]-B.mat3[5])/M):k===F[1]?(S=.5*j*(L/=E=Math.sqrt((F[1]-C)*L)),M=.5*O*L,.5*(B.mat3[2]-B.mat3[6])/E):(M=.5*I*(L/=S=Math.sqrt((F[2]-C)*L)),E=.5*j*L,.5*(B.mat3[3]-B.mat3[1])/S),O=p*Math.atan2(k,C),I=Math.cos(O),F=Math.sin(O),(k=new a.default.Matrix("mat3",[I+(j=1-I)*M*M,j*(L=M*E)+F*S,j*(B=S*M)-F*E,j*L-F*S,I+j*E*E,j*(p=E*S)+F*M,j*B+F*E,j*p-F*M,I+j*S*S])).multiplyVec3(w,d),_.set(d).mult(v*f).add(g),D.set(d).mult((v-1)*f).add(g),k.multiplyVec3(b,h)),this.camera(_.x,_.y,_.z,D.x,D.y,D.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var d=new a.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.upX=this.upX,d.upY=this.upY,d.upZ=this.upZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d.yScale=this.yScale,d}},{key:"_getLocalAxes",value:function(){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,w=Math.sqrt(d*d+h*h+p*p),w=(w!==0&&(d/=w,h/=w,p/=w),this.upX),f=(b=this.upY)*p-(_=this.upZ)*h,v=-w*p+_*d,g=w*h-b*d,w=h*g-p*v,b=-d*g+p*f,_=d*v-h*f,D=Math.sqrt(f*f+v*v+g*g),D=(D!==0&&(f/=D,v/=D,g/=D),Math.sqrt(w*w+b*b+_*_));return D!==0&&(w/=D,b/=D,_/=D),{x:[f,v,g],y:[w,b,_],z:[d,h,p]}}},{key:"_orbit",value:function(d,D,_){var v=this.eyeX-this.centerX,g=this.eyeY-this.centerY,w=this.eyeZ-this.centerZ,f=Math.hypot(v,g,w),v=new a.default.Vector(v,g,w).normalize(),g=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),w=a.default.Vector.cross(g,v).normalize(),b=a.default.Vector.cross(w,g),_=((f=(f*=Math.pow(10,_))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(v,g))))+D),D=d;(_<=0||_>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),g.mult(Math.cos(_)),b.mult(Math.cos(D)*Math.sin(_)),w.mult(Math.sin(D)*Math.sin(_)),v.set(g).add(b).add(w),this.eyeX=f*v.x+this.centerX,this.eyeY=f*v.y+this.centerY,this.eyeZ=f*v.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(_,D,M){var v=this.eyeX-this.centerX,g=this.eyeY-this.centerY,w=this.eyeZ-this.centerZ,f=Math.hypot(v,g,w),v=new a.default.Vector(v,g,w).normalize(),g=new a.default.Vector(this.upX,this.upY,this.upZ),w=a.default.Vector.cross(g,v).normalize(),b=a.default.Vector.cross(v,w),E=Math.atan2(D,_),E=(b.mult(Math.sin(E)),w.mult(Math.cos(E)).add(b),Math.sqrt(_*_+D*D)),b=a.default.Vector.cross(v,w),_=((f=(f*=Math.pow(10,M))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(E)),D=Math.sin(E),M=g.dot(v),E=g.dot(w),C=M*_+E*D,M=-M*D+E*_,E=g.dot(b);g.x=C*v.x+M*w.x+E*b.x,g.y=C*v.y+M*w.y+E*b.y,g.z=C*v.z+M*w.z+E*b.z,w.mult(-D),v.mult(_).add(w).mult(f),this.camera(v.x+this.centerX,v.y+this.centerY,v.z+this.centerZ,this.centerX,this.centerY,this.centerZ,g.x,g.y,g.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&u(c.prototype,m),y&&u(c,y),l}(),a.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix),this._renderer.uViewMatrix.set(l.cameraMatrix)},t=a.default.Camera,s.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(u,l){for(var c=0;c<l.length;c++){var m=l[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}t.default.DataArray=function(){function u(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,d=this,h=u;if(!(d instanceof h))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(y),this.initialLength=y}var l,c,m;return l=u,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var y;this.length<this.data.length/2&&(y=1<<Math.ceil(Math.log2(this.length)),(y=new Float32Array(y)).set(this.data.subarray(0,this.length),0),this.data=y)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];this.ensureLength(this.length+d.length),this.data.set(d,this.length),this.length+=d.length}},{key:"slice",value:function(y,d){return this.data.slice(y,Math.min(d,this.length))}},{key:"subArray",value:function(y,d){return this.data.subarray(y,Math.min(d,this.length))}},{key:"ensureLength",value:function(y){for(;this.data.length<y;){var d=new Float32Array(2*this.data.length);d.set(this.data,0),this.data=d}}}])&&a(l.prototype,c),m&&a(l,m),u}(),t=t.default.DataArray,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(S,i,s){"use strict";function a(O){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(O)}function u(O){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(I){return a(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":a(I)})(O)}S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.get-own-property-descriptor"),S("core-js/modules/es.object.get-prototype-of"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.reflect.construct"),S("core-js/modules/es.reflect.get"),S("core-js/modules/es.regexp.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint8-clamped-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.weak-map"),S("core-js/modules/web.dom-collections.iterator"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.get-prototype-of"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint8-clamped-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(E=S("../core/main"))&&E.__esModule?E:{default:E},c=function(O){if(O&&O.__esModule)return O;if(O===null||u(O)!=="object"&&typeof O!="function")return{default:O};var I=d();if(I&&I.has(O))return I.get(O);var F,j={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in O){var B;Object.prototype.hasOwnProperty.call(O,F)&&((B=L?Object.getOwnPropertyDescriptor(O,F):null)&&(B.get||B.set)?Object.defineProperty(j,F,B):j[F]=O[F])}return j.default=O,I&&I.set(O,j),j}(S("../core/constants")),m=S("./p5.Texture"),y=S("./p5.RendererGL");function d(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,d=function(){return O},O)}function h(O,I){return function(F){if(Array.isArray(F))return F}(O)||function(F,j){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]"){var L=[],B=!0,k=!1,q=void 0;try{for(var G,U=F[Symbol.iterator]();!(B=(G=U.next()).done)&&(L.push(G.value),!j||L.length!==j);B=!0);}catch(W){k=!0,q=W}finally{try{B||U.return==null||U.return()}finally{if(k)throw q}}return L}}(O,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(O,I,F){return I in O?Object.defineProperty(O,I,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[I]=F,O}function f(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function v(O,I){for(var F=0;F<I.length;F++){var j=I[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}function g(O,I,F){I&&v(O.prototype,I),F&&v(O,F)}function w(O,I,F){return(w=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,L,B){var k=function(q,G){for(;!Object.prototype.hasOwnProperty.call(q,G)&&(q=D(q))!==null;);return q}(k,L);if(k)return(k=Object.getOwnPropertyDescriptor(k,L)).get?k.get.call(B):k.value})(O,I,F||O)}function b(O,I){return(b=Object.setPrototypeOf||function(F,j){return F.__proto__=j,F})(O,I)}function _(O){return function(){var I,F=D(O),F=(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=D(this).constructor,Reflect.construct(F,arguments,I)):F.apply(this,arguments),this);if(!I||u(I)!=="object"&&typeof I!="function"){if(F!==void 0)return F;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}var C=function(O){var I=j;if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),O&&b(I,O);var F=_(j);function j(L){var B;return f(this,j),(B=F.call(this,L.target._renderer)).fbo=L,B.yScale=-1,B}return g(j,[{key:"_computeCameraDefaultSettings",value:function(){w(D(j.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),j}(l.default.Camera),M=(l.default.FramebufferCamera=C,function(){function O(I,F){f(this,O),this.framebuffer=I,this.property=F}return g(O,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),O}()),E=(l.default.FramebufferTexture=M,function(){function O(I){var F=this,j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},L=(f(this,O),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=j.format||c.UNSIGNED_BYTE,this.channels=j.channels||(I._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=j.depth===void 0||j.depth,this.depthFormat=j.depthFormat||c.FLOAT,this.textureFiltering=j.textureFiltering||c.LINEAR,j.antialias===void 0?this.antialiasSamples=I._renderer._pInst._glAttributes.antialias?2:0:typeof j.antialias=="number"?this.antialiasSamples=j.antialias:this.antialiasSamples=j.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=j.density||I.pixelDensity(),I._renderer.GL);if(this.gl=L,j.width&&j.height?(B=I._renderer._adjustDimensions(j.width,j.height),this.width=B.adjustedWidth,this.height=B.adjustedHeight,this._autoSized=!1):(j.width===void 0!=(j.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),j.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(j.stencil===void 0||j.stencil),this.framebuffer=L.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=L.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var B=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=B,this.draw(function(){return F.target.clear()})}return g(O,[{key:"resize",value:function(I,F){this._autoSized=!1;var j=this.target._renderer._adjustDimensions(I,F);I=j.adjustedWidth,F=j.adjustedHeight,this.width=I,this.height=F,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(I===void 0)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl,I=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));I.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),I.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,F=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),j=I.getParameter(I.FRAMEBUFFER_BINDING),L=I.createTexture();if(!L)throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,L);var B=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),this.colorTexture=L,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,L,0),this.useDepth){var L=I.createTexture();if(!L)throw new Error("Unable to create depth texture");var k=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,L),I.texImage2D(I.TEXTURE_2D,0,k.internalFormat,this.width*this.density,this.height*this.density,0,k.format,k.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,L,0),this.depthTexture=L}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(k=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),k.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),L=I.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:L,magFilter:L}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),B=this.textureFiltering===c.LINEAR?I.LINEAR:I.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:B,magFilter:B}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,F),I.bindFramebuffer(I.FRAMEBUFFER,j)}},{key:"_glColorFormat",value:function(){var I,F,j=this.gl,L=this.format===c.FLOAT?j.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?j.HALF_FLOAT:j.getExtension("OES_texture_half_float").HALF_FLOAT_OES:j.UNSIGNED_BYTE,B=this.channels===c.RGBA?j.RGBA:j.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(p(F={},j.FLOAT,p({},j.RGBA,j.RGBA32F)),p(F,j.HALF_FLOAT,p({},j.RGBA,j.RGBA16F)),p(F,j.UNSIGNED_BYTE,(p(I={},j.RGBA,j.RGBA8),p(I,j.RGB,j.RGB8),I)),F[L][B]):this.format===c.HALF_FLOAT?j.RGBA:B,format:B,type:L}}},{key:"_glDepthFormat",value:function(){var j=this.gl,I=this.useStencil?this.depthFormat===c.FLOAT?j.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?j.UNSIGNED_INT_24_8:j.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?j.FLOAT:j.UNSIGNED_INT,F=this.useStencil?j.DEPTH_STENCIL:j.DEPTH_COMPONENT,j=this.useStencil?this.depthFormat===c.FLOAT?j.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?j.DEPTH24_STENCIL8:j.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?j.DEPTH_COMPONENT32F:j.DEPTH_COMPONENT24:j.DEPTH_COMPONENT;return{internalFormat:j,format:F,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var L=this.color,I=this.depth,F=this.colorRenderbuffer,j=this.depthRenderbuffer,L=(this._deleteTexture(L),I&&this._deleteTexture(I),this.gl);F&&L.deleteRenderbuffer(F),j&&L.deleteRenderbuffer(j),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new C(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,F=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&F.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var j=0,L=F;j<L.length;j++){var k=h(L[j],2),B=k[0],k=k[1];I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,B,k)}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,F=this.target._renderer.activeFramebuffer(),j=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,j.format,j.type),F?I.bindFramebuffer(I.FRAMEBUFFER,F._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null)}},{key:"get",value:function(I,F,j,L){l.default._validateParameters("p5.Framebuffer.get",arguments);var B=this._glColorFormat();if(I===void 0&&F===void 0)F=I=0,j=this.width,L=this.height;else if(j===void 0&&L===void 0)return(I<0||F<0||I>=this.width||F>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),F=this.target.constrain(F,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,F*this.density,B.format,B.type);I=this.target.constrain(I,0,this.width-1),F=this.target.constrain(F,0,this.height-1),j=this.target.constrain(j,1,this.width-I),L=this.target.constrain(L,1,this.height-F);for(var k=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,F*this.density,j*this.density,L*this.density,B.format,B.type),q=new Uint8ClampedArray(j*L*this.density*this.density*4),G=(q.fill(255),B.type===this.gl.RGB?3:4),U=0;U<L*this.density;U++)for(var W=0;W<j*this.density;W++)for(var Q=0;Q<4;Q++){var le,P=4*(U*j*this.density+W)+Q;Q<G&&(le=G==4?P:(U*j*this.density+W)*G+Q,q[P]=k[le])}return I=new l.default.Image(j*this.density,L*this.density),I.imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(q),I.pixels=I.imageData.data,I.updatePixels(),this.density!==1&&I.resize(j,L),I}},{key:"updatePixels",value:function(){var I=this.gl,F=(this.colorP5Texture.bindTexture(),this._glColorFormat()),j=F.format===I.RGBA?4:3,j=this.width*this.height*this.density*this.density*j,L=F.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof L)||this.pixels.length!==j)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,this.pixels),this.colorP5Texture.unbindTexture(),L=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),L?I.bindFramebuffer(I.FRAMEBUFFER,L._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null))}}]),O}()),S=l.default.Framebuffer=E;s.default=S},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,i,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(f)}function u(f){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(p=t("../core/main"))&&p.__esModule?p:{default:p},c=function(f){if(f&&f.__esModule)return f;if(f===null||u(f)!=="object"&&typeof f!="function")return{default:f};var v=m();if(v&&v.has(f))return v.get(f);var g,w={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var _;Object.prototype.hasOwnProperty.call(f,g)&&((_=b?Object.getOwnPropertyDescriptor(f,g):null)&&(_.get||_.set)?Object.defineProperty(w,g,_):w[g]=f[g])}return w.default=f,v&&v.set(f,w),w}(t("../core/constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=function(){return f},f)}function y(f){return function(v){if(Array.isArray(v)){for(var g=0,w=new Array(v.length);g<v.length;g++)w[g]=v[g];return w}}(f)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(f,v){return function(g){if(Array.isArray(g))return g}(f)||function(g,w){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var b=[],_=!0,D=!1,C=void 0;try{for(var M,E=g[Symbol.iterator]();!(_=(M=E.next()).done)&&(b.push(M.value),!w||b.length!==w);_=!0);}catch(S){D=!0,C=S}finally{try{_||E.return==null||E.return()}finally{if(D)throw C}}return b}}(f,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(f,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}l.default.Geometry=function(){function f(b,_,D){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=b!==void 0?b:1,this.detailY=_!==void 0?_:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,D instanceof Function&&D.call(this)}var v,g,w;return v=f,(g=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var b=new l.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),_=new l.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),D=0;D<this.vertices.length;D++){var C=this.vertices[D];b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),b.z=Math.min(b.z,C.z),_.x=Math.max(_.x,C.x),_.y=Math.max(_.y,C.y),_.z=Math.max(_.z,C.z)}var M=new l.default.Vector(_.x-b.x,_.y-b.y,_.z-b.z),E=new l.default.Vector((b.x+_.x)/2,(b.y+_.y)/2,(b.z+_.z)/2);this.boundingBoxCache={min:b,max:_,size:M,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var b=0;b<this.vertexColors.length;b+=4)if(this.vertexColors[b+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var b=0;b<this.lineVertexColors.length;b+=4)if(this.lineVertexColors[b+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var b=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",D="";if(this.vertices.forEach(function(E){D+="v ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.uvs&&0<this.uvs.length)for(var C=0;C<this.uvs.length;C+=2)D+="vt ".concat(this.uvs[C]," ").concat(this.uvs[C+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(E){D+="vn ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.faces.forEach(function(E){var S="f";E.forEach(function(O){S=S+" "+(O+1),(0<b.vertexNormals.length||0<b.uvs.length)&&(S+="/",0<b.uvs.length&&(S+=O+1),S+="/",0<b.vertexNormals.length&&(S+=O+1))}),D+=S+`
`});var M=new Blob([D],{type:"text/plain"});l.default.prototype.downloadFile(M,_,"obj")}},{key:"saveStl",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,_=_!==void 0&&_,D=b.substring(0,b.lastIndexOf(".")),C=[],M=!0,E=!1,S=void 0;try{for(var O,I=this.faces[Symbol.iterator]();!(M=(O=I.next()).done);M=!0){var F=O.value,j=l.default.Vector.sub(this.vertices[F[1]],this.vertices[F[0]]),L=l.default.Vector.sub(this.vertices[F[2]],this.vertices[F[0]]),B=j.y*L.z-j.z*L.y,k=j.z*L.x-j.x*L.z,q=j.x*L.y-j.y*L.x;C.push(new l.default.Vector(B,k,q).normalize())}}catch(_e){E=!0,S=_e}finally{try{M||I.return==null||I.return()}finally{if(E)throw S}}if(_){var G,U=80,E=2*this.faces.length+3*this.faces.length*4*4+80+4,S=new ArrayBuffer(E);(G=new DataView(S)).setUint32(U,this.faces.length,!0),U+=4;for(var W=0,Q=Object.entries(this.faces);W<Q.length;W++){var le=d(Q[W],2),T=le[0],le=le[1],T=C[T],P=(G.setFloat32(U,T.x,!0),U+=4,G.setFloat32(U,T.y,!0),U+=4,G.setFloat32(U,T.z,!0),U+=4,!0),T=!1,V=void 0;try{for(var H,K=le[Symbol.iterator]();!(P=(H=K.next()).done);P=!0){var re=H.value,ie=this.vertices[re];G.setFloat32(U,ie.x,!0),U+=4,G.setFloat32(U,ie.y,!0),U+=4,G.setFloat32(U,ie.z,!0),U+=4}}catch(De){T=!0,V=De}finally{try{P||K.return==null||K.return()}finally{if(T)throw V}}G.setUint16(U,0,!0),U+=2}}else{G="solid "+D+`
`;for(var ce=0,se=Object.entries(this.faces);ce<se.length;ce++){var he=d(se[ce],2),te=he[0],he=he[1],te=C[te],ue=(G=G+(" facet norm "+te.x+" "+te.y+" "+te.z+`
`)+`  outer loop
`,!0),te=!1,pe=void 0;try{for(var ve,Me=he[Symbol.iterator]();!(ue=(ve=Me.next()).done);ue=!0){var xe=ve.value,me=this.vertices[xe];G+="   vertex "+me.x+" "+me.y+" "+me.z+`
`}}catch(_e){te=!0,pe=_e}finally{try{ue||Me.return==null||Me.return()}finally{if(te)throw pe}}G=G+`  endloop
 endfacet
`}G+="endsolid "+D+`
`}_=new Blob([G],{type:"text/plain"}),l.default.prototype.downloadFile(_,b,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(b,_){return _%2==0?1-b:b})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(b,_){return _%2==0?b:1-b})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var b,_,D,C=this.detailX+1,M=0;M<this.detailY;M++)for(var E=0;E<this.detailX;E++)_=(M+1)*C+E+1,this.faces.push([M*C+E,b=M*C+E+1,D=(M+1)*C+E]),this.faces.push([D,b,_]);return this}},{key:"_getFaceNormal",value:function(_){var _=this.faces[_],D=this.vertices[_[0]],M=this.vertices[_[1]],_=this.vertices[_[2]],M=l.default.Vector.sub(M,D),_=l.default.Vector.sub(_,D),D=l.default.Vector.cross(M,_),C=l.default.Vector.mag(D),M=C/(l.default.Vector.mag(M)*l.default.Vector.mag(_));return M===0||isNaN(M)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),D):(1<M&&(M=1),D.mult(Math.asin(M)/C))}},{key:"computeNormals",value:function(){var b,_=this,D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,C=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,M=this.vertexNormals,E=this.vertices,S=this.faces;if(D===c.SMOOTH){for(var O={},I=[],F=Math.pow(10,C===void 0?3:C),j=function(G){return Math.round(G*F)/F},L=function(G){return"".concat(j(G.x),",").concat(j(G.y),",").concat(j(G.z))},B=0;B<E.length;B++){var k=E[B],q=L(k);O[q]===void 0&&(O[q]=I.length,I.push(k))}S.forEach(function(G){for(var U=0;U<3;++U){var W=G[U],W=E[W],W=L(W);G[U]=O[W]}}),this.edges.forEach(function(G){for(var U=0;U<2;++U){var W=G[U],W=E[W],W=L(W);G[U]=O[W]}}),this.vertices=E=I}for(b=M.length=0;b<E.length;++b)M.push(new l.default.Vector);for(S.forEach(function(G,U){for(var W=_._getFaceNormal(U),Q=0;Q<3;++Q){var le=G[Q];M[le].add(W)}}),b=0;b<E.length;++b)M[b].normalize();return this}},{key:"averageNormals",value:function(){for(var b=0;b<=this.detailY;b++){var _=this.detailX+1,D=l.default.Vector.add(this.vertexNormals[b*_],this.vertexNormals[b*_+this.detailX]),D=l.default.Vector.div(D,2);this.vertexNormals[b*_]=D,this.vertexNormals[b*_+this.detailX]=D}return this}},{key:"averagePoleNormals",value:function(){for(var b=new l.default.Vector(0,0,0),_=0;_<this.detailX;_++)b.add(this.vertexNormals[_]);for(var b=l.default.Vector.div(b,this.detailX),D=0;D<this.detailX;D++)this.vertexNormals[D]=b;b=new l.default.Vector(0,0,0);for(var C=this.vertices.length-1;C>this.vertices.length-1-this.detailX;C--)b.add(this.vertexNormals[C]);b=l.default.Vector.div(b,this.detailX);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)this.vertexNormals[M]=b;return this}},{key:"_makeTriangleEdges",value:function(){for(var b=this.edges.length=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var b,_=new Map,D=new Set,C=0;C<this.edges.length;C++){var M,E=this.edges[C-1],S=this.edges[C],O=this.vertices[S[0]],I=this.vertices[S[1]],F=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[0],4*(S[0]+1)):[0,0,0,0],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],L=I.copy().sub(O).normalize(),B=0<L.magSq();B&&this._addSegment(O,I,F,j,L),0<C&&E[1]===S[0]?D.has(S[0])||(D.add(S[0]),_.delete(S[0]),b&&B&&L.dot(b)<1-1e-8&&this._addJoin(O,b,L,F)):(B&&!D.has(S[0])&&((M=_.get(S[0]))?(this._addJoin(O,M.dir,L,F),_.delete(S[0]),D.add(S[0])):_.set(S[0],{point:O,dir:L.copy().mult(-1),color:F})),b&&!D.has(E[1])&&((M=_.get(E[1]))?(this._addJoin(this.vertices[E[1]],b,M.dir.copy().mult(-1),F),_.delete(E[1]),D.add(E[1])):_.set(E[1],{point:this.vertices[E[1]],dir:b,color:F}),b=void 0)),C!==this.edges.length-1||D.has(S[1])||((O=_.get(S[1]))?(this._addJoin(I,L,O.dir.copy().mult(-1),j),_.delete(S[1]),D.add(S[1])):_.set(S[1],{point:I,dir:L,color:j})),B&&(b=L)}var k=!0,q=!1,G=void 0;try{for(var U,W=_.values()[Symbol.iterator]();!(k=(U=W.next()).done);k=!0){var Q=U.value,le=Q.point,P=Q.dir,T=Q.color;this._addCap(le,P,T)}}catch(V){q=!0,G=V}finally{try{k||W.return==null||W.return()}finally{if(q)throw G}}return this}},{key:"_addSegment",value:function(E,S,D,C,M){var E=E.array(),S=S.array(),O=M.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var I=0,F=[this.lineTangentsIn,this.lineTangentsOut];I<F.length;I++)for(var j=F[I],L=0;L<6;L++)j.push.apply(j,y(O));return(M=this.lineVertices).push.apply(M,y(E).concat(y(S),y(E),y(S),y(S),y(E))),(M=this.lineVertexColors).push.apply(M,y(D).concat(y(C),y(D),y(C),y(C),y(D))),this}},{key:"_addCap",value:function(b,_,D){for(var C,M=b.array(),E=_.array(),S=[0,0,0],O=0;O<6;O++)(C=this.lineVertices).push.apply(C,y(M)),(C=this.lineTangentsIn).push.apply(C,y(E)),(C=this.lineTangentsOut).push.apply(C,S),(C=this.lineVertexColors).push.apply(C,y(D));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(b,_,D,C){for(var M,E=b.array(),S=_.array(),O=D.array(),I=0;I<12;I++)(M=this.lineVertices).push.apply(M,y(E)),(M=this.lineTangentsIn).push.apply(M,y(S)),(M=this.lineTangentsOut).push.apply(M,y(O)),(M=this.lineVertexColors).push.apply(M,y(C));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),_=this.vertices[0].copy(),D=0;D<this.vertices.length;D++)b.x=Math.max(b.x,this.vertices[D].x),_.x=Math.min(_.x,this.vertices[D].x),b.y=Math.max(b.y,this.vertices[D].y),_.y=Math.min(_.y,this.vertices[D].y),b.z=Math.max(b.z,this.vertices[D].z),_.z=Math.min(_.z,this.vertices[D].z);for(var C=l.default.Vector.lerp(b,_,.5),M=l.default.Vector.sub(b,_),E=200/Math.max(Math.max(M.x,M.y),M.z),S=0;S<this.vertices.length;S++)this.vertices[S].sub(C),this.vertices[S].mult(E)}return this}}])&&h(v.prototype,g),w&&h(v,w),f}();var p=l.default.Geometry;s.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(m,i,s){"use strict";m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(m=m("../core/main"))&&m.__esModule?m:{default:m};function u(y,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}var l=Array,c=function(y){return Array.isArray(y)},m=(typeof Float32Array<"u"&&(l=Float32Array,c=function(y){return Array.isArray(y)||y instanceof Float32Array}),a.default.Matrix=function(){function y(){var f=this,v=y;if(f instanceof v)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof a.default&&(this.p5=(v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var d,h,p;return d=y,p=[{key:"identity",value:function(f){return new a.default.Matrix(f)}}],(h=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(f){var v=arguments;if(f instanceof a.default.Matrix?v=f.mat4:c(f)&&(v=f),v.length!==16)a.default._friendlyError("Expected 16 values but received ".concat(v.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=v[g];return this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var v,g,w,b,_,D;return f instanceof a.default.Matrix?(v=f.mat4[1],g=f.mat4[2],w=f.mat4[3],b=f.mat4[6],_=f.mat4[7],D=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=v,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=w,this.mat4[13]=_,this.mat4[14]=D,this.mat4[15]=f.mat4[15]):c(f)&&(v=f[1],g=f[2],w=f[3],b=f[6],_=f[7],D=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=v,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=w,this.mat4[13]=_,this.mat4[14]=D,this.mat4[15]=f[15]),this}},{key:"invert",value:function(k){k instanceof a.default.Matrix?(v=k.mat4[0],g=k.mat4[1],w=k.mat4[2],b=k.mat4[3],_=k.mat4[4],D=k.mat4[5],C=k.mat4[6],M=k.mat4[7],E=k.mat4[8],S=k.mat4[9],O=k.mat4[10],I=k.mat4[11],F=k.mat4[12],j=k.mat4[13],L=k.mat4[14],B=k.mat4[15]):c(k)&&(v=k[0],g=k[1],w=k[2],b=k[3],_=k[4],D=k[5],C=k[6],M=k[7],E=k[8],S=k[9],O=k[10],I=k[11],F=k[12],j=k[13],L=k[14],B=k[15]);var v,g,w,b,_,D,C,M,E,S,O,I,F,j,L,B,k=v*D-g*_,q=v*C-w*_,G=v*M-b*_,U=g*C-w*D,W=g*M-b*D,Q=w*M-b*C,le=E*j-S*F,P=E*L-O*F,T=E*B-I*F,V=S*L-O*j,H=S*B-I*j,K=O*B-I*L,re=k*K-q*H+G*V+U*T-W*P+Q*le;return re?(this.mat4[0]=(D*K-C*H+M*V)*(re=1/re),this.mat4[1]=(w*H-g*K-b*V)*re,this.mat4[2]=(j*Q-L*W+B*U)*re,this.mat4[3]=(O*W-S*Q-I*U)*re,this.mat4[4]=(C*T-_*K-M*P)*re,this.mat4[5]=(v*K-w*T+b*P)*re,this.mat4[6]=(L*G-F*Q-B*q)*re,this.mat4[7]=(E*Q-O*G+I*q)*re,this.mat4[8]=(_*H-D*T+M*le)*re,this.mat4[9]=(g*T-v*H-b*le)*re,this.mat4[10]=(F*W-j*G+B*k)*re,this.mat4[11]=(S*G-E*W-I*k)*re,this.mat4[12]=(D*P-_*V-C*le)*re,this.mat4[13]=(v*V-g*P+w*le)*re,this.mat4[14]=(j*q-F*U-L*k)*re,this.mat4[15]=(E*U-S*q+O*k)*re,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],v=this.mat3[1],g=this.mat3[2],w=this.mat3[3],b=this.mat3[4],_=this.mat3[5],D=this.mat3[6],C=this.mat3[7],M=this.mat3[8],E=M*b-_*C,S=-M*w+_*D,O=C*w-b*D,I=f*E+v*S+g*O;return I?(this.mat3[0]=E*(I=1/I),this.mat3[1]=(-M*v+g*C)*I,this.mat3[2]=(_*v-g*b)*I,this.mat3[3]=S*I,this.mat3[4]=(M*f-g*D)*I,this.mat3[5]=(-_*f+g*w)*I,this.mat3[6]=O*I,this.mat3[7]=(-C*f+v*D)*I,this.mat3[8]=(b*f-v*w)*I,this):null}},{key:"transpose3x3",value:function(f){var v=(f=f===void 0?this.mat3:f)[1],g=f[2],w=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=v,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=g,this.mat3[7]=w,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var v=0;v<9;v++)this.mat3[v]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],v=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],w=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],b=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],_=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],D=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],C=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],M=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],S=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-v*S+g*E+w*M-b*C+_*D}},{key:"mult",value:function(g){var v;if(g===this||g===this.mat4)v=this.copy().mat4;else if(g instanceof a.default.Matrix)v=g.mat4;else if(c(g))v=g;else{if(arguments.length!==16)return;v=arguments}var g=this.mat4[0],w=this.mat4[1],b=this.mat4[2],_=this.mat4[3];return this.mat4[0]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[1]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[2]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[3]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[4],w=this.mat4[5],b=this.mat4[6],_=this.mat4[7],this.mat4[4]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[5]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[6]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[7]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[8],w=this.mat4[9],b=this.mat4[10],_=this.mat4[11],this.mat4[8]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[9]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[10]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[11]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[12],w=this.mat4[13],b=this.mat4[14],_=this.mat4[15],this.mat4[12]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[13]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[14]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[15]=g*v[3]+w*v[7]+b*v[11]+_*v[15],this}},{key:"apply",value:function(g){var v;if(g===this||g===this.mat4)v=this.copy().mat4;else if(g instanceof a.default.Matrix)v=g.mat4;else if(c(g))v=g;else{if(arguments.length!==16)return;v=arguments}var g=this.mat4,w=g[0],b=g[4],_=g[8],D=g[12],w=(g[0]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[4]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[8]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[12]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[1]),b=g[5],_=g[9],D=g[13],w=(g[1]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[5]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[9]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[13]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[2]),b=g[6],_=g[10],D=g[14],w=(g[2]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[6]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[10]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[14]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[3]),b=g[7],_=g[11],D=g[15];return g[3]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[7]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[11]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[15]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,this}},{key:"scale",value:function(f,v,g){return f instanceof a.default.Vector?(v=f.y,g=f.z,f=f.x):f instanceof Array&&(v=f[1],g=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=v,this.mat4[5]*=v,this.mat4[6]*=v,this.mat4[7]*=v,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(k,H,V,w){H instanceof a.default.Vector?(V=H.y,w=H.z,H=H.x):H instanceof Array&&(V=H[1],w=H[2],H=H[0]);var b=Math.sqrt(H*H+V*V+w*w),b=(H*=1/b,V*=1/b,w*=1/b,this.mat4[0]),_=this.mat4[1],D=this.mat4[2],C=this.mat4[3],M=this.mat4[4],E=this.mat4[5],S=this.mat4[6],O=this.mat4[7],I=this.mat4[8],F=this.mat4[9],j=this.mat4[10],L=this.mat4[11],B=Math.sin(k),k=Math.cos(k),q=1-k,G=H*H*q+k,U=V*H*q+w*B,W=w*H*q-V*B,Q=H*V*q-w*B,le=V*V*q+k,P=w*V*q+H*B,T=H*w*q+V*B,V=V*w*q-H*B,H=w*w*q+k;return this.mat4[0]=b*G+M*U+I*W,this.mat4[1]=_*G+E*U+F*W,this.mat4[2]=D*G+S*U+j*W,this.mat4[3]=C*G+O*U+L*W,this.mat4[4]=b*Q+M*le+I*P,this.mat4[5]=_*Q+E*le+F*P,this.mat4[6]=D*Q+S*le+j*P,this.mat4[7]=C*Q+O*le+L*P,this.mat4[8]=b*T+M*V+I*H,this.mat4[9]=_*T+E*V+F*H,this.mat4[10]=D*T+S*V+j*H,this.mat4[11]=C*T+O*V+L*H,this}},{key:"translate",value:function(w){var v=w[0],g=w[1],w=w[2]||0;this.mat4[12]+=this.mat4[0]*v+this.mat4[4]*g+this.mat4[8]*w,this.mat4[13]+=this.mat4[1]*v+this.mat4[5]*g+this.mat4[9]*w,this.mat4[14]+=this.mat4[2]*v+this.mat4[6]*g+this.mat4[10]*w,this.mat4[15]+=this.mat4[3]*v+this.mat4[7]*g+this.mat4[11]*w}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(b,v,g,w){var b=1/Math.tan(b/2),_=1/(g-w);return this.mat4[0]=b/v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(w+g)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*w*g*_,this.mat4[15]=0,this}},{key:"ortho",value:function(f,v,g,w,b,_){var D=1/(f-v),C=1/(g-w),M=1/(b-_);return this.mat4[0]=-2*D,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*C,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*M,this.mat4[11]=0,this.mat4[12]=(f+v)*D,this.mat4[13]=(w+g)*C,this.mat4[14]=(_+b)*M,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,v,g,w){var b=new Array(4),_=this.mat4;return b[0]=_[0]*f+_[4]*v+_[8]*g+_[12]*w,b[1]=_[1]*f+_[5]*v+_[9]*g+_[13]*w,b[2]=_[2]*f+_[6]*v+_[10]*g+_[14]*w,b[3]=_[3]*f+_[7]*v+_[11]*g+_[15]*w,b}},{key:"multiplyPoint",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,1);return new a.default.Vector(w[0],w[1],w[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,1);return w[0]/=w[3],w[1]/=w[3],w[2]/=w[3],new a.default.Vector(w[0],w[1],w[2])}},{key:"multiplyDirection",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,0);return new a.default.Vector(w[0],w[1],w[2])}},{key:"mult3x3",value:function(g){var v;if(g===this||g===this.mat3)v=this.copy().mat3;else if(g instanceof a.default.Matrix)v=g.mat3;else if(c(g))v=g;else{if(arguments.length!==9)return;v=arguments}var g=this.mat3[0],w=this.mat3[1],b=this.mat3[2];return this.mat3[0]=g*v[0]+w*v[3]+b*v[6],this.mat3[1]=g*v[1]+w*v[4]+b*v[7],this.mat3[2]=g*v[2]+w*v[5]+b*v[8],g=this.mat3[3],w=this.mat3[4],b=this.mat3[5],this.mat3[3]=g*v[0]+w*v[3]+b*v[6],this.mat3[4]=g*v[1]+w*v[4]+b*v[7],this.mat3[5]=g*v[2]+w*v[5]+b*v[8],g=this.mat3[6],w=this.mat3[7],b=this.mat3[8],this.mat3[6]=g*v[0]+w*v[3]+b*v[6],this.mat3[7]=g*v[1]+w*v[4]+b*v[7],this.mat3[8]=g*v[2]+w*v[5]+b*v[8],this}},{key:"column",value:function(f){return new a.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new a.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,v){return(v=v===void 0?f.copy():v).x=this.row(0).dot(f),v.y=this.row(1).dot(f),v.z=this.row(2).dot(f),v}},{key:"createSubMatrix3x3",value:function(){var f=new a.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&u(d.prototype,h),p&&u(d,p),y}(),a.default.Matrix);s.default=m},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Quat=function(){function l(d,h,p,f){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.w=d,this.vec=new a.default.Vector(h,p,f)}var c,m,y;return c=l,y=[{key:"fromAxisAngle",value:function(d,g,p,f){var v=Math.cos(d/2),g=new a.default.Vector(g,p,f).normalize().mult(Math.sin(d/2));return new a.default.Quat(v,g.x,g.y,g.z)}}],(m=[{key:"conjugate",value:function(){return new a.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(d){return new a.default.Quat(this.w*d.w-this.vec.x*d.vec.x-this.vec.y*d.vec.y-this.vec.z-d.vec.z,this.w*d.vec.x+this.vec.x*d.w+this.vec.y*d.vec.z-this.vec.z*d.vec.y,this.w*d.vec.y-this.vec.x*d.vec.z+this.vec.y*d.w+this.vec.z*d.vec.x,this.w*d.vec.z+this.vec.x*d.vec.y-this.vec.y*d.vec.x+this.vec.z*d.w)}},{key:"rotateVector",value:function(d){return new a.default.Vector.mult(d,this.w*this.w-this.vec.dot(this.vec)).add(a.default.Vector.mult(this.vec,2*d.dot(this.vec))).add(a.default.Vector.mult(this.vec,2*this.w).cross(d)).clampToZero()}},{key:"rotateBy",value:function(d){return d.multiply(this).multiply(d.conjugate()).vec.clampToZero()}}])&&u(c.prototype,m),y&&u(c,y),l}(),t=a.default.Quat,s.default=t},{"../core/main":283}],338:[function(t,i,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(u,l){for(var c=0;c<l.length;c++){var m=l[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}t.default.RenderBuffer=function(){function u(y,d,h,p,f,v){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=y,this.src=d,this.dst=h,this.attr=p,this._renderer=f,this.map=v}var l,c,m;return l=u,(c=[{key:"_prepareBuffer",value:function(y,d){var h,p,f,w=d.attributes,v=this._renderer.GL,g=y.model||y,w=w[this.attr];w&&(h=y[this.dst],0<(p=g[this.src]).length?((f=!h)&&(y[this.dst]=h=v.createBuffer()),v.bindBuffer(v.ARRAY_BUFFER,h),!f&&g.dirtyFlags[this.src]===!1||(f=(y=this.map)?y(p):p,this._renderer._bindBuffer(h,v.ARRAY_BUFFER,f),g.dirtyFlags[this.src]=!1),d.enableAttrib(w,this.size)):(y=w.location)!==-1&&this._renderer.registerEnabled.has(y)&&(v.disableVertexAttribArray(y),this._renderer.registerEnabled.delete(y)))}}])&&a(l.prototype,c),m&&a(l,m),u}(),t=t.default.RenderBuffer,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function y(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(p){return this.immediateMode.shapeMode=p!==void 0?p:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(p,f){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var v in d){var g=d[v],v=this.immediateMode.geometry[v];v.push.apply(v,y(v.slice(v.length-3*g,v.length-2*g)).concat(y(v.slice(v.length-g,v.length))))}var w,b,_=w=b=0,D=(arguments.length===3?_=arguments[2]:arguments.length===4?(w=arguments[2],b=arguments[3]):arguments.length===5&&(_=arguments[2],w=arguments[3],b=arguments[4]),new l.default.Vector(p,f,_)),D=(this.immediateMode.geometry.vertices.push(D),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),D=(this.immediateMode.geometry.vertexColors.push(D[0],D[1],D[2],D[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(D[0],D[1],D[2],D[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(w/=this._tex.width,b/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(w,b),this.immediateMode._bezierVertex[0]=p,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=_,this.immediateMode._quadraticVertex[0]=p,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=_,this},l.default.RendererGL.prototype.normal=function(p,f,v){return p instanceof l.default.Vector?this._currentNormal=p:this._currentNormal=new l.default.Vector(p,f,v),this},l.default.RendererGL.prototype.endShape=function(p,f,v,g,w,b){var _,D=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode,c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),_=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,_=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!_&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(D),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(p){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,p=p===c.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,p),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===c.TESS,p=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||p)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(p,f,v){var g=[],w=0,b=this.immediateMode.contourIndices.slice(),_=0;switch(p){case c.TRIANGLE_STRIP:for(w=0;w<f.length-2;w++)g.push([w,w+1]),g.push([w,w+2]);g.push([w,w+1]);break;case c.TRIANGLE_FAN:for(w=1;w<f.length-1;w++)g.push([0,w]),g.push([w,w+1]);g.push([0,f.length-1]);break;case c.TRIANGLES:for(w=0;w<f.length-2;w+=3)g.push([w,w+1]),g.push([w+1,w+2]),g.push([w+2,w]);break;case c.LINES:for(w=0;w<f.length-1;w+=2)g.push([w,w+1]);break;case c.QUADS:for(w=0;w<f.length-5;w+=6)g.push([w,w+1]),g.push([w+1,w+2]),g.push([w+3,w+5]),g.push([w+4,w+5]);break;case c.QUAD_STRIP:for(w=0;w<f.length-2;w+=2)g.push([w,w+1]),g.push([w,w+2]),g.push([w+1,w+3]);g.push([w,w+1]);break;default:for(w=0;w<f.length;w++)w+1<f.length&&w+1!==b[0]?g.push([w,w+1]):((v||_)&&g.push([w,_]),0<b.length&&(_=b.shift()))}return p!==c.TESS&&v&&g.push([f.length-1,0]),g},l.default.RendererGL.prototype._tesselateShape=function(){for(var p=this,f=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),v=0;v<this.immediateMode.geometry.vertices.length;v++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===v&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[v].x,this.immediateMode.geometry.vertices[v].y,this.immediateMode.geometry.vertices[v].z,this.immediateMode.geometry.uvs[2*v],this.immediateMode.geometry.uvs[2*v+1],this.immediateMode.geometry.vertexColors[4*v],this.immediateMode.geometry.vertexColors[4*v+1],this.immediateMode.geometry.vertexColors[4*v+2],this.immediateMode.geometry.vertexColors[4*v+3],this.immediateMode.geometry.vertexNormals[v].x,this.immediateMode.geometry.vertexNormals[v].y,this.immediateMode.geometry.vertexNormals[v].z);for(var g,w=this._triangulate(f),b=this.immediateMode.geometry.vertices,_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),D=0,C=w.length;D<C;D+=l.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,y(w.slice(D+5,D+9))),this.normal.apply(this,y(w.slice(D+9,D+12))),this.vertex.apply(this,y(w.slice(D,D+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(M){return M.map(function(E){if(!g.has(E)){var S=b[E],O=p.immediateMode.geometry.vertices.findIndex(function(q){return S.x===q.x&&S.y===q.y&&S.z===q.z});if(O===-1){for(var I=1/0,F=0,j=0;j<p.immediateMode.geometry.vertices.length;j++){var B=p.immediateMode.geometry.vertices[j],k=S.x-B.x,L=S.y-B.y,B=S.z-B.z,k=k*k+L*L+B*B;k<I&&(I=k,F=j)}O=F}g.set(E,O)}return g.get(E)})})),this.immediateMode.geometry.vertexColors=_},l.default.RendererGL.prototype._drawImmediateFill=function(){var p,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,v=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,p=this._getImmediateFillShader(),this._setFillUniforms(p),!0),w=!1,b=void 0;try{for(var _,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(_=D.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,p)}catch(C){w=!0,b=C}finally{try{g||D.return==null||D.return()}finally{if(w)throw b}}if(p.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)v.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{v.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}p.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var p=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),v=(this._setStrokeUniforms(f),!0),g=!1,w=void 0;try{for(var b,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)b.value._prepareBuffer(this.immediateMode.geometry,f)}catch(D){g=!0,w=D}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),p.drawArrays(p.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},l.default.RendererGL);s.default=h},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function u(d){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants")));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}l.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(d){var h;return this._freeBuffers(d),1e3<Object.keys(this.retainedMode.geometry).length&&(h=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(h)),this.retainedMode.geometry[d]={}},l.default.RendererGL.prototype._freeBuffers=function(d){var h,p=this.retainedMode.geometry[d];function f(v){var g=!0,w=!1,b=void 0;try{for(var _,D=v[Symbol.iterator]();!(g=(_=D.next()).done);g=!0){var C=_.value;p[C.dst]&&(h.deleteBuffer(p[C.dst]),p[C.dst]=null)}}catch(M){w=!0,b=M}finally{try{g||D.return==null||D.return()}finally{if(w)throw b}}}p&&(delete this.retainedMode.geometry[d],h=this.GL,p.indexBuffer&&h.deleteBuffer(p.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(w,h){var p,f,v,g=this.GL,w=this._initBufferDefaults(w),b=(w.model=h,w.indexBuffer);return h.faces.length?(b=b||(w.indexBuffer=g.createBuffer()),v=(f=(p=l.default.RendererGL.prototype._flatten(h.faces)).some(function(_){return 65535<_}))?Uint32Array:Uint16Array,this._bindBuffer(b,g.ELEMENT_ARRAY_BUFFER,p,v),w.indexBufferType=f?g.UNSIGNED_INT:g.UNSIGNED_SHORT,w.vertexCount=3*h.faces.length):(b&&(g.deleteBuffer(b),w.indexBuffer=null),w.vertexCount=h.vertices?h.vertices.length:0),w.lineVertexCount=h.lineVertices?h.lineVertices.length/3:0,w},l.default.RendererGL.prototype.drawBuffers=function(d){var h=this.GL,p=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<p.model.vertexColors.length;var f=this._getRetainedFillShader(),v=(this._setFillUniforms(f),!0),g=!1,w=void 0;try{for(var b,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)b.value._prepareBuffer(p,f)}catch(S){g=!0,w=S}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}f.disableRemainingAttributes(),p.indexBuffer&&this._bindBuffer(p.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,p.model.hasFillTransparency()),this._drawElements(h.TRIANGLES,d),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<p.lineVertexCount){this._useLineColor=0<p.model.vertexStrokeColors.length;var D=this._getRetainedStrokeShader(),C=(this._setStrokeUniforms(D),!0),g=!1,w=void 0;try{for(var M,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(C=(M=E.next()).done);C=!0)M.value._prepareBuffer(p,D)}catch(I){g=!0,w=I}finally{try{C||E.return==null||E.return()}finally{if(g)throw w}}D.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,p.model.hasStrokeTransparency()),this._drawArrays(h.TRIANGLES,d),D.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(p),this},l.default.RendererGL.prototype.drawBuffersScaled=function(d,h,p,f){var v=this.uModelMatrix.copy();try{this.uModelMatrix.scale(h,p,f),this.drawBuffers(d)}finally{this.uModelMatrix=v}},l.default.RendererGL.prototype._drawArrays=function(d,h){return this.GL.drawArrays(d,0,this.retainedMode.geometry[h].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(d,p){var p=this.retainedMode.geometry[p],f=this.GL;if(p.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&p.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else f.drawArrays(d||f.TRIANGLES,0,p.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(d,h){var p=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(h,p.ARRAY_BUFFER,this._vToNArray(d),Float32Array,p.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),p.drawArrays(p.Points,0,d.length),f.unbindShader()};var y=l.default.RendererGL;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(j,i,s){"use strict";function a(U){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(U)}function u(U){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(W){return a(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":a(W)})(U)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.copy-within"),j("core-js/modules/es.array.every"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.flat"),j("core-js/modules/es.array.flat-map"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.map"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.array.some"),j("core-js/modules/es.array.unscopables.flat"),j("core-js/modules/es.array.unscopables.flat-map"),j("core-js/modules/es.map"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.set"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.copy-within"),j("core-js/modules/es.array.every"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.flat"),j("core-js/modules/es.array.flat-map"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.map"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.array.some"),j("core-js/modules/es.array.unscopables.flat"),j("core-js/modules/es.array.unscopables.flat-map"),j("core-js/modules/es.map"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.set"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.readPixelsWebGL=q,s.readPixelWebGL=G,s.default=void 0;var l=p(j("../core/main")),c=function(U){if(U&&U.__esModule)return U;if(U===null||u(U)!=="object"&&typeof U!="function")return{default:U};var W=h();if(W&&W.has(U))return W.get(U);var Q,le={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in U){var T;Object.prototype.hasOwnProperty.call(U,Q)&&((T=P?Object.getOwnPropertyDescriptor(U,Q):null)&&(T.get||T.set)?Object.defineProperty(le,Q,T):le[Q]=U[Q])}return le.default=U,W&&W.set(U,le),le}(j("../core/constants")),m=p(j("./GeometryBuilder")),y=p(j("libtess")),d=(j("./p5.Shader"),j("./p5.Camera"),j("../core/p5.Renderer"),j("./p5.Matrix"),j("./p5.Framebuffer"),j("path"),j("./p5.Texture"));function h(){var U;return typeof WeakMap!="function"?null:(U=new WeakMap,h=function(){return U},U)}function p(U){return U&&U.__esModule?U:{default:U}}function f(U){return function(W){if(Array.isArray(W)){for(var Q=0,le=new Array(W.length);Q<W.length;Q++)le[Q]=W[Q];return le}}(U)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(U,W){for(var Q=0;Q<W.length;Q++){var le=W[Q];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(U,le.key,le)}}function g(U,W,Q){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(V,P,T){var V=function(H,K){for(;!Object.prototype.hasOwnProperty.call(H,K)&&(H=D(H))!==null;);return H}(V,P);if(V)return(V=Object.getOwnPropertyDescriptor(V,P)).get?V.get.call(T):V.value})(U,W,Q||U)}function w(U,W){return(w=Object.setPrototypeOf||function(Q,le){return Q.__proto__=le,Q})(U,W)}function b(U){return function(){var W,Q,le=D(U);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=D(this).constructor,Reflect.construct(le,arguments,W)):le.apply(this,arguments),le=this,!(Q=W)||u(Q)!=="object"&&typeof Q!="function"?_(le):Q}}function _(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function D(U){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(U)}function C(U,W,Q){W in U?Object.defineProperty(U,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):U[W]=Q}function M(U,W){F+="#define STROKE_CAP_".concat(U," ").concat(W,`
`),O[c[U]]=W}function E(U,W){F+="#define STROKE_JOIN_".concat(U," ").concat(W,`
`),I[c[U]]=W}var S,O={},I={},F="",j=(M("ROUND",0),M("PROJECT",1),M("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),L={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:j+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:j+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:F+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // This prevents popping effects due to half of
  // the line disappearing behind the geometry faces.
  
  float zOffset = mix(-0.00045, -1., facingCamera);
  posp.z -= zOffset;
  posqIn.z -= zOffset;
  posqOut.z -= zOffset;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:F+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},B=L.sphereMappingFrag;for(S in L)L[S]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+L[S];C(j={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),C(j,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(j,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(j,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),C(j,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),C(j,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),C(j,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),C(j,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var k=j;function q(U,W,ce,le,P,T,V,H,K,re){var ie=W.getParameter(W.FRAMEBUFFER_BINDING),ce=(W.bindFramebuffer(W.FRAMEBUFFER,ce),H===W.RGBA?4:3),se=T*V*ce,he=K===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(U instanceof he&&U.length===se||(U=new he(se)),W.readPixels(le,re?re-P-V:P,T,V,H,K,U),W.bindFramebuffer(W.FRAMEBUFFER,ie),re)for(var ue=Math.floor(V/2),te=new he(T*ce),pe=0;pe<ue;pe++){var ve=pe*T*4,Me=(V-pe-1)*T*4;te.set(U.subarray(ve,ve+4*T)),U.copyWithin(ve,Me,Me+4*T),U.set(te,Me)}return U}function G(U,K,Q,le,P,T,V){var H=U.getParameter(U.FRAMEBUFFER_BINDING),K=(U.bindFramebuffer(U.FRAMEBUFFER,K),P===U.RGBA?4:3),K=new(T===U.UNSIGNED_BYTE?Uint8Array:Float32Array)(K);return U.readPixels(Q,V?V-le-1:le,1,1,P,T,K),U.bindFramebuffer(U.FRAMEBUFFER,H),Array.from(K)}l.default.prototype.setAttributes=function(U,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[U]!==W&&(this._glAttributes[U]=W,Q=!1)):U instanceof Object&&this._glAttributes!==U&&(this._glAttributes=U,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var le in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(le))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(U){var W=P;if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(U&&U.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),U&&w(W,U);var Q,le=b(P);function P(T,V,H,K){if(this instanceof P)return(T=le.call(this,T,V,H))._setAttributeDefaults(V),T._initContext(),T.isP3D=!0,T.geometryBuilder=void 0,T.GL=T.drawingContext,T._pInst._setProperty("drawingContext",T.drawingContext),T._isErasing=!1,T._clipDepths=[],T._isClipApplied=!1,T._stencilTestOn=!1,T._enableLighting=!1,T.ambientLightColors=[],T.mixedAmbientLight=[],T.mixedSpecularColor=[],T.specularColors=[1,1,1],T.directionalLightDirections=[],T.directionalLightDiffuseColors=[],T.directionalLightSpecularColors=[],T.pointLightPositions=[],T.pointLightDiffuseColors=[],T.pointLightSpecularColors=[],T.spotLightPositions=[],T.spotLightDirections=[],T.spotLightDiffuseColors=[],T.spotLightSpecularColors=[],T.spotLightAngle=[],T.spotLightConc=[],T.activeImageLight=null,T.diffusedTextures=new Map,T.specularTextures=new Map,T.drawMode=c.FILL,T.curFillColor=T._cachedFillStyle=[1,1,1,1],T.curAmbientColor=T._cachedFillStyle=[1,1,1,1],T.curSpecularColor=T._cachedFillStyle=[0,0,0,0],T.curEmissiveColor=T._cachedFillStyle=[0,0,0,0],T.curStrokeColor=T._cachedStrokeStyle=[0,0,0,1],T.curBlendMode=c.BLEND,T.preEraseBlend=void 0,T._cachedBlendMode=void 0,T.webglVersion===c.WEBGL2?T.blendExt=T.GL:T.blendExt=T.GL.getExtension("EXT_blend_minmax"),T._isBlending=!1,T._hasSetAmbient=!1,T._useSpecularMaterial=!1,T._useEmissiveMaterial=!1,T._useNormalMaterial=!1,T._useShininess=1,T._useMetalness=0,T._useLineColor=!1,T._useVertexColor=!1,T.registerEnabled=new Set,T._tint=[255,255,255,255],T.constantAttenuation=1,T.linearAttenuation=0,T.quadraticAttenuation=0,T.uModelMatrix=new l.default.Matrix,T.uViewMatrix=new l.default.Matrix,T.uMVMatrix=new l.default.Matrix,T.uPMatrix=new l.default.Matrix,T.uNMatrix=new l.default.Matrix("mat3"),T.curMatrix=new l.default.Matrix("mat3"),T._currentNormal=new l.default.Vector(0,0,1),T._curCamera=new l.default.Camera(_(T)),T._curCamera._computeCameraDefaultSettings(),T._curCamera._setDefaultCamera(),T.filterCamera=new l.default.Camera(_(T)),T.filterCamera._computeCameraDefaultSettings(),T.filterCamera._setDefaultCamera(),T.prevTouches=[],T.zoomVelocity=0,T.rotateVelocity=new l.default.Vector(0,0),T.moveVelocity=new l.default.Vector(0,0),T.executeZoom=!1,T.executeRotateAndMove=!1,T.specularShader=void 0,T.sphereMapping=void 0,T.diffusedShader=void 0,T._defaultLightShader=void 0,T._defaultImmediateModeShader=void 0,T._defaultNormalShader=void 0,T._defaultColorShader=void 0,T._defaultPointShader=void 0,T.userFillShader=void 0,T.userStrokeShader=void 0,T.userPointShader=void 0,T.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(T)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(T)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(T)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(T))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(T),T._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(T)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)]}},T.immediateMode={geometry:new l.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(T),T._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(T)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(T)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(T)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(T)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(T))],point:T.GL.createBuffer()}},T.pointSize=5,T.curStrokeWeight=1,T.curStrokeCap=c.ROUND,T.curStrokeJoin=c.ROUND,T.textures=new Map,T.framebuffers=new Set,T.activeFramebuffers=[],T.filterShader=void 0,T.filterLayer=void 0,T.filterLayerTemp=void 0,T.defaultFilterShaders={},T.textureMode=c.IMAGE,T.textureWrapX=c.CLAMP,T.textureWrapY=c.CLAMP,T._tex=null,T._curveTightness=6,T._lookUpTableBezier=[],T._lookUpTableQuadratic=[],T._lutBezierDetail=0,T._lutQuadraticDetail=0,T.isProcessingVertices=!1,T._tessy=T._initTessy(),T.fontInfos={},T._curShader=void 0,T;throw new TypeError("Cannot call a class as a function")}return W=P,(U=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var T;if(this.geometryBuilder)return T=this.geometryBuilder.finish(),this.geometryBuilder=void 0,T;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(T){return this.beginGeometry(),T(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(T){var V={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};T._glAttributes===null?T._glAttributes=V:T._glAttributes=Object.assign(V,T._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var T=this.drawingContext;T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var T=this.drawingContext;return T.getParameter(T.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(T,V){this._maxTextureSize||(this._maxTextureSize=this._getParam());var K=this._maxTextureSize,K=(l.default.prototype._maxAllowedPixelDimensions,Math.floor(K/this.pixelDensity())),H=Math.min(T,K),K=Math.min(V,K);return H===T&&K===V||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat(K,".")),{adjustedWidth:H,adjustedHeight:K}}},{key:"_resetContext",value:function(T,V){var H,K=this.width,re=this.height,ce=this.canvas.id,ie=this._pInst instanceof l.default.Graphics,ce=(ie?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),l.default.Element.call(H,H.canvas,H._pInst),H.width=K,H.height=re):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=ce,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new l.default.RendererGL(this._pInst.canvas,this._pInst,!ie));this._pInst._setProperty("_renderer",ce),ce.resize(K,re),ce._applyDefaults(),ie||this._pInst._elements.push(ce),typeof V=="function"&&setTimeout(function(){V.apply(window._renderer,T)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var K=(K=this._pInst).color.apply(K,arguments),T=K.levels[0]/255,V=K.levels[1]/255,H=K.levels[2]/255,K=K.levels[3]/255;this.clear(T,V,H,K)}},{key:"fill",value:function(T,V,H,K){var re=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=re._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(T,V,H,K){var re=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=re._array}},{key:"strokeCap",value:function(T){this.curStrokeCap=T}},{key:"strokeJoin",value:function(T){this.curStrokeJoin=T}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(T,V){T.width===V.width&&T.height===V.height||T.resize(V.width,V.height),T.pixelDensity()!==V.pixelDensity()&&T.pixelDensity(V.pixelDensity())}},{key:"filter",value:function(){var T,V,H=this,K=this.getFilterLayer(),re=void 0,ie=void 0,ce=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ie=arguments.length<=0?void 0:arguments[0],C(T={},c.BLUR,3),C(T,c.POSTERIZE,4),C(T,c.THRESHOLD,.5),re=ie in(T=T)&&(arguments.length<=1?void 0:arguments[1])===void 0?T[ie]:arguments.length<=1?void 0:arguments[1],ie in this.defaultFilterShaders||(this.defaultFilterShaders[ie]=new l.default.Shader(K._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,k[ie])),this.filterShader=this.defaultFilterShaders[ie]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),se=(this.matchSize(K,ce),K.draw(function(){return H._pInst.clear()}),[1/(ce.width*ce.pixelDensity()),1/(ce.height*ce.pixelDensity())]);ie===c.BLUR?(V=this.getFilterLayerTemp(),this.matchSize(V,ce),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",se),this.filterShader.setUniform("canvasSize",[ce.width,ce.height]),this.filterShader.setUniform("radius",Math.max(1,re)),V.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",ce),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),K.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",V),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),this._pInst.pop()):K.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(c.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",ce),H.filterShader.setUniform("texelSize",se),H.filterShader.setUniform("canvasSize",[ce.width,ce.height]),H.filterShader.setUniform("filterParameter",re),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),ce.filterCamera._resize(),this._pInst.setCamera(ce.filterCamera),this._pInst.resetMatrix(),this._pInst.image(K,-ce.width/2,-ce.height/2,ce.width,ce.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(T){return T?this._pInst.pixelDensity(T):this._pInst.pixelDensity()}},{key:"blendMode",value:function(T){T===c.DARKEST||T===c.LIGHTEST||T===c.ADD||T===c.BLEND||T===c.SUBTRACT||T===c.SCREEN||T===c.EXCLUSION||T===c.REPLACE||T===c.MULTIPLY||T===c.REMOVE?this.curBlendMode=T:T!==c.BURN&&T!==c.OVERLAY&&T!==c.HARD_LIGHT&&T!==c.SOFT_LIGHT&&T!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(T,V){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,T/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,V/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},T=(g(D(P.prototype),"beginClip",this).call(this,T),this.drawTarget()._isClipApplied=!0,this.GL);T.clearStencil(0),T.clear(T.STENCIL_BUFFER_BIT),T.enable(T.STENCIL_TEST),this._stencilTestOn=!0,T.stencilFunc(T.ALWAYS,1,255),T.stencilOp(T.KEEP,T.KEEP,T.REPLACE),T.disable(T.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var T=this.GL;T.stencilOp(T.KEEP,T.KEEP,T.KEEP),T.stencilFunc(this._clipInvert?T.EQUAL:T.NOTEQUAL,0,255),T.enable(T.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(D(P.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(T){this.curStrokeWeight!==T&&(this.pointSize=T,this.curStrokeWeight=T)}},{key:"_getPixel",value:function(T,V){var H=this.GL;return G(H,null,T,V,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var T,V,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(T=this._pInst._pixelDensity,V=this.GL,H._setProperty("pixels",q(H.pixels,V,null,0,0,this.width*T,this.height*T,V.RGBA,V.UNSIGNED_BYTE,this.height*T)))}},{key:"updatePixels",value:function(){var T=this._getTempFramebuffer();T.pixels=this._pixelsState.pixels,T.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(T,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(T){return this.retainedMode.geometry[T]!==void 0}},{key:"viewport",value:function(T,V){this._viewport=[0,0,T,V],this.GL.viewport(0,0,T,V)}},{key:"resize",value:function(re,K){l.default.Renderer.prototype.resize.call(this,re,K),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var re=this._pixelsState,H=(re.pixels!==void 0&&re._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),K=!1,re=void 0;try{for(var ie,ce=this.framebuffers[Symbol.iterator]();!(H=(ie=ce.next()).done);H=!0)ie.value._canvasSizeChanged()}catch(se){K=!0,re=se}finally{try{H||ce.return==null||ce.return()}finally{if(K)throw re}}}},{key:"clear",value:function(){var T=(arguments.length<=0?void 0:arguments[0])||0,V=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,K=(arguments.length<=3?void 0:arguments[3])||0,re=this.activeFramebuffer();re&&re.format===c.UNSIGNED_BYTE&&!re.antialias&&K===0&&(K=1e-10),this.GL.clearColor(T*K,V*K,H*K,K),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(T,V,H,K,re,ie){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([T,V,0,0,H,K,0,0,0,0,1,0,re,ie,0,1])}},{key:"translate",value:function(T,V,H){return T instanceof l.default.Vector&&(H=T.z,V=T.y,T=T.x),this.uModelMatrix.translate([T,V,H]),this}},{key:"scale",value:function(T,V,H){return this.uModelMatrix.scale(T,V,H),this}},{key:"rotate",value:function(T,V){return V===void 0?this.rotateZ(T):(l.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(T){return this.rotate(T,1,0,0),this}},{key:"rotateY",value:function(T){return this.rotate(T,0,1,0),this}},{key:"rotateZ",value:function(T){return this.rotate(T,0,0,1),this}},{key:"push",value:function(){var T=l.default.Renderer.prototype.push.apply(this),V=T.properties;return V.uModelMatrix=this.uModelMatrix.copy(),V.uViewMatrix=this.uViewMatrix.copy(),V.uPMatrix=this.uPMatrix.copy(),V._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),V.ambientLightColors=this.ambientLightColors.slice(),V.specularColors=this.specularColors.slice(),V.directionalLightDirections=this.directionalLightDirections.slice(),V.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),V.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),V.pointLightPositions=this.pointLightPositions.slice(),V.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),V.pointLightSpecularColors=this.pointLightSpecularColors.slice(),V.spotLightPositions=this.spotLightPositions.slice(),V.spotLightDirections=this.spotLightDirections.slice(),V.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),V.spotLightSpecularColors=this.spotLightSpecularColors.slice(),V.spotLightAngle=this.spotLightAngle.slice(),V.spotLightConc=this.spotLightConc.slice(),V.userFillShader=this.userFillShader,V.userStrokeShader=this.userStrokeShader,V.userPointShader=this.userPointShader,V.pointSize=this.pointSize,V.curStrokeWeight=this.curStrokeWeight,V.curStrokeColor=this.curStrokeColor,V.curFillColor=this.curFillColor,V.curAmbientColor=this.curAmbientColor,V.curSpecularColor=this.curSpecularColor,V.curEmissiveColor=this.curEmissiveColor,V._hasSetAmbient=this._hasSetAmbient,V._useSpecularMaterial=this._useSpecularMaterial,V._useEmissiveMaterial=this._useEmissiveMaterial,V._useShininess=this._useShininess,V._useMetalness=this._useMetalness,V.constantAttenuation=this.constantAttenuation,V.linearAttenuation=this.linearAttenuation,V.quadraticAttenuation=this.quadraticAttenuation,V._enableLighting=this._enableLighting,V._useNormalMaterial=this._useNormalMaterial,V._tex=this._tex,V.drawMode=this.drawMode,V._currentNormal=this._currentNormal,V.curBlendMode=this.curBlendMode,V.activeImageLight=this.activeImageLight,T}},{key:"pop",value:function(){var T;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var V=arguments.length,H=new Array(V),K=0;K<V;K++)H[K]=arguments[K];(T=g(D(P.prototype),"pop",this)).call.apply(T,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var T=this.drawTarget();T._isClipApplied!==this._stencilTestOn&&(T._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var T=this.userStrokeShader;return T&&T.isStrokeShader()?T:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(T){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(B)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",T),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var T=this.userFillShader;if(this._useNormalMaterial&&(!T||!T.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getImmediateModeShader();return T}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var T=this.userFillShader;if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getColorShader();return T}},{key:"_getImmediatePointShader",value:function(){var T=this.userPointShader;return T&&T.isPointShader()?T:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+L.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+L.phongFrag):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+L.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+L.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(T,V){var H="";return this.webglVersion===c.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),T==="vert"?H+=`#define VERTEX_SHADER
`:T==="frag"&&(H+=`#define FRAGMENT_SHADER
`),V&&(H+="precision ".concat(V,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var T;return this._emptyTexture||((T=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,T)),this._emptyTexture}},{key:"getTexture",value:function(T){T instanceof l.default.Framebuffer&&(T=T.color);var V=this.textures.get(T);return V||(V=new l.default.Texture(this,T),this.textures.set(T,V),V)}},{key:"getDiffusedTexture",value:function(T){var V,H,K=this;return this.diffusedTextures.get(T)!=null?this.diffusedTextures.get(T):(V=Math.floor(T.height/T.width*200),H=this._pInst.createFramebuffer({width:200,height:V,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(L.imageLightVert,L.imageLightDiffusedFrag)),H.draw(function(){K._pInst.shader(K.diffusedShader),K.diffusedShader.setUniform("environmentMap",T),K._pInst.noStroke(),K._pInst.rectMode(c.CENTER),K._pInst.noLights(),K._pInst.rect(0,0,200,V)}),this.diffusedTextures.set(T,H),H)}},{key:"getSpecularTexture",value:function(T){var V=this;if(this.specularTextures.get(T)!=null)return this.specularTextures.get(T);for(var H,K=[],re=this._pInst.createFramebuffer({width:512,height:512,density:1}),ie=Math.log(512)/Math.log(2),ce=(this.specularShader||(this.specularShader=this._pInst.createShader(L.imageLightVert,L.imageLightSpecularFrag)),512);1<=ce;ce/=2)(function(se){re.resize(se,se);var he=1-Math.log(se)/Math.log(2)/ie;re.draw(function(){V._pInst.shader(V.specularShader),V._pInst.clear(),V.specularShader.setUniform("environmentMap",T),V.specularShader.setUniform("roughness",he),V._pInst.noStroke(),V._pInst.noLights(),V._pInst.plane(se,se)}),K.push(re.get().drawingContext.getImageData(0,0,se,se))})(ce);return re.remove(),H=new d.MipmapTexture(this,K,{}),this.specularTextures.set(T,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(T){return new l.default.Framebuffer(this,T)}},{key:"_setStrokeUniforms",value:function(T){T.bindShader(),T.setUniform("uUseLineColor",this._useLineColor),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uStrokeWeight",this.curStrokeWeight),T.setUniform("uStrokeCap",O[this.curStrokeCap]),T.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(T){var V=this,H=(T.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(K,re){return V.curFillColor[re]*V._useMetalness+K*(1-V._useMetalness)})),T.setUniform("uUseVertexColor",this._useVertexColor),T.setUniform("uMaterialColor",this.curFillColor),T.setUniform("isTexture",!!this._tex),this._tex&&T.setUniform("uSampler",this._tex),T.setUniform("uTint",this._tint),T.setUniform("uHasSetAmbient",this._hasSetAmbient),T.setUniform("uAmbientMatColor",this.curAmbientColor),T.setUniform("uSpecularMatColor",this.mixedSpecularColor),T.setUniform("uEmissiveMatColor",this.curEmissiveColor),T.setUniform("uSpecular",this._useSpecularMaterial),T.setUniform("uEmissive",this._useEmissiveMaterial),T.setUniform("uShininess",this._useShininess),T.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(T),T.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(T.setUniform("uPointLightCount",H),T.setUniform("uPointLightLocation",this.pointLightPositions),T.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),T.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(T.setUniform("uDirectionalLightCount",H),T.setUniform("uLightingDirection",this.directionalLightDirections),T.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),T.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(K){return K-=V._useMetalness,Math.max(0,K)})),T.setUniform("uAmbientLightCount",H),T.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);T.setUniform("uSpotLightCount",H),T.setUniform("uSpotLightAngle",this.spotLightAngle),T.setUniform("uSpotLightConc",this.spotLightConc),T.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),T.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),T.setUniform("uSpotLightLocation",this.spotLightPositions),T.setUniform("uSpotLightDirection",this.spotLightDirections),T.setUniform("uConstantAttenuation",this.constantAttenuation),T.setUniform("uLinearAttenuation",this.linearAttenuation),T.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),T.bindTextures()}},{key:"_setImageLightUniforms",value:function(T){var V,H;T.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(V=this.getDiffusedTexture(this.activeImageLight),T.setUniform("environmentMapDiffused",V),V=this.getSpecularTexture(this.activeImageLight),H=20/this._useShininess,T.setUniform("levelOfDetail",8*H),T.setUniform("environmentMapSpecular",V))}},{key:"_setPointUniforms",value:function(T){T.bindShader(),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(T,V,H,K,re){V=V||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(V,T),H!==void 0&&((T=H)instanceof l.default.DataArray?T=H.dataArray():T instanceof(K||Float32Array)||(T=new(K||Float32Array)(T)),this.GL.bufferData(V,T,re||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(T,V){return T.length===V.length&&T.every(function(H,K){return H===V[K]})}},{key:"_isTypedArray",value:function(T){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(V){return T instanceof V})}},{key:"_flatten",value:function(T){return T.flat()}},{key:"_vToNArray",value:function(T){return T.flatMap(function(V){return[V.x,V.y,V.z]})}},{key:"_bezierCoefficients",value:function(T){var V=T*T,H=1-T,K=H*H;return[K*H,3*K*T,3*H*V,V*T]}},{key:"_quadraticCoefficients",value:function(T){var V=1-T;return[V*V,2*V*T,T*T]}},{key:"_bezierToCatmull",value:function(T){return[T[1],T[1]+(T[2]-T[0])/this._curveTightness,T[2]-(T[3]-T[1])/this._curveTightness,T[2]]}},{key:"_initTessy",value:function(){var T=new y.default.GluTesselator;return T.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(V,H){var K=!0,re=!1,ie=void 0;try{for(var ce,se=V[Symbol.iterator]();!(K=(ce=se.next()).done);K=!0){var he=ce.value;H.push(he)}}catch(ue){re=!0,ie=ue}finally{try{K||se.return==null||se.return()}finally{if(re)throw ie}}}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(V){V!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(V))}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(V){console.log("error callback"),console.log("error number: ".concat(V))}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(V,H,K){for(var re=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),ie=0;ie<K.length;ie++)for(var ce=0;ce<re.length;ce++)K[ie]!==0&&H[ie]&&(re[ce]+=H[ie][ce]*K[ie]);return re}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(V){}),T.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),T}},{key:"_triangulate",value:function(T){var V=T[0]?T[0][2]:void 0,H=!0,K=!0,he=!1,te=void 0;try{for(var re,ie=T[Symbol.iterator]();!(K=(re=ie.next()).done);K=!0)for(var ce=re.value,se=0;se<ce.length;se+=l.default.RendererGL.prototype.tessyVertexSize)if(ce[se+2]!==V){H=!1;break}}catch(je){he=!0,te=je}finally{try{K||ie.return==null||ie.return()}finally{if(he)throw te}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var he=[],ue=(this._tessy.gluTessBeginPolygon(he),!0),te=!1,pe=void 0;try{for(var ve,Me=T[Symbol.iterator]();!(ue=(ve=Me.next()).done);ue=!0){var xe=ve.value;this._tessy.gluTessBeginContour();for(var me=0;me<xe.length;me+=l.default.RendererGL.prototype.tessyVertexSize){var _e=xe.slice(me,me+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(_e,_e)}this._tessy.gluTessEndContour()}}catch(je){te=!0,pe=je}finally{try{ue||Me.return==null||Me.return()}finally{if(te)throw pe}}return this._tessy.gluTessEndPolygon(),he}}])&&v(W.prototype,U),Q&&v(W,Q),P}(l.default.Renderer),l.default.prototype._assert3d=function(U){if(!this._renderer.isP3D)throw new Error("".concat(U,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,j=l.default.RendererGL,s.default=j},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}a.default.Shader=function(){function l(d,h,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=d,this._vertSrc=h,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var c,m,y;return c=l,(m=[{key:"init",value:function(){if(this._glProgram===0){var d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this._vertSrc),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return a.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(d.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this._fragSrc),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return a.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(d.getShaderInfoLog(this._fragShader))),null;this._glProgram=d.createProgram(),d.attachShader(this._glProgram,this._vertShader),d.attachShader(this._glProgram,this._fragShader),d.linkProgram(this._glProgram),d.getProgramParameter(this._glProgram,d.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(d){var h=new a.default.Shader(d._renderer,this._vertSrc,this._fragSrc);return h.ensureCompiledOnContext(d),h}},{key:"ensureCompiledOnContext",value:function(d){if(this._glProgram!==0&&this._renderer!==d._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=d._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var d=this._renderer.GL,h=d.getProgramParameter(this._glProgram,d.ACTIVE_ATTRIBUTES),p=0;p<h;++p){var f=d.getActiveAttrib(this._glProgram,p),v=f.name,g=d.getAttribLocation(this._glProgram,v),w={};w.name=v,w.location=g,w.index=p,w.type=f.type,w.size=f.size,this.attributes[v]=w}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var d=this._renderer.GL,h=d.getProgramParameter(this._glProgram,d.ACTIVE_UNIFORMS),p=0,f=0;f<h;++f){var v=d.getActiveUniform(this._glProgram,f),g={},w=(g.location=d.getUniformLocation(this._glProgram,v.name),g.size=v.size,v.name);1<v.size&&(w=w.substring(0,w.indexOf("[0]"))),g.name=w,g.type=v.type,g._cachedData=void 0,g.type===d.SAMPLER_2D&&(g.samplerIndex=p,p++,this.samplers.push(g)),g.isArray=1<v.size||g.type===d.FLOAT_MAT3||g.type===d.FLOAT_MAT4||g.type===d.FLOAT_VEC2||g.type===d.FLOAT_VEC3||g.type===d.FLOAT_VEC4||g.type===d.INT_VEC2||g.type===d.INT_VEC4||g.type===d.INT_VEC3,this.uniforms[w]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var d=this._renderer.GL,h=!0,p=!1,f=void 0;try{for(var v,g=this.samplers[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var w=v.value,b=w.texture;b===void 0&&(b=this._renderer._getEmptyTexture()),d.activeTexture(d.TEXTURE0+w.samplerIndex),b.bindTexture(),b.update(),d.uniform1i(w.location,w.samplerIndex)}}catch(_){p=!0,f=_}finally{try{h||g.return==null||g.return()}finally{if(p)throw f}}}},{key:"updateTextures",value:function(){var d=!0,h=!1,p=void 0;try{for(var f,v=this.samplers[Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value.texture;g&&g.update()}}catch(w){h=!0,p=w}finally{try{d||v.return==null||v.return()}finally{if(h)throw p}}}},{key:"unbindTextures",value:function(){var d=!0,h=!1,p=void 0;try{for(var f,v=this.samplers[Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(w){h=!0,p=w}finally{try{d||v.return==null||v.return()}finally{if(h)throw p}}}},{key:"_setMatrixUniforms",value:function(){var d=this._renderer.uModelMatrix,h=this._renderer.uViewMatrix,p=this._renderer.uPMatrix,f=d.copy().mult(h),v=(this._renderer.uMVMatrix=f).copy();v.mult(p),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",p.mat4),this.setUniform("uModelMatrix",d.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",v.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var d=this._renderer.GL;return this._renderer._curShader!==this&&(d.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(d,h){var p=this.uniforms[d];if(p){var f=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,h))return;p._cachedData=h.slice(0)}else{if(p._cachedData&&p._cachedData===h)return;Array.isArray(h)?p._cachedData=h.slice(0):p._cachedData=h}var v=p.location;switch(this.useProgram(),p.type){case f.BOOL:h===!0?f.uniform1i(v,1):f.uniform1i(v,0);break;case f.INT:1<p.size?h.length&&f.uniform1iv(v,h):f.uniform1i(v,h);break;case f.FLOAT:1<p.size?h.length&&f.uniform1fv(v,h):f.uniform1f(v,h);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(v,!1,h);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(v,!1,h);break;case f.FLOAT_VEC2:1<p.size?h.length&&f.uniform2fv(v,h):f.uniform2f(v,h[0],h[1]);break;case f.FLOAT_VEC3:1<p.size?h.length&&f.uniform3fv(v,h):f.uniform3f(v,h[0],h[1],h[2]);break;case f.FLOAT_VEC4:1<p.size?h.length&&f.uniform4fv(v,h):f.uniform4f(v,h[0],h[1],h[2],h[3]);break;case f.INT_VEC2:1<p.size?h.length&&f.uniform2iv(v,h):f.uniform2i(v,h[0],h[1]);break;case f.INT_VEC3:1<p.size?h.length&&f.uniform3iv(v,h):f.uniform3i(v,h[0],h[1],h[2]);break;case f.INT_VEC4:1<p.size?h.length&&f.uniform4iv(v,h):f.uniform4i(v,h[0],h[1],h[2],h[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+p.samplerIndex),p.texture=h instanceof a.default.Texture?h:this._renderer.getTexture(h),f.uniform1i(v,p.samplerIndex),p.texture.src.gifProperties&&p.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(d){return d!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(d,h,p,f,v,g){var w;return d&&(d=d.location)!==-1&&(w=this._renderer.GL,this._renderer.registerEnabled.has(d)||(w.enableVertexAttribArray(d),this._renderer.registerEnabled.add(d)),this._renderer.GL.vertexAttribPointer(d,h,p||w.FLOAT,f||!1,v||0,g||0)),this}},{key:"disableRemainingAttributes",value:function(){var d=this,h=!0,p=!1,f=void 0;try{for(var v,g=this._renderer.registerEnabled.values()[Symbol.iterator]();!(h=(v=g.next()).done);h=!0)(function(){var w=v.value;Object.keys(d.attributes).some(function(b){return d.attributes[b].location===w})||(d._renderer.GL.disableVertexAttribArray(w),d._renderer.registerEnabled.delete(w))})()}catch(w){p=!0,f=w}finally{try{h||g.return==null||g.return()}finally{if(p)throw f}}}}])&&u(c.prototype,m),y&&u(c,y),l}(),t=a.default.Shader,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function u(b){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.checkWebGLCapabilities=w,s.default=s.MipmapTexture=void 0;var l=(g=t("../core/main"))&&g.__esModule?g:{default:g},c=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var _=m();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(t("../core/constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function y(b,_){return(y=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function d(b){return function(){var _,D=h(b),D=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(D,arguments,_)):D.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function h(b){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function v(b,_,D){_&&f(b.prototype,_),D&&f(b,D)}l.default.Texture=function(){function b(S,D,E){p(this,b),this._renderer=S;var M=this._renderer.GL,E=(E=E||{},this.src=D,this.glTex=void 0,this.glTarget=M.TEXTURE_2D,this.glFormat=E.format||M.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||M.LINEAR,this.glMagFilter=E.magFilter||M.LINEAR,this.glWrapS=E.wrapS||M.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||M.CLAMP_TO_EDGE,this.glDataType=E.dataType||M.UNSIGNED_BYTE,w(S)),S=(this.glFormat!==M.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=M.FLOAT),this.glFormat!==M.HALF_FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.glFormat!==M.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=M.UNSIGNED_BYTE),this.glFormat!==M.FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&D instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&D instanceof l.default.Element&&!(D instanceof l.default.Graphics)&&!(D instanceof l.default.Renderer),this.isSrcP5Image=D instanceof l.default.Image,this.isSrcP5Graphics=D instanceof l.default.Graphics,this.isSrcP5Renderer=D instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&D instanceof ImageData,this.isFramebufferTexture=D instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=S.width,this.height=S.height,this.init(S),this}return v(b,[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?_=this.src.elt:this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var D,C=this._renderer.GL;this.isFramebufferTexture||(this.glTex=C.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(D=new Uint8Array([1,1,1,1]),C.texImage2D(this.glTarget,0,C.RGBA,1,1,0,this.glFormat,this.glDataType,D)):C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,D,C,M=this.src;return M.width!==0&&M.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),D=!1,C=this._renderer.GL,_.width!==this.width||_.height!==this.height?(D=!0,this.width=_.width||M.width,this.height=_.height||M.height,this.isSrcP5Image?M.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&M.setModified(!0)):this.isSrcP5Image?M.isModified()&&M.setModified(!(D=!0)):this.isSrcMediaElement?M.isModified()?M.setModified(!(D=!0)):M.loadedmetadata&&this._videoPrevUpdateTime!==M.time()&&(this._videoPrevUpdateTime=M.time(),D=!0):this.isImageData?M._dirty&&(D=!(M._dirty=!1)):D=!0,D&&(this.bindTexture(),C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),D)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,D){var C=this._renderer.GL;this.glMinFilter=this.glFilter(_),this.glMagFilter=this.glFilter(D),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(_){var D=this._renderer.GL;return _===c.NEAREST?D.NEAREST:D.LINEAR}},{key:"setWrapMode",value:function(_,D){function C(O){return(O&O-1)==0}var M=this._renderer.GL,S=this._getTextureDataFromSource(),S=S.naturalWidth&&S.naturalHeight?(E=S.naturalWidth,S.naturalHeight):(E=this.width,this.height),E=C(E),S=C(S);_===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapS=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):_===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapS=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):this.glWrapS=M.CLAMP_TO_EDGE,D===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapT=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):D===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapT=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):this.glWrapT=M.CLAMP_TO_EDGE,this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,this.glWrapS),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),b}();var g=function(b){var _=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&y(_,b);var D=d(C);function C(M,E,S){return p(this,C),E=(M=D.call(this,M,E,S))._renderer.GL,M.glMinFilter===E.LINEAR&&(M.glMinFilter=E.LINEAR_MIPMAP_LINEAR),M}return v(C,[{key:"glFilter",value:function(M){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(M){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var S=0;S<M.length;S++)E.texImage2D(this.glTarget,S,this.glFormat,this.glFormat,this.glDataType,M[S]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),C}(l.default.Texture);function w(M){var _=M.GL,M=M.webglVersion,D=M===c.WEBGL2?_.getExtension("EXT_color_buffer_float")&&_.getExtension("EXT_float_blend"):_.getExtension("OES_texture_float"),C=D&&_.getExtension("OES_texture_float_linear"),M=M===c.WEBGL2?_.getExtension("EXT_color_buffer_float"):_.getExtension("OES_texture_half_float");return{float:D,floatLinear:C,halfFloat:M,halfFloatLinear:M&&_.getExtension("OES_texture_half_float_linear")}}s.MipmapTexture=g,t=l.default.Texture,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function u(b){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var l,c=(l=t("../core/main"))&&l.__esModule?l:{default:l},m=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var _=y();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(t("../core/constants"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function d(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function h(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function p(b,_,D){_&&h(b.prototype,_),D&&h(b,D)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(b){return this._isOpenType()?this._textFont._textWidth(b,this._textSize):0};var f=function(){function b(_,D){d(this,b),this.width=_,this.height=D,this.infos=[]}return p(b,[{key:"findImage",value:function(_){var D,C,M=this.width*this.height;if(M<_)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var S=this.infos[E];if(S.index+_<M){C=(D=S).imageData;break}}if(!D){try{C=new ImageData(this.width,this.height)}catch{var O=document.getElementsByTagName("canvas")[0],I=!O,F=(O||((O=document.createElement("canvas")).style.display="none",document.body.appendChild(O)),O.getContext("2d"));F&&(C=F.createImageData(this.width,this.height)),I&&document.body.removeChild(O)}this.infos.push(D={index:0,imageData:C})}return F=D.index,D.index+=_,C._dirty=!0,{imageData:C,index:F}}}]),b}();function v(S,_,D,C,M){var E=S.imageData.data,S=4*S.index++;E[S++]=_,E[S++]=D,E[S++]=C,E[+S]=M}var g=Math.sqrt(3),w=function(){function b(_){d(this,b),this.font=_,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return p(b,[{key:"getGlyphInfo",value:function(_){var D=this.glyphInfos[_.index];if(!D){var C=_.getBoundingBox(),M=C.x1,E=C.y1,S=C.x2-M,O=C.y2-E,I=_.path.commands;if(S==0||O==0||!I.length)return this.glyphInfos[_.index]={};for(var F=[],j=[],L=[],B=8;0<=B;--B)L.push([]);for(B=8;0<=B;--B)j.push([]);var k,q,G,U,W=function(){function Pe(We,Ze,Qe,Ce){d(this,Pe),this.p0=We,this.c0=Ze,this.c1=Qe,this.p1=Ce}return p(Pe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(oe){var Ze=c.default.Vector.lerp(this.p0,this.c0,oe),Ce=c.default.Vector.lerp(this.c0,this.c1,oe),Qe=c.default.Vector.lerp(Ze,Ce,oe),Ce=(this.c1=c.default.Vector.lerp(this.c1,this.p1,oe),this.c0=c.default.Vector.lerp(Ce,this.c1,oe),c.default.Vector.lerp(Qe,this.c0,oe)),oe=new Pe(this.p0,Ze,Qe,Ce);return this.p0=Ce,oe}},{key:"splitInflections",value:function(){var We=c.default.Vector.sub(this.c0,this.p0),Ze=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),We),Qe=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),We),c.default.Vector.mult(Ze,2)),Ce=[],oe=Ze.x*Qe.y-Ze.y*Qe.x;return oe!==0&&0<=(We=(Qe=We.x*Qe.y-We.y*Qe.x)*Qe-4*oe*(We.x*Ze.y-We.y*Ze.x))&&(oe<0&&(oe=-oe,Qe=-Qe),We=(-Qe+(Ze=Math.sqrt(We)))/(2*oe),0<(Qe=(-Qe-Ze)/(2*oe))&&Qe<1&&(Ce.push(this.split(Qe)),We=1-(1-We)/(1-Qe)),0<We&&We<1&&Ce.push(this.split(We))),Ce.push(this),Ce}}]),Pe}(),Q=!0,le=!1,P=void 0;try{for(var T,V=I[Symbol.iterator]();!(Q=(T=V.next()).done);Q=!0){var H=T.value,K=(H.x-M)/S,re=(H.y-E)/O;if(!De(k,q,K,re)){switch(H.type){case"M":G=K,U=re;break;case"L":je(k,q,K,re);break;case"Q":var ie=(H.x1-M)/S,ce=(H.y1-E)/O;me([k,K,ie],[q,re,ce],{x:k,y:q,cx:ie,cy:ce});break;case"Z":De(k,q,G,U)?F.push({x:k,y:q}):(je(k,q,G,U),F.push({x:G,y:U}));break;case"C":for(var se=function(J,ye,Se,Qe,Ce,oe,ae,X){var J=new W(new c.default.Vector(J,ye),new c.default.Vector(Se,Qe),new c.default.Vector(Ce,oe),new c.default.Vector(ae,X)).splitInflections(),Y=[],ee=30/g,ge=!0,ye=!1,Se=void 0;try{for(var Ae,Be=J[Symbol.iterator]();!(ge=(Ae=Be.next()).done);ge=!0){for(var Ge=Ae.value,Ke=[],pt=void 0;!(.125<=(pt=ee/Ge.quadError()));){var dt=Math.pow(pt,.3333333333333333),lt=Ge.split(dt),mt=Ge.split(1-dt/(1-dt));Y.push(lt),Ke.push(Ge),Ge=mt}pt<1&&Y.push(Ge.split(.5)),Y.push(Ge),Array.prototype.push.apply(Y,Ke.reverse())}}catch(gt){ye=!0,Se=gt}finally{try{ge||Be.return==null||Be.return()}finally{if(ye)throw Se}}return Y}(k,q,(H.x1-M)/S,(H.y1-E)/O,(H.x2-M)/S,(H.y2-E)/O,K,re),he=0;he<se.length;he++){var ue=se[he].toQuadratic();me([ue.x,ue.x1,ue.cx],[ue.y,ue.y1,ue.cy],ue)}break;default:throw new Error("unknown command type: ".concat(H.type))}k=K,q=re}}}catch(Pe){le=!0,P=Pe}finally{try{Q||V.return==null||V.return()}finally{if(le)throw P}}for(var te=F.length,pe=this.strokeImageInfos.findImage(te),ve=pe.index,Me=0;Me<te;++Me){var xe=F[Me];v(pe,_e(xe.x),_e(xe.y),_e(xe.cx),_e(xe.cy))}(D=this.glyphInfos[_.index]={glyph:_,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:pe,strokes:F,colInfo:qe(L,this.colDimImageInfos,this.colCellImageInfos),rowInfo:qe(j,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D;function me(Pe,We,Ze){var Qe=F.length;function Ce(Y,ee,ge){for(var ye=Y.length;0<ye--;){var Se=Y[ye];Se<ee&&(ee=Se),ge<Se&&(ge=Se)}return{min:ee,max:ge}}F.push(Ze);for(var Ze=Ce(Pe,1,0),Pe=Math.max(Math.floor(9*Ze.min-.5),0),oe=Math.min(Math.ceil(9*Ze.max+.5),9),ae=Pe;ae<oe;++ae)L[ae].push(Qe);for(var Ze=Ce(We,1,0),Pe=Math.max(Math.floor(9*Ze.min-.5),0),X=Math.min(Math.ceil(9*Ze.max+.5),9),J=Pe;J<X;++J)j[J].push(Qe)}function _e(Pe){return(Pe=(Ze=255)*Pe)<(We=0)?We:Ze<Pe?Ze:Pe;var We,Ze}function je(Pe,We,Ze,Qe){me([Pe,Ze],[We,Qe],{x:Pe,y:We,cx:(Pe+Ze)/2,cy:(We+Qe)/2})}function De(Pe,We,Ze,Qe){return Math.abs(Ze-Pe)<1e-5&&Math.abs(Qe-We)<1e-5}function qe(Pe,We,Ze){for(var Qe=Pe.length,Ce=We.findImage(Qe),We=Ce.index,oe=0,ae=0;ae<Qe;++ae)oe+=Pe[ae].length;for(var X=Ze.findImage(oe),J=0;J<Qe;++J){var Y=Pe[J],ee=Y.length,ge=X.index;v(Ce,ge>>7,127&ge,ee>>7,127&ee);for(var ye=0;ye<ee;++ye){var Se=Y[ye]+ve;v(X,Se>>7,127&Se,0,0)}}return{cellImageInfo:X,dimOffset:We,dimImageInfo:Ce}}}}]),b}();c.default.RendererGL.prototype._renderText=function(b,_,D,C,M){if(this._textFont&&typeof this._textFont!="string"){if(!(M<=C)&&this._doFill){if(this._isOpenType()){b.push();var M=this._doStroke,E=this.drawMode,S=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),O=(O=this._textFont._fontInfo)||(this._textFont._fontInfo=new w(S)),D=this._textFont._handleAlignment(this,_,D,C),C=this._textSize/S.unitsPerEm,I=(this.translate(D.x,D.y,0),this.scale(C,C,1),this.GL),D=!this._defaultFontShader,F=this._getFontShader(),j=(F.init(),F.bindShader(),D&&(F.setUniform("uGridImageSize",[64,64]),F.setUniform("uCellsImageSize",[64,64]),F.setUniform("uStrokeImageSize",[64,64]),F.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),L=(j||((C=this._textGeom=new c.default.Geometry(1,1,function(){for(var he=0;he<=1;he++)for(var ue=0;ue<=1;ue++)this.vertices.push(new c.default.Vector(ue,he,0)),this.uvs.push(ue,he)})).computeFaces().computeNormals(),j=this.createBuffers("glyph",C)),!0),D=!1,C=void 0;try{for(var B,k=this.retainedMode.buffers.text[Symbol.iterator]();!(L=(B=k.next()).done);L=!0)B.value._prepareBuffer(j,F)}catch(he){D=!0,C=he}finally{try{L||k.return==null||k.return()}finally{if(D)throw C}}this._bindBuffer(j.indexBuffer,I.ELEMENT_ARRAY_BUFFER),F.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var q=0,G=null,U=S.stringToGlyphs(_),W=!0,Q=!1,le=void 0;try{for(var P,T=U[Symbol.iterator]();!(W=(P=T.next()).done);W=!0){var V,H,K=P.value,re=(G&&(q+=S.getKerningValue(G,K)),O.getGlyphInfo(K));re.uGlyphRect&&(V=re.rowInfo,H=re.colInfo,F.setUniform("uSamplerStrokes",re.strokeImageInfo.imageData),F.setUniform("uSamplerRowStrokes",V.cellImageInfo.imageData),F.setUniform("uSamplerRows",V.dimImageInfo.imageData),F.setUniform("uSamplerColStrokes",H.cellImageInfo.imageData),F.setUniform("uSamplerCols",H.dimImageInfo.imageData),F.setUniform("uGridOffset",re.uGridOffset),F.setUniform("uGlyphRect",re.uGlyphRect),F.setUniform("uGlyphOffset",q),F.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),q+=K.advanceWidth,G=K}}catch(he){Q=!0,le=he}finally{try{W||T.return==null||T.return()}finally{if(Q)throw le}}}finally{F.unbindShader(),this._doStroke=M,this.drawMode=E,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return b}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});function T1(n,r){return Object.is(n,r)}var un=null,xc=!1,Dc=1,gi=Symbol("SIGNAL");function or(n){let r=un;return un=n,r}function I1(){return un}var Xl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ap(n){if(xc)throw new Error("");if(un===null)return;un.consumerOnSignalRead(n);let r=un.nextProducerIndex++;if(Mc(un),r<un.producerNode.length&&un.producerNode[r]!==n&&Yl(un)){let o=un.producerNode[r];Cc(o,un.producerIndexOfThis[r])}un.producerNode[r]!==n&&(un.producerNode[r]=n,un.producerIndexOfThis[r]=Yl(un)?F1(n,un,r):0),un.producerLastReadVersion[r]=n.version}function jA(){Dc++}function j1(n){if(!(Yl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Dc)){if(!n.producerMustRecompute(n)&&!Ip(n)){n.dirty=!1,n.lastCleanEpoch=Dc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Dc}}function N1(n){if(n.liveConsumerNode===void 0)return;let r=xc;xc=!0;try{for(let o of n.liveConsumerNode)o.dirty||NA(o)}finally{xc=r}}function O1(){return un?.consumerAllowSignalWrites!==!1}function NA(n){n.dirty=!0,N1(n),n.consumerMarkedDirty?.(n)}function Ec(n){return n&&(n.nextProducerIndex=0),or(n)}function Tp(n,r){if(or(r),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Yl(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)Cc(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ip(n){Mc(n);for(let r=0;r<n.producerNode.length;r++){let o=n.producerNode[r],t=n.producerLastReadVersion[r];if(t!==o.version||(j1(o),t!==o.version))return!0}return!1}function jp(n){if(Mc(n),Yl(n))for(let r=0;r<n.producerNode.length;r++)Cc(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function F1(n,r,o){if(k1(n),n.liveConsumerNode.length===0&&R1(n))for(let t=0;t<n.producerNode.length;t++)n.producerIndexOfThis[t]=F1(n.producerNode[t],n,t);return n.liveConsumerIndexOfThis.push(o),n.liveConsumerNode.push(r)-1}function Cc(n,r){if(k1(n),n.liveConsumerNode.length===1&&R1(n))for(let t=0;t<n.producerNode.length;t++)Cc(n.producerNode[t],n.producerIndexOfThis[t]);let o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){let t=n.liveConsumerIndexOfThis[r],i=n.liveConsumerNode[r];Mc(i),i.producerIndexOfThis[t]=r}}function Yl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function k1(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function R1(n){return n.producerNode!==void 0}function P1(n){let r=Object.create(OA);r.computation=n;let o=()=>{if(j1(r),Ap(r),r.value===Sc)throw r.error;return r.value};return o[gi]=r,o}var Cp=Symbol("UNSET"),Mp=Symbol("COMPUTING"),Sc=Symbol("ERRORED"),OA=Rt(Je({},Xl),{value:Cp,dirty:!0,error:null,equal:T1,producerMustRecompute(n){return n.value===Cp||n.value===Mp},producerRecomputeValue(n){if(n.value===Mp)throw new Error("Detected cycle in computations.");let r=n.value;n.value=Mp;let o=Ec(n),t;try{t=n.computation()}catch(i){t=Sc,n.error=i}finally{Tp(n,o)}if(r!==Cp&&r!==Sc&&t!==Sc&&n.equal(r,t)){n.value=r;return}n.value=t,n.version++}});function FA(){throw new Error}var L1=FA;function B1(){L1()}function V1(n){L1=n}var kA=null;function U1(n){let r=Object.create(G1);r.value=n;let o=()=>(Ap(r),r.value);return o[gi]=r,o}function Np(n,r){O1()||B1(),n.equal(n.value,r)||(n.value=r,RA(n))}function z1(n,r){O1()||B1(),Np(n,r(n.value))}var G1=Rt(Je({},Xl),{equal:T1,value:void 0});function RA(n){n.version++,jA(),N1(n),kA?.()}function Dt(n){return typeof n=="function"}function ga(n){let o=n(t=>{Error.call(t),t.stack=new Error().stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}var Ac=ga(n=>function(o){n(this),this.message=o?`${o.length} errors occurred during unsubscription:
${o.map((t,i)=>`${i+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=o});function Ss(n,r){if(n){let o=n.indexOf(r);0<=o&&n.splice(o,1)}}var Or=class n{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(let s of o)s.remove(this);else o.remove(this);let{initialTeardown:t}=this;if(Dt(t))try{t()}catch(s){r=s instanceof Ac?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{H1(s)}catch(a){r=r??[],a instanceof Ac?r=[...r,...a.errors]:r.push(a)}}if(r)throw new Ac(r)}}add(r){var o;if(r&&r!==this)if(this.closed)H1(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(o=this._finalizers)!==null&&o!==void 0?o:[]).push(r)}}_hasParent(r){let{_parentage:o}=this;return o===r||Array.isArray(o)&&o.includes(r)}_addParent(r){let{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(r),o):o?[o,r]:r}_removeParent(r){let{_parentage:o}=this;o===r?this._parentage=null:Array.isArray(o)&&Ss(o,r)}remove(r){let{_finalizers:o}=this;o&&Ss(o,r),r instanceof n&&r._removeParent(this)}};Or.EMPTY=(()=>{let n=new Or;return n.closed=!0,n})();var Op=Or.EMPTY;function Tc(n){return n instanceof Or||n&&"closed"in n&&Dt(n.remove)&&Dt(n.add)&&Dt(n.unsubscribe)}function H1(n){Dt(n)?n():n.unsubscribe()}var xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ya={setTimeout(n,r,...o){let{delegate:t}=ya;return t?.setTimeout?t.setTimeout(n,r,...o):setTimeout(n,r,...o)},clearTimeout(n){let{delegate:r}=ya;return(r?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ic(n){ya.setTimeout(()=>{let{onUnhandledError:r}=xo;if(r)r(n);else throw n})}function Zl(){}var q1=Fp("C",void 0,void 0);function W1(n){return Fp("E",void 0,n)}function $1(n){return Fp("N",n,void 0)}function Fp(n,r,o){return{kind:n,value:r,error:o}}var Es=null;function va(n){if(xo.useDeprecatedSynchronousErrorHandling){let r=!Es;if(r&&(Es={errorThrown:!1,error:null}),n(),r){let{errorThrown:o,error:t}=Es;if(Es=null,o)throw t}}else n()}function Y1(n){xo.useDeprecatedSynchronousErrorHandling&&Es&&(Es.errorThrown=!0,Es.error=n)}var Cs=class extends Or{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,Tc(r)&&r.add(this)):this.destination=BA}static create(r,o,t){return new ba(r,o,t)}next(r){this.isStopped?Rp($1(r),this):this._next(r)}error(r){this.isStopped?Rp(W1(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Rp(q1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PA=Function.prototype.bind;function kp(n,r){return PA.call(n,r)}var Pp=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:o}=this;if(o.next)try{o.next(r)}catch(t){jc(t)}}error(r){let{partialObserver:o}=this;if(o.error)try{o.error(r)}catch(t){jc(t)}else jc(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(o){jc(o)}}},ba=class extends Cs{constructor(r,o,t){super();let i;if(Dt(r)||!r)i={next:r??void 0,error:o??void 0,complete:t??void 0};else{let s;this&&xo.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&kp(r.next,s),error:r.error&&kp(r.error,s),complete:r.complete&&kp(r.complete,s)}):i=r}this.destination=new Pp(i)}};function jc(n){xo.useDeprecatedSynchronousErrorHandling?Y1(n):Ic(n)}function LA(n){throw n}function Rp(n,r){let{onStoppedNotification:o}=xo;o&&ya.setTimeout(()=>o(n,r))}var BA={closed:!0,next:Zl,error:LA,complete:Zl};var wa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zn(n){return n}function Lp(...n){return Bp(n)}function Bp(n){return n.length===0?Zn:n.length===1?n[0]:function(o){return n.reduce((t,i)=>i(t),o)}}var tr=(()=>{class n{constructor(o){o&&(this._subscribe=o)}lift(o){let t=new n;return t.source=this,t.operator=o,t}subscribe(o,t,i){let s=UA(o)?o:new ba(o,t,i);return va(()=>{let{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(o){try{return this._subscribe(o)}catch(t){o.error(t)}}forEach(o,t){return t=X1(t),new t((i,s)=>{let a=new ba({next:u=>{try{o(u)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(o){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(o)}[wa](){return this}pipe(...o){return Bp(o)(this)}toPromise(o){return o=X1(o),new o((t,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>t(s))})}}return n.create=r=>new n(r),n})();function X1(n){var r;return(r=n??xo.Promise)!==null&&r!==void 0?r:Promise}function VA(n){return n&&Dt(n.next)&&Dt(n.error)&&Dt(n.complete)}function UA(n){return n&&n instanceof Cs||VA(n)&&Tc(n)}function Vp(n){return Dt(n?.lift)}function rr(n){return r=>{if(Vp(r))return r.lift(function(o){try{return n(o,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(n,r,o,t,i){return new Up(n,r,o,t,i)}var Up=class extends Cs{constructor(r,o,t,i,s,a){super(r),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=o?function(u){try{o(u)}catch(l){r.error(l)}}:super._next,this._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(u){r.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:o}=this;super.unsubscribe(),!o&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function _a(){return rr((n,r)=>{let o=null;n._refCount++;let t=Wt(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){o=null;return}let i=n._connection,s=o;o=null,i&&(!s||i===s)&&i.unsubscribe(),r.unsubscribe()});n.subscribe(t),t.closed||(o=n.connect())})}var xa=class extends tr{constructor(r,o){super(),this.source=r,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,Vp(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Or;let o=this.getSubject();r.add(this.source.subscribe(Wt(o,void 0,()=>{this._teardown(),o.complete()},t=>{this._teardown(),o.error(t)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Or.EMPTY)}return r}refCount(){return _a()(this)}};var Da={schedule(n){let r=requestAnimationFrame,o=cancelAnimationFrame,{delegate:t}=Da;t&&(r=t.requestAnimationFrame,o=t.cancelAnimationFrame);let i=r(s=>{o=void 0,n(s)});return new Or(()=>o?.(i))},requestAnimationFrame(...n){let{delegate:r}=Da;return(r?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:r}=Da;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Z1=ga(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rn=(()=>{class n extends tr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){let t=new Nc(this,this);return t.operator=o,t}_throwIfClosed(){if(this.closed)throw new Z1}next(o){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(o)}})}error(o){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;let{observers:t}=this;for(;t.length;)t.shift().error(o)}})}complete(){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){let{hasError:t,isStopped:i,observers:s}=this;return t||i?Op:(this.currentObservers=null,s.push(o),new Or(()=>{this.currentObservers=null,Ss(s,o)}))}_checkFinalizedStatuses(o){let{hasError:t,thrownError:i,isStopped:s}=this;t?o.error(i):s&&o.complete()}asObservable(){let o=new tr;return o.source=this,o}}return n.create=(r,o)=>new Nc(r,o),n})(),Nc=class extends rn{constructor(r,o){super(),this.destination=r,this.source=o}next(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.next)===null||t===void 0||t.call(o,r)}error(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.error)===null||t===void 0||t.call(o,r)}complete(){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||o===void 0||o.call(r)}_subscribe(r){var o,t;return(t=(o=this.source)===null||o===void 0?void 0:o.subscribe(r))!==null&&t!==void 0?t:Op}};var _n=class extends rn{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let o=super._subscribe(r);return!o.closed&&r.next(this._value),o}getValue(){let{hasError:r,thrownError:o,_value:t}=this;if(r)throw o;return this._throwIfClosed(),t}next(r){super.next(this._value=r)}};var zp={now(){return(zp.delegate||Date).now()},delegate:void 0};var Oc=class extends Or{constructor(r,o){super()}schedule(r,o=0){return this}};var Ql={setInterval(n,r,...o){let{delegate:t}=Ql;return t?.setInterval?t.setInterval(n,r,...o):setInterval(n,r,...o)},clearInterval(n){let{delegate:r}=Ql;return(r?.clearInterval||clearInterval)(n)},delegate:void 0};var Sa=class extends Oc{constructor(r,o){super(r,o),this.scheduler=r,this.work=o,this.pending=!1}schedule(r,o=0){var t;if(this.closed)return this;this.state=r;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,o)),this.pending=!0,this.delay=o,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(s,this.id,o),this}requestAsyncId(r,o,t=0){return Ql.setInterval(r.flush.bind(r,this),t)}recycleAsyncId(r,o,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return o;o!=null&&Ql.clearInterval(o)}execute(r,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(r,o);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,o){let t=!1,i;try{this.work(r)}catch(s){t=!0,i=s||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:r,scheduler:o}=this,{actions:t}=o;this.work=this.state=this.scheduler=null,this.pending=!1,Ss(t,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,super.unsubscribe()}}};var Ea=class n{constructor(r,o=n.now){this.schedulerActionCtor=r,this.now=o}schedule(r,o=0,t){return new this.schedulerActionCtor(this,r).schedule(t,o)}};Ea.now=zp.now;var Ca=class extends Ea{constructor(r,o=Ea.now){super(r,o),this.actions=[],this._active=!1}flush(r){let{actions:o}=this;if(this._active){o.push(r);return}let t;this._active=!0;do if(t=r.execute(r.state,r.delay))break;while(r=o.shift());if(this._active=!1,t){for(;r=o.shift();)r.unsubscribe();throw t}}};var zA=new Ca(Sa),Q1=zA;var Fc=class extends Sa{constructor(r,o){super(r,o),this.scheduler=r,this.work=o}requestAsyncId(r,o,t=0){return t!==null&&t>0?super.requestAsyncId(r,o,t):(r.actions.push(this),r._scheduled||(r._scheduled=Da.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,o,t=0){var i;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(r,o,t);let{actions:s}=r;o!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==o&&(Da.cancelAnimationFrame(o),r._scheduled=void 0)}};var kc=class extends Ca{flush(r){this._active=!0;let o=this._scheduled;this._scheduled=void 0;let{actions:t}=this,i;r=r||t.shift();do if(i=r.execute(r.state,r.delay))break;while((r=t[0])&&r.id===o&&t.shift());if(this._active=!1,i){for(;(r=t[0])&&r.id===o&&t.shift();)r.unsubscribe();throw i}}};var Gp=new kc(Fc);var On=new tr(n=>n.complete());function Rc(n){return n&&Dt(n.schedule)}function Hp(n){return n[n.length-1]}function Pc(n){return Dt(Hp(n))?n.pop():void 0}function zo(n){return Rc(Hp(n))?n.pop():void 0}function K1(n,r){return typeof Hp(n)=="number"?n.pop():r}function ew(n,r,o,t){function i(s){return s instanceof o?s:new o(function(a){a(s)})}return new(o||(o=Promise))(function(s,a){function u(m){try{c(t.next(m))}catch(y){a(y)}}function l(m){try{c(t.throw(m))}catch(y){a(y)}}function c(m){m.done?s(m.value):i(m.value).then(u,l)}c((t=t.apply(n,r||[])).next())})}function J1(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],t=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ms(n){return this instanceof Ms?(this.v=n,this):new Ms(n)}function tw(n,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o.apply(n,r||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(p){return Promise.resolve(p).then(h,y)}}function u(h,p){t[h]&&(i[h]=function(f){return new Promise(function(v,g){s.push([h,f,v,g])>1||l(h,f)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(t[h](p))}catch(f){d(s[0][3],f)}}function c(h){h.value instanceof Ms?Promise.resolve(h.value.v).then(m,y):d(s[0][2],h)}function m(h){l("next",h)}function y(h){l("throw",h)}function d(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function rw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],o;return r?r.call(n):(n=typeof J1=="function"?J1(n):n[Symbol.iterator](),o={},t("next"),t("throw"),t("return"),o[Symbol.asyncIterator]=function(){return this},o);function t(s){o[s]=n[s]&&function(a){return new Promise(function(u,l){a=n[s](a),i(u,l,a.done,a.value)})}}function i(s,a,u,l){Promise.resolve(l).then(function(c){s({value:c,done:u})},a)}}var Ma=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lc(n){return Dt(n?.then)}function Bc(n){return Dt(n[wa])}function Vc(n){return Symbol.asyncIterator&&Dt(n?.[Symbol.asyncIterator])}function Uc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zc=GA();function Gc(n){return Dt(n?.[zc])}function Hc(n){return tw(this,arguments,function*(){let o=n.getReader();try{for(;;){let{value:t,done:i}=yield Ms(o.read());if(i)return yield Ms(void 0);yield yield Ms(t)}}finally{o.releaseLock()}})}function qc(n){return Dt(n?.getReader)}function Fr(n){if(n instanceof tr)return n;if(n!=null){if(Bc(n))return HA(n);if(Ma(n))return qA(n);if(Lc(n))return WA(n);if(Vc(n))return nw(n);if(Gc(n))return $A(n);if(qc(n))return YA(n)}throw Uc(n)}function HA(n){return new tr(r=>{let o=n[wa]();if(Dt(o.subscribe))return o.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qA(n){return new tr(r=>{for(let o=0;o<n.length&&!r.closed;o++)r.next(n[o]);r.complete()})}function WA(n){return new tr(r=>{n.then(o=>{r.closed||(r.next(o),r.complete())},o=>r.error(o)).then(null,Ic)})}function $A(n){return new tr(r=>{for(let o of n)if(r.next(o),r.closed)return;r.complete()})}function nw(n){return new tr(r=>{XA(n,r).catch(o=>r.error(o))})}function YA(n){return nw(Hc(n))}function XA(n,r){var o,t,i,s;return ew(this,void 0,void 0,function*(){try{for(o=rw(n);t=yield o.next(),!t.done;){let a=t.value;if(r.next(a),r.closed)return}}catch(a){i={error:a}}finally{try{t&&!t.done&&(s=o.return)&&(yield s.call(o))}finally{if(i)throw i.error}}r.complete()})}function Ln(n,r,o,t=0,i=!1){let s=r.schedule(function(){o(),i?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(s),!i)return s}function Wc(n,r=0){return rr((o,t)=>{o.subscribe(Wt(t,i=>Ln(t,n,()=>t.next(i),r),()=>Ln(t,n,()=>t.complete(),r),i=>Ln(t,n,()=>t.error(i),r)))})}function $c(n,r=0){return rr((o,t)=>{t.add(n.schedule(()=>o.subscribe(t),r))})}function ow(n,r){return Fr(n).pipe($c(r),Wc(r))}function iw(n,r){return Fr(n).pipe($c(r),Wc(r))}function sw(n,r){return new tr(o=>{let t=0;return r.schedule(function(){t===n.length?o.complete():(o.next(n[t++]),o.closed||this.schedule())})})}function aw(n,r){return new tr(o=>{let t;return Ln(o,r,()=>{t=n[zc](),Ln(o,r,()=>{let i,s;try{({value:i,done:s}=t.next())}catch(a){o.error(a);return}s?o.complete():o.next(i)},0,!0)}),()=>Dt(t?.return)&&t.return()})}function Yc(n,r){if(!n)throw new Error("Iterable cannot be null");return new tr(o=>{Ln(o,r,()=>{let t=n[Symbol.asyncIterator]();Ln(o,r,()=>{t.next().then(i=>{i.done?o.complete():o.next(i.value)})},0,!0)})})}function lw(n,r){return Yc(Hc(n),r)}function uw(n,r){if(n!=null){if(Bc(n))return ow(n,r);if(Ma(n))return sw(n,r);if(Lc(n))return iw(n,r);if(Vc(n))return Yc(n,r);if(Gc(n))return aw(n,r);if(qc(n))return lw(n,r)}throw Uc(n)}function Sr(n,r){return r?uw(n,r):Fr(n)}function Et(...n){let r=zo(n);return Sr(n,r)}function Aa(n,r){let o=Dt(n)?n:()=>n,t=i=>i.error(o());return new tr(r?i=>r.schedule(t,0,i):t)}function qp(n){return!!n&&(n instanceof tr||Dt(n.lift)&&Dt(n.subscribe))}var yi=ga(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cw(n){return n instanceof Date&&!isNaN(n)}function Ht(n,r){return rr((o,t)=>{let i=0;o.subscribe(Wt(t,s=>{t.next(n.call(r,s,i++))}))})}var{isArray:ZA}=Array;function QA(n,r){return ZA(r)?n(...r):n(r)}function Ta(n){return Ht(r=>QA(n,r))}var{isArray:KA}=Array,{getPrototypeOf:JA,prototype:eT,keys:tT}=Object;function Xc(n){if(n.length===1){let r=n[0];if(KA(r))return{args:r,keys:null};if(rT(r)){let o=tT(r);return{args:o.map(t=>r[t]),keys:o}}}return{args:n,keys:null}}function rT(n){return n&&typeof n=="object"&&JA(n)===eT}function Zc(n,r){return n.reduce((o,t,i)=>(o[t]=r[i],o),{})}function Kl(...n){let r=zo(n),o=Pc(n),{args:t,keys:i}=Xc(n);if(t.length===0)return Sr([],r);let s=new tr(nT(t,r,i?a=>Zc(i,a):Zn));return o?s.pipe(Ta(o)):s}function nT(n,r,o=Zn){return t=>{dw(r,()=>{let{length:i}=n,s=new Array(i),a=i,u=i;for(let l=0;l<i;l++)dw(r,()=>{let c=Sr(n[l],r),m=!1;c.subscribe(Wt(t,y=>{s[l]=y,m||(m=!0,u--),u||t.next(o(s.slice()))},()=>{--a||t.complete()}))},t)},t)}}function dw(n,r,o){n?Ln(o,n,r):r()}function fw(n,r,o,t,i,s,a,u){let l=[],c=0,m=0,y=!1,d=()=>{y&&!l.length&&!c&&r.complete()},h=f=>c<t?p(f):l.push(f),p=f=>{s&&r.next(f),c++;let v=!1;Fr(o(f,m++)).subscribe(Wt(r,g=>{i?.(g),s?h(g):r.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<t;){let g=l.shift();a?Ln(r,a,()=>p(g)):p(g)}d()}catch(g){r.error(g)}}))};return n.subscribe(Wt(r,h,()=>{y=!0,d()})),()=>{u?.()}}function Yr(n,r,o=1/0){return Dt(r)?Yr((t,i)=>Ht((s,a)=>r(t,s,i,a))(Fr(n(t,i))),o):(typeof r=="number"&&(o=r),rr((t,i)=>fw(t,i,n,o)))}function Go(n=1/0){return Yr(Zn,n)}function hw(){return Go(1)}function Ia(...n){return hw()(Sr(n,zo(n)))}function Qc(n){return new tr(r=>{Fr(n()).subscribe(r)})}function Wp(...n){let r=Pc(n),{args:o,keys:t}=Xc(n),i=new tr(s=>{let{length:a}=o;if(!a){s.complete();return}let u=new Array(a),l=a,c=a;for(let m=0;m<a;m++){let y=!1;Fr(o[m]).subscribe(Wt(s,d=>{y||(y=!0,c--),u[m]=d},()=>l--,void 0,()=>{(!l||!y)&&(c||s.next(t?Zc(t,u):u),s.complete())}))}});return r?i.pipe(Ta(r)):i}var oT=["addListener","removeListener"],iT=["addEventListener","removeEventListener"],sT=["on","off"];function ja(n,r,o,t){if(Dt(o)&&(t=o,o=void 0),t)return ja(n,r,o).pipe(Ta(t));let[i,s]=uT(n)?iT.map(a=>u=>n[a](r,u,o)):aT(n)?oT.map(pw(n,r)):lT(n)?sT.map(pw(n,r)):[];if(!i&&Ma(n))return Yr(a=>ja(a,r,o))(Fr(n));if(!i)throw new TypeError("Invalid event target");return new tr(a=>{let u=(...l)=>a.next(1<l.length?l:l[0]);return i(u),()=>s(u)})}function pw(n,r){return o=>t=>n[o](r,t)}function aT(n){return Dt(n.addListener)&&Dt(n.removeListener)}function lT(n){return Dt(n.on)&&Dt(n.off)}function uT(n){return Dt(n.addEventListener)&&Dt(n.removeEventListener)}function $p(n=0,r,o=Q1){let t=-1;return r!=null&&(Rc(r)?o=r:t=r),new tr(i=>{let s=cw(n)?+n-o.now():n;s<0&&(s=0);let a=0;return o.schedule(function(){i.closed||(i.next(a++),0<=t?this.schedule(void 0,t):i.complete())},s)})}function Yp(...n){let r=zo(n),o=K1(n,1/0),t=n;return t.length?t.length===1?Fr(t[0]):Go(o)(Sr(t,r)):On}function lo(n,r){return rr((o,t)=>{let i=0;o.subscribe(Wt(t,s=>n.call(r,s,i++)&&t.next(s)))})}function zi(n){return rr((r,o)=>{let t=null,i=!1,s;t=r.subscribe(Wt(o,void 0,void 0,a=>{s=Fr(n(a,zi(n)(r))),t?(t.unsubscribe(),t=null,s.subscribe(o)):i=!0})),i&&(t.unsubscribe(),t=null,s.subscribe(o))})}function mw(n,r,o,t,i){return(s,a)=>{let u=o,l=r,c=0;s.subscribe(Wt(a,m=>{let y=c++;l=u?n(l,m,y):(u=!0,m),t&&a.next(l)},i&&(()=>{u&&a.next(l),a.complete()})))}}function As(n,r){return Dt(r)?Yr(n,r,1):Yr(n,1)}function Gi(n){return rr((r,o)=>{let t=!1;r.subscribe(Wt(o,i=>{t=!0,o.next(i)},()=>{t||o.next(n),o.complete()}))})}function Do(n){return n<=0?()=>On:rr((r,o)=>{let t=0;r.subscribe(Wt(o,i=>{++t<=n&&(o.next(i),n<=t&&o.complete())}))})}function Xp(n){return Ht(()=>n)}function Kc(n=cT){return rr((r,o)=>{let t=!1;r.subscribe(Wt(o,i=>{t=!0,o.next(i)},()=>t?o.complete():o.error(n())))})}function cT(){return new yi}function Jl(n){return rr((r,o)=>{try{r.subscribe(o)}finally{o.add(n)}})}function Ho(n,r){let o=arguments.length>=2;return t=>t.pipe(n?lo((i,s)=>n(i,s,t)):Zn,Do(1),o?Gi(r):Kc(()=>new yi))}function Na(n){return n<=0?()=>On:rr((r,o)=>{let t=[];r.subscribe(Wt(o,i=>{t.push(i),n<t.length&&t.shift()},()=>{for(let i of t)o.next(i);o.complete()},void 0,()=>{t=null}))})}function Zp(n,r){let o=arguments.length>=2;return t=>t.pipe(n?lo((i,s)=>n(i,s,t)):Zn,Na(1),o?Gi(r):Kc(()=>new yi))}function Qp(n,r){return rr(mw(n,r,arguments.length>=2,!0))}function Kp(...n){let r=zo(n);return rr((o,t)=>{(r?Ia(n,o,r):Ia(n,o)).subscribe(t)})}function uo(n,r){return rr((o,t)=>{let i=null,s=0,a=!1,u=()=>a&&!i&&t.complete();o.subscribe(Wt(t,l=>{i?.unsubscribe();let c=0,m=s++;Fr(n(l,m)).subscribe(i=Wt(t,y=>t.next(r?r(l,y,m,c++):y),()=>{i=null,u()}))},()=>{a=!0,u()}))})}function Jp(n){return rr((r,o)=>{Fr(n).subscribe(Wt(o,()=>o.complete(),Zl)),!o.closed&&r.subscribe(o)})}function xn(n,r,o){let t=Dt(n)||r||o?{next:n,error:r,complete:o}:n;return t?rr((i,s)=>{var a;(a=t.subscribe)===null||a===void 0||a.call(t);let u=!0;i.subscribe(Wt(s,l=>{var c;(c=t.next)===null||c===void 0||c.call(t,l),s.next(l)},()=>{var l;u=!1,(l=t.complete)===null||l===void 0||l.call(t),s.complete()},l=>{var c;u=!1,(c=t.error)===null||c===void 0||c.call(t,l),s.error(l)},()=>{var l,c;u&&((l=t.unsubscribe)===null||l===void 0||l.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):Zn}var Kw="https://g.co/ng/security#xss",et=class extends Error{constructor(r,o){super(hg(r,o)),this.code=r}};function hg(n,r){return`${`NG0${Math.abs(n)}`}${r?": "+r:""}`}function cu(n){return{toString:n}.toString()}var Jc="__parameters__";function dT(n){return function(...o){if(n){let t=n(...o);for(let i in t)this[i]=t[i]}}}function Jw(n,r,o){return cu(()=>{let t=dT(r);function i(...s){if(this instanceof i)return t.apply(this,s),this;let a=new i(...s);return u.annotation=a,u;function u(l,c,m){let y=l.hasOwnProperty(Jc)?l[Jc]:Object.defineProperty(l,Jc,{value:[]})[Jc];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(a),l}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Mo=globalThis;function br(n){for(let r in n)if(n[r]===br)return r;throw Error("Could not find renamed property on target object.")}function fT(n,r){for(let o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function kn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(kn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let r=n.toString();if(r==null)return""+r;let o=r.indexOf(`
`);return o===-1?r:r.substring(0,o)}function hm(n,r){return n==null||n===""?r===null?"":r:r==null||r===""?n:n+" "+r}var hT=br({__forward_ref__:br});function du(n){return n.__forward_ref__=du,n.toString=function(){return kn(this())},n}function Fn(n){return e_(n)?n():n}function e_(n){return typeof n=="function"&&n.hasOwnProperty(hT)&&n.__forward_ref__===du}function tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Er(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rd(n){return gw(n,r_)||gw(n,n_)}function t_(n){return Rd(n)!==null}function gw(n,r){return n.hasOwnProperty(r)?n[r]:null}function pT(n){let r=n&&(n[r_]||n[n_]);return r||null}function yw(n){return n&&(n.hasOwnProperty(vw)||n.hasOwnProperty(mT))?n[vw]:null}var r_=br({\u0275prov:br}),vw=br({\u0275inj:br}),n_=br({ngInjectableDef:br}),mT=br({ngInjectorDef:br}),_t=class{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof o=="number"?this.__NG_ELEMENT_ID__=o:o!==void 0&&(this.\u0275prov=tt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o_(n){return n&&!!n.\u0275providers}var gT=br({\u0275cmp:br}),yT=br({\u0275dir:br}),vT=br({\u0275pipe:br}),bT=br({\u0275mod:br}),cd=br({\u0275fac:br}),tu=br({__NG_ELEMENT_ID__:br}),bw=br({__NG_ENV_ID__:br});function Pd(n){return typeof n=="string"?n:n==null?"":String(n)}function wT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Pd(n)}function _T(n,r){let o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,n)}function pg(n,r){throw new et(-201,!1)}var Pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pt||{}),pm;function i_(){return pm}function Bn(n){let r=pm;return pm=n,r}function s_(n,r,o){let t=Rd(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(o&Pt.Optional)return null;if(r!==void 0)return r;pg(n,"Injector")}var xT={},nu=xT,mm="__NG_DI_FLAG__",dd="ngTempTokenPath",DT="ngTokenPath",ST=/\n/gm,ET="\u0275",ww="__source",Pa;function CT(){return Pa}function Hi(n){let r=Pa;return Pa=n,r}function MT(n,r=Pt.Default){if(Pa===void 0)throw new et(-203,!1);return Pa===null?s_(n,void 0,r):Pa.get(n,r&Pt.Optional?null:void 0,r)}function ut(n,r=Pt.Default){return(i_()||MT)(Fn(n),r)}function rt(n,r=Pt.Default){return ut(n,Ld(r))}function Ld(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gm(n){let r=[];for(let o=0;o<n.length;o++){let t=Fn(n[o]);if(Array.isArray(t)){if(t.length===0)throw new et(900,!1);let i,s=Pt.Default;for(let a=0;a<t.length;a++){let u=t[a],l=AT(u);typeof l=="number"?l===-1?i=u.token:s|=l:i=u}r.push(ut(i,s))}else r.push(ut(t))}return r}function a_(n,r){return n[mm]=r,n.prototype[mm]=r,n}function AT(n){return n[mm]}function TT(n,r,o,t){let i=n[dd];throw r[ww]&&i.unshift(r[ww]),n.message=IT(`
`+n.message,i,o,t),n[DT]=i,n[dd]=null,n}function IT(n,r,o,t=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ET?n.slice(2):n;let i=kn(r);if(Array.isArray(r))i=r.map(kn).join(" -> ");else if(typeof r=="object"){let s=[];for(let a in r)if(r.hasOwnProperty(a)){let u=r[a];s.push(a+":"+(typeof u=="string"?JSON.stringify(u):kn(u)))}i=`{${s.join(", ")}}`}return`${o}${t?"("+t+")":""}[${i}]: ${n.replace(ST,`
  `)}`}var fu=a_(Jw("Optional"),8);var Bd=a_(Jw("SkipSelf"),4);function Ns(n,r){let o=n.hasOwnProperty(cd);return o?n[cd]:null}function jT(n,r,o){if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=r[t];if(o&&(i=o(i),s=o(s)),s!==i)return!1}return!0}function NT(n){return n.flat(Number.POSITIVE_INFINITY)}function mg(n,r){n.forEach(o=>Array.isArray(o)?mg(o,r):r(o))}function l_(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function fd(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function OT(n,r){let o=[];for(let t=0;t<n;t++)o.push(r);return o}function FT(n,r,o,t){let i=n.length;if(i==r)n.push(o,t);else if(i===1)n.push(t,n[0]),n[0]=o;else{for(i--,n.push(n[i-1],n[i]);i>r;){let s=i-2;n[i]=n[s],i--}n[r]=o,n[r+1]=t}}function gg(n,r,o){let t=hu(n,r);return t>=0?n[t|1]=o:(t=~t,FT(n,t,r,o)),t}function em(n,r){let o=hu(n,r);if(o>=0)return n[o|1]}function hu(n,r){return kT(n,r,1)}function kT(n,r,o){let t=0,i=n.length>>o;for(;i!==t;){let s=t+(i-t>>1),a=n[s<<o];if(r===a)return s<<o;a>r?i=s:t=s+1}return~(i<<o)}var Ba={},Vn=[],Va=new _t(""),u_=new _t("",-1),c_=new _t(""),hd=class{get(r,o=nu){if(o===nu){let t=new Error(`NullInjectorError: No provider for ${kn(r)}!`);throw t.name="NullInjectorError",t}return o}},d_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(d_||{}),$o=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}($o||{}),$i=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}($i||{});function RT(n,r,o){let t=n.length;for(;;){let i=n.indexOf(r,o);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=r.length;if(i+s===t||n.charCodeAt(i+s)<=32)return i}o=i+1}}function ym(n,r,o){let t=0;for(;t<o.length;){let i=o[t];if(typeof i=="number"){if(i!==0)break;t++;let s=o[t++],a=o[t++],u=o[t++];n.setAttribute(r,a,u,s)}else{let s=i,a=o[++t];PT(s)?n.setProperty(r,s,a):n.setAttribute(r,s,a),t++}}return t}function f_(n){return n===3||n===4||n===6}function PT(n){return n.charCodeAt(0)===64}function ou(n,r){if(!(r===null||r.length===0))if(n===null||n.length===0)n=r.slice();else{let o=-1;for(let t=0;t<r.length;t++){let i=r[t];typeof i=="number"?o=i:o===0||(o===-1||o===2?_w(n,o,i,null,r[++t]):_w(n,o,i,null,null))}}return n}function _w(n,r,o,t,i){let s=0,a=n.length;if(r===-1)a=-1;else for(;s<n.length;){let u=n[s++];if(typeof u=="number"){if(u===r){a=-1;break}else if(u>r){a=s-1;break}}}for(;s<n.length;){let u=n[s];if(typeof u=="number")break;if(u===o){if(t===null){i!==null&&(n[s+1]=i);return}else if(t===n[s+1]){n[s+2]=i;return}}s++,t!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,r),s=a+1),n.splice(s++,0,o),t!==null&&n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}var h_="ng-template";function LT(n,r,o,t){let i=0;if(t){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&RT(r[i+1].toLowerCase(),o,0)!==-1)return!0}else if(yg(n))return!1;if(i=r.indexOf(1,i),i>-1){let s;for(;++i<r.length&&typeof(s=r[i])=="string";)if(s.toLowerCase()===o)return!0}return!1}function yg(n){return n.type===4&&n.value!==h_}function BT(n,r,o){let t=n.type===4&&!o?h_:n.value;return r===t}function VT(n,r,o){let t=4,i=n.attrs,s=i!==null?GT(i):0,a=!1;for(let u=0;u<r.length;u++){let l=r[u];if(typeof l=="number"){if(!a&&!So(t)&&!So(l))return!1;if(a&&So(l))continue;a=!1,t=l|t&1;continue}if(!a)if(t&4){if(t=2|t&1,l!==""&&!BT(n,l,o)||l===""&&r.length===1){if(So(t))return!1;a=!0}}else if(t&8){if(i===null||!LT(n,i,l,o)){if(So(t))return!1;a=!0}}else{let c=r[++u],m=UT(l,i,yg(n),o);if(m===-1){if(So(t))return!1;a=!0;continue}if(c!==""){let y;if(m>s?y="":y=i[m+1].toLowerCase(),t&2&&c!==y){if(So(t))return!1;a=!0}}}}return So(t)||a}function So(n){return(n&1)===0}function UT(n,r,o,t){if(r===null)return-1;let i=0;if(t||!o){let s=!1;for(;i<r.length;){let a=r[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let u=r[++i];for(;typeof u=="string";)u=r[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return HT(r,n)}function p_(n,r,o=!1){for(let t=0;t<r.length;t++)if(VT(n,r[t],o))return!0;return!1}function zT(n){let r=n.attrs;if(r!=null){let o=r.indexOf(5);if(!(o&1))return r[o+1]}return null}function GT(n){for(let r=0;r<n.length;r++){let o=n[r];if(f_(o))return r}return n.length}function HT(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){let t=n[o];if(typeof t=="number")return-1;if(t===r)return o;o++}return-1}function qT(n,r){e:for(let o=0;o<r.length;o++){let t=r[o];if(n.length===t.length){for(let i=0;i<n.length;i++)if(n[i]!==t[i])continue e;return!0}}return!1}function xw(n,r){return n?":not("+r.trim()+")":r}function WT(n){let r=n[0],o=1,t=2,i="",s=!1;for(;o<n.length;){let a=n[o];if(typeof a=="string")if(t&2){let u=n[++o];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else t&8?i+="."+a:t&4&&(i+=" "+a);else i!==""&&!So(a)&&(r+=xw(s,i),i=""),t=a,s=s||!So(t);o++}return i!==""&&(r+=xw(s,i)),r}function $T(n){return n.map(WT).join(",")}function YT(n){let r=[],o=[],t=1,i=2;for(;t<n.length;){let s=n[t];if(typeof s=="string")i===2?s!==""&&r.push(s,n[++t]):i===8&&o.push(s);else{if(!So(i))break;i=s}t++}return{attrs:r,classes:o}}function ar(n){return cu(()=>{let r=w_(n),o=Rt(Je({},r),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===d_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$o.Emulated,styles:n.styles||Vn,_:null,schemas:n.schemas||null,tView:null,id:""});__(o);let t=n.dependencies;return o.directiveDefs=Sw(t,!1),o.pipeDefs=Sw(t,!0),o.id=QT(o),o})}function XT(n){return Yi(n)||g_(n)}function ZT(n){return n!==null}function Cr(n){return cu(()=>({type:n.type,bootstrap:n.bootstrap||Vn,declarations:n.declarations||Vn,imports:n.imports||Vn,exports:n.exports||Vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dw(n,r){if(n==null)return Ba;let o={};for(let t in n)if(n.hasOwnProperty(t)){let i=n[t],s,a,u=$i.None;Array.isArray(i)?(u=i[0],s=i[1],a=i[2]??s):(s=i,a=i),r?(o[s]=u!==$i.None?[t,u]:t,r[s]=a):o[s]=t}return o}function nn(n){return cu(()=>{let r=w_(n);return __(r),r})}function m_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yi(n){return n[gT]||null}function g_(n){return n[yT]||null}function y_(n){return n[vT]||null}function v_(n){let r=Yi(n)||g_(n)||y_(n);return r!==null?r.standalone:!1}function b_(n,r){let o=n[bT]||null;if(!o&&r===!0)throw new Error(`Type ${kn(n)} does not have '\u0275mod' property.`);return o}function w_(n){let r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||Ba,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dw(n.inputs,r),outputs:Dw(n.outputs),debugInfo:null}}function __(n){n.features?.forEach(r=>r(n))}function Sw(n,r){if(!n)return null;let o=r?y_:XT;return()=>(typeof n=="function"?n():n).map(t=>o(t)).filter(ZT)}function QT(n){let r=0,o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of o)r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function KT(...n){return{\u0275providers:x_(!0,n),\u0275fromNgModule:!0}}function x_(n,...r){let o=[],t=new Set,i,s=a=>{o.push(a)};return mg(r,a=>{let u=a;vm(u,s,[],t)&&(i||=[],i.push(u))}),i!==void 0&&D_(i,s),o}function D_(n,r){for(let o=0;o<n.length;o++){let{ngModule:t,providers:i}=n[o];vg(i,s=>{r(s,t)})}}function vm(n,r,o,t){if(n=Fn(n),!n)return!1;let i=null,s=yw(n),a=!s&&Yi(n);if(!s&&!a){let l=n.ngModule;if(s=yw(l),s)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=n}let u=t.has(i);if(a){if(u)return!1;if(t.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)vm(c,r,o,t)}}else if(s){if(s.imports!=null&&!u){t.add(i);let c;try{mg(s.imports,m=>{vm(m,r,o,t)&&(c||=[],c.push(m))})}finally{}c!==void 0&&D_(c,r)}if(!u){let c=Ns(i)||(()=>new i);r({provide:i,useFactory:c,deps:Vn},i),r({provide:c_,useValue:i,multi:!0},i),r({provide:Va,useValue:()=>ut(i),multi:!0},i)}let l=s.providers;if(l!=null&&!u){let c=n;vg(l,m=>{r(m,c)})}}else return!1;return i!==n&&n.providers!==void 0}function vg(n,r){for(let o of n)o_(o)&&(o=o.\u0275providers),Array.isArray(o)?vg(o,r):r(o)}var JT=br({provide:String,useValue:br});function S_(n){return n!==null&&typeof n=="object"&&JT in n}function eI(n){return!!(n&&n.useExisting)}function tI(n){return!!(n&&n.useFactory)}function Ua(n){return typeof n=="function"}function rI(n){return!!n.useClass}var Vd=new _t(""),id={},nI={},tm;function bg(){return tm===void 0&&(tm=new hd),tm}var Kn=class{},iu=class extends Kn{get destroyed(){return this._destroyed}constructor(r,o,t,i){super(),this.parent=o,this.source=t,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wm(r,a=>this.processProvider(a)),this.records.set(u_,Oa(void 0,this)),i.has("environment")&&this.records.set(Kn,Oa(void 0,this));let s=this.records.get(Vd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(c_,Vn,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=or(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let o=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of o)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),or(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let o=Hi(this),t=Bn(void 0),i;try{return r()}finally{Hi(o),Bn(t)}}get(r,o=nu,t=Pt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(bw))return r[bw](this);t=Ld(t);let i,s=Hi(this),a=Bn(void 0);try{if(!(t&Pt.SkipSelf)){let l=this.records.get(r);if(l===void 0){let c=lI(r)&&Rd(r);c&&this.injectableDefInScope(c)?l=Oa(bm(r),id):l=null,this.records.set(r,l)}if(l!=null)return this.hydrate(r,l)}let u=t&Pt.Self?bg():this.parent;return o=t&Pt.Optional&&o===nu?null:o,u.get(r,o)}catch(u){if(u.name==="NullInjectorError"){if((u[dd]=u[dd]||[]).unshift(kn(r)),s)throw u;return TT(u,r,"R3InjectorError",this.source)}else throw u}finally{Bn(a),Hi(s)}}resolveInjectorInitializers(){let r=or(null),o=Hi(this),t=Bn(void 0),i;try{let s=this.get(Va,Vn,Pt.Self);for(let a of s)a()}finally{Hi(o),Bn(t),or(r)}}toString(){let r=[],o=this.records;for(let t of o.keys())r.push(kn(t));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(r){r=Fn(r);let o=Ua(r)?r:Fn(r&&r.provide),t=iI(r);if(!Ua(r)&&r.multi===!0){let i=this.records.get(o);i||(i=Oa(void 0,id,!0),i.factory=()=>gm(i.multi),this.records.set(o,i)),o=r,i.multi.push(r)}this.records.set(o,t)}hydrate(r,o){let t=or(null);try{return o.value===id&&(o.value=nI,o.value=o.factory()),typeof o.value=="object"&&o.value&&aI(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{or(t)}}injectableDefInScope(r){if(!r.providedIn)return!1;let o=Fn(r.providedIn);return typeof o=="string"?o==="any"||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){let o=this._onDestroyHooks.indexOf(r);o!==-1&&this._onDestroyHooks.splice(o,1)}};function bm(n){let r=Rd(n),o=r!==null?r.factory:Ns(n);if(o!==null)return o;if(n instanceof _t)throw new et(204,!1);if(n instanceof Function)return oI(n);throw new et(204,!1)}function oI(n){if(n.length>0)throw new et(204,!1);let o=pT(n);return o!==null?()=>o.factory(n):()=>new n}function iI(n){if(S_(n))return Oa(void 0,n.useValue);{let r=E_(n);return Oa(r,id)}}function E_(n,r,o){let t;if(Ua(n)){let i=Fn(n);return Ns(i)||bm(i)}else if(S_(n))t=()=>Fn(n.useValue);else if(tI(n))t=()=>n.useFactory(...gm(n.deps||[]));else if(eI(n))t=()=>ut(Fn(n.useExisting));else{let i=Fn(n&&(n.useClass||n.provide));if(sI(n))t=()=>new i(...gm(n.deps));else return Ns(i)||bm(i)}return t}function Oa(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function sI(n){return!!n.deps}function aI(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lI(n){return typeof n=="function"||typeof n=="object"&&n instanceof _t}function wm(n,r){for(let o of n)Array.isArray(o)?wm(o,r):o&&o_(o)?wm(o.\u0275providers,r):r(o)}function Qo(n,r){n instanceof iu&&n.assertNotDestroyed();let o,t=Hi(n),i=Bn(void 0);try{return r()}finally{Hi(t),Bn(i)}}function C_(){return i_()!==void 0||CT()!=null}function uI(n){if(!C_())throw new et(-203,!1)}function cI(n){let r=Mo.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function dI(n){return typeof n=="function"}var _i=0,It=1,At=2,Tn=3,Co=4,Un=5,su=6,pd=7,Ao=8,za=9,Yo=10,Gr=11,au=12,Ew=13,Ya=14,fo=15,Os=16,Fa=17,vi=18,Ud=19,M_=20,qi=21,rm=22,co=23,Jn=25,A_=1;var Fs=7,md=8,Ga=9,Qn=10,gd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(gd||{});function Wi(n){return Array.isArray(n)&&typeof n[A_]=="object"}function xi(n){return Array.isArray(n)&&n[A_]===!0}function wg(n){return(n.flags&4)!==0}function zd(n){return n.componentOffset>-1}function Gd(n){return(n.flags&1)===1}function Xi(n){return!!n.template}function _m(n){return(n[At]&512)!==0}var xm=class{constructor(r,o,t){this.previousValue=r,this.currentValue=o,this.firstChange=t}isFirstChange(){return this.firstChange}};function T_(n,r,o,t){r!==null?r.applyValueToInputSignal(r,t):n[o]=t}function po(){return I_}function I_(n){return n.type.prototype.ngOnChanges&&(n.setInput=hI),fI}po.ngInherit=!0;function fI(){let n=N_(this),r=n?.current;if(r){let o=n.previous;if(o===Ba)n.previous=r;else for(let t in r)o[t]=r[t];n.current=null,this.ngOnChanges(r)}}function hI(n,r,o,t,i){let s=this.declaredInputs[t],a=N_(n)||pI(n,{previous:Ba,current:null}),u=a.current||(a.current={}),l=a.previous,c=l[s];u[s]=new xm(c&&c.currentValue,o,l===Ba),T_(n,r,i,o)}var j_="__ngSimpleChanges__";function N_(n){return n[j_]||null}function pI(n,r){return n[j_]=r}var Cw=null;var qo=function(n,r,o){Cw?.(n,r,o)},mI="svg",gI="math";function Xo(n){for(;Array.isArray(n);)n=n[_i];return n}function O_(n,r){return Xo(r[n])}function mo(n,r){return Xo(r[n.index])}function F_(n,r){return n.data[r]}function yI(n,r){return n[r]}function Ji(n,r){let o=r[n];return Wi(o)?o:o[_i]}function vI(n){return(n[At]&4)===4}function _g(n){return(n[At]&128)===128}function bI(n){return xi(n[Tn])}function Ha(n,r){return r==null?null:n[r]}function k_(n){n[Fa]=0}function R_(n){n[At]&1024||(n[At]|=1024,_g(n)&&qd(n))}function wI(n,r){for(;n>0;)r=r[Ya],n--;return r}function Hd(n){return!!(n[At]&9216||n[co]?.dirty)}function Dm(n){n[Yo].changeDetectionScheduler?.notify(8),n[At]&64&&(n[At]|=1024),Hd(n)&&qd(n)}function qd(n){n[Yo].changeDetectionScheduler?.notify(0);let r=ks(n);for(;r!==null&&!(r[At]&8192||(r[At]|=8192,!_g(r)));)r=ks(r)}function P_(n,r){if((n[At]&256)===256)throw new et(911,!1);n[qi]===null&&(n[qi]=[]),n[qi].push(r)}function _I(n,r){if(n[qi]===null)return;let o=n[qi].indexOf(r);o!==-1&&n[qi].splice(o,1)}function ks(n){let r=n[Tn];return xi(r)?r[Tn]:r}var Vt={lFrame:Y_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var L_=!1;function xI(){return Vt.lFrame.elementDepthCount}function DI(){Vt.lFrame.elementDepthCount++}function SI(){Vt.lFrame.elementDepthCount--}function B_(){return Vt.bindingsEnabled}function V_(){return Vt.skipHydrationRootTNode!==null}function EI(n){return Vt.skipHydrationRootTNode===n}function CI(){Vt.skipHydrationRootTNode=null}function Xt(){return Vt.lFrame.lView}function Kr(){return Vt.lFrame.tView}function kr(n){return Vt.lFrame.contextLView=n,n[Ao]}function Rr(n){return Vt.lFrame.contextLView=null,n}function Dn(){let n=U_();for(;n!==null&&n.type===64;)n=n.parent;return n}function U_(){return Vt.lFrame.currentTNode}function MI(){let n=Vt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Us(n,r){let o=Vt.lFrame;o.currentTNode=n,o.isParent=r}function xg(){return Vt.lFrame.isParent}function Dg(){Vt.lFrame.isParent=!1}function z_(){return L_}function Mw(n){L_=n}function G_(){let n=Vt.lFrame,r=n.bindingRootIndex;return r===-1&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function AI(n){return Vt.lFrame.bindingIndex=n}function Wd(){return Vt.lFrame.bindingIndex++}function H_(n){let r=Vt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function TI(){return Vt.lFrame.inI18n}function II(n,r){let o=Vt.lFrame;o.bindingIndex=o.bindingRootIndex=n,Sm(r)}function jI(){return Vt.lFrame.currentDirectiveIndex}function Sm(n){Vt.lFrame.currentDirectiveIndex=n}function NI(n){let r=Vt.lFrame.currentDirectiveIndex;return r===-1?null:n[r]}function q_(){return Vt.lFrame.currentQueryIndex}function Sg(n){Vt.lFrame.currentQueryIndex=n}function OI(n){let r=n[It];return r.type===2?r.declTNode:r.type===1?n[Un]:null}function W_(n,r,o){if(o&Pt.SkipSelf){let i=r,s=n;for(;i=i.parent,i===null&&!(o&Pt.Host);)if(i=OI(s),i===null||(s=s[Ya],i.type&10))break;if(i===null)return!1;r=i,n=s}let t=Vt.lFrame=$_();return t.currentTNode=r,t.lView=n,!0}function Eg(n){let r=$_(),o=n[It];Vt.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function $_(){let n=Vt.lFrame,r=n===null?null:n.child;return r===null?Y_(n):r}function Y_(n){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=r),r}function X_(){let n=Vt.lFrame;return Vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Z_=X_;function Cg(){let n=X_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FI(n){return(Vt.lFrame.contextLView=wI(n,Vt.lFrame.contextLView))[Ao]}function zs(){return Vt.lFrame.selectedIndex}function Rs(n){Vt.lFrame.selectedIndex=n}function $d(){let n=Vt.lFrame;return F_(n.tView,n.selectedIndex)}function kI(){return Vt.lFrame.currentNamespace}var Q_=!0;function Yd(){return Q_}function Xd(n){Q_=n}function RI(n,r,o){let{ngOnChanges:t,ngOnInit:i,ngDoCheck:s}=r.type.prototype;if(t){let a=I_(r);(o.preOrderHooks??=[]).push(n,a),(o.preOrderCheckHooks??=[]).push(n,a)}i&&(o.preOrderHooks??=[]).push(0-n,i),s&&((o.preOrderHooks??=[]).push(n,s),(o.preOrderCheckHooks??=[]).push(n,s))}function Zd(n,r){for(let o=r.directiveStart,t=r.directiveEnd;o<t;o++){let s=n.data[o].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:m}=s;a&&(n.contentHooks??=[]).push(-o,a),u&&((n.contentHooks??=[]).push(o,u),(n.contentCheckHooks??=[]).push(o,u)),l&&(n.viewHooks??=[]).push(-o,l),c&&((n.viewHooks??=[]).push(o,c),(n.viewCheckHooks??=[]).push(o,c)),m!=null&&(n.destroyHooks??=[]).push(o,m)}}function sd(n,r,o){K_(n,r,3,o)}function ad(n,r,o,t){(n[At]&3)===o&&K_(n,r,o,t)}function nm(n,r){let o=n[At];(o&3)===r&&(o&=16383,o+=1,n[At]=o)}function K_(n,r,o,t){let i=t!==void 0?n[Fa]&65535:0,s=t??-1,a=r.length-1,u=0;for(let l=i;l<a;l++)if(typeof r[l+1]=="number"){if(u=r[l],t!=null&&u>=t)break}else r[l]<0&&(n[Fa]+=65536),(u<s||s==-1)&&(PI(n,o,r,l),n[Fa]=(n[Fa]&4294901760)+l+2),l++}function Aw(n,r){qo(4,n,r);let o=or(null);try{r.call(n)}finally{or(o),qo(5,n,r)}}function PI(n,r,o,t){let i=o[t]<0,s=o[t+1],a=i?-o[t]:o[t],u=n[a];i?n[At]>>14<n[Fa]>>16&&(n[At]&3)===r&&(n[At]+=16384,Aw(u,s)):Aw(u,s)}var La=-1,Ps=class{constructor(r,o,t){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=t}};function LI(n){return n instanceof Ps}function BI(n){return(n.flags&8)!==0}function VI(n){return(n.flags&16)!==0}var om={},Em=class{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,t){t=Ld(t);let i=this.injector.get(r,om,t);return i!==om||o===om?i:this.parentInjector.get(r,o,t)}};function J_(n){return n!==La}function yd(n){return n&32767}function UI(n){return n>>16}function vd(n,r){let o=UI(n),t=r;for(;o>0;)t=t[Ya],o--;return t}var Cm=!0;function bd(n){let r=Cm;return Cm=n,r}var zI=256,ex=zI-1,tx=5,GI=0,Wo={};function HI(n,r,o){let t;typeof o=="string"?t=o.charCodeAt(0)||0:o.hasOwnProperty(tu)&&(t=o[tu]),t==null&&(t=o[tu]=GI++);let i=t&ex,s=1<<i;r.data[n+(i>>tx)]|=s}function wd(n,r){let o=rx(n,r);if(o!==-1)return o;let t=r[It];t.firstCreatePass&&(n.injectorIndex=r.length,im(t.data,n),im(r,null),im(t.blueprint,null));let i=Mg(n,r),s=n.injectorIndex;if(J_(i)){let a=yd(i),u=vd(i,r),l=u[It].data;for(let c=0;c<8;c++)r[s+c]=u[a+c]|l[a+c]}return r[s+8]=i,s}function im(n,r){n.push(0,0,0,0,0,0,0,0,r)}function rx(n,r){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||r[n.injectorIndex+8]===null?-1:n.injectorIndex}function Mg(n,r){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let o=0,t=null,i=r;for(;i!==null;){if(t=ax(i),t===null)return La;if(o++,i=i[Ya],t.injectorIndex!==-1)return t.injectorIndex|o<<16}return La}function Mm(n,r,o){HI(n,r,o)}function qI(n,r){if(r==="class")return n.classes;if(r==="style")return n.styles;let o=n.attrs;if(o){let t=o.length,i=0;for(;i<t;){let s=o[i];if(f_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<t&&typeof o[i]=="string";)i++;else{if(s===r)return o[i+1];i=i+2}}}return null}function nx(n,r,o){if(o&Pt.Optional||n!==void 0)return n;pg(r,"NodeInjector")}function ox(n,r,o,t){if(o&Pt.Optional&&t===void 0&&(t=null),!(o&(Pt.Self|Pt.Host))){let i=n[za],s=Bn(void 0);try{return i?i.get(r,t,o&Pt.Optional):s_(r,t,o&Pt.Optional)}finally{Bn(s)}}return nx(t,r,o)}function ix(n,r,o,t=Pt.Default,i){if(n!==null){if(r[At]&2048&&!(t&Pt.Self)){let a=XI(n,r,o,t,Wo);if(a!==Wo)return a}let s=sx(n,r,o,t,Wo);if(s!==Wo)return s}return ox(r,o,t,i)}function sx(n,r,o,t,i){let s=$I(o);if(typeof s=="function"){if(!W_(r,n,t))return t&Pt.Host?nx(i,o,t):ox(r,o,t,i);try{let a;if(a=s(t),a==null&&!(t&Pt.Optional))pg(o);else return a}finally{Z_()}}else if(typeof s=="number"){let a=null,u=rx(n,r),l=La,c=t&Pt.Host?r[fo][Un]:null;for((u===-1||t&Pt.SkipSelf)&&(l=u===-1?Mg(n,r):r[u+8],l===La||!Iw(t,!1)?u=-1:(a=r[It],u=yd(l),r=vd(l,r)));u!==-1;){let m=r[It];if(Tw(s,u,m.data)){let y=WI(u,r,o,a,t,c);if(y!==Wo)return y}l=r[u+8],l!==La&&Iw(t,r[It].data[u+8]===c)&&Tw(s,u,r)?(a=m,u=yd(l),r=vd(l,r)):u=-1}}return i}function WI(n,r,o,t,i,s){let a=r[It],u=a.data[n+8],l=t==null?zd(u)&&Cm:t!=a&&(u.type&3)!==0,c=i&Pt.Host&&s===u,m=ld(u,a,o,l,c);return m!==null?Ls(r,a,m,u):Wo}function ld(n,r,o,t,i){let s=n.providerIndexes,a=r.data,u=s&1048575,l=n.directiveStart,c=n.directiveEnd,m=s>>20,y=t?u:u+m,d=i?u+m:c;for(let h=y;h<d;h++){let p=a[h];if(h<l&&o===p||h>=l&&p.type===o)return h}if(i){let h=a[l];if(h&&Xi(h)&&h.type===o)return l}return null}function Ls(n,r,o,t){let i=n[o],s=r.data;if(LI(i)){let a=i;a.resolving&&_T(wT(s[o]));let u=bd(a.canSeeViewProviders);a.resolving=!0;let l,c=a.injectImpl?Bn(a.injectImpl):null,m=W_(n,t,Pt.Default);try{i=n[o]=a.factory(void 0,s,n,t),r.firstCreatePass&&o>=t.directiveStart&&RI(o,s[o],r)}finally{c!==null&&Bn(c),bd(u),a.resolving=!1,Z_()}}return i}function $I(n){if(typeof n=="string")return n.charCodeAt(0)||0;let r=n.hasOwnProperty(tu)?n[tu]:void 0;return typeof r=="number"?r>=0?r&ex:YI:r}function Tw(n,r,o){let t=1<<n;return!!(o[r+(n>>tx)]&t)}function Iw(n,r){return!(n&Pt.Self)&&!(n&Pt.Host&&r)}var js=class{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,t){return ix(this._tNode,this._lView,r,Ld(t),o)}};function YI(){return new js(Dn(),Xt())}function pu(n){return cu(()=>{let r=n.prototype.constructor,o=r[cd]||Am(r),t=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==t;){let s=i[cd]||Am(i);if(s&&s!==o)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Am(n){return e_(n)?()=>{let r=Am(Fn(n));return r&&r()}:Ns(n)}function XI(n,r,o,t,i){let s=n,a=r;for(;s!==null&&a!==null&&a[At]&2048&&!(a[At]&512);){let u=sx(s,a,o,t|Pt.Self,Wo);if(u!==Wo)return u;let l=s.parent;if(!l){let c=a[M_];if(c){let m=c.get(o,Wo,t);if(m!==Wo)return m}l=ax(a),a=a[Ya]}s=l}return i}function ax(n){let r=n[It],o=r.type;return o===2?r.declTNode:o===1?n[Un]:null}function Ag(n){return qI(Dn(),n)}function jw(n,r=null,o=null,t){let i=lx(n,r,o,t);return i.resolveInjectorInitializers(),i}function lx(n,r=null,o=null,t,i=new Set){let s=[o||Vn,KT(n)];return t=t||(typeof n=="object"?void 0:kn(n)),new iu(s,r||bg(),t||null,i)}var Ts=class Ts{static create(r,o){if(Array.isArray(r))return jw({name:""},o,r,"");{let t=r.name??"";return jw({name:t},r.parent,r.providers,t)}}};Ts.THROW_IF_NOT_FOUND=nu,Ts.NULL=new hd,Ts.\u0275prov=tt({token:Ts,providedIn:"any",factory:()=>ut(u_)}),Ts.__NG_ELEMENT_ID__=-1;var pn=Ts;var ZI=new _t("");ZI.__NG_ELEMENT_ID__=n=>{let r=Dn();if(r===null)throw new et(204,!1);if(r.type&2)return r.value;if(n&Pt.Optional)return null;throw new et(204,!1)};var QI="ngOriginalError";function sm(n){return n[QI]}var ux=!0,Tg=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=KI,r.__NG_ENV_ID__=t=>t;let n=r;return n})(),Tm=class extends Tg{constructor(r){super(),this._lView=r}onDestroy(r){return P_(this._lView,r),()=>_I(this._lView,r)}};function KI(){return new Tm(Xt())}var Xa=(()=>{let r=class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _n(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})();var Im=class extends rn{constructor(r=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,C_()&&(this.destroyRef=rt(Tg,{optional:!0})??void 0,this.pendingTasks=rt(Xa,{optional:!0})??void 0)}emit(r){let o=or(null);try{super.next(r)}finally{or(o)}}subscribe(r,o,t){let i=r,s=o||(()=>null),a=t;if(r&&typeof r=="object"){let l=r;i=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let u=super.subscribe({next:i,error:s,complete:a});return r instanceof Or&&r.add(u),u}wrapInTimeout(r){return o=>{let t=this.pendingTasks?.add();setTimeout(()=>{r(o),t!==void 0&&this.pendingTasks?.remove(t)})}}},$t=Im;function _d(...n){}function cx(n){let r,o;function t(){n=_d;try{o!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(o),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{n(),t()}),typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(()=>{n(),t()})),()=>t()}function Nw(n){return queueMicrotask(()=>n()),()=>{n=_d}}var Ig="isAngularZone",xd=Ig+"_ID",JI=0,Yt=class n{constructor(r){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1);let{enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=ux}=r;if(typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&t,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,rj(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ig)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new et(909,!1)}run(r,o,t){return this._inner.run(r,o,t)}runTask(r,o,t,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,r,ej,_d,_d);try{return s.runTask(a,o,t)}finally{s.cancelTask(a)}}runGuarded(r,o,t){return this._inner.runGuarded(r,o,t)}runOutsideAngular(r){return this._outer.run(r)}},ej={};function jg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function r(){cx(()=>{n.callbackScheduled=!1,jm(n),n.isCheckStableRunning=!0,jg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{r()}):n._outer.run(()=>{r()}),jm(n)}function rj(n){let r=()=>{tj(n)},o=JI++;n._inner=n._inner.fork({name:"angular",properties:{[Ig]:!0,[xd]:o,[xd+o]:!0},onInvokeTask:(t,i,s,a,u,l)=>{if(nj(l))return t.invokeTask(s,a,u,l);try{return Ow(n),t.invokeTask(s,a,u,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&r(),Fw(n)}},onInvoke:(t,i,s,a,u,l,c)=>{try{return Ow(n),t.invoke(s,a,u,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!oj(l)&&r(),Fw(n)}},onHasTask:(t,i,s,a)=>{t.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,jm(n),jg(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,i,s,a)=>(t.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function jm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ow(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fw(n){n._nesting--,jg(n)}var Dd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t,this.onMicrotaskEmpty=new $t,this.onStable=new $t,this.onError=new $t}run(r,o,t){return r.apply(o,t)}runGuarded(r,o,t){return r.apply(o,t)}runOutsideAngular(r){return r()}runTask(r,o,t,i){return r.apply(o,t)}};function nj(n){return dx(n,"__ignore_ng_zone__")}function oj(n){return dx(n,"__scheduler_tick__")}function dx(n,r){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[r]===!0}function ij(n="zone.js",r){return n==="noop"?new Dd:n==="zone.js"?new Yt(r):n}var bi=class{constructor(){this._console=console}handleError(r){let o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&sm(r);for(;o&&sm(o);)o=sm(o);return o||null}},sj=new _t("",{providedIn:"root",factory:()=>{let n=rt(Yt),r=rt(bi);return o=>n.runOutsideAngular(()=>r.handleError(o))}});function aj(){return Za(Dn(),Xt())}function Za(n,r){return new wr(mo(n,r))}var wr=(()=>{let r=class r{constructor(t){this.nativeElement=t}};r.__NG_ELEMENT_ID__=aj;let n=r;return n})();function lj(n){return n instanceof wr?n.nativeElement:n}function uj(){return this._results[Symbol.iterator]()}var Nm=class n{get changes(){return this._changes??=new $t}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let o=n.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=uj)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;let t=NT(r);(this._changesDetected=!jT(this._results,t,o))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function fx(n){return(n.flags&128)===128}var hx=new Map,cj=0;function dj(){return cj++}function fj(n){hx.set(n[Ud],n)}function Om(n){hx.delete(n[Ud])}var kw="__ngContext__";function Zi(n,r){Wi(r)?(n[kw]=r[Ud],fj(r)):n[kw]=r}function px(n){return gx(n[au])}function mx(n){return gx(n[Co])}function gx(n){for(;n!==null&&!xi(n);)n=n[Co];return n}var Fm;function yx(n){Fm=n}function hj(){if(Fm!==void 0)return Fm;if(typeof document<"u")return document;throw new et(210,!1)}var Qd=new _t("",{providedIn:"root",factory:()=>pj}),pj="ng",Ng=new _t(""),zn=new _t("",{providedIn:"platform",factory:()=>"unknown"});var Og=new _t(""),Fg=new _t("",{providedIn:"root",factory:()=>hj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mj="h",gj="b";var yj=()=>null;function kg(n,r,o=!1){return yj(n,r,o)}var vx=!1,vj=new _t("",{providedIn:"root",factory:()=>vx});var ed;function bj(){if(ed===void 0&&(ed=null,Mo.trustedTypes))try{ed=Mo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ed}function Rw(n){return bj()?.createScriptURL(n)||n}var Sd=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kw})`}};function Qa(n){return n instanceof Sd?n.changingThisBreaksApplicationSecurity:n}function Rg(n,r){let o=wj(n);if(o!=null&&o!==r){if(o==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Kw})`)}return o===r}function wj(n){return n instanceof Sd&&n.getTypeName()||null}var _j=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bx(n){return n=String(n),n.match(_j)?n:"unsafe:"+n}var Kd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kd||{});function Ka(n){let r=_x();return r?r.sanitize(Kd.URL,n)||"":Rg(n,"URL")?Qa(n):bx(Pd(n))}function xj(n){let r=_x();if(r)return Rw(r.sanitize(Kd.RESOURCE_URL,n)||"");if(Rg(n,"ResourceURL"))return Rw(Qa(n));throw new et(904,!1)}function Dj(n,r){return r==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||r==="href"&&(n==="base"||n==="link")?xj:Ka}function wx(n,r,o){return Dj(r,o)(n)}function _x(){let n=Xt();return n&&n[Yo].sanitizer}var Sj=/^>|^->|<!--|-->|--!>|<!-$/g,Ej=/(<|>)/g,Cj="\u200B$1\u200B";function Mj(n){return n.replace(Sj,r=>r.replace(Ej,Cj))}function Pg(n){return n.ownerDocument.defaultView}function xx(n){return n instanceof Function?n():n}function Aj(n){return(n??rt(pn)).get(zn)==="browser"}var Zo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zo||{}),Tj;function Lg(n,r){return Tj(n,r)}function ka(n,r,o,t,i){if(t!=null){let s,a=!1;xi(t)?s=t:Wi(t)&&(a=!0,t=t[_i]);let u=Xo(t);n===0&&o!==null?i==null?Ax(r,o,u):Ed(r,o,u,i||null,!0):n===1&&o!==null?Ed(r,o,u,i||null,!0):n===2?Gj(r,u,a):n===3&&r.destroyNode(u),s!=null&&qj(r,n,s,o,i)}}function Ij(n,r){return n.createText(r)}function jj(n,r,o){n.setValue(r,o)}function Nj(n,r){return n.createComment(Mj(r))}function Dx(n,r,o){return n.createElement(r,o)}function Oj(n,r){Sx(n,r),r[_i]=null,r[Un]=null}function Fj(n,r,o,t,i,s){t[_i]=i,t[Un]=r,ef(n,t,o,1,i,s)}function Sx(n,r){r[Yo].changeDetectionScheduler?.notify(9),ef(n,r,r[Gr],2,null,null)}function kj(n){let r=n[au];if(!r)return am(n[It],n);for(;r;){let o=null;if(Wi(r))o=r[au];else{let t=r[Qn];t&&(o=t)}if(!o){for(;r&&!r[Co]&&r!==n;)Wi(r)&&am(r[It],r),r=r[Tn];r===null&&(r=n),Wi(r)&&am(r[It],r),o=r&&r[Co]}r=o}}function Rj(n,r,o,t){let i=Qn+t,s=o.length;t>0&&(o[i-1][Co]=r),t<s-Qn?(r[Co]=o[i],l_(o,Qn+t,r)):(o.push(r),r[Co]=null),r[Tn]=o;let a=r[Os];a!==null&&o!==a&&Ex(a,r);let u=r[vi];u!==null&&u.insertView(n),Dm(r),r[At]|=128}function Ex(n,r){let o=n[Ga],t=r[Tn];if(Wi(t))n[At]|=gd.HasTransplantedViews;else{let i=t[Tn][fo];r[fo]!==i&&(n[At]|=gd.HasTransplantedViews)}o===null?n[Ga]=[r]:o.push(r)}function Bg(n,r){let o=n[Ga],t=o.indexOf(r);o.splice(t,1)}function km(n,r){if(n.length<=Qn)return;let o=Qn+r,t=n[o];if(t){let i=t[Os];i!==null&&i!==n&&Bg(i,t),r>0&&(n[o-1][Co]=t[Co]);let s=fd(n,Qn+r);Oj(t[It],t);let a=s[vi];a!==null&&a.detachView(s[It]),t[Tn]=null,t[Co]=null,t[At]&=-129}return t}function Cx(n,r){if(!(r[At]&256)){let o=r[Gr];o.destroyNode&&ef(n,r,o,3,null,null),kj(r)}}function am(n,r){if(r[At]&256)return;let o=or(null);try{r[At]&=-129,r[At]|=256,r[co]&&jp(r[co]),Lj(n,r),Pj(n,r),r[It].type===1&&r[Gr].destroy();let t=r[Os];if(t!==null&&xi(r[Tn])){t!==r[Tn]&&Bg(t,r);let i=r[vi];i!==null&&i.detachView(n)}Om(r)}finally{or(o)}}function Pj(n,r){let o=n.cleanup,t=r[pd];if(o!==null)for(let s=0;s<o.length-1;s+=2)if(typeof o[s]=="string"){let a=o[s+3];a>=0?t[a]():t[-a].unsubscribe(),s+=2}else{let a=t[o[s+1]];o[s].call(a)}t!==null&&(r[pd]=null);let i=r[qi];if(i!==null){r[qi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function Lj(n,r){let o;if(n!=null&&(o=n.destroyHooks)!=null)for(let t=0;t<o.length;t+=2){let i=r[o[t]];if(!(i instanceof Ps)){let s=o[t+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let u=i[s[a]],l=s[a+1];qo(4,u,l);try{l.call(u)}finally{qo(5,u,l)}}else{qo(4,i,s);try{s.call(i)}finally{qo(5,i,s)}}}}}function Mx(n,r,o){return Bj(n,r.parent,o)}function Bj(n,r,o){let t=r;for(;t!==null&&t.type&168;)r=t,t=r.parent;if(t===null)return o[_i];{let{componentOffset:i}=t;if(i>-1){let{encapsulation:s}=n.data[t.directiveStart+i];if(s===$o.None||s===$o.Emulated)return null}return mo(t,o)}}function Ed(n,r,o,t,i){n.insertBefore(r,o,t,i)}function Ax(n,r,o){n.appendChild(r,o)}function Pw(n,r,o,t,i){t!==null?Ed(n,r,o,t,i):Ax(n,r,o)}function Tx(n,r){return n.parentNode(r)}function Vj(n,r){return n.nextSibling(r)}function Ix(n,r,o){return zj(n,r,o)}function Uj(n,r,o){return n.type&40?mo(n,o):null}var zj=Uj,Lw;function Jd(n,r,o,t){let i=Mx(n,t,r),s=r[Gr],a=t.parent||r[Un],u=Ix(a,t,r);if(i!=null)if(Array.isArray(o))for(let l=0;l<o.length;l++)Pw(s,i,o[l],u,!1);else Pw(s,i,o,u,!1);Lw!==void 0&&Lw(s,t,r,o,i)}function eu(n,r){if(r!==null){let o=r.type;if(o&3)return mo(r,n);if(o&4)return Rm(-1,n[r.index]);if(o&8){let t=r.child;if(t!==null)return eu(n,t);{let i=n[r.index];return xi(i)?Rm(-1,i):Xo(i)}}else{if(o&128)return eu(n,r.next);if(o&32)return Lg(r,n)()||Xo(n[r.index]);{let t=jx(n,r);if(t!==null){if(Array.isArray(t))return t[0];let i=ks(n[fo]);return eu(i,t)}else return eu(n,r.next)}}}return null}function jx(n,r){if(r!==null){let t=n[fo][Un],i=r.projection;return t.projection[i]}return null}function Rm(n,r){let o=Qn+n+1;if(o<r.length){let t=r[o],i=t[It].firstChild;if(i!==null)return eu(t,i)}return r[Fs]}function Gj(n,r,o){n.removeChild(null,r,o)}function Vg(n,r,o,t,i,s,a){for(;o!=null;){if(o.type===128){o=o.next;continue}let u=t[o.index],l=o.type;if(a&&r===0&&(u&&Zi(Xo(u),t),o.flags|=2),(o.flags&32)!==32)if(l&8)Vg(n,r,o.child,t,i,s,!1),ka(r,n,i,u,s);else if(l&32){let c=Lg(o,t),m;for(;m=c();)ka(r,n,i,m,s);ka(r,n,i,u,s)}else l&16?Nx(n,r,t,o,i,s):ka(r,n,i,u,s);o=a?o.projectionNext:o.next}}function ef(n,r,o,t,i,s){Vg(o,t,n.firstChild,r,i,s,!1)}function Hj(n,r,o){let t=r[Gr],i=Mx(n,o,r),s=o.parent||r[Un],a=Ix(s,o,r);Nx(t,0,r,o,i,a)}function Nx(n,r,o,t,i,s){let a=o[fo],l=a[Un].projection[t.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let m=l[c];ka(r,n,i,m,s)}else{let c=l,m=a[Tn];fx(t)&&(c.flags|=128),Vg(n,r,c,m,i,s,!0)}}function qj(n,r,o,t,i){let s=o[Fs],a=Xo(o);s!==a&&ka(r,n,t,s,i);for(let u=Qn;u<o.length;u++){let l=o[u];ef(l[It],l,n,r,t,s)}}function Wj(n,r,o,t,i){if(r)i?n.addClass(o,t):n.removeClass(o,t);else{let s=t.indexOf("-")===-1?void 0:Zo.DashCase;i==null?n.removeStyle(o,t,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Zo.Important),n.setStyle(o,t,i,s))}}function $j(n,r,o){n.setAttribute(r,"style",o)}function Ox(n,r,o){o===""?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Fx(n,r,o){let{mergedAttrs:t,classes:i,styles:s}=o;t!==null&&ym(n,r,t),i!==null&&Ox(n,r,i),s!==null&&$j(n,r,s)}var Ko={};function ft(n=1){kx(Kr(),Xt(),zs()+n,!1)}function kx(n,r,o,t){if(!t)if((r[At]&3)===3){let s=n.preOrderCheckHooks;s!==null&&sd(r,s,o)}else{let s=n.preOrderHooks;s!==null&&ad(r,s,0,o)}Rs(o)}function ot(n,r=Pt.Default){let o=Xt();if(o===null)return ut(n,r);let t=Dn();return ix(t,o,Fn(n),r)}function Rx(){let n="invalid";throw new Error(n)}function Px(n,r,o,t,i,s){let a=or(null);try{let u=null;i&$i.SignalBased&&(u=r[t][gi]),u!==null&&u.transformFn!==void 0&&(s=u.transformFn(s)),i&$i.HasDecoratorInputTransform&&(s=n.inputTransforms[t].call(r,s)),n.setInput!==null?n.setInput(r,u,s,o,t):T_(r,u,t,s)}finally{or(a)}}function Yj(n,r){let o=n.hostBindingOpCodes;if(o!==null)try{for(let t=0;t<o.length;t++){let i=o[t];if(i<0)Rs(~i);else{let s=i,a=o[++t],u=o[++t];II(a,s);let l=r[s];u(2,l)}}}finally{Rs(-1)}}function tf(n,r,o,t,i,s,a,u,l,c,m){let y=r.blueprint.slice();return y[_i]=i,y[At]=t|4|128|8|64,(c!==null||n&&n[At]&2048)&&(y[At]|=2048),k_(y),y[Tn]=y[Ya]=n,y[Ao]=o,y[Yo]=a||n&&n[Yo],y[Gr]=u||n&&n[Gr],y[za]=l||n&&n[za]||null,y[Un]=s,y[Ud]=dj(),y[su]=m,y[M_]=c,y[fo]=r.type==2?n[fo]:y,y}function Ja(n,r,o,t,i){let s=n.data[r];if(s===null)s=Xj(n,r,o,t,i),TI()&&(s.flags|=32);else if(s.type&64){s.type=o,s.value=t,s.attrs=i;let a=MI();s.injectorIndex=a===null?-1:a.injectorIndex}return Us(s,!0),s}function Xj(n,r,o,t,i){let s=U_(),a=xg(),u=a?s:s&&s.parent,l=n.data[r]=tN(n,u,o,r,t,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(a?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Lx(n,r,o,t){if(o===0)return-1;let i=r.length;for(let s=0;s<o;s++)r.push(t),n.blueprint.push(t),n.data.push(null);return i}function Bx(n,r,o,t,i){let s=zs(),a=t&2;try{Rs(-1),a&&r.length>Jn&&kx(n,r,Jn,!1),qo(a?2:0,i),o(t,i)}finally{Rs(s),qo(a?3:1,i)}}function Ug(n,r,o){if(wg(r)){let t=or(null);try{let i=r.directiveStart,s=r.directiveEnd;for(let a=i;a<s;a++){let u=n.data[a];if(u.contentQueries){let l=o[a];u.contentQueries(1,l,a)}}}finally{or(t)}}}function zg(n,r,o){B_()&&(aN(n,r,o,mo(o,r)),(o.flags&64)===64&&zx(n,r,o))}function Gg(n,r,o=mo){let t=r.localNames;if(t!==null){let i=r.index+1;for(let s=0;s<t.length;s+=2){let a=t[s+1],u=a===-1?o(r,n):n[a];n[i++]=u}}}function Vx(n){let r=n.tView;return r===null||r.incompleteFirstPass?n.tView=Hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Hg(n,r,o,t,i,s,a,u,l,c,m){let y=Jn+t,d=y+i,h=Zj(y,d),p=typeof c=="function"?c():c;return h[It]={type:n,blueprint:h,template:o,queries:null,viewQuery:u,declTNode:r,data:h.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:m}}function Zj(n,r){let o=[];for(let t=0;t<r;t++)o.push(t<n?null:Ko);return o}function Qj(n,r,o,t){let s=t.get(vj,vx)||o===$o.ShadowDom,a=n.selectRootElement(r,s);return Kj(a),a}function Kj(n){Jj(n)}var Jj=()=>null;function eN(n,r,o,t){let i=qx(r);i.push(o),n.firstCreatePass&&Wx(n).push(t,i.length-1)}function tN(n,r,o,t,i,s){let a=r?r.injectorIndex:-1,u=0;return V_()&&(u|=128),{type:o,index:t,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bw(n,r,o,t,i){for(let s in r){if(!r.hasOwnProperty(s))continue;let a=r[s];if(a===void 0)continue;t??={};let u,l=$i.None;Array.isArray(a)?(u=a[0],l=a[1]):u=a;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}n===0?Vw(t,o,c,u,l):Vw(t,o,c,u)}return t}function Vw(n,r,o,t,i){let s;n.hasOwnProperty(o)?(s=n[o]).push(r,t):s=n[o]=[r,t],i!==void 0&&s.push(i)}function rN(n,r,o){let t=r.directiveStart,i=r.directiveEnd,s=n.data,a=r.attrs,u=[],l=null,c=null;for(let m=t;m<i;m++){let y=s[m],d=o?o.get(y):null,h=d?d.inputs:null,p=d?d.outputs:null;l=Bw(0,y.inputs,m,l,h),c=Bw(1,y.outputs,m,c,p);let f=l!==null&&a!==null&&!yg(r)?vN(l,m,a):null;u.push(f)}l!==null&&(l.hasOwnProperty("class")&&(r.flags|=8),l.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=u,r.inputs=l,r.outputs=c}function nN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qg(n,r,o,t,i,s,a,u){let l=mo(r,o),c=r.inputs,m;!u&&c!=null&&(m=c[t])?($g(n,o,m,t,i),zd(r)&&oN(o,r.index)):r.type&3?(t=nN(t),i=a!=null?a(i,r.value||"",t):i,s.setProperty(l,t,i)):r.type&12}function oN(n,r){let o=Ji(r,n);o[At]&16||(o[At]|=64)}function Wg(n,r,o,t){if(B_()){let i=t===null?null:{"":-1},s=uN(n,o),a,u;s===null?a=u=null:[a,u]=s,a!==null&&Ux(n,r,o,a,i,u),i&&cN(o,t,i)}o.mergedAttrs=ou(o.mergedAttrs,o.attrs)}function Ux(n,r,o,t,i,s){for(let c=0;c<t.length;c++)Mm(wd(o,r),n,t[c].type);fN(o,n.data.length,t.length);for(let c=0;c<t.length;c++){let m=t[c];m.providersResolver&&m.providersResolver(m)}let a=!1,u=!1,l=Lx(n,r,t.length,null);for(let c=0;c<t.length;c++){let m=t[c];o.mergedAttrs=ou(o.mergedAttrs,m.hostAttrs),hN(n,o,r,l,m),dN(l,m,i),m.contentQueries!==null&&(o.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(o.flags|=64);let y=m.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),a=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),u=!0),l++}rN(n,o,s)}function iN(n,r,o,t,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let u=~r.index;sN(a)!=u&&a.push(u),a.push(o,t,s)}}function sN(n){let r=n.length;for(;r>0;){let o=n[--r];if(typeof o=="number"&&o<0)return o}return 0}function aN(n,r,o,t){let i=o.directiveStart,s=o.directiveEnd;zd(o)&&pN(r,o,n.data[i+o.componentOffset]),n.firstCreatePass||wd(o,r),Zi(t,r);let a=o.initialInputs;for(let u=i;u<s;u++){let l=n.data[u],c=Ls(r,n,u,o);if(Zi(c,r),a!==null&&yN(r,u-i,c,l,o,a),Xi(l)){let m=Ji(o.index,r);m[Ao]=Ls(r,n,u,o)}}}function zx(n,r,o){let t=o.directiveStart,i=o.directiveEnd,s=o.index,a=jI();try{Rs(s);for(let u=t;u<i;u++){let l=n.data[u],c=r[u];Sm(u),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lN(l,c)}}finally{Rs(-1),Sm(a)}}function lN(n,r){n.hostBindings!==null&&n.hostBindings(1,r)}function uN(n,r){let o=n.directiveRegistry,t=null,i=null;if(o)for(let s=0;s<o.length;s++){let a=o[s];if(p_(r,a.selectors,!1))if(t||(t=[]),Xi(a))if(a.findHostDirectiveDefs!==null){let u=[];i=i||new Map,a.findHostDirectiveDefs(a,u,i),t.unshift(...u,a);let l=u.length;Pm(n,r,l)}else t.unshift(a),Pm(n,r,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,t,i),t.push(a)}return t===null?null:[t,i]}function Pm(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function cN(n,r,o){if(r){let t=n.localNames=[];for(let i=0;i<r.length;i+=2){let s=o[r[i+1]];if(s==null)throw new et(-301,!1);t.push(r[i],s)}}}function dN(n,r,o){if(o){if(r.exportAs)for(let t=0;t<r.exportAs.length;t++)o[r.exportAs[t]]=n;Xi(r)&&(o[""]=n)}}function fN(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function hN(n,r,o,t,i){n.data[t]=i;let s=i.factory||(i.factory=Ns(i.type,!0)),a=new Ps(s,Xi(i),ot);n.blueprint[t]=a,o[t]=a,iN(n,r,t,Lx(n,o,i.hostVars,Ko),i)}function pN(n,r,o){let t=mo(r,n),i=Vx(o),s=n[Yo].rendererFactory,a=16;o.signals?a=4096:o.onPush&&(a=64);let u=rf(n,tf(n,i,null,a,t,r,null,s.createRenderer(t,o),null,null,null));n[r.index]=u}function mN(n,r,o,t,i,s){let a=mo(n,r);gN(r[Gr],a,s,n.value,o,t,i)}function gN(n,r,o,t,i,s,a){if(s==null)n.removeAttribute(r,i,o);else{let u=a==null?Pd(s):a(s,t||"",i);n.setAttribute(r,i,u,o)}}function yN(n,r,o,t,i,s){let a=s[r];if(a!==null)for(let u=0;u<a.length;){let l=a[u++],c=a[u++],m=a[u++],y=a[u++];Px(t,o,l,c,m,y)}}function vN(n,r,o){let t=null,i=0;for(;i<o.length;){let s=o[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){t===null&&(t=[]);let a=n[s];for(let u=0;u<a.length;u+=3)if(a[u]===r){t.push(s,a[u+1],a[u+2],o[i+1]);break}}i+=2}return t}function Gx(n,r,o,t){return[n,!0,0,r,null,t,null,o,null,null]}function Hx(n,r){let o=n.contentQueries;if(o!==null){let t=or(null);try{for(let i=0;i<o.length;i+=2){let s=o[i],a=o[i+1];if(a!==-1){let u=n.data[a];Sg(s),u.contentQueries(2,r[a],a)}}}finally{or(t)}}}function rf(n,r){return n[au]?n[Ew][Co]=r:n[au]=r,n[Ew]=r,r}function Lm(n,r,o){Sg(0);let t=or(null);try{r(n,o)}finally{or(t)}}function qx(n){return n[pd]??=[]}function Wx(n){return n.cleanup??=[]}function $x(n,r){let o=n[za],t=o?o.get(bi,null):null;t&&t.handleError(r)}function $g(n,r,o,t,i){for(let s=0;s<o.length;){let a=o[s++],u=o[s++],l=o[s++],c=r[a],m=n.data[a];Px(m,c,t,u,l,i)}}function bN(n,r,o){let t=O_(r,n);jj(n[Gr],t,o)}function wN(n,r){let o=Ji(r,n),t=o[It];_N(t,o);let i=o[_i];i!==null&&o[su]===null&&(o[su]=kg(i,o[za])),Yg(t,o,o[Ao])}function _N(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}function Yg(n,r,o){Eg(r);try{let t=n.viewQuery;t!==null&&Lm(1,t,o);let i=n.template;i!==null&&Bx(n,r,i,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),r[vi]?.finishViewCreation(n),n.staticContentQueries&&Hx(n,r),n.staticViewQueries&&Lm(2,n.viewQuery,o);let s=n.components;s!==null&&xN(r,s)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{r[At]&=-5,Cg()}}function xN(n,r){for(let o=0;o<r.length;o++)wN(n,r[o])}function Yx(n,r,o,t){let i=or(null);try{let s=r.tView,u=n[At]&4096?4096:16,l=tf(n,s,o,u,null,r,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),c=n[r.index];l[Os]=c;let m=n[vi];return m!==null&&(l[vi]=m.createEmbeddedView(s)),Yg(s,l,o),l}finally{or(i)}}function Bm(n,r){return!r||r.firstChild===null||fx(n)}function Xx(n,r,o,t=!0){let i=r[It];if(Rj(i,r,n,o),t){let a=Rm(o,n),u=r[Gr],l=Tx(u,n[Fs]);l!==null&&Fj(i,n[Un],u,r,l,a)}let s=r[su];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Cd(n,r,o,t,i=!1){for(;o!==null;){if(o.type===128){o=i?o.projectionNext:o.next;continue}let s=r[o.index];s!==null&&t.push(Xo(s)),xi(s)&&DN(s,t);let a=o.type;if(a&8)Cd(n,r,o.child,t);else if(a&32){let u=Lg(o,r),l;for(;l=u();)t.push(l)}else if(a&16){let u=jx(r,o);if(Array.isArray(u))t.push(...u);else{let l=ks(r[fo]);Cd(l[It],l,u,t,!0)}}o=i?o.projectionNext:o.next}return t}function DN(n,r){for(let o=Qn;o<n.length;o++){let t=n[o],i=t[It].firstChild;i!==null&&Cd(t[It],t,i,r)}n[Fs]!==n[_i]&&r.push(n[Fs])}var Zx=[];function SN(n){return n[co]??EN(n)}function EN(n){let r=Zx.pop()??Object.create(MN);return r.lView=n,r}function CN(n){n.lView[co]!==n&&(n.lView=null,Zx.push(n))}var MN=Rt(Je({},Xl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{qd(n.lView)},consumerOnSignalRead(){this.lView[co]=this}});function AN(n){let r=n[co]??Object.create(TN);return r.lView=n,r}var TN=Rt(Je({},Xl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let r=ks(n.lView);for(;r&&!Qx(r[It]);)r=ks(r);r&&R_(r)},consumerOnSignalRead(){this.lView[co]=this}});function Qx(n){return n.type!==2}var IN=100;function Kx(n,r=!0,o=0){let t=n[Yo],i=t.rendererFactory,s=!1;s||i.begin?.();try{jN(n,o)}catch(a){throw r&&$x(n,a),a}finally{s||(i.end?.(),t.inlineEffectRunner?.flush())}}function jN(n,r){let o=z_();try{Mw(!0),Vm(n,r);let t=0;for(;Hd(n);){if(t===IN)throw new et(103,!1);t++,Vm(n,1)}}finally{Mw(o)}}function NN(n,r,o,t){let i=r[At];if((i&256)===256)return;let s=!1,a=!1;!s&&r[Yo].inlineEffectRunner?.flush(),Eg(r);let u=!0,l=null,c=null;s||(Qx(n)?(c=SN(r),l=Ec(c)):I1()===null?(u=!1,c=AN(r),l=Ec(c)):r[co]&&(jp(r[co]),r[co]=null));try{k_(r),AI(n.bindingStartIndex),o!==null&&Bx(n,r,o,2,t);let m=(i&3)===3;if(!s)if(m){let h=n.preOrderCheckHooks;h!==null&&sd(r,h,null)}else{let h=n.preOrderHooks;h!==null&&ad(r,h,0,null),nm(r,0)}if(a||ON(r),Jx(r,0),n.contentQueries!==null&&Hx(n,r),!s)if(m){let h=n.contentCheckHooks;h!==null&&sd(r,h)}else{let h=n.contentHooks;h!==null&&ad(r,h,1),nm(r,1)}Yj(n,r);let y=n.components;y!==null&&tD(r,y,0);let d=n.viewQuery;if(d!==null&&Lm(2,d,t),!s)if(m){let h=n.viewCheckHooks;h!==null&&sd(r,h)}else{let h=n.viewHooks;h!==null&&ad(r,h,2),nm(r,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),r[rm]){for(let h of r[rm])h();r[rm]=null}s||(r[At]&=-73)}catch(m){throw s||qd(r),m}finally{c!==null&&(Tp(c,l),u&&CN(c)),Cg()}}function Jx(n,r){for(let o=px(n);o!==null;o=mx(o))for(let t=Qn;t<o.length;t++){let i=o[t];eD(i,r)}}function ON(n){for(let r=px(n);r!==null;r=mx(r)){if(!(r[At]&gd.HasTransplantedViews))continue;let o=r[Ga];for(let t=0;t<o.length;t++){let i=o[t];R_(i)}}}function FN(n,r,o){let t=Ji(r,n);eD(t,o)}function eD(n,r){_g(n)&&Vm(n,r)}function Vm(n,r){let t=n[It],i=n[At],s=n[co],a=!!(r===0&&i&16);if(a||=!!(i&64&&r===0),a||=!!(i&1024),a||=!!(s?.dirty&&Ip(s)),a||=!1,s&&(s.dirty=!1),n[At]&=-9217,a)NN(t,n,t.template,n[Ao]);else if(i&8192){Jx(n,1);let u=t.components;u!==null&&tD(n,u,1)}}function tD(n,r,o){for(let t=0;t<r.length;t++)FN(n,r[t],o)}function Xg(n,r){let o=z_()?64:1088;for(n[Yo].changeDetectionScheduler?.notify(r);n;){n[At]|=o;let t=ks(n);if(_m(n)&&!t)return n;n=t}return null}var Bs=class{get rootNodes(){let r=this._lView,o=r[It];return Cd(o,r,o.firstChild,[])}constructor(r,o,t=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ao]}set context(r){this._lView[Ao]=r}get destroyed(){return(this._lView[At]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[Tn];if(xi(r)){let o=r[md],t=o?o.indexOf(this):-1;t>-1&&(km(r,t),fd(o,t))}this._attachedToViewContainer=!1}Cx(this._lView[It],this._lView)}onDestroy(r){P_(this._lView,r)}markForCheck(){Xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[At]&=-129}reattach(){Dm(this._lView),this._lView[At]|=128}detectChanges(){this._lView[At]|=1024,Kx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=_m(this._lView),o=this._lView[Os];o!==null&&!r&&Bg(o,this._lView),Sx(this._lView[It],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=r;let o=_m(this._lView),t=this._lView[Os];t!==null&&!o&&Ex(t,this._lView),Dm(this._lView)}},wi=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=PN;let n=r;return n})(),kN=wi,RN=class extends kN{constructor(r,o,t){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,t){let i=Yx(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:t});return new Bs(i)}};function PN(){return Zg(Dn(),Xt())}function Zg(n,r){return n.type&4?new RN(r,n,Za(n,r)):null}var gH=new RegExp(`^(\\d+)*(${gj}|${mj})*(.*)`);var LN=()=>null;function Um(n,r){return LN(n,r)}var qa=class{},rD=new _t("",{providedIn:"root",factory:()=>!1});var nD=new _t(""),oD=new _t(""),zm=class{},Md=class{};function BN(n){let r=Error(`No component factory found for ${kn(n)}.`);return r[VN]=n,r}var VN="ngComponent";var Gm=class{resolveComponentFactory(r){throw BN(r)}},cy=class cy{};cy.NULL=new Gm;var Qi=cy,ho=class{},Rn=(()=>{let r=class r{constructor(){this.destroyNode=null}};r.__NG_ELEMENT_ID__=()=>UN();let n=r;return n})();function UN(){let n=Xt(),r=Dn(),o=Ji(r.index,n);return(Wi(o)?o:n)[Gr]}var zN=(()=>{let r=class r{};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>null});let n=r;return n})();function Ad(n,r,o){let t=o?n.styles:null,i=o?n.classes:null,s=0;if(r!==null)for(let a=0;a<r.length;a++){let u=r[a];if(typeof u=="number")s=u;else if(s==1)i=hm(i,u);else if(s==2){let l=u,c=r[++a];t=hm(t,l+": "+c+";")}}o?n.styles=t:n.stylesWithoutHost=t,o?n.classes=i:n.classesWithoutHost=i}var Td=class extends Qi{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let o=Yi(r);return new Wa(o,this.ngModule)}};function Uw(n,r){let o=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,u=s?i[1]:$i.None;r?o.push({propName:a,templateName:t,isSignal:(u&$i.SignalBased)!==0}):o.push({propName:a,templateName:t})}return o}function GN(n){let r=n.toLowerCase();return r==="svg"?mI:r==="math"?gI:null}var Wa=class extends Md{get inputs(){let r=this.componentDef,o=r.inputTransforms,t=Uw(r.inputs,!0);if(o!==null)for(let i of t)o.hasOwnProperty(i.propName)&&(i.transform=o[i.propName]);return t}get outputs(){return Uw(this.componentDef.outputs,!1)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=$T(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,t,i){let s=or(null);try{i=i||this.ngModule;let a=i instanceof Kn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let u=a?new Em(r,a):r,l=u.get(ho,null);if(l===null)throw new et(407,!1);let c=u.get(zN,null),m=u.get(qa,null),y={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:m},d=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=t?Qj(d,t,this.componentDef.encapsulation,u):Dx(d,h,GN(h)),f=512;this.componentDef.signals?f|=4096:this.componentDef.onPush||(f|=16);let v=null;p!==null&&(v=kg(p,u,!0));let g=Hg(0,null,null,1,0,null,null,null,null,null,null),w=tf(null,g,null,f,null,null,y,d,u,null,v);Eg(w);let b,_,D=null;try{let C=this.componentDef,M,E=null;C.findHostDirectiveDefs?(M=[],E=new Map,C.findHostDirectiveDefs(C,M,E),M.push(C)):M=[C];let S=HN(w,p);D=qN(S,p,C,M,w,y,d),_=F_(g,Jn),p&&YN(d,C,p,t),o!==void 0&&XN(_,this.ngContentSelectors,o),b=$N(D,C,M,E,w,[ZN]),Yg(g,w,null)}catch(C){throw D!==null&&Om(D),Om(w),C}finally{Cg()}return new Hm(this.componentType,b,Za(_,w),w,_)}finally{or(s)}}},Hm=class extends zm{constructor(r,o,t,i,s){super(),this.location=t,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Bs(i,void 0,!1),this.componentType=r}setInput(r,o){let t=this._tNode.inputs,i;if(t!==null&&(i=t[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;let s=this._rootLView;$g(s[It],s,i,r,o),this.previousInputValues.set(r,o);let a=Ji(this._tNode.index,s);Xg(a,1)}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function HN(n,r){let o=n[It],t=Jn;return n[t]=r,Ja(o,t,2,"#host",null)}function qN(n,r,o,t,i,s,a){let u=i[It];WN(t,n,r,a);let l=null;r!==null&&(l=kg(r,i[za]));let c=s.rendererFactory.createRenderer(r,o),m=16;o.signals?m=4096:o.onPush&&(m=64);let y=tf(i,Vx(o),null,m,i[n.index],n,s,c,null,null,l);return u.firstCreatePass&&Pm(u,n,t.length-1),rf(i,y),i[n.index]=y}function WN(n,r,o,t){for(let i of n)r.mergedAttrs=ou(r.mergedAttrs,i.hostAttrs);r.mergedAttrs!==null&&(Ad(r,r.mergedAttrs,!0),o!==null&&Fx(t,o,r))}function $N(n,r,o,t,i,s){let a=Dn(),u=i[It],l=mo(a,i);Ux(u,i,a,o,null,t);for(let m=0;m<o.length;m++){let y=a.directiveStart+m,d=Ls(i,u,y,a);Zi(d,i)}zx(u,i,a),l&&Zi(l,i);let c=Ls(i,u,a.directiveStart+a.componentOffset,a);if(n[Ao]=i[Ao]=c,s!==null)for(let m of s)m(c,r);return Ug(u,a,i),c}function YN(n,r,o,t){if(t)ym(n,o,["ng-version","18.2.2"]);else{let{attrs:i,classes:s}=YT(r.selectors[0]);i&&ym(n,o,i),s&&s.length>0&&Ox(n,o,s.join(" "))}}function XN(n,r,o){let t=n.projection=[];for(let i=0;i<r.length;i++){let s=o[i];t.push(s!=null?Array.from(s):null)}}function ZN(){let n=Dn();Zd(Xt()[It],n)}var To=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=QN;let n=r;return n})();function QN(){let n=Dn();return sD(n,Xt())}var KN=To,iD=class extends KN{constructor(r,o,t){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=t}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){let r=Mg(this._hostTNode,this._hostLView);if(J_(r)){let o=vd(r,this._hostLView),t=yd(r),i=o[It].data[t+8];return new js(i,o)}else return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let o=zw(this._lContainer);return o!==null&&o[r]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(r,o,t){let i,s;typeof t=="number"?i=t:t!=null&&(i=t.index,s=t.injector);let a=Um(this._lContainer,r.ssrId),u=r.createEmbeddedViewImpl(o||{},s,a);return this.insertImpl(u,i,Bm(this._hostTNode,a)),u}createComponent(r,o,t,i,s){let a=r&&!dI(r),u;if(a)u=o;else{let p=o||{};u=p.index,t=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=a?r:new Wa(Yi(r)),c=t||this.parentInjector;if(!s&&l.ngModule==null){let f=(a?c:this.parentInjector).get(Kn,null);f&&(s=f)}let m=Yi(l.componentType??{}),y=Um(this._lContainer,m?.id??null),d=y?.firstChild??null,h=l.create(c,i,d,s);return this.insertImpl(h.hostView,u,Bm(this._hostTNode,y)),h}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,t){let i=r._lView;if(bI(i)){let u=this.indexOf(r);if(u!==-1)this.detach(u);else{let l=i[Tn],c=new iD(l,l[Un],l[Tn]);c.detach(c.indexOf(r))}}let s=this._adjustIndex(o),a=this._lContainer;return Xx(a,i,s,t),r.attachToViewContainerRef(),l_(lm(a),s,r),r}move(r,o){return this.insert(r,o)}indexOf(r){let o=zw(this._lContainer);return o!==null?o.indexOf(r):-1}remove(r){let o=this._adjustIndex(r,-1),t=km(this._lContainer,o);t&&(fd(lm(this._lContainer),o),Cx(t[It],t))}detach(r){let o=this._adjustIndex(r,-1),t=km(this._lContainer,o);return t&&fd(lm(this._lContainer),o)!=null?new Bs(t):null}_adjustIndex(r,o=0){return r??this.length+o}};function zw(n){return n[md]}function lm(n){return n[md]||(n[md]=[])}function sD(n,r){let o,t=r[n.index];return xi(t)?o=t:(o=Gx(t,r,null,n),r[n.index]=o,rf(r,o)),eO(o,r,n,t),new iD(o,n,r)}function JN(n,r){let o=n[Gr],t=o.createComment(""),i=mo(r,n),s=Tx(o,i);return Ed(o,s,t,Vj(o,i),!1),t}var eO=nO,tO=()=>!1;function rO(n,r,o){return tO(n,r,o)}function nO(n,r,o,t){if(n[Fs])return;let i;o.type&8?i=Xo(t):i=JN(r,o),n[Fs]=i}var qm=class n{constructor(r){this.queryList=r,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Wm=class n{constructor(r=[]){this.queries=r}createEmbeddedView(r){let o=r.queries;if(o!==null){let t=r.contentQueries!==null?r.contentQueries[0]:o.length,i=[];for(let s=0;s<t;s++){let a=o.getByIndex(s),u=this.queries[a.indexInDeclarationView];i.push(u.clone())}return new n(i)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)Qg(r,o).matches!==null&&this.queries[o].setDirty()}},$m=class{constructor(r,o,t=null){this.flags=o,this.read=t,typeof r=="string"?this.predicate=dO(r):this.predicate=r}},Ym=class n{constructor(r=[]){this.queries=r}elementStart(r,o){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let t=0;t<this.length;t++){let i=o!==null?o.length:0,s=this.getByIndex(t).embeddedTView(r,i);s&&(s.indexInDeclarationView=t,o!==null?o.push(s):o=[s])}return o!==null?new n(o):null}template(r,o){for(let t=0;t<this.queries.length;t++)this.queries[t].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},Xm=class n{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new n(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let o=this._declarationNodeIndex,t=r.parent;for(;t!==null&&t.type&8&&t.index!==o;)t=t.parent;return o===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(r,o){let t=this.metadata.predicate;if(Array.isArray(t))for(let i=0;i<t.length;i++){let s=t[i];this.matchTNodeWithReadOption(r,o,oO(o,s)),this.matchTNodeWithReadOption(r,o,ld(o,r,s,!1,!1))}else t===wi?o.type&4&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ld(o,r,t,!1,!1))}matchTNodeWithReadOption(r,o,t){if(t!==null){let i=this.metadata.read;if(i!==null)if(i===wr||i===To||i===wi&&o.type&4)this.addMatch(o.index,-2);else{let s=ld(o,r,i,!1,!1);s!==null&&this.addMatch(o.index,s)}else this.addMatch(o.index,t)}}addMatch(r,o){this.matches===null?this.matches=[r,o]:this.matches.push(r,o)}};function oO(n,r){let o=n.localNames;if(o!==null){for(let t=0;t<o.length;t+=2)if(o[t]===r)return o[t+1]}return null}function iO(n,r){return n.type&11?Za(n,r):n.type&4?Zg(n,r):null}function sO(n,r,o,t){return o===-1?iO(r,n):o===-2?aO(n,r,t):Ls(n,n[It],o,r)}function aO(n,r,o){if(o===wr)return Za(r,n);if(o===wi)return Zg(r,n);if(o===To)return sD(r,n)}function aD(n,r,o,t){let i=r[vi].queries[t];if(i.matches===null){let s=n.data,a=o.matches,u=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)u.push(null);else{let m=s[c];u.push(sO(r,m,a[l+1],o.metadata.read))}}i.matches=u}return i.matches}function Zm(n,r,o,t){let i=n.queries.getByIndex(o),s=i.matches;if(s!==null){let a=aD(n,r,i,o);for(let u=0;u<s.length;u+=2){let l=s[u];if(l>0)t.push(a[u/2]);else{let c=s[u+1],m=r[-l];for(let y=Qn;y<m.length;y++){let d=m[y];d[Os]===d[Tn]&&Zm(d[It],d,c,t)}if(m[Ga]!==null){let y=m[Ga];for(let d=0;d<y.length;d++){let h=y[d];Zm(h[It],h,c,t)}}}}}return t}function lO(n,r){return n[vi].queries[r].queryList}function uO(n,r,o){let t=new Nm((o&4)===4);return eN(n,r,t,t.destroy),(r[vi]??=new Wm).queries.push(new qm(t))-1}function cO(n,r,o,t){let i=Kr();if(i.firstCreatePass){let s=Dn();fO(i,new $m(r,o,t),s.index),hO(i,n),(o&2)===2&&(i.staticContentQueries=!0)}return uO(i,Xt(),o)}function dO(n){return n.split(",").map(r=>r.trim())}function fO(n,r,o){n.queries===null&&(n.queries=new Ym),n.queries.track(new Xm(r,o))}function hO(n,r){let o=n.contentQueries||(n.contentQueries=[]),t=o.length?o[o.length-1]:-1;r!==t&&o.push(n.queries.length-1,r)}function Qg(n,r){return n.queries.getByIndex(r)}function pO(n,r){let o=n[It],t=Qg(o,r);return t.crossesNgTemplate?Zm(o,n,r,[]):aD(o,n,t,r)}var Gw=new Set;function el(n){Gw.has(n)||(Gw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function mO(n){return typeof n=="function"&&n[gi]!==void 0}function nf(n,r){el("NgSignals");let o=U1(n),t=o[gi];return r?.equal&&(t.equal=r.equal),o.set=i=>Np(t,i),o.update=i=>z1(t,i),o.asReadonly=gO.bind(o),o}function gO(){let n=this[gi];if(n.readonlyFn===void 0){let r=()=>this();r[gi]=n,n.readonlyFn=r}return n.readonlyFn}function lD(n){return mO(n)&&typeof n.set=="function"}function yO(n){let r=[],o=new Map;function t(i){let s=o.get(i);if(!s){let a=n(i);o.set(i,s=a.then(_O))}return s}return Id.forEach((i,s)=>{let a=[];i.templateUrl&&a.push(t(i.templateUrl).then(c=>{i.template=c}));let u=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=u,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,m=i.styleUrls;i.styleUrls.forEach((y,d)=>{u.push(""),a.push(t(y).then(h=>{u[c+d]=h,m.splice(m.indexOf(y),1),m.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&a.push(t(i.styleUrl).then(c=>{u.push(c),i.styleUrl=void 0}));let l=Promise.all(a).then(()=>xO(s));r.push(l)}),bO(),Promise.all(r).then(()=>{})}var Id=new Map,vO=new Set;function bO(){let n=Id;return Id=new Map,n}function wO(){return Id.size===0}function _O(n){return typeof n=="string"?n:n.text()}function xO(n){vO.delete(n)}function DO(n){return Object.getPrototypeOf(n.prototype).constructor}function tl(n){let r=DO(n.type),o=!0,t=[n];for(;r;){let i;if(Xi(n))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new et(903,!1);i=r.\u0275dir}if(i){if(o){t.push(i);let a=n;a.inputs=td(n.inputs),a.inputTransforms=td(n.inputTransforms),a.declaredInputs=td(n.declaredInputs),a.outputs=td(n.outputs);let u=i.hostBindings;u&&AO(n,u);let l=i.viewQuery,c=i.contentQueries;if(l&&CO(n,l),c&&MO(n,c),SO(n,i),fT(n.outputs,i.outputs),Xi(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let u=s[a];u&&u.ngInherit&&u(n),u===tl&&(o=!1)}}r=Object.getPrototypeOf(r)}EO(t)}function SO(n,r){for(let o in r.inputs){if(!r.inputs.hasOwnProperty(o)||n.inputs.hasOwnProperty(o))continue;let t=r.inputs[o];if(t!==void 0&&(n.inputs[o]=t,n.declaredInputs[o]=r.declaredInputs[o],r.inputTransforms!==null)){let i=Array.isArray(t)?t[0]:t;if(!r.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=r.inputTransforms[i]}}}function EO(n){let r=0,o=null;for(let t=n.length-1;t>=0;t--){let i=n[t];i.hostVars=r+=i.hostVars,i.hostAttrs=ou(i.hostAttrs,o=ou(o,i.hostAttrs))}}function td(n){return n===Ba?{}:n===Vn?[]:n}function CO(n,r){let o=n.viewQuery;o?n.viewQuery=(t,i)=>{r(t,i),o(t,i)}:n.viewQuery=r}function MO(n,r){let o=n.contentQueries;o?n.contentQueries=(t,i,s)=>{r(t,i,s),o(t,i,s)}:n.contentQueries=r}function AO(n,r){let o=n.hostBindings;o?n.hostBindings=(t,i)=>{r(t,i),o(t,i)}:n.hostBindings=r}function Kg(n){let r=n.inputConfig,o={};for(let t in r)if(r.hasOwnProperty(t)){let i=r[t];Array.isArray(i)&&i[3]&&(o[t]=i[3])}n.inputTransforms=o}var Ki=class{},lu=class{};var jd=class extends Ki{constructor(r,o,t,i=!0){super(),this.ngModuleType=r,this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Td(this);let s=b_(r);this._bootstrapComponents=xx(s.bootstrap),this._r3Injector=lx(r,o,[{provide:Ki,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver},...t],kn(r),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},Nd=class extends lu{constructor(r){super(),this.moduleType=r}create(r){return new jd(this.moduleType,r,[])}};function TO(n,r,o){return new jd(n,r,o,!1)}var Qm=class extends Ki{constructor(r){super(),this.componentFactoryResolver=new Td(this),this.instance=null;let o=new iu([...r.providers,{provide:Ki,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],r.parent||bg(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function of(n,r,o=null){return new Qm({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}function uD(n){return Jg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function IO(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{let o=n[Symbol.iterator](),t;for(;!(t=o.next()).done;)r(t.value)}}function Jg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function jO(n,r,o){return n[r]=o}function Gs(n,r,o){let t=n[r];return Object.is(t,o)?!1:(n[r]=o,!0)}function NO(n){return(n.flags&32)===32}function OO(n,r,o,t,i,s,a,u,l){let c=r.consts,m=Ja(r,n,4,a||null,u||null);Wg(r,o,m,Ha(c,l)),Zd(r,m);let y=m.tView=Hg(2,m,t,i,s,r.directiveRegistry,r.pipeRegistry,null,r.schemas,c,null);return r.queries!==null&&(r.queries.template(r,m),y.queries=r.queries.embeddedTView(m)),m}function cD(n,r,o,t,i,s,a,u,l,c){let m=o+Jn,y=r.firstCreatePass?OO(m,r,n,t,i,s,a,u,l):r.data[m];Us(y,!1);let d=FO(r,n,y,o);Yd()&&Jd(r,n,d,y),Zi(d,n);let h=Gx(d,n,d,y);return n[m]=h,rf(n,h),rO(h,y,n),Gd(y)&&zg(r,n,y),l!=null&&Gg(n,y,c),y}function Mr(n,r,o,t,i,s,a,u){let l=Xt(),c=Kr(),m=Ha(c.consts,s);return cD(l,c,n,r,o,t,i,m,a,u),Mr}var FO=kO;function kO(n,r,o,t){return Xd(!0),r[Gr].createComment("")}var Ra=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ra||{}),dD=(()=>{let r=class r{constructor(){this.impl=null}execute(){this.impl?.execute()}};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})(),Is=class Is{constructor(){this.ngZone=rt(Yt),this.scheduler=rt(qa),this.errorHandler=rt(bi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let r of Is.PHASES)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(t){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(6))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}};Is.PHASES=[Ra.EarlyRead,Ra.Write,Ra.MixedReadWrite,Ra.Read],Is.\u0275prov=tt({token:Is,providedIn:"root",factory:()=>new Is});var Km=Is,Jm=class{constructor(r,o,t,i){this.impl=r,this.hooks=o,this.once=t,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function ey(n,r){!r?.injector&&uI(ey);let o=r?.injector??rt(pn);return Aj(o)?(el("NgAfterNextRender"),PO(n,o,r,!0)):LO}function RO(n,r){if(n instanceof Function){let o=[void 0,void 0,void 0,void 0];return o[r]=n,o}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function PO(n,r,o,t){let i=r.get(dD);i.impl??=r.get(Km);let s=o?.phase??Ra.MixedReadWrite,a=new Jm(i.impl,RO(n,s),t,r.get(Tg));return i.impl.register(a),a}var LO={destroy(){}};function Gn(n,r,o,t){let i=Xt(),s=Wd();if(Gs(i,s,r)){let a=Kr(),u=$d();mN(u,i,n,r,o,t)}return Gn}function fD(n,r,o,t){return Gs(n,Wd(),o)?r+Pd(o)+t:Ko}function rd(n,r){return n<<17|r<<2}function Vs(n){return n>>17&32767}function BO(n){return(n&2)==2}function VO(n,r){return n&131071|r<<17}function eg(n){return n|2}function $a(n){return(n&131068)>>2}function um(n,r){return n&-131069|r<<2}function UO(n){return(n&1)===1}function tg(n){return n|1}function zO(n,r,o,t,i,s){let a=s?r.classBindings:r.styleBindings,u=Vs(a),l=$a(a);n[t]=o;let c=!1,m;if(Array.isArray(o)){let y=o;m=y[1],(m===null||hu(y,m)>0)&&(c=!0)}else m=o;if(i)if(l!==0){let d=Vs(n[u+1]);n[t+1]=rd(d,u),d!==0&&(n[d+1]=um(n[d+1],t)),n[u+1]=VO(n[u+1],t)}else n[t+1]=rd(u,0),u!==0&&(n[u+1]=um(n[u+1],t)),u=t;else n[t+1]=rd(l,0),u===0?u=t:n[l+1]=um(n[l+1],t),l=t;c&&(n[t+1]=eg(n[t+1])),Hw(n,m,t,!0),Hw(n,m,t,!1),GO(r,m,n,t,s),a=rd(u,l),s?r.classBindings=a:r.styleBindings=a}function GO(n,r,o,t,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof r=="string"&&hu(s,r)>=0&&(o[t+1]=tg(o[t+1]))}function Hw(n,r,o,t){let i=n[o+1],s=r===null,a=t?Vs(i):$a(i),u=!1;for(;a!==0&&(u===!1||s);){let l=n[a],c=n[a+1];HO(l,r)&&(u=!0,n[a+1]=t?tg(c):eg(c)),a=t?Vs(c):$a(c)}u&&(n[o+1]=t?eg(i):tg(i))}function HO(n,r){return n===null||r==null||(Array.isArray(n)?n[1]:n)===r?!0:Array.isArray(n)&&typeof r=="string"?hu(n,r)>=0:!1}var Eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qO(n){return n.substring(Eo.key,Eo.keyEnd)}function WO(n){return $O(n),hD(n,pD(n,0,Eo.textEnd))}function hD(n,r){let o=Eo.textEnd;return o===r?-1:(r=Eo.keyEnd=YO(n,Eo.key=r,o),pD(n,r,o))}function $O(n){Eo.key=0,Eo.keyEnd=0,Eo.value=0,Eo.valueEnd=0,Eo.textEnd=n.length}function pD(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function YO(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}function Jt(n,r,o){let t=Xt(),i=Wd();if(Gs(t,i,r)){let s=Kr(),a=$d();qg(s,a,t,n,r,t[Gr],o,!1)}return Jt}function rg(n,r,o,t,i){let s=r.inputs,a=i?"class":"style";$g(n,o,s[a],a,t)}function es(n,r,o){return mD(n,r,o,!1),es}function eo(n,r){return mD(n,r,null,!0),eo}function sf(n){ZO(rF,XO,n,!0)}function XO(n,r){for(let o=WO(r);o>=0;o=hD(r,o))gg(n,qO(r),!0)}function mD(n,r,o,t){let i=Xt(),s=Kr(),a=H_(2);if(s.firstUpdatePass&&yD(s,n,a,t),r!==Ko&&Gs(i,a,r)){let u=s.data[zs()];vD(s,u,i,i[Gr],n,i[a+1]=oF(r,o),t,a)}}function ZO(n,r,o,t){let i=Kr(),s=H_(2);i.firstUpdatePass&&yD(i,null,s,t);let a=Xt();if(o!==Ko&&Gs(a,s,o)){let u=i.data[zs()];if(bD(u,t)&&!gD(i,s)){let l=t?u.classesWithoutHost:u.stylesWithoutHost;l!==null&&(o=hm(l,o||"")),rg(i,u,a,o,t)}else nF(i,u,a,a[Gr],a[s+1],a[s+1]=tF(n,r,o),t,s)}}function gD(n,r){return r>=n.expandoStartIndex}function yD(n,r,o,t){let i=n.data;if(i[o+1]===null){let s=i[zs()],a=gD(n,o);bD(s,t)&&r===null&&!a&&(r=!1),r=QO(i,s,r,t),zO(i,s,r,o,a,t)}}function QO(n,r,o,t){let i=NI(n),s=t?r.residualClasses:r.residualStyles;if(i===null)(t?r.classBindings:r.styleBindings)===0&&(o=cm(null,n,r,o,t),o=uu(o,r.attrs,t),s=null);else{let a=r.directiveStylingLast;if(a===-1||n[a]!==i)if(o=cm(i,n,r,o,t),s===null){let l=KO(n,r,t);l!==void 0&&Array.isArray(l)&&(l=cm(null,n,r,l[1],t),l=uu(l,r.attrs,t),JO(n,r,t,l))}else s=eF(n,r,t)}return s!==void 0&&(t?r.residualClasses=s:r.residualStyles=s),o}function KO(n,r,o){let t=o?r.classBindings:r.styleBindings;if($a(t)!==0)return n[Vs(t)]}function JO(n,r,o,t){let i=o?r.classBindings:r.styleBindings;n[Vs(i)]=t}function eF(n,r,o){let t,i=r.directiveEnd;for(let s=1+r.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;t=uu(t,a,o)}return uu(t,r.attrs,o)}function cm(n,r,o,t,i){let s=null,a=o.directiveEnd,u=o.directiveStylingLast;for(u===-1?u=o.directiveStart:u++;u<a&&(s=r[u],t=uu(t,s.hostAttrs,i),s!==n);)u++;return n!==null&&(o.directiveStylingLast=u),t}function uu(n,r,o){let t=o?1:2,i=-1;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];typeof a=="number"?i=a:i===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gg(n,a,o?!0:r[++s]))}return n===void 0?null:n}function tF(n,r,o){if(o==null||o==="")return Vn;let t=[],i=Qa(o);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(t,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(t,s,i[s]);else typeof i=="string"&&r(t,i);return t}function rF(n,r,o){let t=String(r);t!==""&&!t.includes(" ")&&gg(n,t,o)}function nF(n,r,o,t,i,s,a,u){i===Ko&&(i=Vn);let l=0,c=0,m=0<i.length?i[0]:null,y=0<s.length?s[0]:null;for(;m!==null||y!==null;){let d=l<i.length?i[l+1]:void 0,h=c<s.length?s[c+1]:void 0,p=null,f;m===y?(l+=2,c+=2,d!==h&&(p=y,f=h)):y===null||m!==null&&m<y?(l+=2,p=m):(c+=2,p=y,f=h),p!==null&&vD(n,r,o,t,p,f,a,u),m=l<i.length?i[l]:null,y=c<s.length?s[c]:null}}function vD(n,r,o,t,i,s,a,u){if(!(r.type&3))return;let l=n.data,c=l[u+1],m=UO(c)?qw(l,r,o,i,$a(c),a):void 0;if(!Od(m)){Od(s)||BO(c)&&(s=qw(l,null,o,i,u,a));let y=O_(zs(),o);Wj(t,a,y,i,s)}}function qw(n,r,o,t,i,s){let a=r===null,u;for(;i>0;){let l=n[i],c=Array.isArray(l),m=c?l[1]:l,y=m===null,d=o[i+1];d===Ko&&(d=y?Vn:void 0);let h=y?em(d,t):m===t?d:void 0;if(c&&!Od(h)&&(h=em(l,t)),Od(h)&&(u=h,a))return u;let p=n[i+1];i=a?Vs(p):$a(p)}if(r!==null){let l=s?r.residualClasses:r.residualStyles;l!=null&&(u=em(l,t))}return u}function Od(n){return n!==void 0}function oF(n,r){return n==null||n===""||(typeof r=="string"?n=n+r:typeof n=="object"&&(n=kn(Qa(n)))),n}function bD(n,r){return(n.flags&(r?8:16))!==0}function iF(n,r,o,t,i,s){let a=r.consts,u=Ha(a,i),l=Ja(r,n,2,t,u);return Wg(r,o,l,Ha(a,s)),l.attrs!==null&&Ad(l,l.attrs,!1),l.mergedAttrs!==null&&Ad(l,l.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,l),l}function ze(n,r,o,t){let i=Xt(),s=Kr(),a=Jn+n,u=i[Gr],l=s.firstCreatePass?iF(a,s,i,r,o,t):s.data[a],c=sF(s,i,l,u,r,n);i[a]=c;let m=Gd(l);return Us(l,!0),Fx(u,c,l),!NO(l)&&Yd()&&Jd(s,i,c,l),xI()===0&&Zi(c,i),DI(),m&&(zg(s,i,l),Ug(s,l,i)),t!==null&&Gg(i,l),ze}function He(){let n=Dn();xg()?Dg():(n=n.parent,Us(n,!1));let r=n;EI(r)&&CI(),SI();let o=Kr();return o.firstCreatePass&&(Zd(o,n),wg(n)&&o.queries.elementEnd(n)),r.classesWithoutHost!=null&&BI(r)&&rg(o,r,Xt(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&VI(r)&&rg(o,r,Xt(),r.stylesWithoutHost,!1),He}function pr(n,r,o,t){return ze(n,r,o,t),He(),pr}var sF=(n,r,o,t,i,s)=>(Xd(!0),Dx(t,i,kI()));function aF(n,r,o,t,i){let s=r.consts,a=Ha(s,t),u=Ja(r,n,8,"ng-container",a);a!==null&&Ad(u,a,!0);let l=Ha(s,i);return Wg(r,o,u,l),r.queries!==null&&r.queries.elementStart(r,u),u}function af(n,r,o){let t=Xt(),i=Kr(),s=n+Jn,a=i.firstCreatePass?aF(s,i,t,r,o):i.data[s];Us(a,!0);let u=lF(i,t,a,n);return t[s]=u,Yd()&&Jd(i,t,u,a),Zi(u,t),Gd(a)&&(zg(i,t,a),Ug(i,a,t)),o!=null&&Gg(t,a),af}function lf(){let n=Dn(),r=Kr();return xg()?Dg():(n=n.parent,Us(n,!1)),r.firstCreatePass&&(Zd(r,n),wg(n)&&r.queries.elementEnd(n)),lf}var lF=(n,r,o,t)=>(Xd(!0),Nj(r[Gr],""));function to(){return Xt()}var Fd="en-US";var uF=Fd;function cF(n){typeof n=="string"&&(uF=n.toLowerCase().replace(/_/g,"-"))}var dF=(n,r,o)=>{};function lr(n,r,o,t){let i=Xt(),s=Kr(),a=Dn();return wD(s,i,i[Gr],a,n,r,t),lr}function fF(n,r,o,t){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===o&&i[s+1]===t){let u=r[pd],l=i[s+2];return u.length>l?u[l]:null}typeof a=="string"&&(s+=2)}return null}function wD(n,r,o,t,i,s,a){let u=Gd(t),c=n.firstCreatePass&&Wx(n),m=r[Ao],y=qx(r),d=!0;if(t.type&3||a){let f=mo(t,r),v=a?a(f):f,g=y.length,w=a?_=>a(Xo(_[t.index])):t.index,b=null;if(!a&&u&&(b=fF(n,r,i,t.index)),b!==null){let _=b.__ngLastListenerFn__||b;_.__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,d=!1}else{s=$w(t,r,m,s),dF(f,i,s);let _=o.listen(v,i,s);y.push(s,_),c&&c.push(i,w,g,g+1)}}else s=$w(t,r,m,s);let h=t.outputs,p;if(d&&h!==null&&(p=h[i])){let f=p.length;if(f)for(let v=0;v<f;v+=2){let g=p[v],w=p[v+1],D=r[g][w].subscribe(s),C=y.length;y.push(s,D),c&&c.push(i,t.index,C,-(C+1))}}}function Ww(n,r,o,t){let i=or(null);try{return qo(6,r,o),o(t)!==!1}catch(s){return $x(n,s),!1}finally{qo(7,r,o),or(i)}}function $w(n,r,o,t){return function i(s){if(s===Function)return t;let a=n.componentOffset>-1?Ji(n.index,r):r;Xg(a,5);let u=Ww(r,o,t,s),l=i.__ngNextListenerFn__;for(;l;)u=Ww(r,o,l,s)&&u,l=l.__ngNextListenerFn__;return u}}function Ut(n=1){return FI(n)}function hF(n,r){let o=null,t=zT(n);for(let i=0;i<r.length;i++){let s=r[i];if(s==="*"){o=i;continue}if(t===null?p_(n,s,!0):qT(t,s))return i}return o}function Hs(n){let r=Xt()[fo][Un];if(!r.projection){let o=n?n.length:1,t=r.projection=OT(o,null),i=t.slice(),s=r.child;for(;s!==null;){if(s.type!==128){let a=n?hF(s,n):0;a!==null&&(i[a]?i[a].projectionNext=s:t[a]=s,i[a]=s)}s=s.next}}}function qs(n,r=0,o,t,i,s){let a=Xt(),u=Kr(),l=t?n+1:null;l!==null&&cD(a,u,l,t,i,s,null,o);let c=Ja(u,Jn+n,16,null,o||null);c.projection===null&&(c.projection=r),Dg();let y=!a[su]||V_();a[fo][Un].projection[c.projection]===null&&l!==null?pF(a,u,l):y&&(c.flags&32)!==32&&Hj(u,a,c)}function pF(n,r,o){let t=Jn+o,i=r.data[t],s=n[t],a=Um(s,i.tView.ssrId),u=Yx(n,i,void 0,{dehydratedView:a});Xx(s,u,0,Bm(i,a))}function rl(n,r,o){return _D(n,"",r,"",o),rl}function _D(n,r,o,t,i){let s=Xt(),a=fD(s,r,o,t);if(a!==Ko){let u=Kr(),l=$d();qg(u,l,s,n,a,s[Gr],i,!1)}return _D}function xD(n,r,o,t){cO(n,r,o,t)}function DD(n){let r=Xt(),o=Kr(),t=q_();Sg(t+1);let i=Qg(o,t);if(n.dirty&&vI(r)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=pO(r,t);n.reset(s,lj),n.notifyOnChanges()}return!0}return!1}function SD(){return lO(Xt(),q_())}function mF(n,r,o,t){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=t}function ct(n,r=""){let o=Xt(),t=Kr(),i=n+Jn,s=t.firstCreatePass?Ja(t,i,1,r,null):t.data[i],a=gF(t,o,s,r,n);o[i]=a,Yd()&&Jd(t,o,a,s),Us(s,!1)}var gF=(n,r,o,t,i)=>(Xd(!0),Ij(r[Gr],t));function Hr(n){return nl("",n,""),Hr}function nl(n,r,o){let t=Xt(),i=fD(t,n,r,o);return i!==Ko&&bN(t,zs(),i),nl}function Io(n,r,o){lD(r)&&(r=r());let t=Xt(),i=Wd();if(Gs(t,i,r)){let s=Kr(),a=$d();qg(s,a,t,n,r,t[Gr],o,!1)}return Io}function Jo(n,r){let o=lD(n);return o&&n.set(r),o}function jo(n,r){let o=Xt(),t=Kr(),i=Dn();return wD(t,o,o[Gr],i,n,r),jo}function yF(n,r,o){let t=Kr();if(t.firstCreatePass){let i=Xi(n);ng(o,t.data,t.blueprint,i,!0),ng(r,t.data,t.blueprint,i,!1)}}function ng(n,r,o,t,i){if(n=Fn(n),Array.isArray(n))for(let s=0;s<n.length;s++)ng(n[s],r,o,t,i);else{let s=Kr(),a=Xt(),u=Dn(),l=Ua(n)?n:Fn(n.provide),c=E_(n),m=u.providerIndexes&1048575,y=u.directiveStart,d=u.providerIndexes>>20;if(Ua(n)||!n.multi){let h=new Ps(c,i,ot),p=fm(l,r,i?m:m+d,y);p===-1?(Mm(wd(u,a),s,l),dm(s,n,r.length),r.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),o.push(h),a.push(h)):(o[p]=h,a[p]=h)}else{let h=fm(l,r,m+d,y),p=fm(l,r,m,m+d),f=h>=0&&o[h],v=p>=0&&o[p];if(i&&!v||!i&&!f){Mm(wd(u,a),s,l);let g=wF(i?bF:vF,o.length,i,t,c);!i&&v&&(o[p].providerFactory=g),dm(s,n,r.length,0),r.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),o.push(g),a.push(g)}else{let g=ED(o[i?p:h],c,!i&&t);dm(s,n,h>-1?h:p,g)}!i&&t&&v&&o[p].componentProviders++}}}function dm(n,r,o,t){let i=Ua(r),s=rI(r);if(i||s){let l=(s?Fn(r.useClass):r).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&r.multi){let m=c.indexOf(o);m===-1?c.push(o,[t,l]):c[m+1].push(t,l)}else c.push(o,l)}}}function ED(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function fm(n,r,o,t){for(let i=o;i<t;i++)if(r[i]===n)return i;return-1}function vF(n,r,o,t){return og(this.multi,[])}function bF(n,r,o,t){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Ls(o,o[It],this.providerFactory.index,t);s=u.slice(0,a),og(i,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],og(i,s);return s}function og(n,r){for(let o=0;o<n.length;o++){let t=n[o];r.push(t())}return r}function wF(n,r,o,t,i){let s=new Ps(n,o,ot);return s.multi=[],s.index=r,s.componentProviders=0,ED(s,i,t&&!o),s}function ty(n,r=[]){return o=>{o.providersResolver=(t,i)=>yF(t,i?i(n):n,r)}}var _F=(()=>{let r=class r{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=x_(!1,t.type),s=i.length>0?of([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}};r.\u0275prov=tt({token:r,providedIn:"environment",factory:()=>new r(ut(Kn))});let n=r;return n})();function CD(n){el("NgStandalone"),n.getStandaloneInjector=r=>r.get(_F).getOrCreateStandaloneInjector(n)}function MD(n,r,o,t){return AD(Xt(),G_(),n,r,o,t)}function xF(n,r){let o=n[r];return o===Ko?void 0:o}function AD(n,r,o,t,i,s){let a=r+o;return Gs(n,a,i)?jO(n,a+1,s?t.call(s,i):t(i)):xF(n,a+1)}function TD(n,r){let o=Kr(),t,i=n+Jn;o.firstCreatePass?(t=DF(r,o.pipeRegistry),o.data[i]=t,t.onDestroy&&(o.destroyHooks??=[]).push(i,t.onDestroy)):t=o.data[i];let s=t.factory||(t.factory=Ns(t.type,!0)),a,u=Bn(ot);try{let l=bd(!1),c=s();return bd(l),mF(o,Xt(),i,c),c}finally{Bn(u)}}function DF(n,r){if(r)for(let o=r.length-1;o>=0;o--){let t=r[o];if(n===t.name)return t}}function ID(n,r,o){let t=n+Jn,i=Xt(),s=yI(i,t);return SF(i,t)?AD(i,G_(),r,s.transform,o,s):s.transform(o)}function SF(n,r){return n[It].data[r].pure}var nd=null;function EF(n){nd!==null&&(n.defaultEncapsulation!==nd.defaultEncapsulation||n.preserveWhitespaces!==nd.preserveWhitespaces)||(nd=n)}var uf=(()=>{let r=class r{log(t){console.log(t)}warn(t){console.warn(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();var ry=new _t(""),mu=new _t(""),cf=(()=>{let r=class r{constructor(t,i,s){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ny||(CF(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),t()},i)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}};r.\u0275fac=function(i){return new(i||r)(ut(Yt),ut(df),ut(mu))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),df=(()=>{let r=class r{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ny?.findTestabilityInTree(this,t,i)??null}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();function CF(n){ny=n}var ny;function Ws(n){return!!n&&typeof n.then=="function"}function jD(n){return!!n&&typeof n.subscribe=="function"}var ff=new _t(""),ND=(()=>{let r=class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=rt(ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let s of this.appInits){let a=s();if(Ws(a))t.push(a);else if(jD(a)){let u=new Promise((l,c)=>{a.subscribe({complete:l,error:c})});t.push(u)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),t.length===0&&i(),this.initialized=!0}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),oy=new _t("");function MF(){V1(()=>{throw new et(600,!1)})}function AF(n){return n.isBoundToModule}var TF=10;function IF(n,r,o){try{let t=o();return Ws(t)?t.catch(i=>{throw r.runOutsideAngular(()=>n.handleError(i)),i}):t}catch(t){throw r.runOutsideAngular(()=>n.handleError(t)),t}}function OD(n,r){return Array.isArray(r)?r.reduce(OD,n):Je(Je({},n),r)}var ei=(()=>{let r=class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(sj),this.afterRenderManager=rt(dD),this.zonelessEnabled=rt(rD),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rn,this.afterTick=new rn,this.componentTypes=[],this.components=[],this.isStable=rt(Xa).hasPendingTasks.pipe(Ht(t=>!t)),this._injector=rt(Kn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let s=t instanceof Md;if(!this._injector.get(ND).done){let h=!s&&v_(t),p=!1;throw new et(405,p)}let u;s?u=t:u=this._injector.get(Qi).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=AF(u)?void 0:this._injector.get(Ki),c=i||u.selector,m=u.create(pn.NULL,[],c,l),y=m.location.nativeElement,d=m.injector.get(ry,null);return d?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),ud(this.components,m),d?.unregisterApplication(y)}),this._loadComponent(m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new et(101,!1);let t=or(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,or(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ho,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<TF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)jF(s,a,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;ud(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(oy,[]);[...this._bootstrapListeners,...i].forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ud(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new et(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function ud(n,r){let o=n.indexOf(r);o>-1&&n.splice(o,1)}function jF(n,r,o,t){if(!o&&!Hd(n))return;Kx(n,r,o&&!t?0:1)}var ig=class{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}},hf=(()=>{let r=class r{compileModuleSync(t){return new Nd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),s=b_(t),a=xx(s.declarations).reduce((u,l)=>{let c=Yi(l);return c&&u.push(new Wa(c)),u},[]);return new ig(i,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),NF=new _t("");function OF(n,r,o){let t=new Nd(o);return Promise.resolve(t)}function Yw(n){for(let r=n.length-1;r>=0;r--)if(n[r]!==void 0)return n[r]}var FF=(()=>{let r=class r{constructor(){this.zone=rt(Yt),this.changeDetectionScheduler=rt(qa),this.applicationRef=rt(ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function kF({ngZoneFactory:n,ignoreChangesOutsideZone:r,scheduleInRootZone:o}){return n??=()=>new Yt(Rt(Je({},FD()),{scheduleInRootZone:o})),[{provide:Yt,useFactory:n},{provide:Va,multi:!0,useFactory:()=>{let t=rt(FF,{optional:!0});return()=>t.initialize()}},{provide:Va,multi:!0,useFactory:()=>{let t=rt(RF);return()=>{t.initialize()}}},r===!0?{provide:nD,useValue:!0}:[],{provide:oD,useValue:o??ux}]}function FD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var RF=(()=>{let r=class r{constructor(){this.subscription=new Or,this.initialized=!1,this.zone=rt(Yt),this.pendingTasks=rt(Xa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Yt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var PF=(()=>{let r=class r{constructor(){this.appRef=rt(ei),this.taskService=rt(Xa),this.ngZone=rt(Yt),this.zonelessEnabled=rt(rD),this.disableScheduling=rt(nD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Or,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(rt(oD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Nw:cx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function LF(){return typeof $localize<"u"&&$localize.locale||Fd}var iy=new _t("",{providedIn:"root",factory:()=>rt(iy,Pt.Optional|Pt.SkipSelf)||LF()});var sy=new _t("");function od(n){return!!n.platformInjector}function BF(n){let r=od(n)?n.r3Injector:n.moduleRef.injector,o=r.get(Yt);return o.run(()=>{od(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let t=r.get(bi,null),i;if(o.runOutsideAngular(()=>{i=o.onError.subscribe({next:s=>{t.handleError(s)}})}),od(n)){let s=()=>r.destroy(),a=n.platformInjector.get(sy);a.add(s),r.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else n.moduleRef.onDestroy(()=>{ud(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return IF(t,o,()=>{let s=r.get(ND);return s.runInitializers(),s.donePromise.then(()=>{let a=r.get(iy,Fd);if(cF(a||Fd),od(n)){let u=r.get(ei);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return VF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function VF(n,r){let o=n.injector.get(ei);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(t=>o.bootstrap(t));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(o);else throw new et(-403,!1);r.push(n)}var kD=(()=>{let r=class r{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let s=i?.scheduleInRootZone,a=()=>ij(i?.ngZone,Rt(Je({},FD({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),u=i?.ignoreChangesOutsideZone,l=[kF({ngZoneFactory:a,ignoreChangesOutsideZone:u}),{provide:qa,useExisting:PF}],c=TO(t.moduleType,this.injector,l);return BF({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(t,i=[]){let s=OD({},i);return OF(this.injector,s,t).then(a=>this.bootstrapModuleFactory(a,s))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(sy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};r.\u0275fac=function(i){return new(i||r)(ut(pn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),ru=null,RD=new _t("");function UF(n){if(ru&&!ru.get(RD,!1))throw new et(400,!1);MF(),ru=n;let r=n.get(kD);return HF(n),r}function ay(n,r,o=[]){let t=`Platform: ${r}`,i=new _t(t);return(s=[])=>{let a=PD();if(!a||a.injector.get(RD,!1)){let u=[...o,...s,{provide:i,useValue:!0}];n?n(u):UF(zF(u,t))}return GF(i)}}function zF(n=[],r){return pn.create({name:r,providers:[{provide:Vd,useValue:"platform"},{provide:sy,useValue:new Set([()=>ru=null])},...n]})}function GF(n){let r=PD();if(!r)throw new et(401,!1);return r}function PD(){return ru?.get(kD)??null}function HF(n){n.get(Ng,null)?.forEach(o=>o())}var ts=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=qF;let n=r;return n})();function qF(n){return WF(Dn(),Xt(),(n&16)===16)}function WF(n,r,o){if(zd(n)&&!o){let t=Ji(n.index,r);return new Bs(t,t)}else if(n.type&175){let t=r[fo];return new Bs(t,r)}return null}var sg=class{constructor(){}supports(r){return uD(r)}create(r){return new ag(r)}},$F=(n,r)=>r,ag=class{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||$F}forEachItem(r){let o;for(o=this._itHead;o!==null;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,t=this._removalsHead,i=0,s=null;for(;o||t;){let a=!t||o&&o.currentIndex<Xw(t,i,s)?o:t,u=Xw(a,i,s),l=a.currentIndex;if(a===t)i--,t=t._nextRemoved;else if(o=o._next,a.previousIndex==null)i++;else{s||(s=[]);let c=u-i,m=l-i;if(c!=m){for(let d=0;d<c;d++){let h=d<s.length?s[d]:s[d]=0,p=h+d;m<=p&&p<c&&(s[d]=h+1)}let y=a.previousIndex;s[y]=m-c}}u!==l&&r(a,u,l)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;o!==null;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;o!==null;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;o!==null;o=o._nextIdentityChange)r(o)}diff(r){if(r==null&&(r=[]),!uD(r))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._itHead,t=!1,i,s,a;if(Array.isArray(r)){this.length=r.length;for(let u=0;u<this.length;u++)s=r[u],a=this._trackByFn(u,s),o===null||!Object.is(o.trackById,a)?(o=this._mismatch(o,s,a,u),t=!0):(t&&(o=this._verifyReinsertion(o,s,a,u)),Object.is(o.item,s)||this._addIdentityChange(o,s)),o=o._next}else i=0,IO(r,u=>{a=this._trackByFn(i,u),o===null||!Object.is(o.trackById,a)?(o=this._mismatch(o,u,a,i),t=!0):(t&&(o=this._verifyReinsertion(o,u,a,i)),Object.is(o.item,u)||this._addIdentityChange(o,u)),o=o._next,i++}),this.length=i;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,t,i){let s;return r===null?s=this._itTail:(s=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),r!==null?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,s,i)):(r=this._linkedRecords===null?null:this._linkedRecords.get(t,i),r!==null?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,s,i)):r=this._addAfter(new lg(o,t),s,i)),r}_verifyReinsertion(r,o,t,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return s!==null?r=this._reinsertAfter(s,r._prev,i):r.currentIndex!=i&&(r.currentIndex=i,this._addToMoves(r,i)),r}_truncate(r){for(;r!==null;){let o=r._next;this._addToRemovals(this._unlink(r)),r=o}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let i=r._prevRemoved,s=r._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(r,o,t),this._addToMoves(r,t),r}_moveAfter(r,o,t){return this._unlink(r),this._insertAfter(r,o,t),this._addToMoves(r,t),r}_addAfter(r,o,t){return this._insertAfter(r,o,t),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,o,t){let i=o===null?this._itHead:o._next;return r._next=i,r._prev=o,i===null?this._itTail=r:i._prev=r,o===null?this._itHead=r:o._next=r,this._linkedRecords===null&&(this._linkedRecords=new kd),this._linkedRecords.put(r),r.currentIndex=t,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let o=r._prev,t=r._next;return o===null?this._itHead=t:o._next=t,t===null?this._itTail=o:t._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kd),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}},lg=class{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ug=class{constructor(){this._head=null,this._tail=null}add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let t;for(t=this._head;t!==null;t=t._nextDup)if((o===null||o<=t.currentIndex)&&Object.is(t.trackById,r))return t;return null}remove(r){let o=r._prevDup,t=r._nextDup;return o===null?this._head=t:o._nextDup=t,t===null?this._tail=o:t._prevDup=o,this._head===null}},kd=class{constructor(){this.map=new Map}put(r){let o=r.trackById,t=this.map.get(o);t||(t=new ug,this.map.set(o,t)),t.add(r)}get(r,o){let t=r,i=this.map.get(t);return i?i.get(r,o):null}remove(r){let o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xw(n,r,o){let t=n.previousIndex;if(t===null)return t;let i=0;return o&&t<o.length&&(i=o[t]),t+r+i}var cg=class{constructor(){}supports(r){return r instanceof Map||Jg(r)}create(){return new dg}},dg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(r){let o;for(o=this._mapHead;o!==null;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;o!==null;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;o!==null;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)r(o)}diff(r){if(!r)r=new Map;else if(!(r instanceof Map||Jg(r)))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(t,i)=>{if(o&&o.key===i)this._maybeAddToChanges(o,t),this._appendAfter=o,o=o._next;else{let s=this._getOrCreateRecordForKey(i,t);o=this._insertBeforeOrAppend(o,s)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let t=o;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){let t=r._prev;return o._next=r,o._prev=t,r._prev=o,t&&(t._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){let i=this._records.get(r);this._maybeAddToChanges(i,o);let s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}let t=new fg(r);return this._records.set(r,t),t.currentValue=o,this._addToAdditions(t),t}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(t=>o(r[t],t))}},fg=class{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Zw(){return new ly([new sg])}var ly=(()=>{let r=class r{constructor(t){this.factories=t}static create(t,i){if(i!=null){let s=i.factories.slice();t=t.concat(s)}return new r(t)}static extend(t){return{provide:r,useFactory:i=>r.create(t,i||Zw()),deps:[[r,new Bd,new fu]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i!=null)return i;throw new et(901,!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:Zw});let n=r;return n})();function Qw(){return new uy([new cg])}var uy=(()=>{let r=class r{constructor(t){this.factories=t}static create(t,i){if(i){let s=i.factories.slice();t=t.concat(s)}return new r(t)}static extend(t){return{provide:r,useFactory:i=>r.create(t,i||Qw()),deps:[[r,new Bd,new fu]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i)return i;throw new et(901,!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:Qw});let n=r;return n})();var LD=ay(null,"core",[]),BD=(()=>{let r=class r{constructor(t){}};r.\u0275fac=function(i){return new(i||r)(ut(ei))},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({});let n=r;return n})();var VD=new _t("");function $s(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pf(n,r){el("NgSignals");let o=P1(n);return r?.equal&&(o[gi].equal=r.equal),o}function rs(n){let r=or(null);try{return n()}finally{or(r)}}function UD(n){let r=Yi(n);if(!r)return null;let o=new Wa(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var WD=null;function ti(){return WD}function $D(n){WD??=n}var mf=class{};var Xr=new _t(""),gy=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(YF),providedIn:"platform"});let n=r;return n})(),YD=new _t(""),YF=(()=>{let r=class r extends gy{constructor(){super(),this._doc=rt(Xr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ti().getBaseHref(this._doc)}onPopState(t){let i=ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>new r,providedIn:"platform"});let n=r;return n})();function yy(n,r){if(n.length==0)return r;if(r.length==0)return n;let o=0;return n.endsWith("/")&&o++,r.startsWith("/")&&o++,o==2?n+r.substring(1):o==1?n+r:n+"/"+r}function zD(n){let r=n.match(/#|\?|$/),o=r&&r.index||n.length,t=o-(n[o-1]==="/"?1:0);return n.slice(0,t)+n.slice(o)}function Di(n){return n&&n[0]!=="?"?"?"+n:n}var Si=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(vy),providedIn:"root"});let n=r;return n})(),XD=new _t(""),vy=(()=>{let r=class r extends Si{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??rt(Xr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yy(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Di(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,a){let u=this.prepareExternalUrl(s+Di(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,s,a){let u=this.prepareExternalUrl(s+Di(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};r.\u0275fac=function(i){return new(i||r)(ut(gy),ut(XD,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),ZD=(()=>{let r=class r extends Si{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=yy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,a){let u=this.prepareExternalUrl(s+Di(a));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,s,a){let u=this.prepareExternalUrl(s+Di(a));u.length==0&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};r.\u0275fac=function(i){return new(i||r)(ut(gy),ut(XD,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),ol=(()=>{let r=class r{constructor(t){this._subject=new $t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=QF(zD(GD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Di(i))}normalize(t){return r.stripTrailingSlash(ZF(this._basePath,GD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}};r.normalizeQueryParams=Di,r.joinWithSlash=yy,r.stripTrailingSlash=zD,r.\u0275fac=function(i){return new(i||r)(ut(Si))},r.\u0275prov=tt({token:r,factory:()=>XF(),providedIn:"root"});let n=r;return n})();function XF(){return new ol(ut(Si))}function ZF(n,r){if(!n||!r.startsWith(n))return r;let o=r.substring(n.length);return o===""||["/",";","?","#"].includes(o[0])?o:r}function GD(n){return n.replace(/\/index.html$/,"")}function QF(n){if(new RegExp("^(https?:)?//").test(n)){let[,o]=n.split(/\/\/[^\/]+/);return o}return n}function QD(n,r){r=encodeURIComponent(r);for(let o of n.split(";")){let t=o.indexOf("="),[i,s]=t==-1?[o,""]:[o.slice(0,t),o.slice(t+1)];if(i.trim()===r)return decodeURIComponent(s)}return null}var dy=class{constructor(r,o,t,i){this.$implicit=r,this.ngForOf=o,this.index=t,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hn=(()=>{let r=class r{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((s,a,u)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new dy(s.item,this._ngForOf,-1,-1),u===null?void 0:u);else if(u==null)i.remove(a===null?void 0:a);else if(a!==null){let l=i.get(a);i.move(l,u),HD(l,s)}});for(let s=0,a=i.length;s<a;s++){let l=i.get(s).context;l.index=s,l.count=a,l.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{let a=i.get(s.currentIndex);HD(a,s)})}static ngTemplateContextGuard(t,i){return!0}};r.\u0275fac=function(i){return new(i||r)(ot(To),ot(wi),ot(ly))},r.\u0275dir=nn({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=r;return n})();function HD(n,r){n.context.$implicit=r.item}var il=(()=>{let r=class r{constructor(t,i){this._viewContainer=t,this._context=new fy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}};r.\u0275fac=function(i){return new(i||r)(ot(To),ot(wi))},r.\u0275dir=nn({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=r;return n})(),fy=class{constructor(){this.$implicit=null,this.ngIf=null}};function qD(n,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${kn(r)}'.`)}var KD=(()=>{let r=class r{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[s,a]=t.split("."),u=s.indexOf("-")===-1?void 0:Zo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,a?`${i}${a}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,s,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};r.\u0275fac=function(i){return new(i||r)(ot(wr),ot(uy),ot(Rn))},r.\u0275dir=nn({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=r;return n})();var JD=(()=>{let r=class r{transform(t){return JSON.stringify(t,null,2)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275pipe=m_({name:"json",type:r,pure:!1,standalone:!0});let n=r;return n})();var ns=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({});let n=r;return n})(),by="browser",KF="server";function Ys(n){return n===by}function wy(n){return n===KF}var eS=(()=>{let r=class r{};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>Ys(rt(zn))?new hy(rt(Xr),window):new py});let n=r;return n})(),hy=class{constructor(r,o){this.document=r,this.window=o,this.offset=()=>[0,0]}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){let o=JF(this.document,r);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){let o=r.getBoundingClientRect(),t=o.left+this.window.pageXOffset,i=o.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],i-s[1])}};function JF(n,r){let o=n.getElementById(r)||n.getElementsByName(r)[0];if(o)return o;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=t.currentNode;for(;i;){let s=i.shadowRoot;if(s){let a=s.getElementById(r)||s.querySelector(`[name="${r}"]`);if(a)return a}i=t.nextNode()}}return null}var py=class{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}},gf=class{};var Dy=class extends mf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sy=class n extends Dy{static makeCurrent(){$D(new n)}onAndCancel(r,o,t){return r.addEventListener(o,t),()=>{r.removeEventListener(o,t)}}dispatchEvent(r,o){r.dispatchEvent(o)}remove(r){r.remove()}createElement(r,o){return o=o||this.getDefaultDocument(),o.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,o){return o==="window"?window:o==="document"?r:o==="body"?r.body:null}getBaseHref(r){let o=tk();return o==null?null:rk(o)}resetBaseElement(){gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return QD(document.cookie,r)}},gu=null;function tk(){return gu=gu||document.querySelector("base"),gu?gu.getAttribute("href"):null}function rk(n){return new URL(n,document.baseURI).pathname}var Ey=class{addToWindow(r){Mo.getAngularTestability=(t,i=!0)=>{let s=r.findTestabilityInTree(t,i);if(s==null)throw new et(5103,!1);return s},Mo.getAllAngularTestabilities=()=>r.getAllTestabilities(),Mo.getAllAngularRootElements=()=>r.getAllRootElements();let o=t=>{let i=Mo.getAllAngularTestabilities(),s=i.length,a=function(){s--,s==0&&t()};i.forEach(u=>{u.whenStable(a)})};Mo.frameworkStabilizers||(Mo.frameworkStabilizers=[]),Mo.frameworkStabilizers.push(o)}findTestabilityInTree(r,o,t){if(o==null)return null;let i=r.getTestability(o);return i??(t?ti().isShadowRoot(o)?this.findTestabilityInTree(r,o.host,!0):this.findTestabilityInTree(r,o.parentElement,!0):null)}},nk=(()=>{let r=class r{build(){return new XMLHttpRequest}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),yf=new _t(""),nS=(()=>{let r=class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(a=>a.supports(t)),!i)throw new et(5101,!1);return this._eventNameToPlugin.set(t,i),i}};r.\u0275fac=function(i){return new(i||r)(ut(yf),ut(Yt))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),yu=class{constructor(r){this._doc=r}},_y="ng-app-id",oS=(()=>{let r=class r{constructor(t,i,s,a={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wy(a),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${_y}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){let s=this.styleRef;if(s.has(t)){let a=s.get(t);return a.usage+=i,a.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===t)return s.delete(i),a.removeAttribute(_y),a;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(_y,this.appId),t.appendChild(u),u}}addStyleToHost(t,i){let s=this.getStyleElement(t,i),a=this.styleRef,u=a.get(i)?.elements;u?u.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};r.\u0275fac=function(i){return new(i||r)(ut(Xr),ut(Qd),ut(Fg,8),ut(zn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),xy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},My=/%COMP%/g,iS="%COMP%",ok=`_nghost-${iS}`,ik=`_ngcontent-${iS}`,sk=!0,ak=new _t("",{providedIn:"root",factory:()=>sk});function lk(n){return ik.replace(My,n)}function uk(n){return ok.replace(My,n)}function sS(n,r){return r.map(o=>o.replace(My,n))}var vf=(()=>{let r=class r{constructor(t,i,s,a,u,l,c,m=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=u,this.platformId=l,this.ngZone=c,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=wy(l),this.defaultRenderer=new vu(t,u,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$o.ShadowDom&&(i=Rt(Je({},i),{encapsulation:$o.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof bf?s.applyToHost(t):s instanceof bu&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let u=this.doc,l=this.ngZone,c=this.eventManager,m=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case $o.Emulated:a=new bf(c,m,i,this.appId,y,u,l,d);break;case $o.ShadowDom:return new Cy(c,m,t,i,u,l,this.nonce,d);default:a=new bu(c,m,i,y,u,l,d);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};r.\u0275fac=function(i){return new(i||r)(ut(nS),ut(oS),ut(Qd),ut(ak),ut(Xr),ut(zn),ut(Yt),ut(Fg))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),vu=class{constructor(r,o,t,i){this.eventManager=r,this.doc=o,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,o){return o?this.doc.createElementNS(xy[o]||o,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,o){(tS(r)?r.content:r).appendChild(o)}insertBefore(r,o,t){r&&(tS(r)?r.content:r).insertBefore(o,t)}removeChild(r,o){o.remove()}selectRootElement(r,o){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new et(-5104,!1);return o||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,o,t,i){if(i){o=i+":"+o;let s=xy[i];s?r.setAttributeNS(s,o,t):r.setAttribute(o,t)}else r.setAttribute(o,t)}removeAttribute(r,o,t){if(t){let i=xy[t];i?r.removeAttributeNS(i,o):r.removeAttribute(`${t}:${o}`)}else r.removeAttribute(o)}addClass(r,o){r.classList.add(o)}removeClass(r,o){r.classList.remove(o)}setStyle(r,o,t,i){i&(Zo.DashCase|Zo.Important)?r.style.setProperty(o,t,i&Zo.Important?"important":""):r.style[o]=t}removeStyle(r,o,t){t&Zo.DashCase?r.style.removeProperty(o):r.style[o]=""}setProperty(r,o,t){r!=null&&(r[o]=t)}setValue(r,o){r.nodeValue=o}listen(r,o,t){if(typeof r=="string"&&(r=ti().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${o}`);return this.eventManager.addEventListener(r,o,this.decoratePreventDefault(t))}decoratePreventDefault(r){return o=>{if(o==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(o)):r(o))===!1&&o.preventDefault()}}};function tS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Cy=class extends vu{constructor(r,o,t,i,s,a,u,l){super(r,s,a,l),this.sharedStylesHost=o,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=sS(i.id,i.styles);for(let m of c){let y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,o){return super.appendChild(this.nodeOrShadowRoot(r),o)}insertBefore(r,o,t){return super.insertBefore(this.nodeOrShadowRoot(r),o,t)}removeChild(r,o){return super.removeChild(null,o)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bu=class extends vu{constructor(r,o,t,i,s,a,u,l){super(r,s,a,u),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=i,this.styles=l?sS(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bf=class extends bu{constructor(r,o,t,i,s,a,u,l){let c=i+"-"+t.id;super(r,o,t,s,a,u,l,c),this.contentAttr=lk(c),this.hostAttr=uk(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,o){let t=super.createElement(r,o);return super.setAttribute(t,this.contentAttr,""),t}},ck=(()=>{let r=class r extends yu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}};r.\u0275fac=function(i){return new(i||r)(ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),dk=(()=>{let r=class r extends yu{constructor(t){super(t),this.delegate=rt(VD,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,i,s){return this.delegate.addEventListener(t,i,s)}removeEventListener(t,i,s){return this.delegate.removeEventListener(t,i,s)}};r.\u0275fac=function(i){return new(i||r)(ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),rS=["alt","control","meta","shift"],fk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},pk=(()=>{let r=class r extends yu{constructor(t){super(t)}supports(t){return r.parseEventName(t)!=null}addEventListener(t,i,s){let a=r.parseEventName(i),u=r.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ti().onAndCancel(t,a.domEventName,u))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=r._normalizeKey(i.pop()),u="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),u="code."),rS.forEach(m=>{let y=i.indexOf(m);y>-1&&(i.splice(y,1),u+=m+".")}),u+=a,i.length!=0||a.length===0)return null;let c={};return c.domEventName=s,c.fullKey=u,c}static matchEventFullKeyCode(t,i){let s=fk[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(s=t.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rS.forEach(u=>{if(u!==s){let l=hk[u];l(t)&&(a+=u+".")}}),a+=s,a===i)}static eventCallback(t,i,s){return a=>{r.matchEventFullKeyCode(a,t)&&s.runGuarded(()=>i(a))}}static _normalizeKey(t){return t==="esc"?"escape":t}};r.\u0275fac=function(i){return new(i||r)(ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function mk(){Sy.makeCurrent()}function gk(){return new bi}function yk(){return yx(document),document}var vk=[{provide:zn,useValue:by},{provide:Ng,useValue:mk,multi:!0},{provide:Xr,useFactory:yk,deps:[]}],aS=ay(LD,"browser",vk),bk=new _t(""),wk=[{provide:mu,useClass:Ey,deps:[]},{provide:ry,useClass:cf,deps:[Yt,df,mu]},{provide:cf,useClass:cf,deps:[Yt,df,mu]}],_k=[{provide:Vd,useValue:"root"},{provide:bi,useFactory:gk,deps:[]},{provide:yf,useClass:ck,multi:!0,deps:[Xr,Yt,zn]},{provide:yf,useClass:pk,multi:!0,deps:[Xr]},{provide:yf,useClass:dk,multi:!0},vf,oS,nS,{provide:ho,useExisting:vf},{provide:gf,useClass:nk,deps:[]},[]],wf=(()=>{let r=class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:Qd,useValue:t.appId}]}}};r.\u0275fac=function(i){return new(i||r)(ut(bk,12))},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({providers:[..._k,...wk],imports:[ns,BD]});let n=r;return n})();var ri=(()=>{let r=class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};r.\u0275fac=function(i){return new(i||r)(ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var jt="primary",Ou=Symbol("RouteTitle"),Ny=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o[0]:o}return null}getAll(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function fl(n){return new Ny(n)}function xk(n,r,o){let t=o.path.split("/");if(t.length>n.length||o.pathMatch==="full"&&(r.hasChildren()||t.length<n.length))return null;let i={};for(let s=0;s<t.length;s++){let a=t[s],u=n[s];if(a[0]===":")i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function Dk(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(!ni(n[o],r[o]))return!1;return!0}function ni(n,r){let o=n?Oy(n):void 0,t=r?Oy(r):void 0;if(!o||!t||o.length!=t.length)return!1;let i;for(let s=0;s<o.length;s++)if(i=o[s],!vS(n[i],r[i]))return!1;return!0}function Oy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vS(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let o=[...n].sort(),t=[...r].sort();return o.every((i,s)=>t[s]===i)}else return n===r}function bS(n){return n.length>0?n[n.length-1]:null}function is(n){return qp(n)?n:Ws(n)?Sr(Promise.resolve(n)):Et(n)}var Sk={exact:_S,subset:xS},wS={exact:Ek,subset:Ck,ignored:()=>!0};function lS(n,r,o){return Sk[o.paths](n.root,r.root,o.matrixParams)&&wS[o.queryParams](n.queryParams,r.queryParams)&&!(o.fragment==="exact"&&n.fragment!==r.fragment)}function Ek(n,r){return ni(n,r)}function _S(n,r,o){if(!Zs(n.segments,r.segments)||!Df(n.segments,r.segments,o)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let t in r.children)if(!n.children[t]||!_S(n.children[t],r.children[t],o))return!1;return!0}function Ck(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(o=>vS(n[o],r[o]))}function xS(n,r,o){return DS(n,r,r.segments,o)}function DS(n,r,o,t){if(n.segments.length>o.length){let i=n.segments.slice(0,o.length);return!(!Zs(i,o)||r.hasChildren()||!Df(i,o,t))}else if(n.segments.length===o.length){if(!Zs(n.segments,o)||!Df(n.segments,o,t))return!1;for(let i in r.children)if(!n.children[i]||!xS(n.children[i],r.children[i],t))return!1;return!0}else{let i=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!Zs(n.segments,i)||!Df(n.segments,i,t)||!n.children[jt]?!1:DS(n.children[jt],r,s,t)}}function Df(n,r,o){return r.every((t,i)=>wS[o](n[i].parameters,t.parameters))}var Mi=class{constructor(r=new fr([],{}),o={},t=null){this.root=r,this.queryParams=o,this.fragment=t}get queryParamMap(){return this._queryParamMap??=fl(this.queryParams),this._queryParamMap}toString(){return Tk.serialize(this)}},fr=class{constructor(r,o){this.segments=r,this.children=o,this.parent=null,Object.values(o).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},Xs=class{constructor(r,o){this.path=r,this.parameters=o}get parameterMap(){return this._parameterMap??=fl(this.parameters),this._parameterMap}toString(){return ES(this)}};function Mk(n,r){return Zs(n,r)&&n.every((o,t)=>ni(o.parameters,r[t].parameters))}function Zs(n,r){return n.length!==r.length?!1:n.every((o,t)=>o.path===r[t].path)}function Ak(n,r){let o=[];return Object.entries(n.children).forEach(([t,i])=>{t===jt&&(o=o.concat(r(i,t)))}),Object.entries(n.children).forEach(([t,i])=>{t!==jt&&(o=o.concat(r(i,t)))}),o}var Fu=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>new hl,providedIn:"root"});let n=r;return n})(),hl=class{parse(r){let o=new ky(r);return new Mi(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(r){let o=`/${wu(r.root,!0)}`,t=Nk(r.queryParams),i=typeof r.fragment=="string"?`#${Ik(r.fragment)}`:"";return`${o}${t}${i}`}},Tk=new hl;function Sf(n){return n.segments.map(r=>ES(r)).join("/")}function wu(n,r){if(!n.hasChildren())return Sf(n);if(r){let o=n.children[jt]?wu(n.children[jt],!1):"",t=[];return Object.entries(n.children).forEach(([i,s])=>{i!==jt&&t.push(`${i}:${wu(s,!1)}`)}),t.length>0?`${o}(${t.join("//")})`:o}else{let o=Ak(n,(t,i)=>i===jt?[wu(n.children[jt],!1)]:[`${i}:${wu(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[jt]!=null?`${Sf(n)}/${o[0]}`:`${Sf(n)}/(${o.join("//")})`}}function SS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(n){return SS(n).replace(/%3B/gi,";")}function Ik(n){return encodeURI(n)}function Fy(n){return SS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(n){return decodeURIComponent(n)}function uS(n){return Ef(n.replace(/\+/g,"%20"))}function ES(n){return`${Fy(n.path)}${jk(n.parameters)}`}function jk(n){return Object.entries(n).map(([r,o])=>`;${Fy(r)}=${Fy(o)}`).join("")}function Nk(n){let r=Object.entries(n).map(([o,t])=>Array.isArray(t)?t.map(i=>`${_f(o)}=${_f(i)}`).join("&"):`${_f(o)}=${_f(t)}`).filter(o=>o);return r.length?`?${r.join("&")}`:""}var Ok=/^[^\/()?;#]+/;function Ay(n){let r=n.match(Ok);return r?r[0]:""}var Fk=/^[^\/()?;=#]+/;function kk(n){let r=n.match(Fk);return r?r[0]:""}var Rk=/^[^=?&#]+/;function Pk(n){let r=n.match(Rk);return r?r[0]:""}var Lk=/^[^&#]+/;function Bk(n){let r=n.match(Lk);return r?r[0]:""}var ky=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fr([],{}):new fr([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(r.length>0||Object.keys(o).length>0)&&(t[jt]=new fr(r,o)),t}parseSegment(){let r=Ay(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(r),new Xs(Ef(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let o=kk(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let i=Ay(this.remaining);i&&(t=i,this.capture(t))}r[Ef(o)]=Ef(t)}parseQueryParam(r){let o=Pk(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let a=Bk(this.remaining);a&&(t=a,this.capture(t))}let i=uS(o),s=uS(t);if(r.hasOwnProperty(i)){let a=r[i];Array.isArray(a)||(a=[a],r[i]=a),a.push(s)}else r[i]=s}parseParens(r){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Ay(this.remaining),i=this.remaining[t.length];if(i!=="/"&&i!==")"&&i!==";")throw new et(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):r&&(s=jt);let a=this.parseChildren();o[s]=Object.keys(a).length===1?a[jt]:new fr([],a),this.consumeOptional("//")}return o}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new et(4011,!1)}};function CS(n){return n.segments.length>0?new fr([],{[jt]:n}):n}function MS(n){let r={};for(let[t,i]of Object.entries(n.children)){let s=MS(i);if(t===jt&&s.segments.length===0&&s.hasChildren())for(let[a,u]of Object.entries(s.children))r[a]=u;else(s.segments.length>0||s.hasChildren())&&(r[t]=s)}let o=new fr(n.segments,r);return Vk(o)}function Vk(n){if(n.numberOfChildren===1&&n.children[jt]){let r=n.children[jt];return new fr(n.segments.concat(r.segments),r.children)}return n}function Qs(n){return n instanceof Mi}function Uk(n,r,o=null,t=null){let i=AS(n);return TS(i,r,o,t)}function AS(n){let r;function o(s){let a={};for(let l of s.children){let c=o(l);a[l.outlet]=c}let u=new fr(s.url,a);return s===n&&(r=u),u}let t=o(n.root),i=CS(t);return r??i}function TS(n,r,o,t){let i=n;for(;i.parent;)i=i.parent;if(r.length===0)return Ty(i,i,i,o,t);let s=zk(r);if(s.toRoot())return Ty(i,i,new fr([],{}),o,t);let a=Gk(s,i,n),u=a.processChildren?Du(a.segmentGroup,a.index,s.commands):jS(a.segmentGroup,a.index,s.commands);return Ty(i,a.segmentGroup,u,o,t)}function Cf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cu(n){return typeof n=="object"&&n!=null&&n.outlets}function Ty(n,r,o,t,i){let s={};t&&Object.entries(t).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`});let a;n===r?a=o:a=IS(n,r,o);let u=CS(MS(a));return new Mi(u,s,i)}function IS(n,r,o){let t={};return Object.entries(n.children).forEach(([i,s])=>{s===r?t[i]=o:t[i]=IS(s,r,o)}),new fr(n.segments,t)}var Mf=class{constructor(r,o,t){if(this.isAbsolute=r,this.numberOfDoubleDots=o,this.commands=t,r&&t.length>0&&Cf(t[0]))throw new et(4003,!1);let i=t.find(Cu);if(i&&i!==bS(t))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mf(!0,0,n);let r=0,o=!1,t=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let u={};return Object.entries(s.outlets).forEach(([l,c])=>{u[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((u,l)=>{l==0&&u==="."||(l==0&&u===""?o=!0:u===".."?r++:u!=""&&i.push(u))}),i):[...i,s]},[]);return new Mf(o,r,t)}var ul=class{constructor(r,o,t){this.segmentGroup=r,this.processChildren=o,this.index=t}};function Gk(n,r,o){if(n.isAbsolute)return new ul(r,!0,0);if(!o)return new ul(r,!1,NaN);if(o.parent===null)return new ul(o,!0,0);let t=Cf(n.commands[0])?0:1,i=o.segments.length-1+t;return Hk(o,i,n.numberOfDoubleDots)}function Hk(n,r,o){let t=n,i=r,s=o;for(;s>i;){if(s-=i,t=t.parent,!t)throw new et(4005,!1);i=t.segments.length}return new ul(t,!1,i-s)}function qk(n){return Cu(n[0])?n[0].outlets:{[jt]:n}}function jS(n,r,o){if(n??=new fr([],{}),n.segments.length===0&&n.hasChildren())return Du(n,r,o);let t=Wk(n,r,o),i=o.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let s=new fr(n.segments.slice(0,t.pathIndex),{});return s.children[jt]=new fr(n.segments.slice(t.pathIndex),n.children),Du(s,0,i)}else return t.match&&i.length===0?new fr(n.segments,{}):t.match&&!n.hasChildren()?Ry(n,r,o):t.match?Du(n,0,i):Ry(n,r,o)}function Du(n,r,o){if(o.length===0)return new fr(n.segments,{});{let t=qk(o),i={};if(Object.keys(t).some(s=>s!==jt)&&n.children[jt]&&n.numberOfChildren===1&&n.children[jt].segments.length===0){let s=Du(n.children[jt],r,o);return new fr(n.segments,s.children)}return Object.entries(t).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=jS(n.children[s],r,a))}),Object.entries(n.children).forEach(([s,a])=>{t[s]===void 0&&(i[s]=a)}),new fr(n.segments,i)}}function Wk(n,r,o){let t=0,i=r,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(t>=o.length)return s;let a=n.segments[i],u=o[t];if(Cu(u))break;let l=`${u}`,c=t<o.length-1?o[t+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dS(l,c,a))return s;t+=2}else{if(!dS(l,{},a))return s;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}function Ry(n,r,o){let t=n.segments.slice(0,r),i=0;for(;i<o.length;){let s=o[i];if(Cu(s)){let l=$k(s.outlets);return new fr(t,l)}if(i===0&&Cf(o[0])){let l=n.segments[r];t.push(new Xs(l.path,cS(o[0]))),i++;continue}let a=Cu(s)?s.outlets[jt]:`${s}`,u=i<o.length-1?o[i+1]:null;a&&u&&Cf(u)?(t.push(new Xs(a,cS(u))),i+=2):(t.push(new Xs(a,{})),i++)}return new fr(t,{})}function $k(n){let r={};return Object.entries(n).forEach(([o,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[o]=Ry(new fr([],{}),0,t))}),r}function cS(n){let r={};return Object.entries(n).forEach(([o,t])=>r[o]=`${t}`),r}function dS(n,r,o){return n==o.path&&ni(r,o.parameters)}var Su="imperative",mn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mn||{}),go=class{constructor(r,o){this.id=r,this.url=o}},pl=class extends go{constructor(r,o,t="imperative",i=null){super(r,o),this.type=mn.NavigationStart,this.navigationTrigger=t,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Oo=class extends go{constructor(r,o,t){super(r,o),this.urlAfterRedirects=t,this.type=mn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},no=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(no||{}),Af=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Af||{}),Ci=class extends go{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=mn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},os=class extends go{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=mn.NavigationSkipped}},Mu=class extends go{constructor(r,o,t,i){super(r,o),this.error=t,this.target=i,this.type=mn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tf=class extends go{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=mn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class extends go{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=mn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ly=class extends go{constructor(r,o,t,i,s){super(r,o),this.urlAfterRedirects=t,this.state=i,this.shouldActivate=s,this.type=mn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},By=class extends go{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=mn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vy=class extends go{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=mn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uy=class{constructor(r){this.route=r,this.type=mn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zy=class{constructor(r){this.route=r,this.type=mn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gy=class{constructor(r){this.snapshot=r,this.type=mn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hy=class{constructor(r){this.snapshot=r,this.type=mn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qy=class{constructor(r){this.snapshot=r,this.type=mn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wy=class{constructor(r){this.snapshot=r,this.type=mn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{constructor(r,o,t){this.routerEvent=r,this.position=o,this.anchor=t,this.type=mn.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},Au=class{},ml=class{constructor(r,o){this.url=r,this.navigationBehaviorOptions=o}};function Yk(n,r){return n.providers&&!n._injector&&(n._injector=of(n.providers,r,`Route: ${n.path}`)),n._injector??r}function No(n){return n.outlet||jt}function Xk(n,r){let o=n.filter(t=>No(t)===r);return o.push(...n.filter(t=>No(t)!==r)),o}function ku(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let o=r.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var $y=class{get injector(){return ku(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new Ru(this.rootInjector),this.attachRef=null}},Ru=(()=>{let r=class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new $y(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}};r.\u0275fac=function(i){return new(i||r)(ut(Kn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),jf=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let o=this.pathFromRoot(r);return o.length>1?o[o.length-2]:null}children(r){let o=Yy(r,this._root);return o?o.children.map(t=>t.value):[]}firstChild(r){let o=Yy(r,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(r){let o=Xy(r,this._root);return o.length<2?[]:o[o.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Xy(r,this._root).map(o=>o.value)}};function Yy(n,r){if(n===r.value)return r;for(let o of r.children){let t=Yy(n,o);if(t)return t}return null}function Xy(n,r){if(n===r.value)return[r];for(let o of r.children){let t=Xy(n,o);if(t.length)return t.unshift(r),t}return[]}var ro=class{constructor(r,o){this.value=r,this.children=o}toString(){return`TreeNode(${this.value})`}};function ll(n){let r={};return n&&n.children.forEach(o=>r[o.value.outlet]=o),r}var Nf=class extends jf{constructor(r,o){super(r),this.snapshot=o,ov(this,r)}toString(){return this.snapshot.toString()}};function NS(n){let r=Zk(n),o=new _n([new Xs("",{})]),t=new _n({}),i=new _n({}),s=new _n({}),a=new _n(""),u=new Ks(o,t,s,a,i,jt,n,r.root);return u.snapshot=r.root,new Nf(new ro(u,[]),r)}function Zk(n){let r={},o={},t={},i="",s=new cl([],r,t,i,o,jt,n,null,{});return new Ff("",new ro(s,[]))}var Ks=class{constructor(r,o,t,i,s,a,u,l){this.urlSubject=r,this.paramsSubject=o,this.queryParamsSubject=t,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=u,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ht(c=>c[Ou]))??Et(void 0),this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ht(r=>fl(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ht(r=>fl(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Of(n,r,o="emptyOnly"){let t,{routeConfig:i}=n;return r!==null&&(o==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?t={params:Je(Je({},r.params),n.params),data:Je(Je({},r.data),n.data),resolve:Je(Je(Je(Je({},n.data),r.data),i?.data),n._resolvedData)}:t={params:Je({},n.params),data:Je({},n.data),resolve:Je(Je({},n.data),n._resolvedData??{})},i&&FS(i)&&(t.resolve[Ou]=i.title),t}var cl=class{get title(){return this.data?.[Ou]}constructor(r,o,t,i,s,a,u,l,c){this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=s,this.outlet=a,this.component=u,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fl(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(t=>t.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${o}')`}},Ff=class extends jf{constructor(r,o){super(o),this.url=r,ov(this,o)}toString(){return OS(this._root)}};function ov(n,r){r.value._routerState=n,r.children.forEach(o=>ov(n,o))}function OS(n){let r=n.children.length>0?` { ${n.children.map(OS).join(", ")} } `:"";return`${n.value}${r}`}function Iy(n){if(n.snapshot){let r=n.snapshot,o=n._futureSnapshot;n.snapshot=o,ni(r.queryParams,o.queryParams)||n.queryParamsSubject.next(o.queryParams),r.fragment!==o.fragment&&n.fragmentSubject.next(o.fragment),ni(r.params,o.params)||n.paramsSubject.next(o.params),Dk(r.url,o.url)||n.urlSubject.next(o.url),ni(r.data,o.data)||n.dataSubject.next(o.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zy(n,r){let o=ni(n.params,r.params)&&Mk(n.url,r.url),t=!n.parent!=!r.parent;return o&&!t&&(!n.parent||Zy(n.parent,r.parent))}function FS(n){return typeof n.title=="string"||n.title===null}var iv=(()=>{let r=class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new $t,this.deactivateEvents=new $t,this.attachEvents=new $t,this.detachEvents=new $t,this.parentContexts=rt(Ru),this.location=rt(To),this.changeDetector=rt(ts),this.inputBinder=rt(Vf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=t;let s=this.location,u=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Qy(t,l,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=nn({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[po]});let n=r;return n})(),Qy=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,o,t){this.route=r,this.childContexts=o,this.parent=t}get(r,o){return r===Ks?this.route:r===Ru?this.childContexts:this.parent.get(r,o)}},Vf=new _t(""),fS=(()=>{let r=class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,s=Kl([i.queryParams,i.params,i.data]).pipe(uo(([a,u,l],c)=>(l=Je(Je(Je({},a),u),l),c===0?Et(l):Promise.resolve(l)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let u=UD(i.component);if(!u){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of u.inputs)t.activatedComponentRef.setInput(l,a[l])});this.outletDataSubscriptions.set(t,s)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function Qk(n,r,o){let t=Tu(n,r._root,o?o._root:void 0);return new Nf(t,r)}function Tu(n,r,o){if(o&&n.shouldReuseRoute(r.value,o.value.snapshot)){let t=o.value;t._futureSnapshot=r.value;let i=Kk(n,r,o);return new ro(t,i)}else{if(n.shouldAttach(r.value)){let s=n.retrieve(r.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=r.value,a.children=r.children.map(u=>Tu(n,u)),a}}let t=Jk(r.value),i=r.children.map(s=>Tu(n,s));return new ro(t,i)}}function Kk(n,r,o){return r.children.map(t=>{for(let i of o.children)if(n.shouldReuseRoute(t.value,i.value.snapshot))return Tu(n,t,i);return Tu(n,t)})}function Jk(n){return new Ks(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}var Iu=class{constructor(r,o){this.redirectTo=r,this.navigationBehaviorOptions=o}},kS="ngNavigationCancelingError";function kf(n,r){let{redirectTo:o,navigationBehaviorOptions:t}=Qs(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=RS(!1,no.Redirect);return i.url=o,i.navigationBehaviorOptions=t,i}function RS(n,r){let o=new Error(`NavigationCancelingError: ${n||""}`);return o[kS]=!0,o.cancellationCode=r,o}function eR(n){return PS(n)&&Qs(n.url)}function PS(n){return!!n&&n[kS]}var tR=(n,r,o,t)=>Ht(i=>(new Ky(r,i.targetRouterState,i.currentRouterState,o,t).activate(n),i)),Ky=class{constructor(r,o,t,i,s){this.routeReuseStrategy=r,this.futureState=o,this.currState=t,this.forwardEvent=i,this.inputBindingEnabled=s}activate(r){let o=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,t,r),Iy(this.futureState.root),this.activateChildRoutes(o,t,r)}deactivateChildRoutes(r,o,t){let i=ll(o);r.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],t),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(r,o,t){let i=r.value,s=o?o.value:null;if(i===s)if(i.component){let a=t.getContext(i.outlet);a&&this.deactivateChildRoutes(r,o,a.children)}else this.deactivateChildRoutes(r,o,t);else s&&this.deactivateRouteAndItsChildren(o,t)}deactivateRouteAndItsChildren(r,o){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,o):this.deactivateRouteAndOutlet(r,o)}detachAndStoreRouteSubtree(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,s=ll(r);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(t&&t.outlet){let a=t.outlet.detach(),u=t.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:a,route:r,contexts:u})}}deactivateRouteAndOutlet(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,s=ll(r);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(r,o,t){let i=ll(o);r.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],t),this.forwardEvent(new Wy(s.value.snapshot))}),r.children.length&&this.forwardEvent(new Hy(r.value.snapshot))}activateRoutes(r,o,t){let i=r.value,s=o?o.value:null;if(Iy(i),i===s)if(i.component){let a=t.getOrCreateContext(i.outlet);this.activateChildRoutes(r,o,a.children)}else this.activateChildRoutes(r,o,t);else if(i.component){let a=t.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),Iy(u.route.value),this.activateChildRoutes(r,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(r,null,a.children)}else this.activateChildRoutes(r,null,t)}},Rf=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},dl=class{constructor(r,o){this.component=r,this.route=o}};function rR(n,r,o){let t=n._root,i=r?r._root:null;return _u(t,i,o,[t.value])}function nR(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function yl(n,r){let o=Symbol(),t=r.get(n,o);return t===o?typeof n=="function"&&!t_(n)?n:r.get(n):t}function _u(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ll(r);return n.children.forEach(a=>{oR(a,s[a.value.outlet],o,t.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,u])=>Eu(u,o.getContext(a),i)),i}function oR(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=r?r.value:null,u=o?o.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let l=iR(a,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Rf(t)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?_u(n,r,u?u.children:null,t,i):_u(n,r,o,t,i),l&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new dl(u.outlet.component,a))}else a&&Eu(r,u,i),i.canActivateChecks.push(new Rf(t)),s.component?_u(n,null,u?u.children:null,t,i):_u(n,null,o,t,i);return i}function iR(n,r,o){if(typeof o=="function")return o(n,r);switch(o){case"pathParamsChange":return!Zs(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Zs(n.url,r.url)||!ni(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zy(n,r)||!ni(n.queryParams,r.queryParams);case"paramsChange":default:return!Zy(n,r)}}function Eu(n,r,o){let t=ll(n),i=n.value;Object.entries(t).forEach(([s,a])=>{i.component?r?Eu(a,r.children.getContext(s),o):Eu(a,null,o):Eu(a,r,o)}),i.component?r&&r.outlet&&r.outlet.isActivated?o.canDeactivateChecks.push(new dl(r.outlet.component,i)):o.canDeactivateChecks.push(new dl(null,i)):o.canDeactivateChecks.push(new dl(null,i))}function Pu(n){return typeof n=="function"}function sR(n){return typeof n=="boolean"}function aR(n){return n&&Pu(n.canLoad)}function lR(n){return n&&Pu(n.canActivate)}function uR(n){return n&&Pu(n.canActivateChild)}function cR(n){return n&&Pu(n.canDeactivate)}function dR(n){return n&&Pu(n.canMatch)}function LS(n){return n instanceof yi||n?.name==="EmptyError"}var xf=Symbol("INITIAL_VALUE");function gl(){return uo(n=>Kl(n.map(r=>r.pipe(Do(1),Kp(xf)))).pipe(Ht(r=>{for(let o of r)if(o!==!0){if(o===xf)return xf;if(o===!1||fR(o))return o}return!0}),lo(r=>r!==xf),Do(1)))}function fR(n){return Qs(n)||n instanceof Iu}function hR(n,r){return Yr(o=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=o;return a.length===0&&s.length===0?Et(Rt(Je({},o),{guardsResult:!0})):pR(a,t,i,n).pipe(Yr(u=>u&&sR(u)?mR(t,s,n,r):Et(u)),Ht(u=>Rt(Je({},o),{guardsResult:u})))})}function pR(n,r,o,t){return Sr(n).pipe(Yr(i=>wR(i.component,i.route,o,r,t)),Ho(i=>i!==!0,!0))}function mR(n,r,o,t){return Sr(r).pipe(As(i=>Ia(yR(i.route.parent,t),gR(i.route,t),bR(n,i.path,o),vR(n,i.route,o))),Ho(i=>i!==!0,!0))}function gR(n,r){return n!==null&&r&&r(new qy(n)),Et(!0)}function yR(n,r){return n!==null&&r&&r(new Gy(n)),Et(!0)}function vR(n,r,o){let t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||t.length===0)return Et(!0);let i=t.map(s=>Qc(()=>{let a=ku(r)??o,u=yl(s,a),l=lR(u)?u.canActivate(r,n):Qo(a,()=>u(r,n));return is(l).pipe(Ho())}));return Et(i).pipe(gl())}function bR(n,r,o){let t=r[r.length-1],s=r.slice(0,r.length-1).reverse().map(a=>nR(a)).filter(a=>a!==null).map(a=>Qc(()=>{let u=a.guards.map(l=>{let c=ku(a.node)??o,m=yl(l,c),y=uR(m)?m.canActivateChild(t,n):Qo(c,()=>m(t,n));return is(y).pipe(Ho())});return Et(u).pipe(gl())}));return Et(s).pipe(gl())}function wR(n,r,o,t,i){let s=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!s||s.length===0)return Et(!0);let a=s.map(u=>{let l=ku(r)??i,c=yl(u,l),m=cR(c)?c.canDeactivate(n,r,o,t):Qo(l,()=>c(n,r,o,t));return is(m).pipe(Ho())});return Et(a).pipe(gl())}function _R(n,r,o,t){let i=r.canLoad;if(i===void 0||i.length===0)return Et(!0);let s=i.map(a=>{let u=yl(a,n),l=aR(u)?u.canLoad(r,o):Qo(n,()=>u(r,o));return is(l)});return Et(s).pipe(gl(),BS(t))}function BS(n){return Lp(xn(r=>{if(typeof r!="boolean")throw kf(n,r)}),Ht(r=>r===!0))}function xR(n,r,o,t){let i=r.canMatch;if(!i||i.length===0)return Et(!0);let s=i.map(a=>{let u=yl(a,n),l=dR(u)?u.canMatch(r,o):Qo(n,()=>u(r,o));return is(l)});return Et(s).pipe(gl(),BS(t))}var ju=class{constructor(r){this.segmentGroup=r||null}},Nu=class extends Error{constructor(r){super(),this.urlTree=r}};function al(n){return Aa(new ju(n))}function DR(n){return Aa(new et(4e3,!1))}function SR(n){return Aa(RS(!1,no.GuardRejected))}var Jy=class{constructor(r,o){this.urlSerializer=r,this.urlTree=o}lineralizeSegments(r,o){let t=[],i=o.root;for(;;){if(t=t.concat(i.segments),i.numberOfChildren===0)return Et(t);if(i.numberOfChildren>1||!i.children[jt])return DR(`${r.redirectTo}`);i=i.children[jt]}}applyRedirectCommands(r,o,t,i,s){if(typeof o!="string"){let u=o,{queryParams:l,fragment:c,routeConfig:m,url:y,outlet:d,params:h,data:p,title:f}=i,v=Qo(s,()=>u({params:h,data:p,queryParams:l,fragment:c,routeConfig:m,url:y,outlet:d,title:f}));if(v instanceof Mi)throw new Nu(v);o=v}let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),r,t);if(o[0]==="/")throw new Nu(a);return a}applyRedirectCreateUrlTree(r,o,t,i){let s=this.createSegmentGroup(r,o.root,t,i);return new Mi(s,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(r,o){let t={};return Object.entries(r).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let u=s.substring(1);t[i]=o[u]}else t[i]=s}),t}createSegmentGroup(r,o,t,i){let s=this.createSegments(r,o.segments,t,i),a={};return Object.entries(o.children).forEach(([u,l])=>{a[u]=this.createSegmentGroup(r,l,t,i)}),new fr(s,a)}createSegments(r,o,t,i){return o.map(s=>s.path[0]===":"?this.findPosParam(r,s,i):this.findOrReturn(s,t))}findPosParam(r,o,t){let i=t[o.path.substring(1)];if(!i)throw new et(4001,!1);return i}findOrReturn(r,o){let t=0;for(let i of o){if(i.path===r.path)return o.splice(t),i;t++}return r}},ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ER(n,r,o,t,i){let s=VS(n,r,o);return s.matched?(t=Yk(r,t),xR(t,r,o,i).pipe(Ht(a=>a===!0?s:Je({},ev)))):Et(s)}function VS(n,r,o){if(r.path==="**")return CR(o);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||o.length>0)?Je({},ev):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let i=(r.matcher||xk)(o,n,r);if(!i)return Je({},ev);let s={};Object.entries(i.posParams??{}).forEach(([u,l])=>{s[u]=l.path});let a=i.consumed.length>0?Je(Je({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:o.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function CR(n){return{matched:!0,parameters:n.length>0?bS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function hS(n,r,o,t){return o.length>0&&TR(n,o,t)?{segmentGroup:new fr(r,AR(t,new fr(o,n.children))),slicedSegments:[]}:o.length===0&&IR(n,o,t)?{segmentGroup:new fr(n.segments,MR(n,o,t,n.children)),slicedSegments:o}:{segmentGroup:new fr(n.segments,n.children),slicedSegments:o}}function MR(n,r,o,t){let i={};for(let s of o)if(Uf(n,r,s)&&!t[No(s)]){let a=new fr([],{});i[No(s)]=a}return Je(Je({},t),i)}function AR(n,r){let o={};o[jt]=r;for(let t of n)if(t.path===""&&No(t)!==jt){let i=new fr([],{});o[No(t)]=i}return o}function TR(n,r,o){return o.some(t=>Uf(n,r,t)&&No(t)!==jt)}function IR(n,r,o){return o.some(t=>Uf(n,r,t))}function Uf(n,r,o){return(n.hasChildren()||r.length>0)&&o.pathMatch==="full"?!1:o.path===""}function jR(n,r,o){return r.length===0&&!n.children[o]}var tv=class{};function NR(n,r,o,t,i,s,a="emptyOnly"){return new rv(n,r,o,t,i,a,s).recognize()}var OR=31,rv=class{constructor(r,o,t,i,s,a,u){this.injector=r,this.configLoader=o,this.rootComponentType=t,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.applyRedirects=new Jy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new et(4002,`'${r.segmentGroup}'`)}recognize(){let r=hS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(Ht(({children:o,rootSnapshot:t})=>{let i=new ro(t,o),s=new Ff("",i),a=Uk(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(r){let o=new cl([],Object.freeze({}),Object.freeze(Je({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),jt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,jt,o).pipe(Ht(t=>({children:t,rootSnapshot:o})),zi(t=>{if(t instanceof Nu)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof ju?this.noMatchError(t):t}))}processSegmentGroup(r,o,t,i,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(r,o,t,s):this.processSegment(r,o,t,t.segments,i,!0,s).pipe(Ht(a=>a instanceof ro?[a]:[]))}processChildren(r,o,t,i){let s=[];for(let a of Object.keys(t.children))a==="primary"?s.unshift(a):s.push(a);return Sr(s).pipe(As(a=>{let u=t.children[a],l=Xk(o,a);return this.processSegmentGroup(r,l,u,a,i)}),Qp((a,u)=>(a.push(...u),a)),Gi(null),Zp(),Yr(a=>{if(a===null)return al(t);let u=US(a);return FR(u),Et(u)}))}processSegment(r,o,t,i,s,a,u){return Sr(o).pipe(As(l=>this.processSegmentAgainstRoute(l._injector??r,o,l,t,i,s,a,u).pipe(zi(c=>{if(c instanceof ju)return Et(null);throw c}))),Ho(l=>!!l),zi(l=>{if(LS(l))return jR(t,i,s)?Et(new tv):al(t);throw l}))}processSegmentAgainstRoute(r,o,t,i,s,a,u,l){return No(t)!==a&&(a===jt||!Uf(i,s,t))?al(i):t.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,t,s,a,l):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,t,s,a,l):al(i)}expandSegmentAgainstRouteUsingRedirect(r,o,t,i,s,a,u){let{matched:l,parameters:c,consumedSegments:m,positionalParamSegments:y,remainingSegments:d}=VS(o,i,s);if(!l)return al(o);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OR&&(this.allowRedirects=!1));let h=new cl(s,c,Object.freeze(Je({},this.urlTree.queryParams)),this.urlTree.fragment,pS(i),No(i),i.component??i._loadedComponent??null,i,mS(i)),p=Of(h,u,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let f=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,y,h,r);return this.applyRedirects.lineralizeSegments(i,f).pipe(Yr(v=>this.processSegment(r,t,o,v.concat(d),a,!1,u)))}matchSegmentAgainstRoute(r,o,t,i,s,a){let u=ER(o,t,i,r,this.urlSerializer);return t.path==="**"&&(o.children={}),u.pipe(uo(l=>l.matched?(r=t._injector??r,this.getChildConfig(r,t,i).pipe(uo(({routes:c})=>{let m=t._loadedInjector??r,{parameters:y,consumedSegments:d,remainingSegments:h}=l,p=new cl(d,y,Object.freeze(Je({},this.urlTree.queryParams)),this.urlTree.fragment,pS(t),No(t),t.component??t._loadedComponent??null,t,mS(t)),f=Of(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let{segmentGroup:v,slicedSegments:g}=hS(o,d,h,c);if(g.length===0&&v.hasChildren())return this.processChildren(m,c,v,p).pipe(Ht(b=>new ro(p,b)));if(c.length===0&&g.length===0)return Et(new ro(p,[]));let w=No(t)===s;return this.processSegment(m,c,v,g,w?jt:s,!0,p).pipe(Ht(b=>new ro(p,b instanceof ro?[b]:[])))}))):al(o)))}getChildConfig(r,o,t){return o.children?Et({routes:o.children,injector:r}):o.loadChildren?o._loadedRoutes!==void 0?Et({routes:o._loadedRoutes,injector:o._loadedInjector}):_R(r,o,t,this.urlSerializer).pipe(Yr(i=>i?this.configLoader.loadChildren(r,o).pipe(xn(s=>{o._loadedRoutes=s.routes,o._loadedInjector=s.injector})):SR(o))):Et({routes:[],injector:r})}};function FR(n){n.sort((r,o)=>r.value.outlet===jt?-1:o.value.outlet===jt?1:r.value.outlet.localeCompare(o.value.outlet))}function kR(n){let r=n.value.routeConfig;return r&&r.path===""}function US(n){let r=[],o=new Set;for(let t of n){if(!kR(t)){r.push(t);continue}let i=r.find(s=>t.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...t.children),o.add(i)):r.push(t)}for(let t of o){let i=US(t.children);r.push(new ro(t.value,i))}return r.filter(t=>!o.has(t))}function pS(n){return n.data||{}}function mS(n){return n.resolve||{}}function RR(n,r,o,t,i,s){return Yr(a=>NR(n,r,o,t,a.extractedUrl,i,s).pipe(Ht(({state:u,tree:l})=>Rt(Je({},a),{targetSnapshot:u,urlAfterRedirects:l}))))}function PR(n,r){return Yr(o=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=o;if(!i.length)return Et(o);let s=new Set(i.map(l=>l.route)),a=new Set;for(let l of s)if(!a.has(l))for(let c of zS(l))a.add(c);let u=0;return Sr(a).pipe(As(l=>s.has(l)?LR(l,t,n,r):(l.data=Of(l,l.parent,n).resolve,Et(void 0))),xn(()=>u++),Na(1),Yr(l=>u===a.size?Et(o):On))})}function zS(n){let r=n.children.map(o=>zS(o)).flat();return[n,...r]}function LR(n,r,o,t){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!FS(i)&&(s[Ou]=i.title),BR(s,n,r,t).pipe(Ht(a=>(n._resolvedData=a,n.data=Of(n,n.parent,o).resolve,null)))}function BR(n,r,o,t){let i=Oy(n);if(i.length===0)return Et({});let s={};return Sr(i).pipe(Yr(a=>VR(n[a],r,o,t).pipe(Ho(),xn(u=>{if(u instanceof Iu)throw kf(new hl,u);s[a]=u}))),Na(1),Xp(s),zi(a=>LS(a)?On:Aa(a)))}function VR(n,r,o,t){let i=ku(r)??t,s=yl(n,i),a=s.resolve?s.resolve(r,o):Qo(i,()=>s(r,o));return is(a)}function jy(n){return uo(r=>{let o=n(r);return o?Sr(o).pipe(Ht(()=>r)):Et(r)})}var GS=(()=>{let r=class r{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===jt);return i}getResolvedTitleForRoute(t){return t.data[Ou]}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(UR),providedIn:"root"});let n=r;return n})(),UR=(()=>{let r=class r extends GS{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}};r.\u0275fac=function(i){return new(i||r)(ut(ri))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Lu=new _t("",{providedIn:"root",factory:()=>({})}),zR=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=ar({type:r,selectors:[["ng-component"]],standalone:!0,features:[CD],decls:1,vars:0,template:function(i,s){i&1&&pr(0,"router-outlet")},dependencies:[iv],encapsulation:2});let n=r;return n})();function sv(n){let r=n.children&&n.children.map(sv),o=r?Rt(Je({},n),{children:r}):Je({},n);return!o.component&&!o.loadComponent&&(r||o.loadChildren)&&o.outlet&&o.outlet!==jt&&(o.component=zR),o}var Pf=new _t(""),av=(()=>{let r=class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(hf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=is(t.loadComponent()).pipe(Ht(HS),xn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Jl(()=>{this.componentLoaders.delete(t)})),s=new xa(i,()=>new rn).pipe(_a());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=GR(i,this.compiler,t,this.onLoadEndListener).pipe(Jl(()=>{this.childrenLoaders.delete(i)})),u=new xa(a,()=>new rn).pipe(_a());return this.childrenLoaders.set(i,u),u}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function GR(n,r,o,t){return is(n.loadChildren()).pipe(Ht(HS),Yr(i=>i instanceof lu||Array.isArray(i)?Et(i):Sr(r.compileModuleAsync(i))),Ht(i=>{t&&t(n);let s,a,u=!1;return Array.isArray(i)?(a=i,u=!0):(s=i.create(o).injector,a=s.get(Pf,[],{optional:!0,self:!0}).flat()),{routes:a.map(sv),injector:s}}))}function HR(n){return n&&typeof n=="object"&&"default"in n}function HS(n){return HR(n)?n.default:n}var lv=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(qR),providedIn:"root"});let n=r;return n})(),qR=(()=>{let r=class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),qS=new _t(""),WS=new _t("");function WR(n,r,o){let t=n.get(WS),i=n.get(Xr);return n.get(Yt).runOutsideAngular(()=>{if(!i.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,a=new Promise(c=>{s=c}),u=i.startViewTransition(()=>(s(),$R(n))),{onViewTransitionCreated:l}=t;return l&&Qo(n,()=>l({transition:u,from:r,to:o})),a})}function $R(n){return new Promise(r=>{ey({read:()=>setTimeout(r)},{injector:n})})}var YR=new _t(""),uv=(()=>{let r=class r{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rn,this.transitionAbortSubject=new rn,this.configLoader=rt(av),this.environmentInjector=rt(Kn),this.urlSerializer=rt(Fu),this.rootContexts=rt(Ru),this.location=rt(ol),this.inputBindingEnabled=rt(Vf,{optional:!0})!==null,this.titleStrategy=rt(GS),this.options=rt(Lu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(lv),this.createViewTransition=rt(qS,{optional:!0}),this.navigationErrorHandler=rt(YR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null;let t=s=>this.events.next(new Uy(s)),i=s=>this.events.next(new zy(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Rt(Je(Je({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new _n({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Su,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lo(a=>a.id!==0),Ht(a=>Rt(Je({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),uo(a=>{let u=!1,l=!1;return Et(a).pipe(uo(c=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",no.SupersededByNewNavigation),On;this.currentTransition=a,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Rt(Je({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!m&&y!=="reload"){let d="";return this.events.next(new os(c.id,this.urlSerializer.serialize(c.rawUrl),d,Af.IgnoredSameUrlNavigation)),c.resolve(!1),On}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Et(c).pipe(uo(d=>{let h=this.transitions?.getValue();return this.events.next(new pl(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?On:Promise.resolve(d)}),RR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),xn(d=>{a.targetSnapshot=d.targetSnapshot,a.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Rt(Je({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Tf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:f,extras:v}=c,g=new pl(d,this.urlSerializer.serialize(h),p,f);this.events.next(g);let w=NS(this.rootComponentType).snapshot;return this.currentTransition=a=Rt(Je({},c),{targetSnapshot:w,urlAfterRedirects:h,extras:Rt(Je({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Et(a)}else{let d="";return this.events.next(new os(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Af.IgnoredByUrlHandlingStrategy)),c.resolve(!1),On}}),xn(c=>{let m=new Py(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),Ht(c=>(this.currentTransition=a=Rt(Je({},c),{guards:rR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),a)),hR(this.environmentInjector,c=>this.events.next(c)),xn(c=>{if(a.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw kf(this.urlSerializer,c.guardsResult);let m=new Ly(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),lo(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",no.GuardRejected),!1)),jy(c=>{if(c.guards.canActivateChecks.length)return Et(c).pipe(xn(m=>{let y=new By(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),uo(m=>{let y=!1;return Et(m).pipe(PR(this.paramsInheritanceStrategy,this.environmentInjector),xn({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(m,"",no.NoDataFromResolver)}}))}),xn(m=>{let y=new Vy(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}))}),jy(c=>{let m=y=>{let d=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(y.routeConfig).pipe(xn(h=>{y.component=h}),Ht(()=>{})));for(let h of y.children)d.push(...m(h));return d};return Kl(m(c.targetSnapshot.root)).pipe(Gi(null),Do(1))}),jy(()=>this.afterPreactivation()),uo(()=>{let{currentSnapshot:c,targetSnapshot:m}=a,y=this.createViewTransition?.(this.environmentInjector,c.root,m.root);return y?Sr(y).pipe(Ht(()=>a)):Et(a)}),Ht(c=>{let m=Qk(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=a=Rt(Je({},c),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),xn(()=>{this.events.next(new Au)}),tR(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Do(1),xn({next:c=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{u=!0}}),Jp(this.transitionAbortSubject.pipe(xn(c=>{throw c}))),Jl(()=>{!u&&!l&&this.cancelNavigationTransition(a,"",no.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(c=>{if(l=!0,PS(c))this.events.next(new Ci(a.id,this.urlSerializer.serialize(a.extractedUrl),c.message,c.cancellationCode)),eR(c)?this.events.next(new ml(c.url,c.navigationBehaviorOptions)):a.resolve(!1);else{let m=new Mu(a.id,this.urlSerializer.serialize(a.extractedUrl),c,a.targetSnapshot??void 0);try{let y=Qo(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(y instanceof Iu){let{message:d,cancellationCode:h}=kf(this.urlSerializer,y);this.events.next(new Ci(a.id,this.urlSerializer.serialize(a.extractedUrl),d,h)),this.events.next(new ml(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(m);let d=t.errorHandler(c);a.resolve(!!d)}}catch(y){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(y)}}return On}))}))}cancelNavigationTransition(t,i,s){let a=new Ci(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(a),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function XR(n){return n!==Su}var ZR=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(QR),providedIn:"root"});let n=r;return n})(),nv=class{shouldDetach(r){return!1}store(r,o){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,o){return r.routeConfig===o.routeConfig}},QR=(()=>{let r=class r extends nv{};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=pu(r)))(s||r)}})(),r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),$S=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>rt(KR),providedIn:"root"});let n=r;return n})(),KR=(()=>{let r=class r extends $S{constructor(){super(...arguments),this.location=rt(ol),this.urlSerializer=rt(Fu),this.options=rt(Lu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(lv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=NS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof pl)this.stateMemento=this.createStateMemento();else if(t instanceof os)this.rawUrlTree=i.initialUrl;else if(t instanceof Tf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof Au?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Ci&&(t.code===no.GuardRejected||t.code===no.NoDataFromResolver)?this.restoreHistory(i):t instanceof Mu?this.restoreHistory(i,!0):t instanceof Oo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=t instanceof Mi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,u=Je(Je({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",u)}else{let a=Je(Je({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===t.finalUrl&&a===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=pu(r)))(s||r)}})(),r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),xu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(xu||{});function YS(n,r){n.events.pipe(lo(o=>o instanceof Oo||o instanceof Ci||o instanceof Mu||o instanceof os),Ht(o=>o instanceof Oo||o instanceof os?xu.COMPLETE:(o instanceof Ci?o.code===no.Redirect||o.code===no.SupersededByNewNavigation:!1)?xu.REDIRECTING:xu.FAILED),lo(o=>o!==xu.REDIRECTING),Do(1)).subscribe(()=>{r()})}function JR(n){throw n}var eP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ai=(()=>{let r=class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=rt(uf),this.stateManager=rt($S),this.options=rt(Lu,{optional:!0})||{},this.pendingTasks=rt(Xa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(uv),this.urlSerializer=rt(Fu),this.location=rt(ol),this.urlHandlingStrategy=rt(lv),this._events=new rn,this.errorHandler=this.options.errorHandler||JR,this.navigated=!1,this.routeReuseStrategy=rt(ZR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(Pf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Vf,{optional:!0}),this.eventsSubscription=new Or,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof Ci&&i.code!==no.Redirect&&i.code!==no.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Oo)this.navigated=!0;else if(i instanceof ml){let u=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=Je({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XR(s.source)},u);this.scheduleNavigation(l,Su,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Su,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let a={replaceUrl:!0},u=s?.navigationId?s:null;if(s){let c=Je({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let l=this.parseUrl(t);this.scheduleNavigation(l,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:a,fragment:u,queryParamsHandling:l,preserveFragment:c}=i,m=c?this.currentUrlTree.fragment:u,y=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":y=Je(Je({},this.currentUrlTree.queryParams),a);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=a||null}y!==null&&(y=this.removeEmptyProps(y));let d;try{let h=s?s.snapshot:this.routerState.snapshot.root;d=AS(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return TS(d,t,y,m??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=Qs(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,Su,null,i)}navigate(t,i={skipLocationChange:!1}){return rP(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=Je({},eP):i===!1?s=Je({},tP):s=i,Qs(t))return lS(this.currentUrlTree,t,s);let a=this.parseUrl(t);return lS(this.currentUrlTree,a,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,a])=>(a!=null&&(i[s]=a),i),{})}scheduleNavigation(t,i,s,a,u){if(this.disposed)return Promise.resolve(!1);let l,c,m;u?(l=u.resolve,c=u.reject,m=u.promise):m=new Promise((d,h)=>{l=d,c=h});let y=this.pendingTasks.add();return YS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:l,reject:c,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(d=>Promise.reject(d))}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function rP(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new et(4008,!1)}function nP(n){return!(n instanceof Au)&&!(n instanceof ml)}var Lf=(()=>{let r=class r{constructor(t,i,s,a,u,l){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=a,this.el=u,this.locationStrategy=l,this.href=null,this.onChanges=new rn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof Oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,s,a,u){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||i||s||a||u||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:wx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let s=this.renderer,a=this.el.nativeElement;i!==null?s.setAttribute(a,t,i):s.removeAttribute(a,t)}get urlTree(){return this.routerLinkInput===null?null:Qs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};r.\u0275fac=function(i){return new(i||r)(ot(Ai),ot(Ks),Ag("tabindex"),ot(Rn),ot(wr),ot(Si))},r.\u0275dir=nn({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&lr("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),i&2&&Gn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$s],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$s],replaceUrl:[2,"replaceUrl","replaceUrl",$s],routerLink:"routerLink"},standalone:!0,features:[Kg,po]});let n=r;return n})(),XS=(()=>{let r=class r{get isActive(){return this._isActive}constructor(t,i,s,a,u){this.router=t,this.element=i,this.renderer=s,this.cdr=a,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new $t,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof Oo&&this.update()})}ngAfterContentInit(){Et(this.links.changes,Et(null)).pipe(Go()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Sr(t).pipe(Go()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=oP(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let a=s.urlTree;return a?t.isActive(a,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}};r.\u0275fac=function(i){return new(i||r)(ot(Ai),ot(wr),ot(Rn),ot(ts),ot(Lf,8))},r.\u0275dir=nn({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,a){if(i&1&&xD(a,Lf,5),i&2){let u;DD(u=SD())&&(s.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[po]});let n=r;return n})();function oP(n){return!!n.paths}var Bf=class{};var iP=(()=>{let r=class r{constructor(t,i,s,a,u){this.router=t,this.injector=s,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(lo(t=>t instanceof Oo),As(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let s=[];for(let a of i){a.providers&&!a._injector&&(a._injector=of(a.providers,t,`Route: ${a.path}`));let u=a._injector??t,l=a._loadedInjector??u;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(u,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(l,a.children??a._loadedRoutes))}return Sr(s).pipe(Go())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(t,i):s=Et(null);let a=s.pipe(Yr(u=>u===null?Et(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){let u=this.loader.loadComponent(i);return Sr([a,u]).pipe(Go())}else return a})}};r.\u0275fac=function(i){return new(i||r)(ut(Ai),ut(hf),ut(Kn),ut(Bf),ut(av))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),ZS=new _t(""),sP=(()=>{let r=class r{constructor(t,i,s,a,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration||="disabled",u.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof os&&t.code===Af.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof If&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new If(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};r.\u0275fac=function(i){Rx()},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function aP(n){return n.routerState.root}function Bu(n,r){return{\u0275kind:n,\u0275providers:r}}function lP(){let n=rt(pn);return r=>{let o=n.get(ei);if(r!==o.components[0])return;let t=n.get(Ai),i=n.get(QS);n.get(cv)===1&&t.initialNavigation(),n.get(KS,null,Pt.Optional)?.setUpPreloading(),n.get(ZS,null,Pt.Optional)?.init(),t.resetRootComponentType(o.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QS=new _t("",{factory:()=>new rn}),cv=new _t("",{providedIn:"root",factory:()=>1});function uP(){return Bu(2,[{provide:cv,useValue:0},{provide:ff,multi:!0,deps:[pn],useFactory:r=>{let o=r.get(YD,Promise.resolve());return()=>o.then(()=>new Promise(t=>{let i=r.get(Ai),s=r.get(QS);YS(i,()=>{t(!0)}),r.get(uv).afterPreactivation=()=>(t(!0),s.closed?Et(void 0):s),i.initialNavigation()}))}}])}function cP(){return Bu(3,[{provide:ff,multi:!0,useFactory:()=>{let r=rt(Ai);return()=>{r.setUpLocationChangeListener()}}},{provide:cv,useValue:2}])}var KS=new _t("");function dP(n){return Bu(0,[{provide:KS,useExisting:iP},{provide:Bf,useExisting:n}])}function fP(){return Bu(8,[fS,{provide:Vf,useExisting:fS}])}function hP(n){let r=[{provide:qS,useValue:WR},{provide:WS,useValue:Je({skipNextTransition:!!n?.skipInitialTransition},n)}];return Bu(9,r)}var gS=new _t("ROUTER_FORROOT_GUARD"),pP=[ol,{provide:Fu,useClass:hl},Ai,Ru,{provide:Ks,useFactory:aP,deps:[Ai]},av,[]],dv=(()=>{let r=class r{constructor(t){}static forRoot(t,i){return{ngModule:r,providers:[pP,[],{provide:Pf,multi:!0,useValue:t},{provide:gS,useFactory:vP,deps:[[Ai,new fu,new Bd]]},{provide:Lu,useValue:i||{}},i?.useHash?gP():yP(),mP(),i?.preloadingStrategy?dP(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?bP(i):[],i?.bindToComponentInputs?fP().\u0275providers:[],i?.enableViewTransitions?hP().\u0275providers:[],wP()]}}static forChild(t){return{ngModule:r,providers:[{provide:Pf,multi:!0,useValue:t}]}}};r.\u0275fac=function(i){return new(i||r)(ut(gS,8))},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({});let n=r;return n})();function mP(){return{provide:ZS,useFactory:()=>{let n=rt(eS),r=rt(Yt),o=rt(Lu),t=rt(uv),i=rt(Fu);return o.scrollOffset&&n.setOffset(o.scrollOffset),new sP(i,t,n,r,o)}}}function gP(){return{provide:Si,useClass:ZD}}function yP(){return{provide:Si,useClass:vy}}function vP(n){return"guarded"}function bP(n){return[n.initialNavigation==="disabled"?cP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?uP().\u0275providers:[]]}var yS=new _t("");function wP(){return[{provide:yS,useFactory:lP},{provide:oy,multi:!0,useExisting:yS}]}var Sn=class n{static ANGULAR=new n("Angular","red");static CSHARP=new n("C#","blue");static C=new n("C","blue");static CPLUSPLUS=new n("C++","blue");static PYTHON=new n("Python","green");static SQL=new n("SQL","purple");static PERL=new n("PERL","red");static PHP=new n("PHP","purple");static NODEJS=new n("NodeJS","pink");static SHELL=new n("Shell","orange");static HTML=new n("HTML","red");static JAVA=new n("Java","pink");name;color;constructor(r,o){this.name=r,this.color=o}toString(){return this.name}};var vl=class n{projects=[{id:0,name:"Code Analysis Application",pictures:["srt_analyze.PNG","srt_differentiate.PNG","srt_htmlreport.PNG","srt_progress.PNG","srt_settings.PNG"],projectLink:"https://github.com/Jonathanlemon/Code_Analyzer",summary:"Internship project designed to provide GUI based static code analysis on local source files.",description:"As an intern, I was given the opportunity to plan, design, develop, and test a project to benefit this organization. The project is an application integrated with the Open Source 'CPPCheck' Static Code Analysis tool to provide the engineering team an automated method for code reviews. It has several different features such as state-based settings, different granularities of analysis, and PDF document generation to highlight areas of concern in the code and provide statistics.",tags:[Sn.PYTHON,Sn.PERL,Sn.SHELL]},{id:1,name:"AI: Marketplace Rating Prediction Model",pictures:["ai_img1.PNG","ai_img2.PNG","ai_img3.PNG"],projectLink:"https://github.com/Jonathanlemon/Marketplace-Rating-Neural-Network",summary:"A feed-forward perceptron neural network, trained on marketplace product review text to predict the overall ratings of the product.",description:"During my time at Clemson Univeristy, I had the privilege of taking a graduate course in Artificial Intelligence. This provided me the opportunity to work with graduate students on developing a neural network model to solve some particular problem. In our case, we tried our hand at language intepretation with this Rating Prediction model. It is a 4 layer feed-forward neural network that uses product review text as its input, and then predicts a score of 1-5 in various categories based on the categorical sentiment the model could distinguish. Additionally, we wrote a research paper presenting our findings along with the model's accuracy, error, and testing protocol.",tags:[Sn.PYTHON]},{id:2,name:"Pizza Salesforce",pictures:["pizzaSchema.png"],projectLink:"https://github.com/Jonathanlemon/Pizza_Salesforce",summary:"A complete back-end database to manage pizza sales.",description:"This project was for a semester-long database class, in which we had to design a 3NF Database Schema for a Pizza Restaurant. This involved designing a schema to handle customer data, order types, pizza sizes, toppings, discounts, delivery addresses, and sales data. By using Microsoft Sql Server, I designed this back-end solution writing the necessary tables, stored procedures, and triggers to optimize performance while maintaining best practices for database design. I additionally used Java to serve a front-end application allowing a user to create new orders, update pizza details, apply promotional discounts, and more.",tags:[Sn.SQL,Sn.JAVA]},{id:3,name:"TwentyHQ",pictures:["twenty_main.png"],projectLink:"https://github.com/twentyhq/twenty",summary:"Open-Source CRM Software that I have contributed to.",description:"TwentyHQ is a business operations platform built for startups and SMBs, consolidating tools like CRM, project management, and analytics into one interface. Developed using a modern tech stack, TwentyHQ employs React for the front end, Node.js and Express for backend services, and PostgreSQL for data management. It supports real-time collaboration with WebSocket integration and offers API access for seamless integration with platforms like Slack and Google Workspace. With an emphasis on modularity and ease of customization, TwentyHQ streamlines workflows by automating tasks and consolidating key business operations in a single, intuitive UI.",tags:[Sn.CSHARP,Sn.PHP]},{id:4,name:"MIPS Compiler and CPU Simulator",pictures:["mips_CPU.PNG","mips_img1.PNG","mips_img2.png"],projectLink:"https://github.com/Jonathanlemon/MIPS_Compiler",summary:"A compiler for MIPS instruction set written in C, and a CPU simulator to run the output.",description:"Low-level computer science has always been a topic that has fascinated me. For that reason, this project is particularly special to me. It is a 2-part project: The 1st is a MIPS instruction set compiler (written in C) that takes a user specified input file of MIPS assembly code and compiles it into a binary file. The 2nd is a CPU simulator (written in Python) which takes the output binary file of the 1st part as input. It then generates a text-based representation of the binary's execution. This highlights register contents, instruction execution details, operation codes, and provides statistics for each simulated clock cycle.",tags:[Sn.C,Sn.PYTHON]},{id:5,name:"Trucker Rewards Web Application",pictures:["truck_schema.png","truck_login.PNG"],projectLink:"https://github.com/Jonathanlemon/Trucker_Web_App",summary:"Class project to design a full-stack web application with authentication, external API calls, and session storage.",description:"I served as the Scrum Master and Lead Developer with 3 other peers working as a team using Agile principles to design a Rewards Program for Commercial Truck Drivers. In only a few months, we designed a full-stack web application using PHP, HTML, JS, CSS, MYSQL, and AWS infrastructure. This web app featured external API integration with eBay, PHP server-side logic, and session-based authentication and authorization. As the Scrum Master, planning sprints and feature deadlines was key to success. My leadership directed us toward higher priority items such as strong database design and authentication. This resulted in the team meeting stakeholder provided deadlines and implementing all required functionality.",tags:[Sn.HTML,Sn.PHP,Sn.NODEJS,Sn.SQL]}];constructor(){}getProjects(){return this.projects}getProjectByID(r){let o=this.projects.find(t=>t.id===r);if(o===void 0)throw new TypeError("No project found with the specified ID");return o}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var fv=class{constructor(r,o){this.open=r,this.close=o||r}isManual(){return this.open==="manual"||this.close==="manual"}},_P={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function hv(n,r=_P){let o=(n||"").trim();if(o.length===0)return[];let t=o.split(/\s+/).map(s=>s.split(":")).map(s=>{let a=r[s[0]]||s;return new fv(a[0],a[1])}),i=t.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(i.length===1&&t.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return t}function tE(n,r){let o=hv(r.triggers),t=r.target;if(o.length===1&&o[0].isManual())return Function.prototype;let i=[],s=[],a=()=>{s.forEach(u=>i.push(u())),s.length=0};return o.forEach(u=>{let l=u.open===u.close,c=l?r.toggle:r.show;if(!l&&u.close&&r.hide){let m=u.close,y=r.hide,d=()=>n.listen(t,m,y);s.push(d)}c&&i.push(n.listen(t,u.open,()=>c(a)))}),()=>{i.forEach(u=>u())}}function rE(n,r){return r.outsideClick?n.listen("document","click",o=>{r.target&&r.target.contains(o.target)||r.targets&&r.targets.some(t=>t.contains(o.target))||r.hide&&r.hide()}):Function.prototype}function nE(n,r){return r.outsideEsc?n.listen("document","keyup.esc",o=>{r.target&&r.target.contains(o.target)||r.targets&&r.targets.some(t=>t.contains(o.target))||r.hide&&r.hide()}):Function.prototype}var on=typeof window<"u"&&window||{},sn=on.document,Cq=on.location,Mq=on.gc?()=>on.gc():()=>null,Aq=on.performance?on.performance:null,Tq=on.Event,Iq=on.MouseEvent,jq=on.KeyboardEvent,Nq=on.EventTarget,Oq=on.History,Fq=on.Location,kq=on.EventListener,oE=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(oE||{}),ss;function iE(){let n=on.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),on.document.head.appendChild(n);let r=on.getComputedStyle(n).paddingLeft;return r&&parseFloat(r)?(on.document.head.removeChild(n),"bs4"):(on.document.head.removeChild(n),"bs5")}function xP(){return ss||(ss=iE()),ss==="bs4"}function DP(){return ss||(ss=iE()),ss==="bs5"}function oi(){return{isBs4:xP(),isBs5:DP()}}function SP(){let n=oi(),r=Object.keys(n).find(o=>n[o]);return oE[r]}var zf=class{constructor(){this.length=0,this.asArray=[]}get(r){if(this.length===0||r<0||r>=this.length)return;let o=this.head;for(let t=0;t<r;t++)o=o?.next;return o?.value}add(r,o=this.length){if(o<0||o>this.length)throw new Error("Position is out of the list");let t={value:r,next:void 0,previous:void 0};if(this.length===0)this.head=t,this.tail=t,this.current=t;else if(o===0&&this.head)t.next=this.head,this.head.previous=t,this.head=t;else if(o===this.length&&this.tail)this.tail.next=t,t.previous=this.tail,this.tail=t;else{let i=this.getNode(o-1),s=i?.next;i&&s&&(i.next=t,s.previous=t,t.previous=i,t.next=s)}this.length++,this.createInternalArrayRepresentation()}remove(r=0){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");if(r===0&&this.head)this.head=this.head.next,this.head?this.head.previous=void 0:this.tail=void 0;else if(r===this.length-1&&this.tail?.previous)this.tail=this.tail.previous,this.tail.next=void 0;else{let o=this.getNode(r);o?.next&&o.previous&&(o.next.previous=o.previous,o.previous.next=o.next)}this.length--,this.createInternalArrayRepresentation()}set(r,o){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");let t=this.getNode(r);t&&(t.value=o,this.createInternalArrayRepresentation())}toArray(){return this.asArray}findAll(r){let o=this.head,t=[];if(!o)return t;for(let i=0;i<this.length;i++){if(!o)return t;r(o.value,i)&&t.push({index:i,value:o.value}),o=o.next}return t}push(...r){return r.forEach(o=>{this.add(o)}),this.length}pop(){if(this.length===0)return;let r=this.tail;return this.remove(this.length-1),r?.value}unshift(...r){return r.reverse(),r.forEach(o=>{this.add(o,0)}),this.length}shift(){if(this.length===0)return;let r=this.head?.value;return this.remove(),r}forEach(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return;r(o.value,t),o=o.next}}indexOf(r){let o=this.head,t=-1;for(let i=0;i<this.length;i++){if(!o)return t;if(o.value===r){t=i;break}o=o.next}return t}some(r){let o=this.head,t=!1;for(;o&&!t;){if(r(o.value)){t=!0;break}o=o.next}return t}every(r){let o=this.head,t=!0;for(;o&&t;)r(o.value)||(t=!1),o=o.next;return t}toString(){return"[Linked List]"}find(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return;if(r(o.value,t))return o.value;o=o.next}}findIndex(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return-1;if(r(o.value,t))return t;o=o.next}return-1}getNode(r){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");let o=this.head;for(let t=0;t<r;t++)o=o?.next;return o}createInternalArrayRepresentation(){let r=[],o=this.head;for(;o;)r.push(o.value),o=o.next;this.asArray=r}};var Gf=class{static reflow(r){r.offsetHeight}static getStyles(r){let o=r.ownerDocument.defaultView;return(!o||!o.opener)&&(o=on),o.getComputedStyle(r)}static stackOverflowConfig(){let r=SP();return{crossorigin:"anonymous",integrity:r==="bs5"?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:r==="bs5"?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}};var Rq=typeof console>"u"||!("warn"in console);var sE=["*"],EP=n=>({display:n});function CP(n,r){if(n&1){let o=to();ze(0,"li",7),lr("click",function(){let i=kr(o).index,s=Ut(2);return Rr(s.selectSlide(i))}),He()}if(n&2){let o=r.$implicit;eo("active",o.active===!0)}}function MP(n,r){if(n&1&&(af(0),ze(1,"ol",5),Mr(2,CP,1,2,"li",6),He(),lf()),n&2){let o=Ut();ft(2),Jt("ngForOf",o.indicatorsSlides())}}function AP(n,r){if(n&1){let o=to();ze(0,"button",9),lr("click",function(){let i=kr(o).index,s=Ut(2);return Rr(s.selectSlide(i))}),He()}if(n&2){let o=r.$implicit,t=r.index,i=Ut(2);eo("active",o.active===!0),Gn("data-bs-target","#carousel"+i.currentId)("data-bs-slide-to",t)}}function TP(n,r){if(n&1&&(af(0),ze(1,"div",5),Mr(2,AP,1,4,"button",8),He(),lf()),n&2){let o=Ut();ft(2),Jt("ngForOf",o.indicatorsSlides())}}function IP(n,r){if(n&1){let o=to();ze(0,"a",10),lr("click",function(){kr(o);let i=Ut();return Rr(i.previousSlide())}),pr(1,"span",11),ze(2,"span",12),ct(3,"Previous"),He()()}if(n&2){let o=Ut();eo("disabled",o.checkDisabledClass("prev")),Gn("data-bs-target","#carousel"+o.currentId)}}function jP(n,r){if(n&1){let o=to();ze(0,"a",13),lr("click",function(){kr(o);let i=Ut();return Rr(i.nextSlide())}),pr(1,"span",14),ze(2,"span",12),ct(3,"Next"),He()()}if(n&2){let o=Ut();eo("disabled",o.checkDisabledClass("next")),Gn("data-bs-target","#carousel"+o.currentId)}}var NP=(()=>{let r=class r{constructor(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function OP(n,r){let o=n.length;for(;o--;)if(r(n[o],o,n))return o;return-1}function FP(n,r){let o=[],t=Math.ceil(n.length/r),i=0;for(;i<t;){let s=n.splice(0,i===t-1&&r<n.length?n.length:r);o.push(s),i++}return o}function kP(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}var qn=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.NEXT=1]="NEXT",n[n.PREV=2]="PREV",n}(qn||{}),RP=1,Vu=(()=>{let r=class r{set activeSlide(t){this.multilist||(kP(t)&&(this.customActiveSlide=t),this._slides.length&&t!==this._currentActiveSlide&&this._select(t))}get activeSlide(){return this._currentActiveSlide||0}get interval(){return this._interval}set interval(t){this._interval=t,this.restartTimer()}get slides(){return this._slides.toArray()}get isFirstSlideVisible(){let t=this.getVisibleIndexes();return!t||t instanceof Array&&!t.length?!1:t.includes(0)}get isLastSlideVisible(){let t=this.getVisibleIndexes();return!t||t instanceof Array&&!t.length?!1:t.includes(this._slides.length-1)}get _bsVer(){return oi()}constructor(t,i,s){this.ngZone=i,this.platformId=s,this.noWrap=!1,this.noPause=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.isAnimated=!1,this.activeSlideChange=new $t(!1),this.slideRangeChange=new $t,this.startFromIndex=0,this._interval=5e3,this._slides=new zf,this._currentVisibleSlidesIndex=0,this.isPlaying=!1,this.destroyed=!1,this.currentId=0,this.getActive=a=>a.active,this.makeSlidesConsistent=a=>{a.forEach((u,l)=>u.item.order=l)},Object.assign(this,t),this.currentId=RP++}ngAfterViewInit(){setTimeout(()=>{this.singleSlideOffset&&(this.indicatorsByChunk=!1),this.multilist&&(this._chunkedSlides=FP(this.mapSlidesAndIndexes(),this.itemsPerSlide),this.selectInitialSlides()),this.customActiveSlide&&!this.multilist&&this._select(this.customActiveSlide)},0)}ngOnDestroy(){this.destroyed=!0}addSlide(t){this._slides.add(t),this.multilist&&this._slides.length<=this.itemsPerSlide&&(t.active=!0),!this.multilist&&this.isAnimated&&(t.isAnimated=!0),!this.multilist&&this._slides.length===1&&(this._currentActiveSlide=void 0,this.customActiveSlide||(this.activeSlide=0),this.play()),this.multilist&&this._slides.length>this.itemsPerSlide&&this.play()}removeSlide(t){let i=this._slides.indexOf(t);if(this._currentActiveSlide===i){let s;this._slides.length>1&&(s=this.isLast(i)?this.noWrap?i-1:0:i),this._slides.remove(i),setTimeout(()=>{this._select(s)},0)}else{this._slides.remove(i);let s=this.getCurrentSlideIndex();setTimeout(()=>{this._currentActiveSlide=s,this.activeSlideChange.emit(this._currentActiveSlide)},0)}}nextSlideFromInterval(t=!1){this.move(qn.NEXT,t)}nextSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move(qn.NEXT,t)}previousSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move(qn.PREV,t)}getFirstVisibleIndex(){return this.slides.findIndex(this.getActive)}getLastVisibleIndex(){return OP(this.slides,this.getActive)}move(t,i=!1){let s=this.getFirstVisibleIndex(),a=this.getLastVisibleIndex();this.noWrap&&(t===qn.NEXT&&this.isLast(a)||t===qn.PREV&&s===0)||(this.multilist?this.moveMultilist(t):this.activeSlide=this.findNextSlideIndex(t,i)||0)}keydownPress(t){if(t.keyCode===13||t.key==="Enter"||t.keyCode===32||t.key==="Space"){this.nextSlide(),t.preventDefault();return}if(t.keyCode===37||t.key==="LeftArrow"){this.previousSlide();return}if(t.keyCode===39||t.key==="RightArrow"){this.nextSlide();return}}onMouseLeave(){this.pauseOnFocus||this.play()}onMouseUp(){this.pauseOnFocus||this.play()}pauseFocusIn(){this.pauseOnFocus&&(this.isPlaying=!1,this.resetTimer())}pauseFocusOut(){this.play()}selectSlide(t){this.isPlaying&&this.restartTimer(),this.multilist?this.selectSlideRange(this.indicatorsByChunk?t*this.itemsPerSlide:t):this.activeSlide=this.indicatorsByChunk?t*this.itemsPerSlide:t}play(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())}pause(){this.noPause||(this.isPlaying=!1,this.resetTimer())}getCurrentSlideIndex(){return this._slides.findIndex(this.getActive)}isLast(t){return t+1>=this._slides.length}isFirst(t){return t===0}indicatorsSlides(){return this.slides.filter((t,i)=>!this.indicatorsByChunk||i%this.itemsPerSlide===0)}selectInitialSlides(){let t=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-t<this.itemsPerSlide){let i=this._slidesWithIndexes.slice(0,t);this._slidesWithIndexes=[...this._slidesWithIndexes,...i].slice(i.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(t,t+this.itemsPerSlide);this._slidesWithIndexes.forEach(i=>i.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes)}else this.selectRangeByNestedIndex(t);this.slideRangeChange.emit(this.getVisibleIndexes())}findNextSlideIndex(t,i){let s=0;if(!(!i&&this.isLast(this.activeSlide)&&t!==qn.PREV&&this.noWrap)){switch(t){case qn.NEXT:if(typeof this._currentActiveSlide>"u"){s=0;break}if(!this.isLast(this._currentActiveSlide)){s=this._currentActiveSlide+1;break}s=!i&&this.noWrap?this._currentActiveSlide:0;break;case qn.PREV:if(typeof this._currentActiveSlide>"u"){s=0;break}if(this._currentActiveSlide>0){s=this._currentActiveSlide-1;break}if(!i&&this.noWrap){s=this._currentActiveSlide;break}s=this._slides.length-1;break;default:throw new Error("Unknown direction")}return s}}mapSlidesAndIndexes(){return this.slides.slice().map((t,i)=>({index:i,item:t}))}selectSlideRange(t){if(!this.isIndexInRange(t)){if(this.hideSlides(),!this.singleSlideOffset)this.selectRangeByNestedIndex(t);else{let i=this.isIndexOnTheEdges(t)?t:t-this.itemsPerSlide+1,s=this.isIndexOnTheEdges(t)?t+this.itemsPerSlide:t+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(i,s),this.makeSlidesConsistent(this._slidesWithIndexes),this._slidesWithIndexes.forEach(a=>a.item.active=!0)}this.slideRangeChange.emit(this.getVisibleIndexes())}}selectRangeByNestedIndex(t){if(!this._chunkedSlides)return;let i=this._chunkedSlides.map((s,a)=>({index:a,list:s})).find(s=>s.list.find(a=>a.index===t)!==void 0);i&&(this._currentVisibleSlidesIndex=i.index,this._chunkedSlides[i.index].forEach(s=>{s.item.active=!0}))}isIndexOnTheEdges(t){return t+1-this.itemsPerSlide<=0||t+this.itemsPerSlide<=this._slides.length}isIndexInRange(t){return this.singleSlideOffset&&this._slidesWithIndexes?this._slidesWithIndexes.map(s=>s.index).indexOf(t)>=0:t<=this.getLastVisibleIndex()&&t>=this.getFirstVisibleIndex()}hideSlides(){this.slides.forEach(t=>t.active=!1)}isVisibleSlideListLast(){return this._chunkedSlides?this._currentVisibleSlidesIndex===this._chunkedSlides.length-1:!1}isVisibleSlideListFirst(){return this._currentVisibleSlidesIndex===0}moveSliderByOneItem(t){let i,s,a,u;if(this.noWrap){i=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex(),a=t===qn.NEXT?i:s,u=t!==qn.NEXT?i-1:this.isLast(s)?0:s+1;let c=this._slides.get(a);c&&(c.active=!1);let m=this._slides.get(u);m&&(m.active=!0);let y=this.mapSlidesAndIndexes().filter(d=>d.item.active);this.makeSlidesConsistent(y),this.singleSlideOffset&&(this._slidesWithIndexes=y),this.slideRangeChange.emit(this.getVisibleIndexes());return}if(!this._slidesWithIndexes||!this._slidesWithIndexes[0])return;let l;if(i=this._slidesWithIndexes[0].index,s=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,t===qn.NEXT){this._slidesWithIndexes.shift(),l=this.isLast(s)?0:s+1;let c=this._slides.get(l);c&&this._slidesWithIndexes.push({index:l,item:c})}else{this._slidesWithIndexes.pop(),l=this.isFirst(i)?this._slides.length-1:i-1;let c=this._slides.get(l);c&&(this._slidesWithIndexes=[{index:l,item:c},...this._slidesWithIndexes])}this.hideSlides(),this._slidesWithIndexes.forEach(c=>c.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes),this.slideRangeChange.emit(this._slidesWithIndexes.map(c=>c.index))}moveMultilist(t){this.singleSlideOffset?this.moveSliderByOneItem(t):(this.hideSlides(),this.noWrap?this._currentVisibleSlidesIndex=t===qn.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:t===qn.NEXT?this._currentVisibleSlidesIndex=this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this.isVisibleSlideListFirst()?this._currentVisibleSlidesIndex=this._chunkedSlides?this._chunkedSlides.length-1:0:this._currentVisibleSlidesIndex=this._currentVisibleSlidesIndex-1,this._chunkedSlides&&this._chunkedSlides[this._currentVisibleSlidesIndex].forEach(i=>i.item.active=!0),this.slideRangeChange.emit(this.getVisibleIndexes()))}getVisibleIndexes(){if(!this.singleSlideOffset&&this._chunkedSlides)return this._chunkedSlides[this._currentVisibleSlidesIndex].map(t=>t.index);if(this._slidesWithIndexes)return this._slidesWithIndexes.map(t=>t.index)}_select(t){if(isNaN(t)){this.pause();return}if(!this.multilist&&typeof this._currentActiveSlide<"u"){let s=this._slides.get(this._currentActiveSlide);typeof s<"u"&&(s.active=!1)}let i=this._slides.get(t);typeof i<"u"&&(this._currentActiveSlide=t,i.active=!0,this.activeSlide=t,this.activeSlideChange.emit(t))}restartTimer(){this.resetTimer();let t=+this.interval;!isNaN(t)&&t>0&&Ys(this.platformId)&&(this.currentInterval=this.ngZone.runOutsideAngular(()=>window.setInterval(()=>{let i=+this.interval;this.ngZone.run(()=>{this.isPlaying&&!isNaN(this.interval)&&i>0&&this.slides.length?this.nextSlideFromInterval():this.pause()})},t)))}get multilist(){return this.itemsPerSlide>1}resetTimer(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)}checkDisabledClass(t){return t==="prev"?this.activeSlide===0&&this.noWrap&&!this.multilist||this.isFirstSlideVisible&&this.noWrap&&this.multilist:this.isLast(this.activeSlide)&&this.noWrap&&!this.multilist||this.isLastSlideVisible&&this.noWrap&&this.multilist}};r.\u0275fac=function(i){return new(i||r)(ot(NP),ot(Yt),ot(zn))},r.\u0275cmp=ar({type:r,selectors:[["carousel"]],inputs:{noWrap:"noWrap",noPause:"noPause",showIndicators:"showIndicators",pauseOnFocus:"pauseOnFocus",indicatorsByChunk:"indicatorsByChunk",itemsPerSlide:"itemsPerSlide",singleSlideOffset:"singleSlideOffset",isAnimated:"isAnimated",activeSlide:"activeSlide",startFromIndex:"startFromIndex",interval:"interval"},outputs:{activeSlideChange:"activeSlideChange",slideRangeChange:"slideRangeChange"},ngContentSelectors:sE,decls:7,vars:8,consts:[["tabindex","0",1,"carousel","slide",3,"mouseenter","mouseleave","mouseup","keydown","focusin","focusout","id"],[4,"ngIf"],[1,"carousel-inner",3,"ngStyle"],["class","left carousel-control carousel-control-prev","href","javascript:void(0);","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],["class","right carousel-control carousel-control-next","href","javascript:void(0);","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["type","button","aria-current","true",3,"active","click",4,"ngFor","ngForOf"],["type","button","aria-current","true",3,"click"],["href","javascript:void(0);","tabindex","0","role","button",1,"left","carousel-control","carousel-control-prev",3,"click"],["aria-hidden","true",1,"icon-prev","carousel-control-prev-icon"],[1,"sr-only","visually-hidden"],["href","javascript:void(0);","tabindex","0","role","button",1,"right","carousel-control","carousel-control-next",3,"click"],["aria-hidden","true",1,"icon-next","carousel-control-next-icon"]],template:function(i,s){i&1&&(Hs(),ze(0,"div",0),lr("mouseenter",function(){return s.pause()})("mouseleave",function(){return s.onMouseLeave()})("mouseup",function(){return s.onMouseUp()})("keydown",function(u){return s.keydownPress(u)})("focusin",function(){return s.pauseFocusIn()})("focusout",function(){return s.pauseFocusOut()}),Mr(1,MP,3,1,"ng-container",1)(2,TP,3,1,"ng-container",1),ze(3,"div",2),qs(4),He(),Mr(5,IP,4,3,"a",3)(6,jP,4,3,"a",4),He()),i&2&&(Jt("id","carousel"+s.currentId),ft(),Jt("ngIf",!s._bsVer.isBs5&&s.showIndicators&&s.slides.length>1),ft(),Jt("ngIf",s._bsVer.isBs5&&s.showIndicators&&s.slides.length>1),ft(),Jt("ngStyle",MD(6,EP,s.multilist?"flex":"block")),ft(2),Jt("ngIf",s.slides.length>1),ft(),Jt("ngIf",s.slides.length>1))},dependencies:[Hn,il,KD],encapsulation:2});let n=r;return n})(),Hf=(()=>{let r=class r{constructor(t){this.active=!1,this.itemWidth="100%",this.order=0,this.isAnimated=!1,this.addClass=!0,this.multilist=!1,this.carousel=t}ngOnInit(){this.carousel.addSlide(this),this.itemWidth=`${100/this.carousel.itemsPerSlide}%`,this.multilist=this.carousel?.itemsPerSlide>1}ngOnDestroy(){this.carousel.removeSlide(this)}};r.\u0275fac=function(i){return new(i||r)(ot(Vu))},r.\u0275cmp=ar({type:r,selectors:[["slide"]],hostVars:15,hostBindings:function(i,s){i&2&&(Gn("aria-hidden",!s.active),es("width",s.itemWidth)("order",s.order),eo("multilist-margin",s.multilist)("active",s.active)("carousel-animation",s.isAnimated)("item",s.addClass)("carousel-item",s.addClass))},inputs:{active:"active"},ngContentSelectors:sE,decls:2,vars:2,consts:[[1,"item"]],template:function(i,s){i&1&&(Hs(),ze(0,"div",0),qs(1),He()),i&2&&eo("active",s.active)},styles:[".carousel-animation[_nghost-%COMP%]{transition:opacity .6s ease,visibility .6s ease;float:left}.carousel-animation.active[_nghost-%COMP%]{opacity:1;visibility:visible}.carousel-animation[_nghost-%COMP%]:not(.active){display:block;position:absolute;opacity:0;visibility:hidden}.multilist-margin[_nghost-%COMP%]{margin-right:auto}.carousel-item[_nghost-%COMP%]{perspective:1000px}"]});let n=r;return n})(),aE=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({imports:[ns]});let n=r;return n})();function PP(n,r){if(n&1&&(ze(0,"div")(1,"slide"),pr(2,"img",9),He()()),n&2){let o=r.$implicit;ft(2),rl("src",o,Ka)}}var Uu=class n{constructor(r,o){this.titleService=r;this.projectService=o;this.titleService.setTitle("Jonathan Lemon - Home")}featuredProject;ngOnInit(){this.featuredProject=this.projectService.getProjectByID(0)}static \u0275fac=function(o){return new(o||n)(ot(ri),ot(vl))};static \u0275cmp=ar({type:n,selectors:[["app-home"]],decls:23,vars:3,consts:[[1,"container"],[1,"row","d-flex","justify-content-center"],[1,"col-lg","shadow","border","m-1","ms-2","me-2","rounded","hoverable",2,"max-width","90vw"],[1,"text-center"],[1,"display-6"],["src","profilepic.jpg","alt","Profile Picture","width","256","height","256",1,"rounded-circle"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[1,"mt-2"],["alt","Slide",2,"display","block","width","100%",3,"src"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),ct(5,"About Me"),He(),pr(6,"img",5)(7,"hr"),ze(8,"p",6),ct(9,"Technologist, passionate about learning and leading in the software industry. Summa Cum Laude graduate from Clemson University Honors College. Experienced with using many industry standard languages and frameworks to develop robust solutions. From computer architecture to algorithm optimization and cloud computing, I am fascinated with all aspects of computer science. Always wanting to learn more and develop myself in all disciplines of life. Currently working full-stack at LPL Financial, developing .NET APIs, optimizing database design, and creating new front-end features for a highly scalable environment."),He()()(),ze(10,"div",2)(11,"div",3)(12,"div",3)(13,"h1",4),ct(14,"Featured Project"),He(),ze(15,"h4",6),ct(16),He()(),ze(17,"carousel"),Mr(18,PP,3,1,"div",7),He(),ze(19,"p",8),ct(20),He(),ze(21,"p"),ct(22,"Visit the Portfolio section to learn more."),He()()()()()),o&2&&(ft(16),Hr(t.featuredProject.name),ft(2),Jt("ngForOf",t.featuredProject.pictures),ft(2),Hr(t.featuredProject.summary))},dependencies:[Hn,Hf,Vu]})};var LP=(()=>{let r=class r{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(s=>s!==t);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(t),t._enable()}deregister(t){t._disable();let i=this._focusTrapStack,s=i.indexOf(t);s!==-1&&(i.splice(s,1),i.length&&i[i.length-1]._enable())}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var pv;try{pv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pv=!1}var dE=(()=>{let r=class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ys(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||pv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};r.\u0275fac=function(i){return new(i||r)(ut(zn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var fE=(()=>{let r=class r{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return VP(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=BP(YP(t));if(i&&(uE(i)===-1||!this.isVisible(i)))return!1;let s=t.nodeName.toLowerCase(),a=uE(t);return t.hasAttribute("contenteditable")?a!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!WP(t)?!1:s==="audio"?t.hasAttribute("controls")?a!==-1:!1:s==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return $P(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}};r.\u0275fac=function(i){return new(i||r)(ut(dE))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function BP(n){try{return n.frameElement}catch{return null}}function VP(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function UP(n){let r=n.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function zP(n){return HP(n)&&n.type=="hidden"}function GP(n){return qP(n)&&n.hasAttribute("href")}function HP(n){return n.nodeName.toLowerCase()=="input"}function qP(n){return n.nodeName.toLowerCase()=="a"}function hE(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let r=n.getAttribute("tabindex");return r=="-32768"?!1:!!(r&&!isNaN(parseInt(r,10)))}function uE(n){if(!hE(n))return null;let r=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function WP(n){let r=n.nodeName.toLowerCase(),o=r==="input"&&n.type;return o==="text"||o==="password"||r==="select"||r==="textarea"}function $P(n){return zP(n)?!1:UP(n)||GP(n)||n.hasAttribute("contenteditable")||hE(n)}function YP(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}function cE(n){return n!=null&&`${n}`!="false"}var mv=class{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,o,t,i,s=!1){this._element=r,this._checker=o,this._ngZone=t,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let r=this._startAnchor,o=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),o&&(o.removeEventListener("focus",this.endAnchorListener),o.parentNode&&o.parentNode.removeChild(o)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement()))})}_getRegionBoundary(r){let o=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);for(let t=0;t<o.length;t++)o[t].hasAttribute(`cdk-focus-${r}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,o[t]):o[t].hasAttribute(`cdk-focus-region-${r}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,o[t]);return r=="start"?o.length?o[0]:this._getFirstTabbableElement(this._element):o.length?o[o.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(r.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",r),!this._checker.isFocusable(r)){let o=this._getFirstTabbableElement(r);return o?.focus(),!!o}return r.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){let r=this._getRegionBoundary("start");return r&&r.focus(),!!r}focusLastTabbableElement(){let r=this._getRegionBoundary("end");return r&&r.focus(),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let o=r.children||r.childNodes;for(let t=0;t<o.length;t++){let i=o[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(o[t]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let o=r.children||r.childNodes;for(let t=o.length-1;t>=0;t--){let i=o[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(o[t]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,o){r?o.setAttribute("tabindex","0"):o.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(Do(1)).subscribe(r)}},XP=(()=>{let r=class r{constructor(t,i,s){this._checker=t,this._ngZone=i,this._document=s}create(t,i=!1){return new mv(t,this._checker,this._ngZone,this._document,i)}};r.\u0275fac=function(i){return new(i||r)(ut(fE),ut(Yt),ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),pE=(()=>{let r=class r{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=cE(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=cE(t)}constructor(t,i,s){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=s,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){let i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}};r.\u0275fac=function(i){return new(i||r)(ot(wr),ot(XP),ot(Xr))},r.\u0275dir=nn({type:r,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[po]});let n=r;return n})(),gv=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[LP,dE,fE]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({imports:[ns]});let n=r;return n})();var wE=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(wE||{}),zu=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(zu||{});function Js(n,r){if(n.nodeType!==1)return[];let t=n.ownerDocument.defaultView?.getComputedStyle(n,null);return r?t&&t[r]:t}function wv(n){if(!n)return document.documentElement;let r=null,o=n?.offsetParent,t;for(;o===r&&n.nextElementSibling&&t!==n.nextElementSibling;)t=n.nextElementSibling,o=t.offsetParent;let i=o&&o.nodeName;return!i||i==="BODY"||i==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:o&&["TH","TD","TABLE"].indexOf(o.nodeName)!==-1&&Js(o,"position")==="static"?wv(o):o}function QP(n){let{nodeName:r}=n;return r==="BODY"?!1:r==="HTML"||wv(n.firstElementChild)===n}function yv(n){return n.parentNode!==null?yv(n.parentNode):n}function Yf(n,r){if(!n||!n.nodeType||!r||!r.nodeType)return document.documentElement;let o=n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING,t=o?n:r,i=o?r:n,s=document.createRange();s.setStart(t,0),s.setEnd(i,0);let a=s.commonAncestorContainer;if(n!==a&&r!==a||t.contains(i))return QP(a)?a:wv(a);let u=yv(n);return u.host?Yf(u.host,r):Yf(n,yv(r).host)}function _E(n){if(!n||!n.parentElement)return document.documentElement;let r=n.parentElement;for(;r?.parentElement&&Js(r,"transform")==="none";)r=r.parentElement;return r||document.documentElement}function mE(n,r){let o=r==="x"?"Left":"Top",t=o==="Left"?"Right":"Bottom";return parseFloat(n[`border${o}Width`])+parseFloat(n[`border${t}Width`])}function gE(n,r,o){let t=r,i=o;return Math.max(t[`offset${n}`],t[`scroll${n}`],i[`client${n}`],i[`offset${n}`],i[`scroll${n}`],0)}function xE(n){let r=n.body,o=n.documentElement;return{height:gE("Height",r,o),width:gE("Width",r,o)}}function Gu(n){return Rt(Je({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function KP(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(Number(n))}function Pr(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function yE(n){let r=n.getBoundingClientRect();if(!(r&&Pr(r.top)&&Pr(r.left)&&Pr(r.bottom)&&Pr(r.right)))return r;let o={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},t=n.nodeName==="HTML"?xE(n.ownerDocument):void 0,i=t?.width||n.clientWidth||Pr(r.right)&&Pr(o.left)&&r.right-o.left||0,s=t?.height||n.clientHeight||Pr(r.bottom)&&Pr(o.top)&&r.bottom-o.top||0,a=n.offsetWidth-i,u=n.offsetHeight-s;if(a||u){let l=Js(n);a-=mE(l,"x"),u-=mE(l,"y"),o.width-=a,o.height-=u}return Gu(o)}function _v(n,r,o=!1){let t=r.nodeName==="HTML",i=yE(n),s=yE(r),a=Js(r),u=parseFloat(a.borderTopWidth),l=parseFloat(a.borderLeftWidth);o&&t&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));let c=Gu({top:(i.top??0)-(s.top??0)-u,left:(i.left??0)-(s.left??0)-l,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,t){let m=parseFloat(a.marginTop),y=parseFloat(a.marginLeft);Pr(c.top)&&(c.top-=u-m),Pr(c.bottom)&&(c.bottom-=u-m),Pr(c.left)&&(c.left-=l-y),Pr(c.right)&&(c.right-=l-y),c.marginTop=m,c.marginLeft=y}return c}function xv(n){return n.nodeName==="HTML"?n:n.parentNode||n.host}function DE(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body;default:}let{overflow:r,overflowX:o,overflowY:t}=Js(n);return/(auto|scroll|overlay)/.test(String(r)+String(t)+String(o))?n:DE(xv(n))}function vE(n,r="top"){let o=r==="top"?"scrollTop":"scrollLeft",t=n.nodeName;if(t==="BODY"||t==="HTML"){let i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[o]}return n[o]}function JP(n,r=!1){let o=n.ownerDocument.documentElement,t=_v(n,o),i=Math.max(o.clientWidth,window.innerWidth||0),s=Math.max(o.clientHeight,window.innerHeight||0),a=r?0:vE(o),u=r?0:vE(o,"left"),l={top:a-Number(t?.top)+Number(t?.marginTop),left:u-Number(t?.left)+Number(t?.marginLeft),width:i,height:s};return Gu(l)}function SE(n){let r=n.nodeName;return r==="BODY"||r==="HTML"?!1:Js(n,"position")==="fixed"?!0:SE(xv(n))}function Dv(n,r,o=0,t,i=!1){let s={top:0,left:0},a=i?_E(n):Yf(n,r);if(t==="viewport")s=JP(a,i);else{let u;t==="scrollParent"?(u=DE(xv(r)),u.nodeName==="BODY"&&(u=n.ownerDocument.documentElement)):t==="window"?u=n.ownerDocument.documentElement:u=t;let l=_v(u,a,i);if(l&&u.nodeName==="HTML"&&!SE(a)){let{height:c,width:m}=xE(n.ownerDocument);Pr(s.top)&&Pr(l.top)&&Pr(l.marginTop)&&(s.top+=l.top-l.marginTop),Pr(s.top)&&(s.bottom=Number(c)+Number(l.top)),Pr(s.left)&&Pr(l.left)&&Pr(l.marginLeft)&&(s.left+=l.left-l.marginLeft),Pr(s.top)&&(s.right=Number(m)+Number(l.left))}else l&&(s=l)}return Pr(s.left)&&(s.left+=o),Pr(s.top)&&(s.top+=o),Pr(s.right)&&(s.right-=o),Pr(s.bottom)&&(s.bottom-=o),s}function eL({width:n,height:r}){return n*r}function EE(n,r,o,t,i=["top","bottom","right","left"],s="viewport",a=0){if(n.indexOf("auto")===-1)return n;let u=Dv(o,t,a,s),l={top:{width:u?.width??0,height:(r?.top??0)-(u?.top??0)},right:{width:(u?.right??0)-(r?.right??0),height:u?.height??0},bottom:{width:u?.width??0,height:(u?.bottom??0)-(r?.bottom??0)},left:{width:(r.left??0)-(u?.left??0),height:u?.height??0}},c=Object.keys(l).map(h=>Rt(Je({position:h},l[h]),{area:eL(l[h])})).sort((h,p)=>p.area-h.area),m=c.filter(({width:h,height:p})=>h>=o.clientWidth&&p>=o.clientHeight);m=m.filter(({position:h})=>i.some(p=>p===h));let y=m.length>0?m[0].position:c[0].position,d=n.split(" ")[1];return o.className=o.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${oi().isBs5?zu[y]:y}`),y+(d?`-${d}`:"")}function tL(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}function rL(n){let r={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,o=>r[o])}function nL(n){return n==="right"?"left":n==="left"?"right":n}var qf=(n,r=0)=>n?parseFloat(n):r;function CE(n){let o=n.ownerDocument.defaultView?.getComputedStyle(n),t=qf(o?.marginTop)+qf(o?.marginBottom),i=qf(o?.marginLeft)+qf(o?.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+t}}function ME(n,r,o){let t=o?_E(n):Yf(n,r);return _v(r,t,o)}function vv(n,r,o){let t=o.split(" ")[0],i=CE(n),s={width:i.width,height:i.height},a=["right","left"].indexOf(t)!==-1,u=a?"top":"left",l=a?"left":"top",c=a?"height":"width",m=a?"width":"height";return s[u]=(r[u]??0)+r[c]/2-i[c]/2,s[l]=t===l?(r[l]??0)-i[m]:r[rL(l)]??0,s}function AE(n,r){return!!n.modifiers[r]?.enabled}var oL={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Wf(n,r){return oi().isBs5?oL[r].includes(n):!1}function Sv(n){return oi().isBs5?Wf(n,"end")?"ms-2":Wf(n,"start")?"me-2":Wf(n,"top")?"mb-2":Wf(n,"bottom")?"mt-2":"":""}function iL(n,r){let o=n.instance.target,t=o.className,i=oi().isBs5?zu[n.placement]:n.placement;if(n.placementAuto&&(t=t.replace(/bs-popover-auto/g,`bs-popover-${i}`),t=t.replace(/ms-2|me-2|mb-2|mt-2/g,""),t=t.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),t=t.replace(/\sauto/g,` ${i}`),t.indexOf("popover")!==-1&&(t=t+" "+Sv(i)),t.indexOf("popover")!==-1&&t.indexOf("popover-auto")===-1&&(t+=" popover-auto"),t.indexOf("tooltip")!==-1&&t.indexOf("tooltip-auto")===-1&&(t+=" tooltip-auto")),t=t.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),r){r.setAttribute(o,"class",t);return}o.className=t}function bE(n,r,o){!n||!r||Object.keys(r).forEach(t=>{let i="";if(["width","height","top","right","bottom","left"].indexOf(t)!==-1&&KP(r[t])&&(i="px"),o){o.setStyle(n,t,`${String(r[t])}${i}`);return}n.style[t]=String(r[t])+i})}function sL(n){let r=n.offsets.target,o=n.instance.target.querySelector(".arrow");if(!o)return n;let t=["left","right"].indexOf(n.placement.split(" ")[0])!==-1,i=t?"height":"width",s=t?"Top":"Left",a=s.toLowerCase(),u=t?"left":"top",l=t?"bottom":"right",c=CE(o)[i],m=n.placement.split(" ")[1];(n.offsets.host[l]??0)-c<(r[a]??0)&&(r[a]-=(r[a]??0)-((n.offsets.host[l]??0)-c)),Number(n.offsets.host[a])+Number(c)>(r[l]??0)&&(r[a]+=Number(n.offsets.host[a])+Number(c)-Number(r[l])),r=Gu(r);let y=Js(n.instance.target),d=parseFloat(y[`margin${s}`])||0,h=parseFloat(y[`border${s}Width`])||0,p;if(!m)p=Number(n.offsets.host[a])+Number(n.offsets.host[i]/2-c/2);else{let v=parseFloat(y.borderRadius)||0,g=Number(d+h+v);p=a===m?Number(n.offsets.host[a])+g:Number(n.offsets.host[a])+Number(n.offsets.host[i]-g)}let f=p-(r[a]??0)-d-h;return f=Math.max(Math.min(r[i]-(c+5),f),0),n.offsets.arrow={[a]:Math.round(f),[u]:""},n.instance.arrow=o,n}function aL(n){if(n.offsets.target=Gu(n.offsets.target),!AE(n.options,"flip"))return n.offsets.target=Je(Je({},n.offsets.target),vv(n.instance.target,n.offsets.host,n.placement)),n;let r=Dv(n.instance.target,n.instance.host,0,"viewport",!1),o=n.placement.split(" ")[0],t=n.placement.split(" ")[1]||"",i=n.offsets.host,s=n.instance.target,a=n.instance.host,u=EE("auto",i,s,a,n.options.allowedPositions),l=[o,u];return l.forEach((c,m)=>{if(o!==c||l.length===m+1)return;o=n.placement.split(" ")[0];let y=o==="left"&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||o==="right"&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||o==="top"&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||o==="bottom"&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),d=Math.floor(n.offsets.target.left??0)<Math.floor(r.left??0),h=Math.floor(n.offsets.target.right??0)>Math.floor(r.right??0),p=Math.floor(n.offsets.target.top??0)<Math.floor(r.top??0),f=Math.floor(n.offsets.target.bottom??0)>Math.floor(r.bottom??0),v=o==="left"&&d||o==="right"&&h||o==="top"&&p||o==="bottom"&&f,g=["top","bottom"].indexOf(o)!==-1,w=g&&t==="left"&&d||g&&t==="right"&&h||!g&&t==="left"&&p||!g&&t==="right"&&f;(y||v||w)&&((y||v)&&(o=l[m+1]),w&&(t=nL(t)),n.placement=o+(t?` ${t}`:""),n.offsets.target=Je(Je({},n.offsets.target),vv(n.instance.target,n.offsets.host,n.placement)))}),n}function lL(n,r,o,t){if(!n||!r)return;let i=ME(n,r);!o.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!o.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(o="auto");let s=!!o.match(/auto/g),a=o.match(/auto\s(left|right|top|bottom|start|end)/)?o.split(" ")[1]||"auto":o,u=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);u&&(a=u[1]+(u[2]?` ${u[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(a)!==-1&&(a="auto"),a=EE(a,i,n,r,t?t.allowedPositions:void 0);let l=vv(n,i,a);return{options:t||{modifiers:{}},instance:{target:n,host:r,arrow:void 0},offsets:{target:l,host:i,arrow:void 0},positionFixed:!1,placement:a,placementAuto:s}}function uL(n){if(!AE(n.options,"preventOverflow"))return n;let r="transform",o=n.instance.target.style,{top:t,left:i,[r]:s}=o;o.top="",o.left="",o[r]="";let a=Dv(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);o.top=t,o.left=i,o[r]=s;let u=["left","right","top","bottom"],l={primary(c){let m=n.offsets.target[c];return(n.offsets.target[c]??0)<(a[c]??0)&&(m=Math.max(n.offsets.target[c]??0,a[c]??0)),{[c]:m}},secondary(c){let m=c==="right",y=m?"left":"top",d=m?"width":"height",h=n.offsets.target[y];return(n.offsets.target[c]??0)>(a[c]??0)&&(h=Math.min(n.offsets.target[y]??0,(a[c]??0)-n.offsets.target[d])),{[y]:h}}};return u.forEach(c=>{let m=["left","top","start"].indexOf(c)!==-1?l.primary:l.secondary;n.offsets.target=Je(Je({},n.offsets.target),m(c))}),n}function cL(n){let r=n.placement,o=r.split(" ")[0],t=r.split(" ")[1];if(t){let{host:i,target:s}=n.offsets,a=["bottom","top"].indexOf(o)!==-1,u=a?"left":"top",l=a?"width":"height",c={start:{[u]:i[u]},end:{[u]:(i[u]??0)+i[l]-s[l]}};n.offsets.target=Rt(Je({},s),{[u]:u===t?c.start[u]:c.end[u]})}return n}var bv=class{position(r,o){return this.offset(r,o)}offset(r,o){return ME(o,r)}positionElements(r,o,t,i,s){let a=[aL,cL,uL,sL],u=wE[t],l=lL(o,r,u,s);if(l)return a.reduce((c,m)=>m(c),l)}},dL=new bv;function fL(n,r,o,t,i,s){let a=dL.positionElements(n,r,o,t,i);if(!a)return;let u=tL(a);bE(r,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${u.left}px, ${u.top}px, 0px)`},s),a.instance.arrow&&bE(a.instance.arrow,a.offsets.arrow,s),iL(a,s)}var Ti=(()=>{let r=class r{constructor(t,i,s){this.update$$=new rn,this.positionElements=new Map,this.isDisabled=!1,Ys(s)&&t.runOutsideAngular(()=>{this.triggerEvent$=Yp(ja(window,"scroll",{passive:!0}),ja(window,"resize",{passive:!0}),Et(0,Gp),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(a=>{fL($f(a.target),$f(a.element),a.attachment,a.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set($f(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete($f(t))}setOptions(t){this.options=t}};r.\u0275fac=function(i){return new(i||r)(ut(Yt),ut(ho),ut(zn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function $f(n){return typeof n=="string"?document.querySelector(n):n instanceof wr?n.nativeElement:n??null}var ea=class{constructor(r,o,t){this.nodes=r,this.viewRef=o,this.componentRef=t}},Ev=class{constructor(r,o,t,i,s,a,u,l,c){this._viewContainerRef=r,this._renderer=o,this._elementRef=t,this._injector=i,this._componentFactoryResolver=s,this._ngZone=a,this._applicationRef=u,this._posService=l,this._document=c,this.onBeforeShow=new $t,this.onShown=new $t,this.onBeforeHide=new $t,this.onHidden=new $t,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return this._isHiding?!1:!!this._componentRef}attach(r){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(r),this}to(r){return this.container=r||this.container,this}position(r){return r?(this.attachment=r.attachment||this.attachment,this._elementRef=r.target||this._elementRef,this):this}provide(r){return this._providers.push(r),this}show(r={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(r.content,r.context,r.initialState);let o=pn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(o,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,r),this.container instanceof wr&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let t=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!t)return;t.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(r.id?{id:r.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(r){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let o=this._componentRef.location.nativeElement;return o.parentNode?.removeChild(o),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(r?{id:r}:null),this}toggle(){if(this.isShown){this.hide();return}this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(r){this.triggers=r.triggers||this.triggers,this._listenOpts.outsideClick=r.outsideClick,this._listenOpts.outsideEsc=r.outsideEsc,r.target=r.target||this._elementRef?.nativeElement;let o=this._listenOpts.hide=()=>r.hide?r.hide():void this.hide(),t=this._listenOpts.show=s=>{r.show?r.show(s):this.show(s),s()},i=s=>{this.isShown?o():t(s)};return this._renderer&&(this._unregisterListenersFn=tE(this._renderer,{target:r.target,triggers:r.triggers,show:t,hide:o,toggle:i})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(r,o){return r&&o&&(this._inlineViewRef=r.createEmbeddedView(o)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let r=Function.prototype,o=Function.prototype;if(this._listenOpts.outsideClick){let t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(r=rE(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let t=this._componentRef.location.nativeElement;o=nE(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}this._globalListener=()=>{r(),o()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(r,o,t){if(!r)return new ea([]);if(r instanceof wi){if(this._viewContainerRef){let a=this._viewContainerRef.createEmbeddedView(r,o);return a.markForCheck(),new ea([a.rootNodes],a)}let s=r.createEmbeddedView({});return this._applicationRef.attachView(s),new ea([s.rootNodes],s)}if(typeof r=="function"){let s=this._componentFactoryResolver.resolveComponentFactory(r),a=pn.create({providers:this._providers,parent:this._injector}),u=s.create(a);return Object.assign(u.instance,t),this._applicationRef.attachView(u.hostView),new ea([[u.location.nativeElement]],u.hostView,u)}let i=this._renderer?[this._renderer.createText(`${r}`)]:[];return new ea([i])}},Ii=(()=>{let r=class r{constructor(t,i,s,a,u,l){this._componentFactoryResolver=t,this._ngZone=i,this._injector=s,this._posService=a,this._applicationRef=u,this._document=l}createLoader(t,i,s){return new Ev(i,s,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}};r.\u0275fac=function(i){return new(i||r)(ut(Qi),ut(Yt),ut(pn),ut(Ti),ut(ei),ut(Xr))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var hL=["*"],Zf=(()=>{let r=class r{constructor(){this.hide=()=>{},this.setClass=()=>{}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();var jE=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),Xf={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},pL=new _t("override-default-config"),si={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var Qf={MODAL:300,BACKDROP:150},Cv={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},mL=(()=>{let r=class r{constructor(t,i,s){this._element=i,this._renderer=s,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this._focusEl=sn.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,si.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,si.SHOW)},this.isAnimated?Qf.BACKDROP:0),sn&&sn.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(sn.body,si.OPEN),this._renderer.setStyle(sn.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){let i=t.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!i){this.clickStartedInContent=!1;return}this.bsModalService?.setDismissReason(Cv.BACKRDOP),this.hide()}onPopState(){this.bsModalService?.setDismissReason(Cv.BACK),this.hide()}onEsc(t){this.isShown&&((t.keyCode===27||t.key==="Escape")&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(Cv.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return}this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,si.SHOW),setTimeout(()=>{this.isShown=!1,sn&&sn.body&&this.bsModalService?.getModalsCount()===1&&(this._renderer.removeClass(sn.body,si.OPEN),this._renderer.setStyle(sn.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?Qf.MODAL:0)}};r.\u0275fac=function(i){return new(i||r)(ot(jE),ot(wr),ot(Rn))},r.\u0275cmp=ar({type:r,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,s){i&1&&lr("mousedown",function(u){return s.onClickStarted(u)})("click",function(u){return s.onClickStop(u)})("popstate",function(){return s.onPopState()},!1,Pg)("keydown.esc",function(u){return s.onEsc(u)},!1,Pg),i&2&&Gn("aria-modal",!0)("aria-labelledby",s.config.ariaLabelledBy)("aria-describedby",s.config.ariaDescribedby)},ngContentSelectors:hL,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,s){i&1&&(Hs(),ze(0,"div",0)(1,"div",1),qs(2),He()()),i&2&&sf("modal-dialog"+(s.config.class?" "+s.config.class:""))},dependencies:[pE],encapsulation:2});let n=r;return n})(),gL=(()=>{let r=class r{get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,`${si.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${si.SHOW}`)}constructor(t,i){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${si.FADE}`),Gf.reflow(this.element.nativeElement)),this.isShown=!0}};r.\u0275fac=function(i){return new(i||r)(ot(wr),ot(Rn))},r.\u0275cmp=ar({type:r,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,s){},encapsulation:2});let n=r;return n})();var yL=1,Kf=(()=>{let r=class r{constructor(t,i,s){this.clf=i,this.modalDefaultOption=s,this.onShow=new $t,this.onShown=new $t,this.onHide=new $t,this.onHidden=new $t,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=s?Object.assign({},Xf,s):Xf}show(t,i){this._focusEl=sn.activeElement,this.modalsCount++,this._createLoaders();let s=i?.id||yL++;return this.config=this.modalDefaultOption?Object.assign({},Xf,this.modalDefaultOption,i):Object.assign({},Xf,i),this.config.id=s,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(this.modalsCount===1||t==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&t!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?Qf.BACKDROP:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){let t=this.config.backdrop===!0||this.config.backdrop==="static",i=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),t&&i&&(this._backdropLoader.attach(gL).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let t=this.config.animated?Qf.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),t)}_showModal(t){let i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let u of this.config.providers)i.provide(u);let s=new Zf,a=i.provide({provide:jE,useValue:this.config}).provide({provide:Zf,useValue:s}).attach(mL).to("body");return s.hide=()=>this.hide(s.id),s.setClass=u=>{a.instance&&(a.instance.config.class=u)},s.onHidden=new $t,s.onHide=new $t,this.copyEvent(i.onBeforeHide,s.onHide),this.copyEvent(i.onHidden,s.onHidden),a.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),a.instance&&(a.instance.level=this.getModalsCount(),s.content=i.getInnerComponent(),s.id=a.instance.config?.id),s}_hideModal(t){if(t!=null){let i=this.loaders.findIndex(a=>a.instance?.config.id===t),s=this.loaders[i];s&&s.hide(t)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(sn.body,si.OPEN),this._renderer.setStyle(sn.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=sn.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){sn&&(this.originalBodyPadding=parseInt(window.getComputedStyle(sn.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(sn.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){sn.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){let t=this._renderer.createElement("div");this._renderer.addClass(t,si.SCROLLBAR_MEASURER),this._renderer.appendChild(sn.body,t);let i=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(sn.body,t),i}_createLoaders(){let t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(t!=null){let i=this.loaders.findIndex(s=>s.instance?.config.id===t);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((s,a)=>{s.instance&&(s.instance.level=a+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,i){t.subscribe(s=>{i.emit(this.lastDismissReason||s)})}};r.\u0275fac=function(i){return new(i||r)(ut(ho),ut(Ii),ut(pL,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),TW=gv.forRoot(),NE=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[Kf,Ii,Ti]}}static forChild(){return{ngModule:r,providers:[Kf,Ii,Ti]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({imports:[gv]});let n=r;return n})();function vL(n,r){if(n&1&&(ze(0,"div")(1,"slide"),pr(2,"img",7),He()()),n&2){let o=r.$implicit;ft(2),rl("src",o,Ka)}}function bL(n,r){if(n&1&&(ze(0,"div")(1,"div",8),ct(2),He()()),n&2){let o=r.$implicit;ft(),es("background-color",o.color),ft(),Hr(o)}}var Jf=class n{constructor(r){this.BsModalRef=r}project={};static \u0275fac=function(o){return new(o||n)(ot(Zf))};static \u0275cmp=ar({type:n,selectors:[["app-project-modal"]],decls:18,vars:5,consts:[[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"mt-2"],["target","_blank",3,"href"],[1,"d-flex","flex-wrap"],["alt","Slide",2,"display","block","width","100%",3,"src"],[1,"tag","me-2","mb-1"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"h2"),ct(2),He(),ze(3,"button",1),lr("click",function(){return t.BsModalRef.hide()}),He()(),ze(4,"div",2)(5,"carousel"),Mr(6,vL,3,1,"div",3),He(),ze(7,"h3",4),ct(8,"Description"),He(),ze(9,"p"),ct(10),He(),ze(11,"p"),ct(12,"You can find this project on Github "),ze(13,"a",5),ct(14,"here."),He()(),pr(15,"hr"),ze(16,"div",6),Mr(17,bL,3,3,"div",3),He()()),o&2&&(ft(2),Hr(t.project.name),ft(4),Jt("ngForOf",t.project.pictures),ft(4),Hr(t.project.description),ft(3),rl("href",t.project.projectLink,Ka),ft(4),Jt("ngForOf",t.project.tags))},dependencies:[Hn,Hf,Vu]})};function wL(n,r){if(n&1&&(ze(0,"div")(1,"div",8),ct(2),He()()),n&2){let o=r.$implicit;ft(),es("background-color",o.color),ft(),Hr(o)}}var eh=class n{constructor(r){this.modalService=r}project={};bsModalRef;OpenProjectModal(){let r={class:"modal-lg",initialState:{project:this.project}};this.bsModalRef=this.modalService.show(Jf,r)}static \u0275fac=function(o){return new(o||n)(ot(Kf))};static \u0275cmp=ar({type:n,selectors:[["app-project-card"]],inputs:{project:"project"},decls:11,vars:3,consts:[[1,"card","shadow","text-center","hoverable",2,"max-width","350px","min-width","350px"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-outline-primary","mb-2","me-2",3,"click"],[1,"card-footer"],[1,"d-flex","flex-wrap","justify-content-center"],[4,"ngFor","ngForOf"],[1,"tag","me-2","mb-1"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div",1)(2,"h5",2),ct(3),He(),ze(4,"p",3),ct(5),He(),ze(6,"button",4),lr("click",function(){return t.OpenProjectModal()}),ct(7,"View More"),He()(),ze(8,"div",5)(9,"div",6),Mr(10,wL,3,3,"div",7),He()()()),o&2&&(ft(3),Hr(t.project.name),ft(2),Hr(t.project.summary),ft(5),Jt("ngForOf",t.project.tags))},dependencies:[Hn]})};function xL(n,r){if(n&1&&(ze(0,"div",3),pr(1,"app-project-card",4),He()),n&2){let o=r.$implicit;ft(),Jt("project",o)}}var th=class n{constructor(r,o){this.titleService=r;this.projectService=o;this.titleService.setTitle("Jonathan Lemon - Portfolio")}projects;ngOnInit(){this.projects=this.projectService.getProjects()}static \u0275fac=function(o){return new(o||n)(ot(ri),ot(vl))};static \u0275cmp=ar({type:n,selectors:[["app-portfolio"]],decls:3,vars:1,consts:[[1,"container"],[1,"row","d-flex","justify-content-center"],["class","col-lg-4 col-md-6 mb-4","style","max-width: 380px; min-width: 380px;",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","mb-4",2,"max-width","380px","min-width","380px"],[3,"project"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div",1),Mr(2,xL,2,1,"div",2),He()()),o&2&&(ft(2),Jt("ngForOf",t.projects))},dependencies:[Hn,eh]})};var rh=class n{constructor(r){this.titleService=r;this.titleService.setTitle("Jonathan Lemon - Contact")}static \u0275fac=function(o){return new(o||n)(ot(ri))};static \u0275cmp=ar({type:n,selectors:[["app-contact"]],decls:20,vars:0,consts:[[1,"container","justify-content-center","align-items-center"],[1,"row","justify-content-center"],[1,"d-flex","flex-column","col-lg-6","col-md-6","col-sm-6","col-8","text-center","border","mb-5","shadow","rounded"],[1,"display-6"],[1,"text-secondary"],[1,"row"],[1,"d-flex","flex-column","col-lg-6","col-md-6","col-sm-6","col-8","list-group","shadow","p-0"],["href","https://www.linkedin.com/in/jonathan-lemon-66464520b/","target","_blank",1,"list-group-item","hoverable","d-flex","gap-3","py-3"],["src","linkedinlogo.png","width","32","height","32",1,"rounded-circle","flex-shrink-0","me-5"],[1,"mb-0"],["href","https://github.com/jonathanlemon","target","_blank",1,"list-group-item","hoverable","d-flex","gap-3","py-3"],["src","githublogo.png","width","32","height","32",1,"rounded-circle","flex-shrink-0","me-5"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),ct(4,"Contact"),He(),ze(5,"p",4),ct(6,"The best way to reach me is via LinkedIn."),He(),ze(7,"p",4),ct(8,"Feel free to connect with me below:"),He()()(),pr(9,"div",5),ze(10,"div",1)(11,"div",6)(12,"a",7),pr(13,"img",8),ze(14,"h3",9),ct(15,"LinkedIn"),He()(),ze(16,"a",10),pr(17,"img",11),ze(18,"h3",9),ct(19,"Github"),He()()()()())}})};var FE=n=>{let r=25,o=1e3,t=1e3,i=o/r,s=t/r,a=0,u=[];n.setup=()=>{n.createCanvas(500,500,n.WEBGL),u=Array.from({length:i},()=>Array(s).fill(0));let l=a;for(let c=0;c<s;c++){let m=0;for(let y=0;y<i;y++)u[y][c]=n.map(n.noise(m,l),0,1,-250,250),m+=.05;l+=.05}},n.draw=()=>{n.background(41),n.stroke(0),n.pointLight(255,255,255,0,-200,100),n.ambientLight(10),n.fill(74,103,65),n.rotateX(n.PI/2.5),n.translate(-o/2,-t/2,-100);let l=[],c=0;for(let m=0;m<i;m++)l[m]=n.map(n.noise(c,a),0,1,-250,250),c+=.05;for(let m=s-1;m>0;m--)for(let y=0;y<i;y++)u[y][m]=u[y][m-1];for(let m=0;m<i;m++)u[m][0]=l[m];for(let m=0;m<s-1;m++){n.beginShape(n.TRIANGLE_STRIP);for(let y=0;y<i;y++)n.vertex(y*r,m*r,u[y][m]),n.vertex(y*r,(m+1)*r,u[y][m+1]);n.endShape()}a+=.05}};var kE=n=>{let r,o,t,i=[[]],s,a,u,l=!1,c,m,y;class d{x;y;parent;constructor(M,E,S){this.x=M,this.y=E,this.parent=S}}let h=()=>{n.fill(255,0,0),n.noStroke(),n.rect(a.x*t,a.y*t,t,t)},p=()=>{n.fill(0,255,0),n.noStroke(),n.rect(s.x*t,s.y*t,t,t)},f=C=>{n.noFill(),n.stroke(0,0,255),n.rect(C.x*t,C.y*t,t,t)};class v{qList=[];head=-1;tail=-1;enqueue=M=>{this.head==-1&&this.head++,this.tail++,this.qList.push(M)};dequeue=()=>{if(this.head==-1)return console.log("Queue underflow!"),0;if(this.head==this.tail){let M=this.qList.splice(0,1)[0];return this.head--,this.tail--,M}else return this.tail--,this.qList.splice(0,1)[0]};size=()=>this.qList.length;peek=()=>{if(this.head==-1)console.log("Queue is empty!");else return this.qList[this.head]};list=()=>this.qList}let g=()=>{n.background(41),n.fill(0),t=10,c=0,u=new v,r=n.height/t,o=n.width/t,s=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),a=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),i=Array.from(Array(o),()=>new Array(r));for(let C=0;C<r;C++)for(let M=0;M<o;M++)n.rect(M*t,C*t,20,20),i[M][C]=0;h(),p(),u.enqueue(a)},w=()=>{c=2};n.setup=()=>{n.createCanvas(500,500),D(document.getElementById("canvasContainer1")),m=n.createButton("Restart"),m.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),m.mousePressed(g),y=n.createButton("Play"),y.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),y.mousePressed(w),c=0,n.background(41),n.fill(0),t=10,u=new v,r=n.height/t,o=n.width/t,s=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),a=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),i=Array.from(Array(o),()=>new Array(r));for(let C=0;C<r;C++)for(let M=0;M<o;M++)n.rect(M*t,C*t,20,20),i[M][C]=0;h(),p(),u.enqueue(a)};let b=()=>{let C=s;for(n.noStroke(),n.fill(255,255,0);C!=a;)n.rect(C.x*t,C.y*t,t,t),C=C.parent},_=C=>{if(C.x==s.x&&C.y==s.y){s.parent=C,b(),u=new v;return}i[C.x][C.y]=1,f(C),C.x-1>=0&&i[C.x-1][C.y]==0&&(u.enqueue(new d(C.x-1,C.y,C)),i[C.x-1][C.y]=1),C.x+1<o&&i[C.x+1][C.y]==0&&(u.enqueue(new d(C.x+1,C.y,C)),i[C.x+1][C.y]=1),C.y-1>=0&&i[C.x][C.y-1]==0&&(u.enqueue(new d(C.x,C.y-1,C)),i[C.x][C.y-1]=1),C.y+1<r&&i[C.x][C.y+1]==0&&(u.enqueue(new d(C.x,C.y+1,C)),i[C.x][C.y+1]=1)};n.draw=()=>{for(let C=0;C<c;C++)u.size()>0&&_(u.dequeue());if(l){let C=n.floor(n.floor(n.mouseX)/t),M=n.floor(n.floor(n.mouseY)/t);C<o&&M<r&&C>=0&&M>=0&&!(C==a.x&&M==a.y)&&!(C==s.x&&M==s.y)&&(i[C][M]=2,n.fill(200),n.noStroke(),n.rect(C*t,M*t,t,t))}h(),p(),c!=0&&(c=n.floor(u.size()/3)+1)},window.addEventListener("mousedown",()=>{l=!0}),window.addEventListener("touchstart",()=>{l=!0}),window.addEventListener("mouseup",()=>{l=!1}),window.addEventListener("touchend",()=>{l=!0});function D(C){window.addEventListener("touchstart",function(M){M.target==C&&M.preventDefault()},{passive:!1}),window.addEventListener("touchend",function(M){M.target==C&&M.preventDefault()},{passive:!1}),window.addEventListener("touchmove",function(M){M.target==C&&M.preventDefault()},{passive:!1})}};var RE=n=>{var r=25,o=[],t=0,i=0,s=Math.round(Math.random()*19),a=Math.round(Math.random()*19);class u{x;y;constructor(m,y){this.x=m,this.y=y}}n.setup=()=>{for(n.createCanvas(500,500),o.push(new u(10,10));s==10&&a==10;)s=Math.round(Math.random()*19),a=Math.round(Math.random()*19);n.frameRate(15)},n.draw=()=>{n.background(41),n.fill(255,0,0),n.rect(o[0].x*r,o[0].y*r,r,r);for(let c=1;c<o.length;c++){if(n.rect(o[c].x*r,o[c].y*r,r,r),o[0].x==o[c].x&&o[0].y==o[c].y){l();break}o[c].x==s&&o[c].y==a&&(o.push(new u(o[o.length-1].x,o[o.length-1].y)),s=n.round(Math.random()*19),a=n.round(Math.random()*19))}o[0].x==s&&o[0].y==a&&(o.push(new u(o[o.length-1].x,o[o.length-1].y)),s=n.round(Math.random()*19),a=n.round(Math.random()*19));for(let c=o.length-1;c>0;c--)o[c].x=o[c-1].x,o[c].y=o[c-1].y;n.fill(0,255,0),n.rect(s*r,a*r,r,r),o[0].x+=t,o[0].y+=i,o[0].x<0&&(o[0].x=19),o[0].x>19&&(o[0].x=0),o[0].y<0&&(o[0].y=19),o[0].y>19&&(o[0].y=0)};let l=()=>{for(t=0,i=0,o=[],o.push(new u(10,10));s==10&&a==10;)s=Math.round(Math.random()*19),a=Math.round(Math.random()*19)};window.addEventListener("keydown",function(c){c.key=="ArrowUp"&&(t=0,i=-1),c.key=="ArrowDown"&&(t=0,i=1),c.key=="ArrowLeft"&&(t=-1,i=0),c.key=="ArrowRight"&&(t=1,i=0)})};var PE=n=>{let r,o,t,i,s;n.setup=()=>{n.frameRate(10),n.createCanvas(500,500),r=10,o=50,t=50,i=new Array(o);for(let l=0;l<o;l++)i[l]=new Array(t);s=new Array(o);for(let l=0;l<o;l++)s[l]=new Array(t);a()},n.draw=()=>{n.background(41),u();for(let l=0;l<o;l++)for(let c=0;c<t;c++)i[l][c]==1?n.fill(255):n.fill(41),n.stroke(41),n.rect(l*r,c*r,r-1,r-1)};let a=()=>{for(let l=0;l<o;l++)for(let c=0;c<t;c++)l==0||c==0||l==o-1||c==t-1?i[l][c]=0:i[l][c]=n.floor(n.random(2)),s[l][c]=0};window.addEventListener("click",a);let u=()=>{for(let c=1;c<o-1;c++)for(let m=1;m<t-1;m++){let y=0;for(let d=-1;d<=1;d++)for(let h=-1;h<=1;h++)y+=i[c+d][m+h];y-=i[c][m],i[c][m]==1&&y<2||i[c][m]==1&&y>3?s[c][m]=0:i[c][m]==0&&y==3?s[c][m]=1:s[c][m]=i[c][m]}let l=i;i=s,s=l}};var LE=n=>{n.setup=()=>{n.createCanvas(500,500,n.WEBGL),n.angleMode(n.DEGREES)},n.draw=()=>{n.rotateX(60),n.background(41),n.noFill(),n.stroke(255);for(let r=0;r<50;r++){n.rotate(n.frameCount/100),n.beginShape();let o=n.map(n.sin(n.frameCount),-1,1,0,255),t=n.map(r,0,50,0,255),i=n.map(n.cos(n.frameCount),-1,1,0,255);for(let s=0;s<=360;s+=60){let a=r*5,u=a*n.cos(s),l=a*n.sin(s),c=n.sin(n.frameCount*3+r*5)*100;n.stroke(o,t,i),n.vertex(u,l,c)}n.endShape()}}};var BE=[{name:"Mario Bros. Circuit",cup:"Mushroom"},{name:"Crown City",cup:"Mushroom"},{name:"Whistlestop Summit",cup:"Mushroom"},{name:"DK Spaceport",cup:"Mushroom"},{name:"Desert Hills",cup:"Flower"},{name:"Shy Guy Bazaar",cup:"Flower"},{name:"Wario Stadium",cup:"Flower"},{name:"Airship Fortress",cup:"Flower"},{name:"DK Pass",cup:"Star"},{name:"Starview Peak",cup:"Star"},{name:"Sky-High Sundae",cup:"Star"},{name:"Wario Shipyard",cup:"Star"},{name:"Koopa Troopa Beach",cup:"Shell"},{name:"Faraway Oasis",cup:"Shell"},{name:"Crown City",cup:"Shell"},{name:"Peach Stadium",cup:"Shell"},{name:"Peach Beach",cup:"Banana"},{name:"Salty Salty Speedway",cup:"Banana"},{name:"Dino Dino Jungle",cup:"Banana"},{name:"Great ? Block Ruins",cup:"Banana"},{name:"Cheep Cheep Falls",cup:"Leaf"},{name:"Dandelion Depths",cup:"Leaf"},{name:"Boo Cinema",cup:"Leaf"},{name:"Dry Bones Burnout",cup:"Leaf"},{name:"Moo Moo Meadows",cup:"Lightning"},{name:"Choco Mountain",cup:"Lightning"},{name:"Toad's Factory",cup:"Lightning"},{name:"Bowser's Castle",cup:"Lightning"},{name:"Acorn Heights",cup:"Special"},{name:"Super Mario Kart Circuit",cup:"Special"},{name:"Peach Stadium",cup:"Special"},{name:"Rainbow Road",cup:"Special"}];var VE=n=>{class r{name;cup;constructor(D,C){this.name=D,this.cup=C}toString(){return this.name+" | "+this.cup}}let o=new AudioContext,t=null;function i(){return Ir(this,null,function*(){let D=yield(yield fetch("click.wav")).arrayBuffer();t=yield o.decodeAudioData(D)})}function s(){if(!t)return;let _=o.createBufferSource();_.buffer=t,_.connect(o.destination),_.start()}let a=[],u,l,c,m=!1,y=7,d=0,h=0,p=.99,f=20,v=!1;BE.forEach(_=>{a.push(new r(_.name,_.cup))}),n.setup=()=>{n.createCanvas(500,500),u=500,l=500,c=0,n.textAlign(n.CENTER,n.CENTER),i(),w()},n.draw=()=>{n.noStroke(),n.background(41),n.fill(50,80,200),n.rect(u/2-200,l/2-200,400,400),n.fill(200,185,0),n.rect(u/2-175,l/2-25,350,50),n.fill(255),n.strokeWeight(.5),n.textSize(16);for(let _=0;_<y;_++)n.text(a[(c+_)%a.length],u/2,l/2-150+50*_-h);if(n.fill(41),n.noStroke(),n.rect(0,l/2+100,500,200),n.rect(0,l/2-300,500,200),m){for(h+=d;h>=50;)h-=50,b();v&&(d*=p),d<1&&(m=!1,d=0,h>25&&b(),h=0)}};function g(){m||(w(),m=!0,d=n.floor(n.random(40,50)))}window.addEventListener("click",g);let w=()=>{for(let _=a.length-1;_>0;_--){let D=n.floor(n.random(_)),C=a[_];a[_]=a[D],a[D]=C}},b=()=>{c=(c+1)%a.length,s(),!v&&f>=0&&(f-=1),!v&&f<0&&(v=!0)}};function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)({}).hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},bl.apply(null,arguments)}var Mv={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function UE(n,r){if(Hu(n,r))return n[r];throw typeof n[r]=="function"&&DL(n,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function zE(n,r,o){if(Hu(n,r))return n[r]=o,o;throw new Error('No access to property "'+r+'"')}function Hu(n,r){return!SL(n)&&!Array.isArray(n)?!1:wl(EL,r)?!0:!(r in Object.prototype||r in Function.prototype)}function DL(n,r){return n==null||typeof n[r]!="function"||wl(n,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(n)?!1:wl(CL,r)?!0:!(r in Object.prototype||r in Function.prototype)}function SL(n){return typeof n=="object"&&n&&n.constructor===Object}var EL={length:!0,name:!0},CL={toString:!0,valueOf:!0,toLocaleString:!0};var nh=class{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return UE(this.wrappedObject,r)}set(r,o){return zE(this.wrappedObject,r,o),this}has(r){return Hu(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return ML(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var o of this.keys())r(this.get(o),o,this)}delete(r){Hu(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}};function ML(n,r){return{next:()=>{var o=n.next();return o.done?o:{value:r(o.value),done:!1}}}}function Lt(n){return typeof n=="number"}function Zt(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function GE(n){return typeof n=="bigint"}function Av(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function Tv(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function oh(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Pn(n){return typeof n=="string"}var qr=Array.isArray;function er(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function ji(n){return Array.isArray(n)||er(n)}function HE(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function qE(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function WE(n){return n&&n.constructor.prototype.isRange===!0||!1}function _l(n){return n&&n.constructor.prototype.isIndex===!0||!1}function $E(n){return typeof n=="boolean"}function YE(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function XE(n){return n&&n.constructor.prototype.isHelp===!0||!1}function ZE(n){return typeof n=="function"}function QE(n){return n instanceof Date}function KE(n){return n instanceof RegExp}function xl(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!Av(n)&&!Tv(n))}function JE(n){return n?n instanceof Map||n instanceof nh||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}function eC(n){return n===null}function tC(n){return n===void 0}function rC(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function nC(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function oC(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function iC(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function sC(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function aC(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function lC(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function uC(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function cC(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function dC(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function fC(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function hC(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function pC(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function mC(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function gC(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function yC(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function vC(n){return n&&n.constructor.prototype.isChain===!0||!1}function In(n){var r=typeof n;return r==="object"?n===null?"null":Zt(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":r}function nr(n){var r=typeof n;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(o){return nr(o)});if(n instanceof Date)return new Date(n.valueOf());if(Zt(n))return n;if(xl(n))return AL(n,nr);if(r==="function")return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function AL(n,r){var o={};for(var t in n)wl(n,t)&&(o[t]=r(n[t]));return o}function ih(n,r){for(var o in r)wl(r,o)&&(n[o]=r[o]);return n}function yo(n,r){var o,t,i;if(Array.isArray(n)){if(!Array.isArray(r)||n.length!==r.length)return!1;for(t=0,i=n.length;t<i;t++)if(!yo(n[t],r[t]))return!1;return!0}else{if(typeof n=="function")return n===r;if(n instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(o in n)if(!(o in r)||!yo(n[o],r[o]))return!1;for(o in r)if(!(o in n))return!1;return!0}else return n===r}}function wl(n,r){return n&&Object.hasOwnProperty.call(n,r)}function bC(n,r){for(var o={},t=0;t<r.length;t++){var i=r[t],s=n[i];s!==void 0&&(o[i]=s)}return o}var wC=["Matrix","Array"],_C=["number","BigNumber","bigint","Fraction"];var Fo=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Mv)};bl(Fo,Mv,{MATRIX_OPTIONS:wC,NUMBER_OPTIONS:_C});var kv=Ep(Nv(),1);function Le(n,r,o,t){function i(s){var a=bC(s,r.map(jL));return TL(n,r,s),o(a)}return i.isFactory=!0,i.fn=n,i.dependencies=r.slice().sort(),t&&(i.meta=t),i}function TL(n,r,o){var t=r.filter(s=>!IL(s)).every(s=>o[s]!==void 0);if(!t){var i=r.filter(s=>o[s]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}function IL(n){return n&&n[0]==="?"}function jL(n){return n&&n[0]==="?"?n.slice(1):n}function qt(n){return typeof n=="boolean"?!0:Number.isFinite(n)?n===Math.round(n):!1}function sh(n,r){if(r.number==="bigint")try{BigInt(n)}catch{return r.numberFallback}return r.number}var SC=Math.sign||function(n){return n>0?1:n<0?-1:0},EC=Math.log2||function(r){return Math.log(r)/Math.LN2},CC=Math.log10||function(r){return Math.log(r)/Math.LN10},MC=Math.log1p||function(n){return Math.log(n+1)},AC=Math.cbrt||function(r){if(r===0)return r;var o=r<0,t;return o&&(r=-r),Number.isFinite(r)?(t=Math.exp(Math.log(r)/3),t=(r/(t*t)+2*t)/3):t=r,o?-t:t},TC=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function Ov(n,r,o){var t={2:"0b",8:"0o",16:"0x"},i=t[r],s="";if(o){if(o<1)throw new Error("size must be in greater than 0");if(!qt(o))throw new Error("size must be an integer");if(n>2**(o-1)-1||n<-(2**(o-1)))throw new Error("Value must be in range [-2^".concat(o-1,", 2^").concat(o-1,"-1]"));if(!qt(n))throw new Error("Value must be an integer");n<0&&(n=n+2**o),s="i".concat(o)}var a="";return n<0&&(n=-n,a="-"),"".concat(a).concat(i).concat(n.toString(r)).concat(s)}function qu(n,r){if(typeof r=="function")return r(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:o,precision:t,wordSize:i}=Fv(r);switch(o){case"fixed":return IC(n,t);case"exponential":return jC(n,t);case"engineering":return NL(n,t);case"bin":return Ov(n,2,i);case"oct":return Ov(n,8,i);case"hex":return Ov(n,16,i);case"auto":return OL(n,t,r).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],a=arguments[4];return s!=="."?s+a:a});default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fv(n){var r="auto",o,t;if(n!==void 0)if(Lt(n))o=n;else if(Zt(n))o=n.toNumber();else if(xl(n))n.precision!==void 0&&(o=xC(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=xC(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:o,wordSize:t}}function ah(n){var r=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+n);var o=r[1],t=r[2],i=parseFloat(r[4]||"0"),s=t.indexOf(".");i+=s!==-1?s-1:t.length-1;var a=t.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return a.length===0&&(a.push(0),i++),{sign:o,coefficients:a,exponent:i}}function NL(n,r){if(isNaN(n)||!Number.isFinite(n))return String(n);var o=ah(n),t=lh(o,r),i=t.exponent,s=t.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Lt(r))for(;r>s.length||i-a+1>s.length;)s.push(0);else for(var u=Math.abs(i-a)-(s.length-1),l=0;l<u;l++)s.push(0);for(var c=Math.abs(i-a),m=1;c>0;)m++,c--;var y=s.slice(m).join(""),d=Lt(r)&&y.length||y.match(/[1-9]/)?"."+y:"",h=s.slice(0,m).join("")+d+"e"+(i>=0?"+":"")+a.toString();return t.sign+h}function IC(n,r){if(isNaN(n)||!Number.isFinite(n))return String(n);var o=ah(n),t=typeof r=="number"?lh(o,o.exponent+1+r):o,i=t.coefficients,s=t.exponent+1,a=s+(r||0);return i.length<a&&(i=i.concat(Dl(a-i.length))),s<0&&(i=Dl(-s+1).concat(i),s=1),s<i.length&&i.splice(s,0,s===0?"0.":"."),t.sign+i.join("")}function jC(n,r){if(isNaN(n)||!Number.isFinite(Number(n)))return String(n);var o=ah(n),t=r?lh(o,r):o,i=t.coefficients,s=t.exponent;i.length<r&&(i=i.concat(Dl(r-i.length)));var a=i.shift();return t.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function OL(n,r,o){if(isNaN(n)||!Number.isFinite(n))return String(n);var t=DC(o?.lowerExp,-3),i=DC(o?.upperExp,5),s=ah(n),a=r?lh(s,r):s;if(a.exponent<t||a.exponent>=i)return jC(n,r);var u=a.coefficients,l=a.exponent;u.length<r&&(u=u.concat(Dl(r-u.length))),u=u.concat(Dl(l-u.length+1+(u.length<r?r-u.length:0))),u=Dl(-l).concat(u);var c=l>0?l:0;return c<u.length-1&&u.splice(c+1,0,"."),a.sign+u.join("")}function lh(n,r){for(var o={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},t=o.coefficients;r<=0;)t.unshift(0),o.exponent++,r++;if(t.length>r){var i=t.splice(r,t.length-r);if(i[0]>=5){var s=r-1;for(t[s]++;t[s]===10;)t.pop(),s===0&&(t.unshift(0),o.exponent++,s++),s--,t[s]++}}return o}function Dl(n){for(var r=[],o=0;o<n;o++)r.push(0);return r}function NC(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function as(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(o<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(n)||isNaN(r)?!1:!Number.isFinite(n)||!Number.isFinite(r)?n===r:n===r?!0:Math.abs(n-r)<=Math.max(o*Math.max(Math.abs(n),Math.abs(r)),t)}function xC(n,r){if(Lt(n))return n;if(Zt(n))return n.toNumber();r()}function DC(n,r){return Lt(n)?n:Zt(n)?n.toNumber():r}var OC=function(){return OC=kv.default.create,kv.default},FL=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Rv=Le("typed",FL,function(r){var{BigNumber:o,Complex:t,DenseMatrix:i,Fraction:s}=r,a=OC();return a.clear(),a.addTypes([{name:"number",test:Lt},{name:"Complex",test:Av},{name:"BigNumber",test:Zt},{name:"bigint",test:GE},{name:"Fraction",test:Tv},{name:"Unit",test:oh},{name:"identifier",test:u=>Pn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:Pn},{name:"Chain",test:vC},{name:"Array",test:qr},{name:"Matrix",test:er},{name:"DenseMatrix",test:HE},{name:"SparseMatrix",test:qE},{name:"Range",test:WE},{name:"Index",test:_l},{name:"boolean",test:$E},{name:"ResultSet",test:YE},{name:"Help",test:XE},{name:"function",test:ZE},{name:"Date",test:QE},{name:"RegExp",test:KE},{name:"null",test:eC},{name:"undefined",test:tC},{name:"AccessorNode",test:rC},{name:"ArrayNode",test:nC},{name:"AssignmentNode",test:oC},{name:"BlockNode",test:iC},{name:"ConditionalNode",test:sC},{name:"ConstantNode",test:aC},{name:"FunctionNode",test:uC},{name:"FunctionAssignmentNode",test:lC},{name:"IndexNode",test:cC},{name:"Node",test:dC},{name:"ObjectNode",test:fC},{name:"OperatorNode",test:hC},{name:"ParenthesisNode",test:pC},{name:"RangeNode",test:mC},{name:"RelationalNode",test:gC},{name:"SymbolNode",test:yC},{name:"Map",test:JE},{name:"Object",test:xl}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(o||uh(l),NC(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new o(l)}},{from:"number",to:"Complex",convert:function(l){return t||ch(l),new t(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return t||ch(l),new t(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return o||uh(l),new o(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||dh(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return t||ch(l),new t(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||dh(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){o||uh(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||dh(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){t||ch(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return o||uh(l),new o(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||dh(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||kL(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(u,l,c)=>{var m=a.createError(u,l,c);if(["wrongType","mismatch"].includes(m.data.category)&&l.length===1&&ji(l[0])&&c.some(d=>!d.params.includes(","))){var y=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw y.data=m.data,y}throw m},a.onMismatch=(u,l,c)=>{var m=a.createError(u,l,c);if(["wrongType","mismatch"].includes(m.data.category)&&l.length===1&&ji(l[0])&&c.some(d=>!d.params.includes(","))){var y=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw y.data=m.data,y}throw m},a});function uh(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function ch(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function kL(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function dh(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Sl=9e15,ds=1e9,Pv="0123456789abcdef",ph="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",mh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Lv={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Sl,maxE:Sl,crypto:!1},PC,Ni,Tt=!0,yh="[DecimalError] ",cs=yh+"Invalid argument: ",LC=yh+"Precision limit exceeded",BC=yh+"crypto unavailable",VC="[object Decimal]",jn=Math.floor,cn=Math.pow,RL=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,PL=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,LL=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,UC=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ko=1e7,St=7,BL=9007199254740991,VL=ph.length-1,Bv=mh.length-1,Ye={toStringTag:VC};Ye.absoluteValue=Ye.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),xt(n)};Ye.ceil=function(){return xt(new this.constructor(this),this.e+1,2)};Ye.clampedTo=Ye.clamp=function(n,r){var o,t=this,i=t.constructor;if(n=new i(n),r=new i(r),!n.s||!r.s)return new i(NaN);if(n.gt(r))throw Error(cs+r);return o=t.cmp(n),o<0?n:t.cmp(r)>0?r:new i(t)};Ye.comparedTo=Ye.cmp=function(n){var r,o,t,i,s=this,a=s.d,u=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!a||!u)return!l||!c?NaN:l!==c?l:a===u?0:!a^l<0?1:-1;if(!a[0]||!u[0])return a[0]?l:u[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(t=a.length,i=u.length,r=0,o=t<i?t:i;r<o;++r)if(a[r]!==u[r])return a[r]>u[r]^l<0?1:-1;return t===i?0:t>i^l<0?1:-1};Ye.cosine=Ye.cos=function(){var n,r,o=this,t=o.constructor;return o.d?o.d[0]?(n=t.precision,r=t.rounding,t.precision=n+Math.max(o.e,o.sd())+St,t.rounding=1,o=UL(t,WC(t,o)),t.precision=n,t.rounding=r,xt(Ni==2||Ni==3?o.neg():o,n,r,!0)):new t(1):new t(NaN)};Ye.cubeRoot=Ye.cbrt=function(){var n,r,o,t,i,s,a,u,l,c,m=this,y=m.constructor;if(!m.isFinite()||m.isZero())return new y(m);for(Tt=!1,s=m.s*cn(m.s*m,1/3),!s||Math.abs(s)==1/0?(o=En(m.d),n=m.e,(s=(n-o.length+1)%3)&&(o+=s==1||s==-2?"0":"00"),s=cn(o,1/3),n=jn((n+1)/3)-(n%3==(n<0?-1:2)),s==1/0?o="5e"+n:(o=s.toExponential(),o=o.slice(0,o.indexOf("e")+1)+n),t=new y(o),t.s=m.s):t=new y(s.toString()),a=(n=y.precision)+3;;)if(u=t,l=u.times(u).times(u),c=l.plus(m),t=_r(c.plus(m).times(u),c.plus(l),a+2,1),En(u.d).slice(0,a)===(o=En(t.d)).slice(0,a))if(o=o.slice(a-3,a+1),o=="9999"||!i&&o=="4999"){if(!i&&(xt(u,n+1,0),u.times(u).times(u).eq(m))){t=u;break}a+=4,i=1}else{(!+o||!+o.slice(1)&&o.charAt(0)=="5")&&(xt(t,n+1,1),r=!t.times(t).times(t).eq(m));break}return Tt=!0,xt(t,n,y.rounding,r)};Ye.decimalPlaces=Ye.dp=function(){var n,r=this.d,o=NaN;if(r){if(n=r.length-1,o=(n-jn(this.e/St))*St,n=r[n],n)for(;n%10==0;n/=10)o--;o<0&&(o=0)}return o};Ye.dividedBy=Ye.div=function(n){return _r(this,new this.constructor(n))};Ye.dividedToIntegerBy=Ye.divToInt=function(n){var r=this,o=r.constructor;return xt(_r(r,new o(n),0,1,1),o.precision,o.rounding)};Ye.equals=Ye.eq=function(n){return this.cmp(n)===0};Ye.floor=function(){return xt(new this.constructor(this),this.e+1,3)};Ye.greaterThan=Ye.gt=function(n){return this.cmp(n)>0};Ye.greaterThanOrEqualTo=Ye.gte=function(n){var r=this.cmp(n);return r==1||r===0};Ye.hyperbolicCosine=Ye.cosh=function(){var n,r,o,t,i,s=this,a=s.constructor,u=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return u;o=a.precision,t=a.rounding,a.precision=o+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(n=Math.ceil(i/3),r=(1/bh(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),s=El(a,1,s.times(r),new a(1),!0);for(var l,c=n,m=new a(8);c--;)l=s.times(s),s=u.minus(l.times(m.minus(l.times(m))));return xt(s,a.precision=o,a.rounding=t,!0)};Ye.hyperbolicSine=Ye.sinh=function(){var n,r,o,t,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(r=s.precision,o=s.rounding,s.precision=r+Math.max(i.e,i.sd())+4,s.rounding=1,t=i.d.length,t<3)i=El(s,2,i,i,!0);else{n=1.4*Math.sqrt(t),n=n>16?16:n|0,i=i.times(1/bh(5,n)),i=El(s,2,i,i,!0);for(var a,u=new s(5),l=new s(16),c=new s(20);n--;)a=i.times(i),i=i.times(u.plus(a.times(l.times(a).plus(c))))}return s.precision=r,s.rounding=o,xt(i,r,o,!0)};Ye.hyperbolicTangent=Ye.tanh=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+7,t.rounding=1,_r(o.sinh(),o.cosh(),t.precision=n,t.rounding=r)):new t(o.s)};Ye.inverseCosine=Ye.acos=function(){var n=this,r=n.constructor,o=n.abs().cmp(1),t=r.precision,i=r.rounding;return o!==-1?o===0?n.isNeg()?ai(r,t,i):new r(0):new r(NaN):n.isZero()?ai(r,t+4,i).times(.5):(r.precision=t+6,r.rounding=1,n=new r(1).minus(n).div(n.plus(1)).sqrt().atan(),r.precision=t,r.rounding=i,n.times(2))};Ye.inverseHyperbolicCosine=Ye.acosh=function(){var n,r,o=this,t=o.constructor;return o.lte(1)?new t(o.eq(1)?0:NaN):o.isFinite()?(n=t.precision,r=t.rounding,t.precision=n+Math.max(Math.abs(o.e),o.sd())+4,t.rounding=1,Tt=!1,o=o.times(o).minus(1).sqrt().plus(o),Tt=!0,t.precision=n,t.rounding=r,o.ln()):new t(o)};Ye.inverseHyperbolicSine=Ye.asinh=function(){var n,r,o=this,t=o.constructor;return!o.isFinite()||o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+2*Math.max(Math.abs(o.e),o.sd())+6,t.rounding=1,Tt=!1,o=o.times(o).plus(1).sqrt().plus(o),Tt=!0,t.precision=n,t.rounding=r,o.ln())};Ye.inverseHyperbolicTangent=Ye.atanh=function(){var n,r,o,t,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,r=s.rounding,t=i.sd(),Math.max(t,n)<2*-i.e-1?xt(new s(i),n,r,!0):(s.precision=o=t-i.e,i=_r(i.plus(1),new s(1).minus(i),o+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=r,i.times(.5))):new s(NaN)};Ye.inverseSine=Ye.asin=function(){var n,r,o,t,i=this,s=i.constructor;return i.isZero()?new s(i):(r=i.abs().cmp(1),o=s.precision,t=s.rounding,r!==-1?r===0?(n=ai(s,o+4,t).times(.5),n.s=i.s,n):new s(NaN):(s.precision=o+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=o,s.rounding=t,i.times(2)))};Ye.inverseTangent=Ye.atan=function(){var n,r,o,t,i,s,a,u,l,c=this,m=c.constructor,y=m.precision,d=m.rounding;if(c.isFinite()){if(c.isZero())return new m(c);if(c.abs().eq(1)&&y+4<=Bv)return a=ai(m,y+4,d).times(.25),a.s=c.s,a}else{if(!c.s)return new m(NaN);if(y+4<=Bv)return a=ai(m,y+4,d).times(.5),a.s=c.s,a}for(m.precision=u=y+10,m.rounding=1,o=Math.min(28,u/St+2|0),n=o;n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Tt=!1,r=Math.ceil(u/St),t=1,l=c.times(c),a=new m(c),i=c;n!==-1;)if(i=i.times(l),s=a.minus(i.div(t+=2)),i=i.times(l),a=s.plus(i.div(t+=2)),a.d[r]!==void 0)for(n=r;a.d[n]===s.d[n]&&n--;);return o&&(a=a.times(2<<o-1)),Tt=!0,xt(a,m.precision=y,m.rounding=d,!0)};Ye.isFinite=function(){return!!this.d};Ye.isInteger=Ye.isInt=function(){return!!this.d&&jn(this.e/St)>this.d.length-2};Ye.isNaN=function(){return!this.s};Ye.isNegative=Ye.isNeg=function(){return this.s<0};Ye.isPositive=Ye.isPos=function(){return this.s>0};Ye.isZero=function(){return!!this.d&&this.d[0]===0};Ye.lessThan=Ye.lt=function(n){return this.cmp(n)<0};Ye.lessThanOrEqualTo=Ye.lte=function(n){return this.cmp(n)<1};Ye.logarithm=Ye.log=function(n){var r,o,t,i,s,a,u,l,c=this,m=c.constructor,y=m.precision,d=m.rounding,h=5;if(n==null)n=new m(10),r=!0;else{if(n=new m(n),o=n.d,n.s<0||!o||!o[0]||n.eq(1))return new m(NaN);r=n.eq(10)}if(o=c.d,c.s<0||!o||!o[0]||c.eq(1))return new m(o&&!o[0]?-1/0:c.s!=1?NaN:o?0:1/0);if(r)if(o.length>1)s=!0;else{for(i=o[0];i%10===0;)i/=10;s=i!==1}if(Tt=!1,u=y+h,a=us(c,u),t=r?gh(m,u+10):us(n,u),l=_r(a,t,u,1),Wu(l.d,i=y,d))do if(u+=10,a=us(c,u),t=r?gh(m,u+10):us(n,u),l=_r(a,t,u,1),!s){+En(l.d).slice(i+1,i+15)+1==1e14&&(l=xt(l,y+1,0));break}while(Wu(l.d,i+=10,d));return Tt=!0,xt(l,y,d)};Ye.minus=Ye.sub=function(n){var r,o,t,i,s,a,u,l,c,m,y,d,h=this,p=h.constructor;if(n=new p(n),!h.d||!n.d)return!h.s||!n.s?n=new p(NaN):h.d?n.s=-n.s:n=new p(n.d||h.s!==n.s?h:NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(c=h.d,d=n.d,u=p.precision,l=p.rounding,!c[0]||!d[0]){if(d[0])n.s=-n.s;else if(c[0])n=new p(h);else return new p(l===3?-0:0);return Tt?xt(n,u,l):n}if(o=jn(n.e/St),m=jn(h.e/St),c=c.slice(),s=m-o,s){for(y=s<0,y?(r=c,s=-s,a=d.length):(r=d,o=m,a=c.length),t=Math.max(Math.ceil(u/St),a)+2,s>t&&(s=t,r.length=1),r.reverse(),t=s;t--;)r.push(0);r.reverse()}else{for(t=c.length,a=d.length,y=t<a,y&&(a=t),t=0;t<a;t++)if(c[t]!=d[t]){y=c[t]<d[t];break}s=0}for(y&&(r=c,c=d,d=r,n.s=-n.s),a=c.length,t=d.length-a;t>0;--t)c[a++]=0;for(t=d.length;t>s;){if(c[--t]<d[t]){for(i=t;i&&c[--i]===0;)c[i]=ko-1;--c[i],c[t]+=ko}c[t]-=d[t]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--o;return c[0]?(n.d=c,n.e=vh(c,o),Tt?xt(n,u,l):n):new p(l===3?-0:0)};Ye.modulo=Ye.mod=function(n){var r,o=this,t=o.constructor;return n=new t(n),!o.d||!n.s||n.d&&!n.d[0]?new t(NaN):!n.d||o.d&&!o.d[0]?xt(new t(o),t.precision,t.rounding):(Tt=!1,t.modulo==9?(r=_r(o,n.abs(),0,3,1),r.s*=n.s):r=_r(o,n,0,t.modulo,1),r=r.times(n),Tt=!0,o.minus(r))};Ye.naturalExponential=Ye.exp=function(){return Vv(this)};Ye.naturalLogarithm=Ye.ln=function(){return us(this)};Ye.negated=Ye.neg=function(){var n=new this.constructor(this);return n.s=-n.s,xt(n)};Ye.plus=Ye.add=function(n){var r,o,t,i,s,a,u,l,c,m,y=this,d=y.constructor;if(n=new d(n),!y.d||!n.d)return!y.s||!n.s?n=new d(NaN):y.d||(n=new d(n.d||y.s===n.s?y:NaN)),n;if(y.s!=n.s)return n.s=-n.s,y.minus(n);if(c=y.d,m=n.d,u=d.precision,l=d.rounding,!c[0]||!m[0])return m[0]||(n=new d(y)),Tt?xt(n,u,l):n;if(s=jn(y.e/St),t=jn(n.e/St),c=c.slice(),i=s-t,i){for(i<0?(o=c,i=-i,a=m.length):(o=m,t=s,a=c.length),s=Math.ceil(u/St),a=s>a?s+1:a+1,i>a&&(i=a,o.length=1),o.reverse();i--;)o.push(0);o.reverse()}for(a=c.length,i=m.length,a-i<0&&(i=a,o=m,m=c,c=o),r=0;i;)r=(c[--i]=c[i]+m[i]+r)/ko|0,c[i]%=ko;for(r&&(c.unshift(r),++t),a=c.length;c[--a]==0;)c.pop();return n.d=c,n.e=vh(c,t),Tt?xt(n,u,l):n};Ye.precision=Ye.sd=function(n){var r,o=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(cs+n);return o.d?(r=zC(o.d),n&&o.e+1>r&&(r=o.e+1)):r=NaN,r};Ye.round=function(){var n=this,r=n.constructor;return xt(new r(n),n.e+1,r.rounding)};Ye.sine=Ye.sin=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+Math.max(o.e,o.sd())+St,t.rounding=1,o=GL(t,WC(t,o)),t.precision=n,t.rounding=r,xt(Ni>2?o.neg():o,n,r,!0)):new t(NaN)};Ye.squareRoot=Ye.sqrt=function(){var n,r,o,t,i,s,a=this,u=a.d,l=a.e,c=a.s,m=a.constructor;if(c!==1||!u||!u[0])return new m(!c||c<0&&(!u||u[0])?NaN:u?a:1/0);for(Tt=!1,c=Math.sqrt(+a),c==0||c==1/0?(r=En(u),(r.length+l)%2==0&&(r+="0"),c=Math.sqrt(r),l=jn((l+1)/2)-(l<0||l%2),c==1/0?r="5e"+l:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),t=new m(r)):t=new m(c.toString()),o=(l=m.precision)+3;;)if(s=t,t=s.plus(_r(a,s,o+2,1)).times(.5),En(s.d).slice(0,o)===(r=En(t.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(xt(s,l+1,0),s.times(s).eq(a))){t=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(xt(t,l+1,1),n=!t.times(t).eq(a));break}return Tt=!0,xt(t,l,m.rounding,n)};Ye.tangent=Ye.tan=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+10,t.rounding=1,o=o.sin(),o.s=1,o=_r(o,new t(1).minus(o.times(o)).sqrt(),n+10,0),t.precision=n,t.rounding=r,xt(Ni==2||Ni==4?o.neg():o,n,r,!0)):new t(NaN)};Ye.times=Ye.mul=function(n){var r,o,t,i,s,a,u,l,c,m=this,y=m.constructor,d=m.d,h=(n=new y(n)).d;if(n.s*=m.s,!d||!d[0]||!h||!h[0])return new y(!n.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:!d||!h?n.s/0:n.s*0);for(o=jn(m.e/St)+jn(n.e/St),l=d.length,c=h.length,l<c&&(s=d,d=h,h=s,a=l,l=c,c=a),s=[],a=l+c,t=a;t--;)s.push(0);for(t=c;--t>=0;){for(r=0,i=l+t;i>t;)u=s[i]+h[t]*d[i-t-1]+r,s[i--]=u%ko|0,r=u/ko|0;s[i]=(s[i]+r)%ko|0}for(;!s[--a];)s.pop();return r?++o:s.shift(),n.d=s,n.e=vh(s,o),Tt?xt(n,y.precision,y.rounding):n};Ye.toBinary=function(n,r){return Uv(this,2,n,r)};Ye.toDecimalPlaces=Ye.toDP=function(n,r){var o=this,t=o.constructor;return o=new t(o),n===void 0?o:(Wn(n,0,ds),r===void 0?r=t.rounding:Wn(r,0,8),xt(o,n+o.e+1,r))};Ye.toExponential=function(n,r){var o,t=this,i=t.constructor;return n===void 0?o=li(t,!0):(Wn(n,0,ds),r===void 0?r=i.rounding:Wn(r,0,8),t=xt(new i(t),n+1,r),o=li(t,!0,n+1)),t.isNeg()&&!t.isZero()?"-"+o:o};Ye.toFixed=function(n,r){var o,t,i=this,s=i.constructor;return n===void 0?o=li(i):(Wn(n,0,ds),r===void 0?r=s.rounding:Wn(r,0,8),t=xt(new s(i),n+i.e+1,r),o=li(t,!1,n+t.e+1)),i.isNeg()&&!i.isZero()?"-"+o:o};Ye.toFraction=function(n){var r,o,t,i,s,a,u,l,c,m,y,d,h=this,p=h.d,f=h.constructor;if(!p)return new f(h);if(c=o=new f(1),t=l=new f(0),r=new f(t),s=r.e=zC(p)-h.e-1,a=s%St,r.d[0]=cn(10,a<0?St+a:a),n==null)n=s>0?r:c;else{if(u=new f(n),!u.isInt()||u.lt(c))throw Error(cs+u);n=u.gt(r)?s>0?r:c:u}for(Tt=!1,u=new f(En(p)),m=f.precision,f.precision=s=p.length*St*2;y=_r(u,r,0,1,1),i=o.plus(y.times(t)),i.cmp(n)!=1;)o=t,t=i,i=c,c=l.plus(y.times(i)),l=i,i=r,r=u.minus(y.times(i)),u=i;return i=_r(n.minus(o),t,0,1,1),l=l.plus(i.times(c)),o=o.plus(i.times(t)),l.s=c.s=h.s,d=_r(c,t,s,1).minus(h).abs().cmp(_r(l,o,s,1).minus(h).abs())<1?[c,t]:[l,o],f.precision=m,Tt=!0,d};Ye.toHexadecimal=Ye.toHex=function(n,r){return Uv(this,16,n,r)};Ye.toNearest=function(n,r){var o=this,t=o.constructor;if(o=new t(o),n==null){if(!o.d)return o;n=new t(1),r=t.rounding}else{if(n=new t(n),r===void 0?r=t.rounding:Wn(r,0,8),!o.d)return n.s?o:n;if(!n.d)return n.s&&(n.s=o.s),n}return n.d[0]?(Tt=!1,o=_r(o,n,0,r,1).times(n),Tt=!0,xt(o)):(n.s=o.s,o=n),o};Ye.toNumber=function(){return+this};Ye.toOctal=function(n,r){return Uv(this,8,n,r)};Ye.toPower=Ye.pow=function(n){var r,o,t,i,s,a,u=this,l=u.constructor,c=+(n=new l(n));if(!u.d||!n.d||!u.d[0]||!n.d[0])return new l(cn(+u,c));if(u=new l(u),u.eq(1))return u;if(t=l.precision,s=l.rounding,n.eq(1))return xt(u,t,s);if(r=jn(n.e/St),r>=n.d.length-1&&(o=c<0?-c:c)<=BL)return i=GC(l,u,o,t),n.s<0?new l(1).div(i):xt(i,t,s);if(a=u.s,a<0){if(r<n.d.length-1)return new l(NaN);if(n.d[r]&1||(a=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=a,u}return o=cn(+u,c),r=o==0||!isFinite(o)?jn(c*(Math.log("0."+En(u.d))/Math.LN10+u.e+1)):new l(o+"").e,r>l.maxE+1||r<l.minE-1?new l(r>0?a/0:0):(Tt=!1,l.rounding=u.s=1,o=Math.min(12,(r+"").length),i=Vv(n.times(us(u,t+o)),t),i.d&&(i=xt(i,t+5,1),Wu(i.d,t,s)&&(r=t+10,i=xt(Vv(n.times(us(u,r+o)),r),r+5,1),+En(i.d).slice(t+1,t+15)+1==1e14&&(i=xt(i,t+1,0)))),i.s=a,Tt=!0,l.rounding=s,xt(i,t,s))};Ye.toPrecision=function(n,r){var o,t=this,i=t.constructor;return n===void 0?o=li(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(Wn(n,1,ds),r===void 0?r=i.rounding:Wn(r,0,8),t=xt(new i(t),n,r),o=li(t,n<=t.e||t.e<=i.toExpNeg,n)),t.isNeg()&&!t.isZero()?"-"+o:o};Ye.toSignificantDigits=Ye.toSD=function(n,r){var o=this,t=o.constructor;return n===void 0?(n=t.precision,r=t.rounding):(Wn(n,1,ds),r===void 0?r=t.rounding:Wn(r,0,8)),xt(new t(o),n,r)};Ye.toString=function(){var n=this,r=n.constructor,o=li(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()&&!n.isZero()?"-"+o:o};Ye.truncated=Ye.trunc=function(){return xt(new this.constructor(this),this.e+1,1)};Ye.valueOf=Ye.toJSON=function(){var n=this,r=n.constructor,o=li(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()?"-"+o:o};function En(n){var r,o,t,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,r=1;r<i;r++)t=n[r]+"",o=St-t.length,o&&(s+=ls(o)),s+=t;a=n[r],t=a+"",o=St-t.length,o&&(s+=ls(o))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}function Wn(n,r,o){if(n!==~~n||n<r||n>o)throw Error(cs+n)}function Wu(n,r,o,t){var i,s,a,u;for(s=n[0];s>=10;s/=10)--r;return--r<0?(r+=St,i=0):(i=Math.ceil((r+1)/St),r%=St),s=cn(10,St-r),u=n[i]%s|0,t==null?r<3?(r==0?u=u/100|0:r==1&&(u=u/10|0),a=o<4&&u==99999||o>3&&u==49999||u==5e4||u==0):a=(o<4&&u+1==s||o>3&&u+1==s/2)&&(n[i+1]/s/100|0)==cn(10,r-2)-1||(u==s/2||u==0)&&(n[i+1]/s/100|0)==0:r<4?(r==0?u=u/1e3|0:r==1?u=u/100|0:r==2&&(u=u/10|0),a=(t||o<4)&&u==9999||!t&&o>3&&u==4999):a=((t||o<4)&&u+1==s||!t&&o>3&&u+1==s/2)&&(n[i+1]/s/1e3|0)==cn(10,r-3)-1,a}function fh(n,r,o){for(var t,i=[0],s,a=0,u=n.length;a<u;){for(s=i.length;s--;)i[s]*=r;for(i[0]+=Pv.indexOf(n.charAt(a++)),t=0;t<i.length;t++)i[t]>o-1&&(i[t+1]===void 0&&(i[t+1]=0),i[t+1]+=i[t]/o|0,i[t]%=o)}return i.reverse()}function UL(n,r){var o,t,i;if(r.isZero())return r;t=r.d.length,t<32?(o=Math.ceil(t/3),i=(1/bh(4,o)).toString()):(o=16,i="2.3283064365386962890625e-10"),n.precision+=o,r=El(n,1,r.times(i),new n(1));for(var s=o;s--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return n.precision-=o,r}var _r=function(){function n(t,i,s){var a,u=0,l=t.length;for(t=t.slice();l--;)a=t[l]*i+u,t[l]=a%s|0,u=a/s|0;return u&&t.unshift(u),t}function r(t,i,s,a){var u,l;if(s!=a)l=s>a?1:-1;else for(u=l=0;u<s;u++)if(t[u]!=i[u]){l=t[u]>i[u]?1:-1;break}return l}function o(t,i,s,a){for(var u=0;s--;)t[s]-=u,u=t[s]<i[s]?1:0,t[s]=u*a+t[s]-i[s];for(;!t[0]&&t.length>1;)t.shift()}return function(t,i,s,a,u,l){var c,m,y,d,h,p,f,v,g,w,b,_,D,C,M,E,S,O,I,F,j=t.constructor,L=t.s==i.s?1:-1,B=t.d,k=i.d;if(!B||!B[0]||!k||!k[0])return new j(!t.s||!i.s||(B?k&&B[0]==k[0]:!k)?NaN:B&&B[0]==0||!k?L*0:L/0);for(l?(h=1,m=t.e-i.e):(l=ko,h=St,m=jn(t.e/h)-jn(i.e/h)),I=k.length,S=B.length,g=new j(L),w=g.d=[],y=0;k[y]==(B[y]||0);y++);if(k[y]>(B[y]||0)&&m--,s==null?(C=s=j.precision,a=j.rounding):u?C=s+(t.e-i.e)+1:C=s,C<0)w.push(1),p=!0;else{if(C=C/h+2|0,y=0,I==1){for(d=0,k=k[0],C++;(y<S||d)&&C--;y++)M=d*l+(B[y]||0),w[y]=M/k|0,d=M%k|0;p=d||y<S}else{for(d=l/(k[0]+1)|0,d>1&&(k=n(k,d,l),B=n(B,d,l),I=k.length,S=B.length),E=I,b=B.slice(0,I),_=b.length;_<I;)b[_++]=0;F=k.slice(),F.unshift(0),O=k[0],k[1]>=l/2&&++O;do d=0,c=r(k,b,I,_),c<0?(D=b[0],I!=_&&(D=D*l+(b[1]||0)),d=D/O|0,d>1?(d>=l&&(d=l-1),f=n(k,d,l),v=f.length,_=b.length,c=r(f,b,v,_),c==1&&(d--,o(f,I<v?F:k,v,l))):(d==0&&(c=d=1),f=k.slice()),v=f.length,v<_&&f.unshift(0),o(b,f,_,l),c==-1&&(_=b.length,c=r(k,b,I,_),c<1&&(d++,o(b,I<_?F:k,_,l))),_=b.length):c===0&&(d++,b=[0]),w[y++]=d,c&&b[0]?b[_++]=B[E]||0:(b=[B[E]],_=1);while((E++<S||b[0]!==void 0)&&C--);p=b[0]!==void 0}w[0]||w.shift()}if(h==1)g.e=m,PC=p;else{for(y=1,d=w[0];d>=10;d/=10)y++;g.e=y+m*h-1,xt(g,u?s+g.e+1:s,a,p)}return g}}();function xt(n,r,o,t){var i,s,a,u,l,c,m,y,d,h=n.constructor;e:if(r!=null){if(y=n.d,!y)return n;for(i=1,u=y[0];u>=10;u/=10)i++;if(s=r-i,s<0)s+=St,a=r,m=y[d=0],l=m/cn(10,i-a-1)%10|0;else if(d=Math.ceil((s+1)/St),u=y.length,d>=u)if(t){for(;u++<=d;)y.push(0);m=l=0,i=1,s%=St,a=s-St+1}else break e;else{for(m=u=y[d],i=1;u>=10;u/=10)i++;s%=St,a=s-St+i,l=a<0?0:m/cn(10,i-a-1)%10|0}if(t=t||r<0||y[d+1]!==void 0||(a<0?m:m%cn(10,i-a-1)),c=o<4?(l||t)&&(o==0||o==(n.s<0?3:2)):l>5||l==5&&(o==4||t||o==6&&(s>0?a>0?m/cn(10,i-a):0:y[d-1])%10&1||o==(n.s<0?8:7)),r<1||!y[0])return y.length=0,c?(r-=n.e+1,y[0]=cn(10,(St-r%St)%St),n.e=-r||0):y[0]=n.e=0,n;if(s==0?(y.length=d,u=1,d--):(y.length=d+1,u=cn(10,St-s),y[d]=a>0?(m/cn(10,i-a)%cn(10,a)|0)*u:0),c)for(;;)if(d==0){for(s=1,a=y[0];a>=10;a/=10)s++;for(a=y[0]+=u,u=1;a>=10;a/=10)u++;s!=u&&(n.e++,y[0]==ko&&(y[0]=1));break}else{if(y[d]+=u,y[d]!=ko)break;y[d--]=0,u=1}for(s=y.length;y[--s]===0;)y.pop()}return Tt&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function li(n,r,o){if(!n.isFinite())return qC(n);var t,i=n.e,s=En(n.d),a=s.length;return r?(o&&(t=o-a)>0?s=s.charAt(0)+"."+s.slice(1)+ls(t):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+ls(-i-1)+s,o&&(t=o-a)>0&&(s+=ls(t))):i>=a?(s+=ls(i+1-a),o&&(t=o-i-1)>0&&(s=s+"."+ls(t))):((t=i+1)<a&&(s=s.slice(0,t)+"."+s.slice(t)),o&&(t=o-a)>0&&(i+1===a&&(s+="."),s+=ls(t))),s}function vh(n,r){var o=n[0];for(r*=St;o>=10;o/=10)r++;return r}function gh(n,r,o){if(r>VL)throw Tt=!0,o&&(n.precision=o),Error(LC);return xt(new n(ph),r,1,!0)}function ai(n,r,o){if(r>Bv)throw Error(LC);return xt(new n(mh),r,o,!0)}function zC(n){var r=n.length-1,o=r*St+1;if(r=n[r],r){for(;r%10==0;r/=10)o--;for(r=n[0];r>=10;r/=10)o++}return o}function ls(n){for(var r="";n--;)r+="0";return r}function GC(n,r,o,t){var i,s=new n(1),a=Math.ceil(t/St+4);for(Tt=!1;;){if(o%2&&(s=s.times(r),kC(s.d,a)&&(i=!0)),o=jn(o/2),o===0){o=s.d.length-1,i&&s.d[o]===0&&++s.d[o];break}r=r.times(r),kC(r.d,a)}return Tt=!0,s}function FC(n){return n.d[n.d.length-1]&1}function HC(n,r,o){for(var t,i,s=new n(r[0]),a=0;++a<r.length;){if(i=new n(r[a]),!i.s){s=i;break}t=s.cmp(i),(t===o||t===0&&s.s===o)&&(s=i)}return s}function Vv(n,r){var o,t,i,s,a,u,l,c=0,m=0,y=0,d=n.constructor,h=d.rounding,p=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(r==null?(Tt=!1,l=p):l=r,u=new d(.03125);n.e>-2;)n=n.times(u),y+=5;for(t=Math.log(cn(2,y))/Math.LN10*2+5|0,l+=t,o=s=a=new d(1),d.precision=l;;){if(s=xt(s.times(n),l,1),o=o.times(++m),u=a.plus(_r(s,o,l,1)),En(u.d).slice(0,l)===En(a.d).slice(0,l)){for(i=y;i--;)a=xt(a.times(a),l,1);if(r==null)if(c<3&&Wu(a.d,l-t,h,c))d.precision=l+=10,o=s=u=new d(1),m=0,c++;else return xt(a,d.precision=p,h,Tt=!0);else return d.precision=p,a}a=u}}function us(n,r){var o,t,i,s,a,u,l,c,m,y,d,h=1,p=10,f=n,v=f.d,g=f.constructor,w=g.rounding,b=g.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new g(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(r==null?(Tt=!1,m=b):m=r,g.precision=m+=p,o=En(v),t=o.charAt(0),Math.abs(s=f.e)<15e14){for(;t<7&&t!=1||t==1&&o.charAt(1)>3;)f=f.times(n),o=En(f.d),t=o.charAt(0),h++;s=f.e,t>1?(f=new g("0."+o),s++):f=new g(t+"."+o.slice(1))}else return c=gh(g,m+2,b).times(s+""),f=us(new g(t+"."+o.slice(1)),m-p).plus(c),g.precision=b,r==null?xt(f,b,w,Tt=!0):f;for(y=f,l=a=f=_r(f.minus(1),f.plus(1),m,1),d=xt(f.times(f),m,1),i=3;;){if(a=xt(a.times(d),m,1),c=l.plus(_r(a,new g(i),m,1)),En(c.d).slice(0,m)===En(l.d).slice(0,m))if(l=l.times(2),s!==0&&(l=l.plus(gh(g,m+2,b).times(s+""))),l=_r(l,new g(h),m,1),r==null)if(Wu(l.d,m-p,w,u))g.precision=m+=p,c=a=f=_r(y.minus(1),y.plus(1),m,1),d=xt(f.times(f),m,1),i=u=1;else return xt(l,g.precision=b,w,Tt=!0);else return g.precision=b,l;l=c,i+=2}}function qC(n){return String(n.s*n.s/0)}function hh(n,r){var o,t,i;for((o=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(o<0&&(o=t),o+=+r.slice(t+1),r=r.substring(0,t)):o<0&&(o=r.length),t=0;r.charCodeAt(t)===48;t++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(t,i),r){if(i-=t,n.e=o=o-t-1,n.d=[],t=(o+1)%St,o<0&&(t+=St),t<i){for(t&&n.d.push(+r.slice(0,t)),i-=St;t<i;)n.d.push(+r.slice(t,t+=St));r=r.slice(t),t=St-r.length}else t-=i;for(;t--;)r+="0";n.d.push(+r),Tt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function zL(n,r){var o,t,i,s,a,u,l,c,m;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),UC.test(r))return hh(n,r)}else if(r==="Infinity"||r==="NaN")return+r||(n.s=NaN),n.e=NaN,n.d=null,n;if(PL.test(r))o=16,r=r.toLowerCase();else if(RL.test(r))o=2;else if(LL.test(r))o=8;else throw Error(cs+r);for(s=r.search(/p/i),s>0?(l=+r.slice(s+1),r=r.substring(2,s)):r=r.slice(2),s=r.indexOf("."),a=s>=0,t=n.constructor,a&&(r=r.replace(".",""),u=r.length,s=u-s,i=GC(t,new t(o),s,s*2)),c=fh(r,o,ko),m=c.length-1,s=m;c[s]===0;--s)c.pop();return s<0?new t(n.s*0):(n.e=vh(c,m),n.d=c,Tt=!1,a&&(n=_r(n,i,u*4)),l&&(n=n.times(Math.abs(l)<54?cn(2,l):$u.pow(2,l))),Tt=!0,n)}function GL(n,r){var o,t=r.d.length;if(t<3)return r.isZero()?r:El(n,2,r,r);o=1.4*Math.sqrt(t),o=o>16?16:o|0,r=r.times(1/bh(5,o)),r=El(n,2,r,r);for(var i,s=new n(5),a=new n(16),u=new n(20);o--;)i=r.times(r),r=r.times(s.plus(i.times(a.times(i).minus(u))));return r}function El(n,r,o,t,i){var s,a,u,l,c=1,m=n.precision,y=Math.ceil(m/St);for(Tt=!1,l=o.times(o),u=new n(t);;){if(a=_r(u.times(l),new n(r++*r++),m,1),u=i?t.plus(a):t.minus(a),t=_r(a.times(l),new n(r++*r++),m,1),a=u.plus(t),a.d[y]!==void 0){for(s=y;a.d[s]===u.d[s]&&s--;);if(s==-1)break}s=u,u=t,t=a,a=s,c++}return Tt=!0,a.d.length=y+1,a}function bh(n,r){for(var o=n;--r;)o*=n;return o}function WC(n,r){var o,t=r.s<0,i=ai(n,n.precision,1),s=i.times(.5);if(r=r.abs(),r.lte(s))return Ni=t?4:1,r;if(o=r.divToInt(i),o.isZero())Ni=t?3:2;else{if(r=r.minus(o.times(i)),r.lte(s))return Ni=FC(o)?t?2:3:t?4:1,r;Ni=FC(o)?t?1:4:t?3:2}return r.minus(i).abs()}function Uv(n,r,o,t){var i,s,a,u,l,c,m,y,d,h=n.constructor,p=o!==void 0;if(p?(Wn(o,1,ds),t===void 0?t=h.rounding:Wn(t,0,8)):(o=h.precision,t=h.rounding),!n.isFinite())m=qC(n);else{for(m=li(n),a=m.indexOf("."),p?(i=2,r==16?o=o*4-3:r==8&&(o=o*3-2)):i=r,a>=0&&(m=m.replace(".",""),d=new h(1),d.e=m.length-a,d.d=fh(li(d),10,i),d.e=d.d.length),y=fh(m,10,i),s=l=y.length;y[--l]==0;)y.pop();if(!y[0])m=p?"0p+0":"0";else{if(a<0?s--:(n=new h(n),n.d=y,n.e=s,n=_r(n,d,o,t,0,i),y=n.d,s=n.e,c=PC),a=y[o],u=i/2,c=c||y[o+1]!==void 0,c=t<4?(a!==void 0||c)&&(t===0||t===(n.s<0?3:2)):a>u||a===u&&(t===4||c||t===6&&y[o-1]&1||t===(n.s<0?8:7)),y.length=o,c)for(;++y[--o]>i-1;)y[o]=0,o||(++s,y.unshift(1));for(l=y.length;!y[l-1];--l);for(a=0,m="";a<l;a++)m+=Pv.charAt(y[a]);if(p){if(l>1)if(r==16||r==8){for(a=r==16?4:3,--l;l%a;l++)m+="0";for(y=fh(m,i,r),l=y.length;!y[l-1];--l);for(a=1,m="1.";a<l;a++)m+=Pv.charAt(y[a])}else m=m.charAt(0)+"."+m.slice(1);m=m+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)m="0"+m;m="0."+m}else if(++s>l)for(s-=l;s--;)m+="0";else s<l&&(m=m.slice(0,s)+"."+m.slice(s))}m=(r==16?"0x":r==2?"0b":r==8?"0o":"")+m}return n.s<0?"-"+m:m}function kC(n,r){if(n.length>r)return n.length=r,!0}function HL(n){return new this(n).abs()}function qL(n){return new this(n).acos()}function WL(n){return new this(n).acosh()}function $L(n,r){return new this(n).plus(r)}function YL(n){return new this(n).asin()}function XL(n){return new this(n).asinh()}function ZL(n){return new this(n).atan()}function QL(n){return new this(n).atanh()}function KL(n,r){n=new this(n),r=new this(r);var o,t=this.precision,i=this.rounding,s=t+4;return!n.s||!r.s?o=new this(NaN):!n.d&&!r.d?(o=ai(this,s,1).times(r.s>0?.25:.75),o.s=n.s):!r.d||n.isZero()?(o=r.s<0?ai(this,t,i):new this(0),o.s=n.s):!n.d||r.isZero()?(o=ai(this,s,1).times(.5),o.s=n.s):r.s<0?(this.precision=s,this.rounding=1,o=this.atan(_r(n,r,s,1)),r=ai(this,s,1),this.precision=t,this.rounding=i,o=n.s<0?o.minus(r):o.plus(r)):o=this.atan(_r(n,r,s,1)),o}function JL(n){return new this(n).cbrt()}function e3(n){return xt(n=new this(n),n.e+1,2)}function t3(n,r,o){return new this(n).clamp(r,o)}function r3(n){if(!n||typeof n!="object")throw Error(yh+"Object expected");var r,o,t,i=n.defaults===!0,s=["precision",1,ds,"rounding",0,8,"toExpNeg",-Sl,0,"toExpPos",0,Sl,"maxE",0,Sl,"minE",-Sl,0,"modulo",0,9];for(r=0;r<s.length;r+=3)if(o=s[r],i&&(this[o]=Lv[o]),(t=n[o])!==void 0)if(jn(t)===t&&t>=s[r+1]&&t<=s[r+2])this[o]=t;else throw Error(cs+o+": "+t);if(o="crypto",i&&(this[o]=Lv[o]),(t=n[o])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[o]=!0;else throw Error(BC);else this[o]=!1;else throw Error(cs+o+": "+t);return this}function n3(n){return new this(n).cos()}function o3(n){return new this(n).cosh()}function $C(n){var r,o,t;function i(s){var a,u,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,RC(s)){c.s=s.s,Tt?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d);return}if(l=typeof s,l==="number"){if(s===0){c.s=1/s<0?-1:1,c.e=0,c.d=[0];return}if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(a=0,u=s;u>=10;u/=10)a++;Tt?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[s]):(c.e=a,c.d=[s]);return}if(s*0!==0){s||(c.s=NaN),c.e=NaN,c.d=null;return}return hh(c,s.toString())}if(l==="string")return(u=s.charCodeAt(0))===45?(s=s.slice(1),c.s=-1):(u===43&&(s=s.slice(1)),c.s=1),UC.test(s)?hh(c,s):zL(c,s);if(l==="bigint")return s<0?(s=-s,c.s=-1):c.s=1,hh(c,s.toString());throw Error(cs+s)}if(i.prototype=Ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=r3,i.clone=$C,i.isDecimal=RC,i.abs=HL,i.acos=qL,i.acosh=WL,i.add=$L,i.asin=YL,i.asinh=XL,i.atan=ZL,i.atanh=QL,i.atan2=KL,i.cbrt=JL,i.ceil=e3,i.clamp=t3,i.cos=n3,i.cosh=o3,i.div=i3,i.exp=s3,i.floor=a3,i.hypot=l3,i.ln=u3,i.log=c3,i.log10=f3,i.log2=d3,i.max=h3,i.min=p3,i.mod=m3,i.mul=g3,i.pow=y3,i.random=v3,i.round=b3,i.sign=w3,i.sin=_3,i.sinh=x3,i.sqrt=D3,i.sub=S3,i.sum=E3,i.tan=C3,i.tanh=M3,i.trunc=A3,n===void 0&&(n={}),n&&n.defaults!==!0)for(t=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<t.length;)n.hasOwnProperty(o=t[r++])||(n[o]=this[o]);return i.config(n),i}function i3(n,r){return new this(n).div(r)}function s3(n){return new this(n).exp()}function a3(n){return xt(n=new this(n),n.e+1,3)}function l3(){var n,r,o=new this(0);for(Tt=!1,n=0;n<arguments.length;)if(r=new this(arguments[n++]),r.d)o.d&&(o=o.plus(r.times(r)));else{if(r.s)return Tt=!0,new this(1/0);o=r}return Tt=!0,o.sqrt()}function RC(n){return n instanceof $u||n&&n.toStringTag===VC||!1}function u3(n){return new this(n).ln()}function c3(n,r){return new this(n).log(r)}function d3(n){return new this(n).log(2)}function f3(n){return new this(n).log(10)}function h3(){return HC(this,arguments,-1)}function p3(){return HC(this,arguments,1)}function m3(n,r){return new this(n).mod(r)}function g3(n,r){return new this(n).mul(r)}function y3(n,r){return new this(n).pow(r)}function v3(n){var r,o,t,i,s=0,a=new this(1),u=[];if(n===void 0?n=this.precision:Wn(n,1,ds),t=Math.ceil(n/St),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(t));s<t;)i=r[s],i>=429e7?r[s]=crypto.getRandomValues(new Uint32Array(1))[0]:u[s++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(t*=4);s<t;)i=r[s]+(r[s+1]<<8)+(r[s+2]<<16)+((r[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,s):(u.push(i%1e7),s+=4);s=t/4}else throw Error(BC);else for(;s<t;)u[s++]=Math.random()*1e7|0;for(t=u[--s],n%=St,t&&n&&(i=cn(10,St-n),u[s]=(t/i|0)*i);u[s]===0;s--)u.pop();if(s<0)o=0,u=[0];else{for(o=-1;u[0]===0;o-=St)u.shift();for(t=1,i=u[0];i>=10;i/=10)t++;t<St&&(o-=St-t)}return a.e=o,a.d=u,a}function b3(n){return xt(n=new this(n),n.e+1,this.rounding)}function w3(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function _3(n){return new this(n).sin()}function x3(n){return new this(n).sinh()}function D3(n){return new this(n).sqrt()}function S3(n,r){return new this(n).sub(r)}function E3(){var n=0,r=arguments,o=new this(r[n]);for(Tt=!1;o.s&&++n<r.length;)o=o.plus(r[n]);return Tt=!0,xt(o,this.precision,this.rounding)}function C3(n){return new this(n).tan()}function M3(n){return new this(n).tanh()}function A3(n){return xt(n=new this(n),n.e+1,1)}Ye[Symbol.for("nodejs.util.inspect.custom")]=Ye.toString;Ye[Symbol.toStringTag]="Decimal";var $u=Ye.constructor=$C(Lv);ph=new $u(ph);mh=new $u(mh);var zv=$u;var T3="BigNumber",I3=["?on","config"],Gv=Le(T3,I3,n=>{var{on:r,config:o}=n,t=zv.clone({precision:o.precision,modulo:zv.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(i){return new t(i.value)},r&&r("config",function(i,s){i.precision!==s.precision&&t.config({precision:i.precision})}),t},{isClass:!0});var Nn=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},vo=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},j3=n=>{let r=Math.sin(.5*n);return-2*r*r},Hv=function(n,r){return n=Math.abs(n),r=Math.abs(r),n<r&&([n,r]=[r,n]),n<1e8?Math.sqrt(n*n+r*r):(r/=n,n*Math.sqrt(1+r*r))},Cl=function(){throw SyntaxError("Invalid Param")};function qv(n,r){let o=Math.abs(n),t=Math.abs(r);return n===0?Math.log(t):r===0?Math.log(o):o<3e3&&t<3e3?Math.log(n*n+r*r)*.5:(n=n*.5,r=r*.5,.5*Math.log(n*n+r*r)+Math.LN2)}var N3={re:0,im:0},ta=function(n,r){let o=N3;if(n==null)o.re=o.im=0;else if(r!==void 0)o.re=n,o.im=r;else switch(typeof n){case"object":if("im"in n&&"re"in n)o.re=n.re,o.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return ke.INFINITY;o.re=n.abs*Math.cos(n.arg),o.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return ke.INFINITY;o.re=n.r*Math.cos(n.phi),o.im=n.r*Math.sin(n.phi)}else n.length===2?(o.re=n[0],o.im=n[1]):Cl();break;case"string":o.im=o.re=0;let t=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,s=0;t===null&&Cl();for(let a=0;a<t.length;a++){let u=t[a];u===" "||u==="	"||u===`
`||(u==="+"?i++:u==="-"?s++:u==="i"||u==="I"?(i+s===0&&Cl(),t[a+1]!==" "&&!isNaN(t[a+1])?(o.im+=parseFloat((s%2?"-":"")+t[a+1]),a++):o.im+=parseFloat((s%2?"-":"")+"1"),i=s=0):((i+s===0||isNaN(u))&&Cl(),t[a+1]==="i"||t[a+1]==="I"?(o.im+=parseFloat((s%2?"-":"")+u),a++):o.re+=parseFloat((s%2?"-":"")+u),i=s=0))}i+s>0&&Cl();break;case"number":o.im=0,o.re=n;break;default:Cl()}return isNaN(o.re)||isNaN(o.im),o};function ke(n,r){if(!(this instanceof ke))return new ke(n,r);let o=ta(n,r);this.re=o.re,this.im=o.im}ke.prototype={re:0,im:0,sign:function(){let n=Hv(this.re,this.im);return new ke(this.re/n,this.im/n)},add:function(n,r){let o=ta(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im));return t||i?t&&i?ke.NAN:ke.INFINITY:new ke(this.re+o.re,this.im+o.im)},sub:function(n,r){let o=ta(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im));return t||i?t&&i?ke.NAN:ke.INFINITY:new ke(this.re-o.re,this.im-o.im)},mul:function(n,r){let o=ta(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im)),s=this.re===0&&this.im===0,a=o.re===0&&o.im===0;return t&&a||i&&s?ke.NAN:t||i?ke.INFINITY:o.im===0&&this.im===0?new ke(this.re*o.re,0):new ke(this.re*o.re-this.im*o.im,this.re*o.im+this.im*o.re)},div:function(n,r){let o=ta(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im)),s=this.re===0&&this.im===0,a=o.re===0&&o.im===0;if(s&&a||t&&i)return ke.NAN;if(a||t)return ke.INFINITY;if(s||i)return ke.ZERO;if(o.im===0)return new ke(this.re/o.re,this.im/o.re);if(Math.abs(o.re)<Math.abs(o.im)){let u=o.re/o.im,l=o.re*u+o.im;return new ke((this.re*u+this.im)/l,(this.im*u-this.re)/l)}else{let u=o.im/o.re,l=o.im*u+o.re;return new ke((this.re+this.im*u)/l,(this.im-this.re*u)/l)}},pow:function(n,r){let o=ta(n,r),t=this.re===0&&this.im===0;if(o.re===0&&o.im===0)return ke.ONE;if(o.im===0){if(this.im===0&&this.re>0)return new ke(Math.pow(this.re,o.re),0);if(this.re===0)switch((o.re%4+4)%4){case 0:return new ke(Math.pow(this.im,o.re),0);case 1:return new ke(0,Math.pow(this.im,o.re));case 2:return new ke(-Math.pow(this.im,o.re),0);case 3:return new ke(0,-Math.pow(this.im,o.re))}}if(t&&o.re>0)return ke.ZERO;let s=Math.atan2(this.im,this.re),a=qv(this.re,this.im),u=Math.exp(o.re*a-o.im*s),l=o.im*a+o.re*s;return new ke(u*Math.cos(l),u*Math.sin(l))},sqrt:function(){let n=this.re,r=this.im;if(r===0)return n>=0?new ke(Math.sqrt(n),0):new ke(0,Math.sqrt(-n));let o=Hv(n,r),t=Math.sqrt(.5*(o+Math.abs(n))),i=Math.abs(r)/(2*t);return n>=0?new ke(t,r<0?-i:i):new ke(i,r<0?-t:t)},exp:function(){let n=Math.exp(this.re);return this.im===0?new ke(n,0):new ke(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){let n=this.re,r=this.im;return new ke(Math.expm1(n)*Math.cos(r)+j3(r),Math.exp(n)*Math.sin(r))},log:function(){let n=this.re,r=this.im;return r===0&&n>0?new ke(Math.log(n),0):new ke(qv(n,r),Math.atan2(r,n))},abs:function(){return Hv(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let n=this.re,r=this.im;return new ke(Math.sin(n)*Nn(r),Math.cos(n)*vo(r))},cos:function(){let n=this.re,r=this.im;return new ke(Math.cos(n)*Nn(r),-Math.sin(n)*vo(r))},tan:function(){let n=2*this.re,r=2*this.im,o=Math.cos(n)+Nn(r);return new ke(Math.sin(n)/o,vo(r)/o)},cot:function(){let n=2*this.re,r=2*this.im,o=Math.cos(n)-Nn(r);return new ke(-Math.sin(n)/o,vo(r)/o)},sec:function(){let n=this.re,r=this.im,o=.5*Nn(2*r)+.5*Math.cos(2*n);return new ke(Math.cos(n)*Nn(r)/o,Math.sin(n)*vo(r)/o)},csc:function(){let n=this.re,r=this.im,o=.5*Nn(2*r)-.5*Math.cos(2*n);return new ke(Math.sin(n)*Nn(r)/o,-Math.cos(n)*vo(r)/o)},asin:function(){let n=this.re,r=this.im,o=new ke(r*r-n*n+1,-2*n*r).sqrt(),t=new ke(o.re-r,o.im+n).log();return new ke(t.im,-t.re)},acos:function(){let n=this.re,r=this.im,o=new ke(r*r-n*n+1,-2*n*r).sqrt(),t=new ke(o.re-r,o.im+n).log();return new ke(Math.PI/2-t.im,t.re)},atan:function(){let n=this.re,r=this.im;if(n===0){if(r===1)return new ke(0,1/0);if(r===-1)return new ke(0,-1/0)}let o=n*n+(1-r)*(1-r),t=new ke((1-r*r-n*n)/o,-2*n/o).log();return new ke(-.5*t.im,.5*t.re)},acot:function(){let n=this.re,r=this.im;if(r===0)return new ke(Math.atan2(1,n),0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).atan():new ke(n!==0?n/0:0,r!==0?-r/0:0).atan()},asec:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(0,1/0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).acos():new ke(n!==0?n/0:0,r!==0?-r/0:0).acos()},acsc:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(Math.PI/2,1/0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).asin():new ke(n!==0?n/0:0,r!==0?-r/0:0).asin()},sinh:function(){let n=this.re,r=this.im;return new ke(vo(n)*Math.cos(r),Nn(n)*Math.sin(r))},cosh:function(){let n=this.re,r=this.im;return new ke(Nn(n)*Math.cos(r),vo(n)*Math.sin(r))},tanh:function(){let n=2*this.re,r=2*this.im,o=Nn(n)+Math.cos(r);return new ke(vo(n)/o,Math.sin(r)/o)},coth:function(){let n=2*this.re,r=2*this.im,o=Nn(n)-Math.cos(r);return new ke(vo(n)/o,-Math.sin(r)/o)},csch:function(){let n=this.re,r=this.im,o=Math.cos(2*r)-Nn(2*n);return new ke(-2*vo(n)*Math.cos(r)/o,2*Nn(n)*Math.sin(r)/o)},sech:function(){let n=this.re,r=this.im,o=Math.cos(2*r)+Nn(2*n);return new ke(2*Nn(n)*Math.cos(r)/o,-2*vo(n)*Math.sin(r)/o)},asinh:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(0,0);let s=Math.abs(n),a=Math.log(s+Math.sqrt(s*s+1));return new ke(n<0?-a:a,0)}let o=n*n-r*r+1,t=2*n*r,i=new ke(o,t).sqrt();return new ke(n+i.re,r+i.im).log()},acosh:function(){let n=this.re,r=this.im;if(r===0){if(n>1)return new ke(Math.log(n+Math.sqrt(n-1)*Math.sqrt(n+1)),0);if(n<-1){let i=Math.sqrt(n*n-1);return new ke(Math.log(-n+i),Math.PI)}return new ke(0,Math.acos(n))}let o=new ke(n-1,r).sqrt(),t=new ke(n+1,r).sqrt();return new ke(n+o.re*t.re-o.im*t.im,r+o.re*t.im+o.im*t.re).log()},atanh:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(0,0);if(n===1)return new ke(1/0,0);if(n===-1)return new ke(-1/0,0);if(-1<n&&n<1)return new ke(.5*Math.log((1+n)/(1-n)),0);if(n>1){let l=(n+1)/(n-1);return new ke(.5*Math.log(l),-Math.PI/2)}let u=(1+n)/(1-n);return new ke(.5*Math.log(-u),Math.PI/2)}let o=1-n,t=1+n,i=o*o+r*r;if(i===0)return new ke(n!==-1?n/0:0,r!==0?r/0:0);let s=(t*o-r*r)/i,a=(r*o+t*r)/i;return new ke(qv(s,a)/2,Math.atan2(a,s)/2)},acoth:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(0,Math.PI/2);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).atanh():new ke(n!==0?n/0:0,r!==0?-r/0:0).atanh()},acsch:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(1/0,0);let t=1/n;return new ke(Math.log(t+Math.sqrt(t*t+1)),0)}let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).asinh():new ke(n!==0?n/0:0,r!==0?-r/0:0).asinh()},asech:function(){let n=this.re,r=this.im;if(this.isZero())return ke.INFINITY;let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).acosh():new ke(n!==0?n/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return ke.INFINITY;if(this.isInfinite())return ke.ZERO;let n=this.re,r=this.im,o=n*n+r*r;return new ke(n/o,-r/o)},conjugate:function(){return new ke(this.re,-this.im)},neg:function(){return new ke(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new ke(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new ke(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new ke(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,r){let o=ta(n,r);return Math.abs(o.re-this.re)<=ke.EPSILON&&Math.abs(o.im-this.im)<=ke.EPSILON},clone:function(){return new ke(this.re,this.im)},toString:function(){let n=this.re,r=this.im,o="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<ke.EPSILON&&(n=0),Math.abs(r)<ke.EPSILON&&(r=0),r===0?o+n:(n!==0?(o+=n,o+=" ",r<0?(r=-r,o+="-"):o+="+",o+=" "):r<0&&(r=-r,o+="-"),r!==1&&(o+=r),o+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};ke.ZERO=new ke(0,0);ke.ONE=new ke(1,0);ke.I=new ke(0,1);ke.PI=new ke(Math.PI,0);ke.E=new ke(Math.E,0);ke.INFINITY=new ke(1/0,1/0);ke.NAN=new ke(NaN,NaN);ke.EPSILON=1e-15;var O3="Complex",F3=[],Wv=Le(O3,F3,()=>(Object.defineProperty(ke,"name",{value:"Complex"}),ke.prototype.constructor=ke,ke.prototype.type="Complex",ke.prototype.isComplex=!0,ke.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ke.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ke.prototype.format=function(n){var r="",o=this.im,t=this.re,i=qu(this.re,n),s=qu(this.im,n),a=Lt(n)?n:n?n.precision:null;if(a!==null){var u=Math.pow(10,-a);Math.abs(t/o)<u&&(t=0),Math.abs(o/t)<u&&(o=0)}return o===0?r=i:t===0?o===1?r="i":o===-1?r="-i":r=s+"i":o<0?o===-1?r=i+" - i":r=i+" - "+s.substring(1)+"i":o===1?r=i+" + i":r=i+" + "+s+"i",r},ke.fromPolar=function(n){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return ke(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var o=arguments[0],t=arguments[1];if(Lt(o)){if(oh(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),Lt(t))return new ke({r:o,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ke.prototype.valueOf=ke.prototype.toString,ke.fromJSON=function(n){return new ke(n)},ke.compare=function(n,r){return n.re>r.re?1:n.re<r.re?-1:n.im>r.im?1:n.im<r.im?-1:0},ke),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});var wt=BigInt(0),Ft=BigInt(1),yn=BigInt(2),Yu=BigInt(3),Al=BigInt(5),$n=BigInt(10),D$=BigInt(Number.MAX_SAFE_INTEGER),k3=2e3,at={s:Ft,n:wt,d:Ft};function Oi(n,r){try{n=BigInt(n)}catch{throw fs()}return n*r}function Ro(n){return typeof n=="bigint"?n:Math.floor(n)}function Lr(n,r){if(r===wt)throw $v();let o=Object.create(oo.prototype);o.s=n<wt?-Ft:Ft,n=n<wt?-n:n;let t=ra(n,r);return o.n=n/t,o.d=r/t,o}var R3=[yn*yn,yn,yn*yn,yn,yn*yn,yn*Yu,yn,yn*Yu];function Ml(n){let r=Object.create(null);if(n<=Ft)return r[n]=Ft,r;let o=t=>{r[t]=(r[t]||wt)+Ft};for(;n%yn===wt;)o(yn),n/=yn;for(;n%Yu===wt;)o(Yu),n/=Yu;for(;n%Al===wt;)o(Al),n/=Al;for(let t=0,i=yn+Al;i*i<=n;){for(;n%i===wt;)o(i),n/=i;i+=R3[t],t=t+1&7}return n>Ft&&o(n),r}var gn=function(n,r){let o=wt,t=Ft,i=Ft;if(n!=null)if(r!==void 0){if(typeof n=="bigint")o=n;else{if(isNaN(n))throw fs();if(n%1!==0)throw YC();o=BigInt(n)}if(typeof r=="bigint")t=r;else{if(isNaN(r))throw fs();if(r%1!==0)throw YC();t=BigInt(r)}i=o*t}else if(typeof n=="object"){if("d"in n&&"n"in n)o=BigInt(n.n),t=BigInt(n.d),"s"in n&&(o*=BigInt(n.s));else if(0 in n)o=BigInt(n[0]),1 in n&&(t=BigInt(n[1]));else if(typeof n=="bigint")o=n;else throw fs();i=o*t}else if(typeof n=="number"){if(isNaN(n))throw fs();if(n<0&&(i=-Ft,n=-n),n%1===0)o=BigInt(n);else{let s=1,a=0,u=1,l=1,c=1,m=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);u<=m&&c<=m;){let y=(a+l)/(u+c);if(n===y){u+c<=m?(o=a+l,t=u+c):c>u?(o=l,t=c):(o=a,t=u);break}else n>y?(a+=l,u+=c):(l+=a,c+=u),u>m?(o=l,t=c):(o=a,t=u)}o=BigInt(o)*BigInt(s),t=BigInt(t)}}else if(typeof n=="string"){let s=0,a=wt,u=wt,l=wt,c=Ft,m=Ft,y=n.replace(/_/g,"").match(/\d+|./g);if(y===null)throw fs();if(y[s]==="-"?(i=-Ft,s++):y[s]==="+"&&s++,y.length===s+1?u=Oi(y[s++],i):y[s+1]==="."||y[s]==="."?(y[s]!=="."&&(a=Oi(y[s++],i)),s++,(s+1===y.length||y[s+1]==="("&&y[s+3]===")"||y[s+1]==="'"&&y[s+3]==="'")&&(u=Oi(y[s],i),c=$n**BigInt(y[s].length),s++),(y[s]==="("&&y[s+2]===")"||y[s]==="'"&&y[s+2]==="'")&&(l=Oi(y[s+1],i),m=$n**BigInt(y[s+1].length)-Ft,s+=3)):y[s+1]==="/"||y[s+1]===":"?(u=Oi(y[s],i),c=Oi(y[s+2],Ft),s+=3):y[s+3]==="/"&&y[s+1]===" "&&(a=Oi(y[s],i),u=Oi(y[s+2],i),c=Oi(y[s+4],Ft),s+=5),y.length<=s)t=c*m,i=o=l+t*a+m*u;else throw fs()}else if(typeof n=="bigint")o=n,i=n,t=Ft;else throw fs();if(t===wt)throw $v();at.s=i<wt?-Ft:Ft,at.n=o<wt?-o:o,at.d=t<wt?-t:t};function P3(n,r,o){let t=Ft;for(;r>wt;n=n*n%o,r>>=Ft)r&Ft&&(t=t*n%o);return t}function L3(n,r){for(;r%yn===wt;r/=yn);for(;r%Al===wt;r/=Al);if(r===Ft)return wt;let o=$n%r,t=1;for(;o!==Ft;t++)if(o=o*$n%r,t>k3)return wt;return BigInt(t)}function B3(n,r,o){let t=Ft,i=P3($n,o,r);for(let s=0;s<300;s++){if(t===i)return BigInt(s);t=t*$n%r,i=i*$n%r}return 0}function ra(n,r){if(!n)return r;if(!r)return n;for(;;){if(n%=r,!n)return r;if(r%=n,!r)return n}}function oo(n,r){if(gn(n,r),this instanceof oo)n=ra(at.d,at.n),this.s=at.s,this.n=at.n/n,this.d=at.d/n;else return Lr(at.s*at.n,at.d)}var $v=function(){return new Error("Division by Zero")},fs=function(){return new Error("Invalid argument")},YC=function(){return new Error("Parameters must be integer")};oo.prototype={s:Ft,n:wt,d:Ft,abs:function(){return Lr(this.n,this.d)},neg:function(){return Lr(-this.s*this.n,this.d)},add:function(n,r){return gn(n,r),Lr(this.s*this.n*at.d+at.s*this.d*at.n,this.d*at.d)},sub:function(n,r){return gn(n,r),Lr(this.s*this.n*at.d-at.s*this.d*at.n,this.d*at.d)},mul:function(n,r){return gn(n,r),Lr(this.s*at.s*this.n*at.n,this.d*at.d)},div:function(n,r){return gn(n,r),Lr(this.s*at.s*this.n*at.d,this.d*at.n)},clone:function(){return Lr(this.s*this.n,this.d)},mod:function(n,r){if(n===void 0)return Lr(this.s*this.n%this.d,Ft);if(gn(n,r),wt===at.n*this.d)throw $v();return Lr(this.s*(at.d*this.n)%(at.n*this.d),at.d*this.d)},gcd:function(n,r){return gn(n,r),Lr(ra(at.n,this.n)*ra(at.d,this.d),at.d*this.d)},lcm:function(n,r){return gn(n,r),at.n===wt&&this.n===wt?Lr(wt,Ft):Lr(at.n*this.n,ra(at.n,this.n)*ra(at.d,this.d))},inverse:function(){return Lr(this.s*this.d,this.n)},pow:function(n,r){if(gn(n,r),at.d===Ft)return at.s<wt?Lr((this.s*this.d)**at.n,this.n**at.n):Lr((this.s*this.n)**at.n,this.d**at.n);if(this.s<wt)return null;let o=Ml(this.n),t=Ml(this.d),i=Ft,s=Ft;for(let a in o)if(a!=="1"){if(a==="0"){i=wt;break}if(o[a]*=at.n,o[a]%at.d===wt)o[a]/=at.d;else return null;i*=BigInt(a)**o[a]}for(let a in t)if(a!=="1"){if(t[a]*=at.n,t[a]%at.d===wt)t[a]/=at.d;else return null;s*=BigInt(a)**t[a]}return at.s<wt?Lr(s,i):Lr(i,s)},log:function(n,r){if(gn(n,r),this.s<=wt||at.s<=wt)return null;let o=Object.create(null),t=Ml(at.n),i=Ml(at.d),s=Ml(this.n),a=Ml(this.d);for(let c in i)t[c]=(t[c]||wt)-i[c];for(let c in a)s[c]=(s[c]||wt)-a[c];for(let c in t)c!=="1"&&(o[c]=!0);for(let c in s)c!=="1"&&(o[c]=!0);let u=null,l=null;for(let c in o){let m=t[c]||wt,y=s[c]||wt;if(m===wt){if(y!==wt)return null;continue}let d=y,h=m,p=ra(d,h);if(d/=p,h/=p,u===null&&l===null)u=d,l=h;else if(d*l!==u*h)return null}return u!==null&&l!==null?Lr(u,l):null},equals:function(n,r){return gn(n,r),this.s*this.n*at.d===at.s*at.n*this.d},lt:function(n,r){return gn(n,r),this.s*this.n*at.d<at.s*at.n*this.d},lte:function(n,r){return gn(n,r),this.s*this.n*at.d<=at.s*at.n*this.d},gt:function(n,r){return gn(n,r),this.s*this.n*at.d>at.s*at.n*this.d},gte:function(n,r){return gn(n,r),this.s*this.n*at.d>=at.s*at.n*this.d},compare:function(n,r){gn(n,r);let o=this.s*this.n*at.d-at.s*at.n*this.d;return(wt<o)-(o<wt)},ceil:function(n){return n=$n**BigInt(n||0),Lr(Ro(this.s*n*this.n/this.d)+(n*this.n%this.d>wt&&this.s>=wt?Ft:wt),n)},floor:function(n){return n=$n**BigInt(n||0),Lr(Ro(this.s*n*this.n/this.d)-(n*this.n%this.d>wt&&this.s<wt?Ft:wt),n)},round:function(n){return n=$n**BigInt(n||0),Lr(Ro(this.s*n*this.n/this.d)+this.s*((this.s>=wt?Ft:wt)+yn*(n*this.n%this.d)>this.d?Ft:wt),n)},roundTo:function(n,r){gn(n,r);let o=this.n*at.d,t=this.d*at.n,i=o%t,s=Ro(o/t);return i+i>=t&&s++,Lr(this.s*s*at.n,at.d)},divisible:function(n,r){return gn(n,r),at.n===wt?!1:this.n*at.d%(at.n*this.d)===wt},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n=15){let r=this.n,o=this.d,t=L3(r,o),i=B3(r,o,t),s=this.s<wt?"-":"";if(s+=Ro(r/o),r%=o,r*=$n,r&&(s+="."),t){for(let a=i;a--;)s+=Ro(r/o),r%=o,r*=$n;s+="(";for(let a=t;a--;)s+=Ro(r/o),r%=o,r*=$n;s+=")"}else for(let a=n;r&&a--;)s+=Ro(r/o),r%=o,r*=$n;return s},toFraction:function(n=!1){let r=this.n,o=this.d,t=this.s<wt?"-":"";if(o===Ft)t+=r;else{let i=Ro(r/o);n&&i>wt&&(t+=i,t+=" ",r%=o),t+=r,t+="/",t+=o}return t},toLatex:function(n=!1){let r=this.n,o=this.d,t=this.s<wt?"-":"";if(o===Ft)t+=r;else{let i=Ro(r/o);n&&i>wt&&(t+=i,r%=o),t+="\\frac{",t+=r,t+="}{",t+=o,t+="}"}return t},toContinued:function(){let n=this.n,r=this.d,o=[];for(;r;){o.push(Ro(n/r));let t=n%r;n=r,r=t}return o},simplify:function(n=.001){let r=BigInt(Math.ceil(1/n)),o=this.abs(),t=o.toContinued();for(let i=1;i<t.length;i++){let s=Lr(t[i-1],Ft);for(let u=i-2;u>=0;u--)s=s.inverse().add(t[u]);let a=s.sub(o);if(a.n*r<a.d)return s.mul(this.s)}return this}};var V3="Fraction",U3=[],Yv=Le(V3,U3,()=>(Object.defineProperty(oo,"name",{value:"Fraction"}),oo.prototype.constructor=oo,oo.prototype.type="Fraction",oo.prototype.isFraction=!0,oo.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},oo.fromJSON=function(n){return new oo(n)},oo),{isClass:!0});var z3="Matrix",G3=[],Xv=Le(z3,G3,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(r,o){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(r,o,t){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(r,o,t){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(r,o){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(r,o){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(r,o){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function Zv(n,r,o){var t=n.constructor,i=new t(2),s="";if(o){if(o<1)throw new Error("size must be in greater than 0");if(!qt(o))throw new Error("size must be an integer");if(n.greaterThan(i.pow(o-1).sub(1))||n.lessThan(i.pow(o-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(o-1,", 2^").concat(o-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(o))),s="i".concat(o)}switch(r){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(r," not supported "))}}function QC(n,r){if(typeof r=="function")return r(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:o,precision:t,wordSize:i}=Fv(r);switch(o){case"fixed":return q3(n,t);case"exponential":return XC(n,t);case"engineering":return H3(n,t);case"bin":return Zv(n,2,i);case"oct":return Zv(n,8,i);case"hex":return Zv(n,16,i);case"auto":{var s=ZC(r?.lowerExp,-3),a=ZC(r?.upperExp,5);if(n.isZero())return"0";var u,l=n.toSignificantDigits(t),c=l.e;return c>=s&&c<a?u=l.toFixed():u=XC(n,t),u.replace(/((\.\d*?)(0+))($|e)/,function(){var m=arguments[2],y=arguments[4];return m!=="."?m+y:y})}default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function H3(n,r){var o=n.e,t=o%3===0?o:o<0?o-3-o%3:o-o%3,i=n.mul(Math.pow(10,-t)),s=i.toPrecision(r);if(s.includes("e")){var a=n.constructor;s=new a(s).toFixed()}return s+"e"+(o>=0?"+":"")+t.toString()}function XC(n,r){return r!==void 0?n.toExponential(r-1):n.toExponential()}function q3(n,r){return n.toFixed(r)}function ZC(n,r){return Lt(n)?n:Zt(n)?n.toNumber():r}function ir(n,r){var o=W3(n,r);return r&&typeof r=="object"&&"truncate"in r&&o.length>r.truncate?o.substring(0,r.truncate-3)+"...":o}function W3(n,r){if(typeof n=="number")return qu(n,r);if(Zt(n))return QC(n,r);if($3(n))return!r||r.fraction!=="decimal"?"".concat(n.s*n.n,"/").concat(n.d):n.toString();if(Array.isArray(n))return e2(n,r);if(Pn(n))return KC(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(r);if(n&&n.toString(r)!=={}.toString())return n.toString(r);var o=Object.keys(n).map(t=>KC(t)+": "+ir(n[t],r));return"{"+o.join(", ")+"}"}return String(n)}function KC(n){for(var r=String(n),o="",t=0;t<r.length;){var i=r.charAt(t);o+=i in JC?JC[i]:i,t++}return'"'+o+'"'}var JC={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function e2(n,r){if(Array.isArray(n)){for(var o="[",t=n.length,i=0;i<t;i++)i!==0&&(o+=", "),o+=e2(n[i],r);return o+="]",o}else return ir(n,r)}function $3(n){return n&&typeof n=="object"&&typeof n.s=="bigint"&&typeof n.n=="bigint"&&typeof n.d=="bigint"||!1}function Ct(n,r,o){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=r,this.relation=o,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}Ct.prototype=new RangeError;Ct.prototype.constructor=RangeError;Ct.prototype.name="DimensionError";Ct.prototype.isDimensionError=!0;function Po(n,r,o){if(!(this instanceof Po))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=o),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Po.prototype=new RangeError;Po.prototype.constructor=RangeError;Po.prototype.name="IndexError";Po.prototype.isIndexError=!0;function xr(n){for(var r=[];Array.isArray(n);)r.push(n.length),n=n[0];return r}function t2(n,r,o){var t,i=n.length;if(i!==r[o])throw new Ct(i,r[o]);if(o<r.length-1){var s=o+1;for(t=0;t<i;t++){var a=n[t];if(!Array.isArray(a))throw new Ct(r.length-1,r.length,"<");t2(n[t],r,s)}}else for(t=0;t<i;t++)if(Array.isArray(n[t]))throw new Ct(r.length+1,r.length,">")}function Kv(n,r){var o=r.length===0;if(o){if(Array.isArray(n))throw new Ct(n.length,0)}else t2(n,r,0)}function Br(n,r){if(n!==void 0){if(!Lt(n)||!qt(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof r=="number"&&n>=r)throw new Po(n,r)}}function Fi(n,r,o){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!Lt(i)||!qt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ir(r)+")")}),(Lt(n)||Zt(n))&&(n=[n]);var t=o!==void 0?o:0;return Qv(n,r,0,t),n}function Qv(n,r,o,t){var i,s,a=n.length,u=r[o],l=Math.min(a,u);if(n.length=u,o<r.length-1){var c=o+1;for(i=0;i<l;i++)s=n[i],Array.isArray(s)||(s=[s],n[i]=s),Qv(s,r,c,t);for(i=l;i<u;i++)s=[],n[i]=s,Qv(s,r,c,t)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<u;i++)n[i]=t}}function Xu(n,r){var o=_h(n,!0),t=o.length;if(!Array.isArray(n)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Ct(0,t,"!=");r=Zu(r,t);var i=r2(r);if(t!==i)throw new Ct(i,t,"!=");try{return Y3(o,r)}catch(s){throw s instanceof Ct?new Ct(i,t,"!="):s}}function Zu(n,r){var o=r2(n),t=n.slice(),i=-1,s=n.indexOf(i),a=n.indexOf(i,s+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var u=s>=0,l=r%o===0;if(u)if(l)t[s]=-r/o;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-o);return t}function r2(n){return n.reduce((r,o)=>r*o,1)}function Y3(n,r){for(var o=n,t,i=r.length-1;i>0;i--){var s=r[i];t=[];for(var a=o.length/s,u=0;u<a;u++)t.push(o.slice(u*s,(u+1)*s));o=t}return o}function wh(n,r,o,t){var i=t||xr(n);if(o)for(var s=0;s<o;s++)n=[n],i.unshift(1);for(n=n2(n,r,0);i.length<r;)i.push(1);return n}function n2(n,r,o){var t,i;if(Array.isArray(n)){var s=o+1;for(t=0,i=n.length;t<i;t++)n[t]=n2(n[t],r,s)}else for(var a=o;a<r;a++)n=[n];return n}function _h(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(n))return n;if(typeof r!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var o=[];return r?i(n):t(n),o;function t(s){for(var a=0;a<s.length;a++){var u=s[a];Array.isArray(u)?t(u):o.push(u)}}function i(s){if(Array.isArray(s[0]))for(var a=0;a<s.length;a++)i(s[a]);else for(var u=0;u<s.length;u++)o.push(s[u])}}function Qu(n,r){for(var o,t=0,i=0;i<n.length;i++){var s=n[i],a=Array.isArray(s);if(i===0&&a&&(t=s.length),a&&s.length!==t)return;var u=a?Qu(s,r):r(s);if(o===void 0)o=u;else if(o!==u)return"mixed"}return o}function o2(n,r,o,t){if(t<o){if(n.length!==r.length)throw new Ct(n.length,r.length);for(var i=[],s=0;s<n.length;s++)i[s]=o2(n[s],r[s],o,t+1);return i}else return n.concat(r)}function Jv(){var n=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(o,t){return o2(o,t,r,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function Tl(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var t=r.map(d=>d.length),i=Math.max(...t),s=new Array(i).fill(null),a=0;a<r.length;a++)for(var u=r[a],l=t[a],c=0;c<l;c++){var m=i-l+c;u[c]>s[m]&&(s[m]=u[c])}for(var y=0;y<r.length;y++)i2(r[y],s);return s}function i2(n,r){for(var o=r.length,t=n.length,i=0;i<t;i++){var s=o-t+i;if(n[i]<r[s]&&n[i]>1||n[i]>r[s])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(t," with size ").concat(n[i]," to size ").concat(r[s]))}}function ui(n,r){var o=xr(n);if(yo(o,r))return n;i2(o,r);var t=Tl(o,r),i=t.length,s=[...Array(i-o.length).fill(1),...o],a=Z3(n);o.length<i&&(a=Xu(a,s),o=xr(a));for(var u=0;u<i;u++)o[u]<t[u]&&(a=X3(a,t[u],u),o=xr(a));return a}function X3(n,r,o){return Jv(...Array(r).fill(n),o)}function na(n,r){if(!Array.isArray(n))throw new Error("Array expected");var o=xr(n);if(r.length!==o.length)throw new Ct(r.length,o.length);for(var t=0;t<r.length;t++)Br(r[t],o[t]);return r.reduce((i,s)=>i[s],n)}function Ku(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n.length===0)return[];if(o)return s(n);var t=[];return i(n,0);function i(a,u){if(Array.isArray(a)){for(var l=a.length,c=Array(l),m=0;m<l;m++)t[u]=m,c[m]=i(a[m],u+1);return c}else return r(a,t.slice(0,u),n)}function s(a){if(Array.isArray(a)){for(var u=a.length,l=Array(u),c=0;c<u;c++)l[c]=s(a[c]);return l}else return r(a)}}function s2(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n.length===0)return;if(o){s(n);return}var t=[];i(n,0);function i(a,u){if(Array.isArray(a))for(var l=a.length,c=0;c<l;c++)t[u]=c,i(a[c],u+1);else r(a,t.slice(0,u),n)}function s(a){if(Array.isArray(a))for(var u=a.length,l=0;l<u;l++)s(a[l]);else r(a)}}function Z3(n){return bl([],n)}var e0=Ep(Nv(),1);function hs(n,r,o,t){if(e0.default.isTypedFunction(n)){var i;if(t)i=1;else{var s=r.isMatrix?r.size():xr(r),a=s.length?s[s.length-1]===0:!0;if(a)return{isUnary:t,fn:n};var u=s.map(()=>0),l=r.isMatrix?r.get(u):na(r,u);i=J3(n,l,u,r)}var c;if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var m=Q3(n,i);c=m!==void 0?m:n}else c=n;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return a2(c,h.slice(0,i),o,n.name)}}:{isUnary:!1,fn:function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return a2(c,h,o,n.name)}}}return t===void 0?{isUnary:K3(n),fn:n}:{isUnary:t,fn:n}}function Q3(n,r){var o=[];if(Object.entries(n.signatures).forEach(t=>{var[i,s]=t;i.split(",").length===r&&o.push(s)}),o.length===1)return o[0]}function K3(n){if(n.length!==1)return!1;var r=n.toString();if(/arguments/.test(r))return!1;var o=r.match(/\(.*?\)/);return!/\.\.\./.test(o)}function J3(n,r,o,t){for(var i=[r,o,t],s=3;s>0;s--){var a=i.slice(0,s);if(e0.default.resolve(n,a)!==null)return s}}function a2(n,r,o,t){try{return n(...r)}catch(i){e5(i,r,o,t)}}function e5(n,r,o,t){var i;if(n instanceof TypeError&&((i=n.data)===null||i===void 0?void 0:i.category)==="wrongType"){var s=[];throw s.push("value: ".concat(In(r[0]))),r.length>=2&&s.push("index: ".concat(In(r[1]))),r.length>=3&&s.push("array: ".concat(In(r[2]))),new TypeError("Function ".concat(o," cannot apply callback arguments ")+"".concat(t,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(o," cannot apply callback arguments ")+"to function ".concat(t,": ").concat(n.message))}var t5="DenseMatrix",r5=["Matrix","config"],t0=Le(t5,r5,n=>{var{Matrix:r,config:o}=n;function t(y,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Pn(d))throw new Error("Invalid datatype: "+d);if(er(y))y.type==="DenseMatrix"?(this._data=nr(y._data),this._size=nr(y._size),this._datatype=d||y._datatype):(this._data=y.toArray(),this._size=y.size(),this._datatype=d||y._datatype);else if(y&&qr(y.data)&&qr(y.size))this._data=y.data,this._size=y.size,Kv(this._data,this._size),this._datatype=d||y.datatype;else if(qr(y))this._data=m(y),this._size=xr(this._data),Kv(this._data,this._size),this._datatype=d;else{if(y)throw new TypeError("Unsupported type of data ("+In(y)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new r,t.prototype.createDenseMatrix=function(y,d){return new t(y,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Qu(this._data,In)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(y,d){return new t(y,d)},t.prototype.subset=function(y,d,h){switch(arguments.length){case 1:return i(this,y);case 2:case 3:return a(this,y,d,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(y){return na(this._data,y)},t.prototype.set=function(y,d,h){if(!qr(y))throw new TypeError("Array expected");if(y.length<this._size.length)throw new Ct(y.length,this._size.length,"<");var p,f,v,g=y.map(function(b){return b+1});c(this,g,h);var w=this._data;for(p=0,f=y.length-1;p<f;p++)v=y[p],Br(v,w.length),w=w[v];return v=y[y.length-1],Br(v,w.length),w[v]=d,this};function i(y,d){if(!_l(d))throw new TypeError("Invalid index");var h=o.legacySubset?d.size().every(D=>D===1):d.isScalar();if(h)return y.get(d.min());var p=d.size();if(p.length!==y._size.length)throw new Ct(p.length,y._size.length);for(var f=d.min(),v=d.max(),g=0,w=y._size.length;g<w;g++)Br(f[g],y._size[g]),Br(v[g],y._size[g]);var b=new t,_=s(y._data,d);return b._size=_.size,b._datatype=y._datatype,b._data=_.data,o.legacySubset?b.reshape(d.size()):b}function s(y,d){var h=d.size().length-1,p=Array(h);return{data:f(y),size:p.filter(v=>v!==null)};function f(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=d.dimension(g);function b(_,D){return Lt(_)?D(_):_.map(D).valueOf()}return Lt(w)?p[g]=null:p[g]=w.size()[0],g<h?b(w,_=>(Br(_,v.length),f(v[_],g+1))):b(w,_=>(Br(_,v.length),v[_]))}}function a(y,d,h,p){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var f=d.size(),v=d.isScalar(),g;if(er(h)?(g=h.size(),h=h.valueOf()):g=xr(h),v){if(g.length!==0)throw new TypeError("Scalar expected");y.set(d.min(),h,p)}else{if(!yo(g,f)){if(g.length===0)h=ui([h],f);else try{h=ui(h,f)}catch{}g=xr(h)}if(f.length<y._size.length)throw new Ct(f.length,y._size.length,"<");if(g.length<f.length){for(var w=0,b=0;f[w]===1&&g[w]===1;)w++;for(;f[w]===1;)b++,w++;h=wh(h,f.length,b,g)}if(!yo(f,g))throw new Ct(f,g,">");var _=d.max().map(function(D){return D+1});c(y,_,p),u(y._data,d,h)}return y}function u(y,d,h){var p=d.size().length-1;f(y,h);function f(v,g){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=d.dimension(w),_=(C,M)=>{Br(C,v.length),f(v[C],g[M[0]],w+1)},D=(C,M)=>{Br(C,v.length),v[C]=g[M[0]]};w<p?Lt(b)?_(b,[0]):b.forEach(_):Lt(b)?D(b,[0]):b.forEach(D)}}t.prototype.resize=function(y,d,h){if(!ji(y))throw new TypeError("Array or Matrix expected");var p=y.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),f=h?this.clone():this;return l(f,p,d)};function l(y,d,h){if(d.length===0){for(var p=y._data;qr(p);)p=p[0];return p}return y._size=d.slice(0),y._data=Fi(y._data,y._size,h),y}t.prototype.reshape=function(y,d){var h=d?this.clone():this;h._data=Xu(h._data,y);var p=h._size.reduce((f,v)=>f*v);return h._size=Zu(y,p),h};function c(y,d,h){for(var p=y._size.slice(0),f=!1;p.length<d.length;)p.push(0),f=!0;for(var v=0,g=d.length;v<g;v++)d[v]>p[v]&&(p[v]=d[v],f=!0);f&&l(y,p,h)}t.prototype.clone=function(){var y=new t({data:nr(this._data),size:nr(this._size),datatype:this._datatype});return y},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,f=p._size.length-1;if(f<0)return p.clone();var v=hs(y,p,"map",h),g=v.fn,w=p.create(void 0,p._datatype);if(w._size=p._size,h||v.isUnary)return w._data=E(p._data),w;if(f===0){for(var b=p.valueOf(),_=Array(b.length),D=0;D<b.length;D++)_[D]=g(b[D],[D],p);return w._data=_,w}var C=[];return w._data=M(p._data),w;function M(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=Array(S.length);if(O<f)for(var F=0;F<S.length;F++)C[O]=F,I[F]=M(S[F],O+1);else for(var j=0;j<S.length;j++)C[O]=j,I[j]=g(S[j],C.slice(),p);return I}function E(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=Array(S.length);if(O<f)for(var F=0;F<S.length;F++)I[F]=E(S[F],O+1);else for(var j=0;j<S.length;j++)I[j]=g(S[j]);return I}},t.prototype.forEach=function(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,f=p._size.length-1;if(f<0)return;var v=hs(y,p,"map",h),g=v.fn;if(h||v.isUnary){D(p._data);return}if(f===0){for(var w=0;w<p._data.length;w++)g(p._data[w],[w],p);return}var b=[];_(p._data);function _(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<f)for(var E=0;E<C.length;E++)b[M]=E,_(C[E],M+1);else for(var S=0;S<C.length;S++)b[M]=S,g(C[S],b.slice(),p)}function D(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<f)for(var E=0;E<C.length;E++)D(C[E],M+1);else for(var S=0;S<C.length;S++)g(C[S])}},t.prototype[Symbol.iterator]=function*(){var y=this._size.length-1;if(!(y<0)){if(y===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var h=Array(y+1).fill(0),p=this._size.reduce((b,_)=>b*_,1),f=0;f<p;f++){for(var v=this._data,g=0;g<y;g++)v=v[h[g]];yield{value:v[h[y]],index:h.slice()};for(var w=y;w>=0&&(h[w]++,!(h[w]<this._size[w]));w--)h[w]=0}}},t.prototype.rows=function(){var y=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var p of h)y.push(new t([p],this._datatype));return y},t.prototype.columns=function(){var y=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,f=function(w){var b=p.map(_=>[_[w]]);d.push(new t(b,y._datatype))},v=0;v<h[1];v++)f(v);return d},t.prototype.toArray=function(){return nr(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(y){return ir(this._data,y)},t.prototype.toString=function(){return ir(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(y){if(y){if(Zt(y)&&(y=y.toNumber()),!Lt(y)||!qt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;for(var d=y>0?y:0,h=y<0?-y:0,p=this._size[0],f=this._size[1],v=Math.min(p-h,f-d),g=[],w=0;w<v;w++)g[w]=this._data[w+h][w+d];return new t({data:g,size:[v],datatype:this._datatype})},t.diagonal=function(y,d,h,p){if(!qr(y))throw new TypeError("Array expected, size parameter");if(y.length!==2)throw new Error("Only two dimensions matrix are supported");if(y=y.map(function(E){if(Zt(E)&&(E=E.toNumber()),!Lt(E)||!qt(E)||E<1)throw new Error("Size values must be positive integers");return E}),h){if(Zt(h)&&(h=h.toNumber()),!Lt(h)||!qt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var f=h>0?h:0,v=h<0?-h:0,g=y[0],w=y[1],b=Math.min(g-v,w-f),_;if(qr(d)){if(d.length!==b)throw new Error("Invalid value array length");_=function(S){return d[S]}}else if(er(d)){var D=d.size();if(D.length!==1||D[0]!==b)throw new Error("Invalid matrix length");_=function(S){return d.get([S])}}else _=function(){return d};p||(p=Zt(_(0))?_(0).mul(0):0);var C=[];if(y.length>0){C=Fi(C,y,p);for(var M=0;M<b;M++)C[M+v][M+f]=_(M)}return new t({data:C,size:[g,w]})},t.fromJSON=function(y){return new t(y)},t.prototype.swapRows=function(y,d){if(!Lt(y)||!qt(y)||!Lt(d)||!qt(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Br(y,this._size[0]),Br(d,this._size[0]),t._swapRows(y,d,this._data),this},t._swapRows=function(y,d,h){var p=h[y];h[y]=h[d],h[d]=p};function m(y){return er(y)?m(y.valueOf()):qr(y)?y.map(m):y}return t},{isClass:!0});function l2(n){var r=n.length,o=n[0].length,t,i,s=[];for(i=0;i<o;i++){var a=[];for(t=0;t<r;t++)a.push(n[t][i]);s.push(a)}return s}function Dh(n){for(var r=0;r<n.length;r++)if(ji(n[r]))return!0;return!1}function Sh(n,r){er(n)?n.forEach(o=>r(o),!1,!0):s2(n,r,!0)}function vn(n,r,o){if(!o)return er(n)?n.map(i=>r(i),!1,!0):Ku(n,r,!0);var t=i=>i===0?i:r(i);return er(n)?n.map(i=>t(i),!1,!0):Ku(n,t,!0)}function Eh(n,r,o){var t=Array.isArray(n)?xr(n):n.size();if(r<0||r>=t.length)throw new Po(r,t.length);return er(n)?n.create(xh(n.valueOf(),r,o),n.datatype()):xh(n,r,o)}function xh(n,r,o){var t,i,s,a;if(r<=0)if(Array.isArray(n[0])){for(a=l2(n),i=[],t=0;t<a.length;t++)i[t]=xh(a[t],r-1,o);return i}else{for(s=n[0],t=1;t<n.length;t++)s=o(s,n[t]);return s}else{for(i=[],t=0;t<n.length;t++)i[t]=xh(n[t],r-1,o);return i}}var u2="isInteger",n5=["typed","equal"],r0=Le(u2,n5,n=>{var{typed:r,equal:o}=n;return r(u2,{number:t=>Number.isFinite(t)?o(t,Math.round(t)):!1,BigNumber:t=>t.isFinite()?o(t.round(),t):!1,bigint:t=>!0,Fraction:t=>t.d===1n,"Array | Matrix":r.referToSelf(t=>i=>vn(i,t))})});var Yn="number",ki="number, number";function n0(n){return Math.abs(n)}n0.signature=Yn;function o0(n,r){return n+r}o0.signature=ki;function i0(n,r){return n-r}i0.signature=ki;function s0(n,r){return n*r}s0.signature=ki;function o5(n,r){return n/r}o5.signature=ki;function a0(n){return-n}a0.signature=Yn;function i5(n){return n}i5.signature=Yn;function s5(n){return AC(n)}s5.signature=Yn;function a5(n){return n*n*n}a5.signature=Yn;function l0(n){return Math.exp(n)}l0.signature=Yn;function l5(n){return TC(n)}l5.signature=Yn;function u5(n,r){if(!qt(n)||!qt(r))throw new Error("Parameters in function gcd must be integer numbers");for(var o;r!==0;)o=n%r,n=r,r=o;return n<0?-n:n}u5.signature=ki;function c5(n,r){if(!qt(n)||!qt(r))throw new Error("Parameters in function lcm must be integer numbers");if(n===0||r===0)return 0;for(var o,t=n*r;r!==0;)o=r,r=n%o,n=o;return Math.abs(t/n)}c5.signature=ki;function d5(n){return CC(n)}d5.signature=Yn;function f5(n){return EC(n)}f5.signature=Yn;function h5(n){return MC(n)}h5.signature=Yn;function p5(n,r){return r===0?n:n-r*Math.floor(n/r)}p5.signature=ki;function m5(n){return SC(n)}m5.signature=Yn;function g5(n){return Math.sqrt(n)}g5.signature=Yn;function y5(n){return n*n}y5.signature=Yn;function v5(n,r){var o,t,i,s=0,a=1,u=1,l=0;if(!qt(n)||!qt(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)t=Math.floor(n/r),i=n-t*r,o=s,s=a-t*s,a=o,o=u,u=l-t*u,l=o,n=r,r=i;var c;return n<0?c=[-n,-a,-l]:c=[n,n?a:0,l],c}v5.signature=ki;function b5(n,r){return n*n<1&&r===1/0||n*n>1&&r===-1/0?0:Math.pow(n,r)}b5.signature=ki;function w5(n){return Math.abs(n)}w5.signature=Yn;var Ju="number";function _5(n){return qt(n)}_5.signature=Ju;function x5(n){return n<0}x5.signature=Ju;function D5(n){return n>0}D5.signature=Ju;function S5(n){return n===0}S5.signature=Ju;function u0(n){return Number.isNaN(n)}u0.signature=Ju;function Ch(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(o<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return n.isNaN()||r.isNaN()?!1:!n.isFinite()||!r.isFinite()?n.eq(r):n.eq(r)?!0:n.minus(r).abs().lte(n.constructor.max(n.constructor.max(n.abs(),r.abs()).mul(o),t))}var c2="isZero",E5=["typed","equalScalar"],c0=Le(c2,E5,n=>{var{typed:r,equalScalar:o}=n;return r(c2,{"number | BigNumber | Complex | Fraction":t=>o(t,0),bigint:t=>t===0n,Unit:r.referToSelf(t=>i=>r.find(t,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(t=>i=>vn(i,t))})});var d2="isNaN",C5=["typed"],d0=Le(d2,C5,n=>{var{typed:r}=n;return r(d2,{number:u0,BigNumber:function(t){return t.isNaN()},bigint:function(t){return!1},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":r.referToSelf(o=>t=>vn(t,o))})});function f2(n,r,o,t){return as(n.re,r.re,o,t)&&as(n.im,r.im,o,t)}var Mh=Le("compareUnits",["typed"],n=>{var{typed:r}=n;return{"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(!t.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(o,[t.valueType(),i.valueType()])(t.value,i.value)})}});var Ah="equalScalar",M5=["typed","config"],f0=Le(Ah,M5,n=>{var{typed:r,config:o}=n,t=Mh({typed:r});return r(Ah,{"boolean, boolean":function(s,a){return s===a},"number, number":function(s,a){return as(s,a,o.relTol,o.absTol)},"BigNumber, BigNumber":function(s,a){return s.eq(a)||Ch(s,a,o.relTol,o.absTol)},"bigint, bigint":function(s,a){return s===a},"Fraction, Fraction":function(s,a){return s.equals(a)},"Complex, Complex":function(s,a){return f2(s,a,o.relTol,o.absTol)}},t)}),kY=Le(Ah,["typed","config"],n=>{var{typed:r,config:o}=n;return r(Ah,{"number, number":function(i,s){return as(i,s,o.relTol,o.absTol)}})});var A5="SparseMatrix",T5=["typed","equalScalar","Matrix"],h0=Le(A5,T5,n=>{var{typed:r,equalScalar:o,Matrix:t}=n;function i(f,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Pn(v))throw new Error("Invalid datatype: "+v);if(er(f))s(this,f,v);else if(f&&qr(f.index)&&qr(f.ptr)&&qr(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(qr(f))a(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+In(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function s(f,v,g){v.type==="SparseMatrix"?(f._values=v._values?nr(v._values):void 0,f._index=nr(v._index),f._ptr=nr(v._ptr),f._size=nr(v._size),f._datatype=g||v._datatype):a(f,v.valueOf(),g||v._datatype)}function a(f,v,g){f._values=[],f._index=[],f._ptr=[],f._datatype=g;var w=v.length,b=0,_=o,D=0;if(Pn(g)&&(_=r.find(o,[g,g])||o,D=r.convert(0,g)),w>0){var C=0;do{f._ptr.push(f._index.length);for(var M=0;M<w;M++){var E=v[M];if(qr(E)){if(C===0&&b<E.length&&(b=E.length),C<E.length){var S=E[C];_(S,D)||(f._values.push(S),f._index.push(M))}}else C===0&&b<1&&(b=1),_(E,D)||(f._values.push(E),f._index.push(M))}C++}while(C<b)}for(;f._ptr.length<=b;)f._ptr.push(f._index.length);f._size=[w,b]}i.prototype=new t,i.prototype.createSparseMatrix=function(f,v){return new i(f,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Qu(this._values,In)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,v){return new i(f,v)},i.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},i.prototype.subset=function(f,v,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,f);case 2:case 3:return l(this,f,v,g);default:throw new SyntaxError("Wrong number of arguments")}};function u(f,v){if(!_l(v))throw new TypeError("Invalid index");var g=v.isScalar();if(g)return f.get(v.min());var w=v.size();if(w.length!==f._size.length)throw new Ct(w.length,f._size.length);var b,_,D,C,M=v.min(),E=v.max();for(b=0,_=f._size.length;b<_;b++)Br(M[b],f._size[b]),Br(E[b],f._size[b]);var S=f._values,O=f._index,I=f._ptr,F=v.dimension(0),j=v.dimension(1),L=[],B=[];function k(Q,le){B[Q]=le[0],L[Q]=!0}Number.isInteger(F)?k(F,[0]):F.forEach(k);var q=S?[]:void 0,G=[],U=[];function W(Q){for(U.push(G.length),D=I[Q],C=I[Q+1];D<C;D++)b=O[D],L[b]===!0&&(G.push(B[b]),q&&q.push(S[D]))}return Number.isInteger(j)?W(j):j.forEach(W),U.push(G.length),new i({values:q,index:G,ptr:U,size:w,datatype:f._datatype})}function l(f,v,g,w){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var b=v.size(),_=v.isScalar(),D;if(er(g)?(D=g.size(),g=g.toArray()):D=xr(g),_){if(D.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),g,w)}else{if(b.length!==1&&b.length!==2)throw new Ct(b.length,f._size.length,"<");if(D.length<b.length){for(var C=0,M=0;b[C]===1&&D[C]===1;)C++;for(;b[C]===1;)M++,C++;g=wh(g,b.length,M,D)}if(!yo(b,D))throw new Ct(b,D,">");if(b.length===1){var E=v.dimension(0);I(E,(F,j)=>{Br(F),f.set([F,0],g[j[0]],w)})}else{var S=v.dimension(0),O=v.dimension(1);I(S,(F,j)=>{Br(F),I(O,(L,B)=>{Br(L),f.set([F,L],g[j[0]][B[0]],w)})})}}return f;function I(F,j){Lt(F)?j(F,[0]):F.forEach(j)}}i.prototype.get=function(f){if(!qr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Ct(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],g=f[1];Br(v,this._size[0]),Br(g,this._size[1]);var w=c(v,this._ptr[g],this._ptr[g+1],this._index);return w<this._ptr[g+1]&&this._index[w]===v?this._values[w]:0},i.prototype.set=function(f,v,g){if(!qr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Ct(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=f[0],b=f[1],_=this._size[0],D=this._size[1],C=o,M=0;Pn(this._datatype)&&(C=r.find(o,[this._datatype,this._datatype])||o,M=r.convert(0,this._datatype)),(w>_-1||b>D-1)&&(d(this,Math.max(w+1,_),Math.max(b+1,D),g),_=this._size[0],D=this._size[1]),Br(w,_),Br(b,D);var E=c(w,this._ptr[b],this._ptr[b+1],this._index);return E<this._ptr[b+1]&&this._index[E]===w?C(v,M)?m(E,b,this._values,this._index,this._ptr):this._values[E]=v:C(v,M)||y(E,w,b,v,this._values,this._index,this._ptr),this};function c(f,v,g,w){if(g-v===0)return g;for(var b=v;b<g;b++)if(w[b]===f)return b;return v}function m(f,v,g,w,b){g.splice(f,1),w.splice(f,1);for(var _=v+1;_<b.length;_++)b[_]--}function y(f,v,g,w,b,_,D){b.splice(f,0,w),_.splice(f,0,v);for(var C=g+1;C<D.length;C++)D[C]++}i.prototype.resize=function(f,v,g){if(!ji(f))throw new TypeError("Array or Matrix expected");var w=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(_){if(!Lt(_)||!qt(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ir(w)+")")});var b=g?this.clone():this;return d(b,w[0],w[1],v)};function d(f,v,g,w){var b=w||0,_=o,D=0;Pn(f._datatype)&&(_=r.find(o,[f._datatype,f._datatype])||o,D=r.convert(0,f._datatype),b=r.convert(b,f._datatype));var C=!_(b,D),M=f._size[0],E=f._size[1],S,O,I;if(g>E){for(O=E;O<g;O++)if(f._ptr[O]=f._values.length,C)for(S=0;S<M;S++)f._values.push(b),f._index.push(S);f._ptr[g]=f._values.length}else g<E&&(f._ptr.splice(g+1,E-g),f._values.splice(f._ptr[g],f._values.length),f._index.splice(f._ptr[g],f._index.length));if(E=g,v>M){if(C){var F=0;for(O=0;O<E;O++){f._ptr[O]=f._ptr[O]+F,I=f._ptr[O+1]+F;var j=0;for(S=M;S<v;S++,j++)f._values.splice(I+j,0,b),f._index.splice(I+j,0,S),F++}f._ptr[E]=f._values.length}}else if(v<M){var L=0;for(O=0;O<E;O++){f._ptr[O]=f._ptr[O]-L;var B=f._ptr[O],k=f._ptr[O+1]-L;for(I=B;I<k;I++)S=f._index[I],S>v-1&&(f._values.splice(I,1),f._index.splice(I,1),L++)}f._ptr[O]=f._values.length}return f._size[0]=v,f._size[1]=g,f}i.prototype.reshape=function(f,v){if(!qr(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(U){if(!Lt(U)||!qt(U)||U<=-2||U===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ir(f)+")")});var g=this._size[0]*this._size[1];f=Zu(f,g);var w=f[0]*f[1];if(g!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var _=[],D=0;D<b._ptr.length;D++)for(var C=0;C<b._ptr[D+1]-b._ptr[D];C++)_.push(D);for(var M=b._values.slice(),E=b._index.slice(),S=0;S<b._index.length;S++){var O=E[S],I=_[S],F=O*b._size[1]+I;_[S]=F%f[1],E[S]=Math.floor(F/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var j=0;j<b._ptr.length;j++)b._ptr[j]=0;for(var L=0;L<M.length;L++){var B=E[L],k=_[L],q=M[L],G=c(B,b._ptr[k],b._ptr[k+1],b._index);y(G,B,k,q,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var f=new i({values:this._values?nr(this._values):void 0,index:nr(this._index),ptr:nr(this._ptr),size:nr(this._size),datatype:this._datatype});return f},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,w=this._size[0],b=this._size[1],_=hs(f,g,"map"),D=function(M,E,S){return _.fn(M,[E,S],g)};return h(this,0,w-1,0,b-1,D,v)};function h(f,v,g,w,b,_,D){var C=[],M=[],E=[],S=o,O=0;Pn(f._datatype)&&(S=r.find(o,[f._datatype,f._datatype])||o,O=r.convert(0,f._datatype));for(var I=function(P,T,V){var H=_(P,T,V);S(H,O)||(C.push(H),M.push(T))},F=w;F<=b;F++){E.push(C.length);var j=f._ptr[F],L=f._ptr[F+1];if(D)for(var B=j;B<L;B++){var k=f._index[B];k>=v&&k<=g&&I(f._values[B],k-v,F-w)}else{for(var q={},G=j;G<L;G++){var U=f._index[G];q[U]=f._values[G]}for(var W=v;W<=g;W++){var Q=W in q?q[W]:0;I(Q,W-v,F-w)}}}return E.push(C.length),new i({values:C,index:M,ptr:E,size:[g-v+1,b-w+1]})}i.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,w=this._size[0],b=this._size[1],_=hs(f,g,"forEach"),D=0;D<b;D++){var C=this._ptr[D],M=this._ptr[D+1];if(v)for(var E=C;E<M;E++){var S=this._index[E];_.fn(this._values[E],[S,D],g)}else{for(var O={},I=C;I<M;I++){var F=this._index[I];O[F]=this._values[I]}for(var j=0;j<w;j++){var L=j in O?O[j]:0;_.fn(L,[j,D],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var g=this._ptr[v],w=this._ptr[v+1],b=g;b<w;b++){var _=this._index[b];yield{value:this._values[b],index:[_,v]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(f,v,g,w,b){var _=w[0],D=w[1],C=[],M,E;for(M=0;M<_;M++)for(C[M]=[],E=0;E<D;E++)C[M][E]=0;for(E=0;E<D;E++)for(var S=g[E],O=g[E+1],I=S;I<O;I++)M=v[I],C[M][E]=f?b?nr(f[I]):f[I]:1;return C}return i.prototype.format=function(f){for(var v=this._size[0],g=this._size[1],w=this.density(),b="Sparse Matrix ["+ir(v,f)+" x "+ir(g,f)+"] density: "+ir(w,f)+`
`,_=0;_<g;_++)for(var D=this._ptr[_],C=this._ptr[_+1],M=D;M<C;M++){var E=this._index[M];b+=`
    (`+ir(E,f)+", "+ir(_,f)+") ==> "+(this._values?ir(this._values[M],f):"X")}return b},i.prototype.toString=function(){return ir(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Zt(f)&&(f=f.toNumber()),!Lt(f)||!qt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,g=f<0?-f:0,w=this._size[0],b=this._size[1],_=Math.min(w-g,b-v),D=[],C=[],M=[];M[0]=0;for(var E=v;E<b&&D.length<_;E++)for(var S=this._ptr[E],O=this._ptr[E+1],I=S;I<O;I++){var F=this._index[I];if(F===E-v+g){D.push(this._values[I]),C[D.length-1]=F-g;break}}return M.push(D.length),new i({values:D,index:C,ptr:M,size:[_,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,v,g,w,b){if(!qr(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(U){if(Zt(U)&&(U=U.toNumber()),!Lt(U)||!qt(U)||U<1)throw new Error("Size values must be positive integers");return U}),g){if(Zt(g)&&(g=g.toNumber()),!Lt(g)||!qt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=o,D=0;Pn(b)&&(_=r.find(o,[b,b])||o,D=r.convert(0,b));var C=g>0?g:0,M=g<0?-g:0,E=f[0],S=f[1],O=Math.min(E-M,S-C),I;if(qr(v)){if(v.length!==O)throw new Error("Invalid value array length");I=function(W){return v[W]}}else if(er(v)){var F=v.size();if(F.length!==1||F[0]!==O)throw new Error("Invalid matrix length");I=function(W){return v.get([W])}}else I=function(){return v};for(var j=[],L=[],B=[],k=0;k<S;k++){B.push(j.length);var q=k-C;if(q>=0&&q<O){var G=I(q);_(G,D)||(L.push(q+M),j.push(G))}}return B.push(j.length),new i({values:j,index:L,ptr:B,size:[E,S]})},i.prototype.swapRows=function(f,v){if(!Lt(f)||!qt(f)||!Lt(v)||!qt(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Br(f,this._size[0]),Br(v,this._size[0]),i._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,v,g,w,b){for(var _=w[f],D=w[f+1],C=_;C<D;C++)b(g[C],v[C])},i._swapRows=function(f,v,g,w,b,_){for(var D=0;D<g;D++){var C=_[D],M=_[D+1],E=c(f,C,M,b),S=c(v,C,M,b);if(E<M&&S<M&&b[E]===f&&b[S]===v){if(w){var O=w[E];w[E]=w[S],w[S]=O}continue}if(E<M&&b[E]===f&&(S>=M||b[S]!==v)){var I=w?w[E]:void 0;b.splice(S,0,v),w&&w.splice(S,0,I),b.splice(S<=E?E+1:E,1),w&&w.splice(S<=E?E+1:E,1);continue}if(S<M&&b[S]===v&&(E>=M||b[E]!==f)){var F=w?w[S]:void 0;b.splice(E,0,f),w&&w.splice(E,0,F),b.splice(E<=S?S+1:S,1),w&&w.splice(E<=S?S+1:S,1)}}},i},{isClass:!0});var I5="number",j5=["typed"];function N5(n){var r=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var o={"0b":2,"0o":8,"0x":16}[r[1]],t=r[2],i=r[3];return{input:n,radix:o,integerPart:t,fractionalPart:i}}else return null}function O5(n){for(var r=parseInt(n.integerPart,n.radix),o=0,t=0;t<n.fractionalPart.length;t++){var i=parseInt(n.fractionalPart[t],n.radix);o+=i/Math.pow(n.radix,t+1)}var s=r+o;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}var p0=Le(I5,j5,n=>{var{typed:r}=n,o=r("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var s=N5(i);if(s)return O5(s);var a=0,u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(a=Number(u[2]),i=u[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(u){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":r.referToSelf(t=>i=>vn(i,t))});return o.fromJSON=function(t){return parseFloat(t.value)},o});var F5="bignumber",k5=["typed","BigNumber"],m0=Le(F5,k5,n=>{var{typed:r,BigNumber:o}=n;return r("bignumber",{"":function(){return new o(0)},number:function(i){return new o(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var a=s[2],u=o(s[1]),l=new o(2).pow(Number(a));if(u.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new o(2).pow(Number(a)-1);return u.gte(c)?u.sub(l):u}return new o(i)},BigNumber:function(i){return i},bigint:function(i){return new o(i.toString())},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),Fraction:function(i){return new o(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new o(0)},"Array | Matrix":r.referToSelf(t=>i=>vn(i,t))})});var R5="fraction",P5=["typed","Fraction"],g0=Le(R5,P5,n=>{var{typed:r,Fraction:o}=n;return r("fraction",{number:function(i){if(!Number.isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new o(i)},string:function(i){return new o(i)},"number, number":function(i,s){return new o(i,s)},"bigint, bigint":function(i,s){return new o(i,s)},null:function(i){return new o(0)},BigNumber:function(i){return new o(i.toString())},bigint:function(i){return new o(i.toString())},Fraction:function(i){return i},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),Object:function(i){return new o(i)},"Array | Matrix":r.referToSelf(t=>i=>vn(i,t))})});var h2="matrix",L5=["typed","Matrix","DenseMatrix","SparseMatrix"],y0=Le(h2,L5,n=>{var{typed:r,Matrix:o,DenseMatrix:t,SparseMatrix:i}=n;return r(h2,{"":function(){return s([])},string:function(u){return s([],u)},"string, string":function(u,l){return s([],u,l)},Array:function(u){return s(u)},Matrix:function(u){return s(u,u.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(a,u,l){if(u==="dense"||u==="default"||u===void 0)return new t(a,l);if(u==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}});var p2="unaryMinus",B5=["typed"],v0=Le(p2,B5,n=>{var{typed:r}=n;return r(p2,{number:a0,"Complex | BigNumber | Fraction":o=>o.neg(),bigint:o=>-o,Unit:r.referToSelf(o=>t=>{var i=t.clone();return i.value=r.find(o,i.valueType())(t.value),i}),"Array | Matrix":r.referToSelf(o=>t=>vn(t,o,!0))})});var m2="abs",V5=["typed"],b0=Le(m2,V5,n=>{var{typed:r}=n;return r(m2,{number:n0,"Complex | BigNumber | Fraction | Unit":o=>o.abs(),bigint:o=>o<0n?-o:o,"Array | Matrix":r.referToSelf(o=>t=>vn(t,o,!0))})});var g2="addScalar",U5=["typed"],w0=Le(g2,U5,n=>{var{typed:r}=n;return r(g2,{"number, number":o0,"Complex, Complex":function(t,i){return t.add(i)},"BigNumber, BigNumber":function(t,i){return t.plus(i)},"bigint, bigint":function(t,i){return t+i},"Fraction, Fraction":function(t,i){return t.add(i)},"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(o,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})});var y2="subtractScalar",z5=["typed"],_0=Le(y2,z5,n=>{var{typed:r}=n;return r(y2,{"number, number":i0,"Complex, Complex":function(t,i){return t.sub(i)},"BigNumber, BigNumber":function(t,i){return t.minus(i)},"bigint, bigint":function(t,i){return t-i},"Fraction, Fraction":function(t,i){return t.sub(i)},"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(o,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})});var G5="matAlgo11xS0s",H5=["typed","equalScalar"],Il=Le(G5,H5,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a,u){var l=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=o,g=0,w=a;typeof d=="string"&&(f=d,v=r.find(o,[f,f]),g=r.convert(0,f),s=r.convert(s,f),w=r.find(a,[f,f]));for(var b=[],_=[],D=[],C=0;C<p;C++){D[C]=_.length;for(var M=m[C],E=m[C+1],S=M;S<E;S++){var O=c[S],I=u?w(s,l[S]):w(l[S],s);v(I,g)||(_.push(O),b.push(I))}}return D[p]=_.length,i.createSparseMatrix({values:b,index:_,ptr:D,size:[h,p],datatype:f})}});var q5="matAlgo12xSfs",W5=["typed","DenseMatrix"],jl=Le(q5,W5,n=>{var{typed:r,DenseMatrix:o}=n;return function(i,s,a,u){var l=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=a;typeof d=="string"&&(f=d,s=r.convert(s,f),v=r.find(a,[f,f]));for(var g=[],w=[],b=[],_=0;_<p;_++){for(var D=_+1,C=m[_],M=m[_+1],E=C;E<M;E++){var S=c[E];w[S]=l[E],b[S]=D}for(var O=0;O<h;O++)_===0&&(g[O]=[]),b[O]===D?g[O][_]=u?v(s,w[O]):v(w[O],s):g[O][_]=u?v(s,0):v(0,s)}return new o({data:g,size:[h,p],datatype:f})}});var $5="matAlgo14xDs",Y5=["typed"],Nl=Le($5,Y5,n=>{var{typed:r}=n;return function(i,s,a,u){var l=i._data,c=i._size,m=i._datatype,y,d=a;typeof m=="string"&&(y=m,s=r.convert(s,y),d=r.find(a,[y,y]));var h=c.length>0?o(d,0,c,c[0],l,s,u):[];return i.createDenseMatrix({data:h,size:nr(c),datatype:y})};function o(t,i,s,a,u,l,c){var m=[];if(i===s.length-1)for(var y=0;y<a;y++)m[y]=c?t(l,u[y]):t(u[y],l);else for(var d=0;d<a;d++)m[d]=o(t,i+1,s,s[i+1],u[d],l,c);return m}});var v2="exp",X5=["typed"],x0=Le(v2,X5,n=>{var{typed:r}=n;return r(v2,{number:l0,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()}})});var Z5="matAlgo02xDS0",Q5=["typed","equalScalar"],b2=Le(Z5,Q5,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a,u){var l=i._data,c=i._size,m=i._datatype||i.getDataType(),y=s._values,d=s._index,h=s._ptr,p=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new Ct(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!y)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],g=c[1],w,b=o,_=0,D=a;typeof m=="string"&&m===f&&m!=="mixed"&&(w=m,b=r.find(o,[w,w]),_=r.convert(0,w),D=r.find(a,[w,w]));for(var C=[],M=[],E=[],S=0;S<g;S++){E[S]=M.length;for(var O=h[S],I=h[S+1],F=O;F<I;F++){var j=d[F],L=u?D(y[F],l[j][S]):D(l[j][S],y[F]);b(L,_)||(M.push(j),C.push(L))}}return E[g]=M.length,s.createSparseMatrix({values:C,index:M,ptr:E,size:[v,g],datatype:m===i._datatype&&f===s._datatype?w:void 0})}});var K5="matAlgo03xDSf",J5=["typed"],Ol=Le(K5,J5,n=>{var{typed:r}=n;return function(t,i,s,a){var u=t._data,l=t._size,c=t._datatype||t.getDataType(),m=i._values,y=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!m)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],v=l[1],g,w=0,b=s;typeof c=="string"&&c===p&&c!=="mixed"&&(g=c,w=r.convert(0,g),b=r.find(s,[g,g]));for(var _=[],D=0;D<f;D++)_[D]=[];for(var C=[],M=[],E=0;E<v;E++){for(var S=E+1,O=d[E],I=d[E+1],F=O;F<I;F++){var j=y[F];C[j]=a?b(m[F],u[j][E]):b(u[j][E],m[F]),M[j]=S}for(var L=0;L<f;L++)M[L]===S?_[L][E]=C[L]:_[L][E]=a?b(w,u[L][E]):b(u[L][E],w)}return t.createDenseMatrix({data:_,size:[f,v],datatype:c===t._datatype&&p===i._datatype?g:void 0})}});var e4="matAlgo05xSfSf",t4=["typed","equalScalar"],w2=Le(e4,t4,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var u=i._values,l=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new Ct(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=u&&d?[]:void 0,E=[],S=[],O=M?[]:void 0,I=M?[]:void 0,F=[],j=[],L,B,k,q;for(B=0;B<w;B++){S[B]=E.length;var G=B+1;for(k=c[B],q=c[B+1];k<q;k++)L=l[k],E.push(L),F[L]=G,O&&(O[L]=u[k]);for(k=p[B],q=p[B+1];k<q;k++)L=h[k],F[L]!==G&&E.push(L),j[L]=G,I&&(I[L]=d[k]);if(M)for(k=S[B];k<E.length;){L=E[k];var U=F[L],W=j[L];if(U===G||W===G){var Q=U===G?O[L]:D,le=W===G?I[L]:D,P=C(Q,le);_(P,D)?E.splice(k,1):(M.push(P),k++)}}}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var r4="matAlgo13xDD",n4=["typed"],_2=Le(r4,n4,n=>{var{typed:r}=n;return function(i,s,a){var u=i._data,l=i._size,c=i._datatype,m=s._data,y=s._size,d=s._datatype,h=[];if(l.length!==y.length)throw new Ct(l.length,y.length);for(var p=0;p<l.length;p++){if(l[p]!==y[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+y+")");h[p]=l[p]}var f,v=a;typeof c=="string"&&c===d&&(f=c,v=r.find(a,[f,f]));var g=h.length>0?o(v,0,h,h[0],u,m):[];return i.createDenseMatrix({data:g,size:h,datatype:f})};function o(t,i,s,a,u,l){var c=[];if(i===s.length-1)for(var m=0;m<a;m++)c[m]=t(u[m],l[m]);else for(var y=0;y<a;y++)c[y]=o(t,i+1,s,s[i+1],u[y],l[y]);return c}});function dn(n,r){if(yo(n.size(),r.size()))return[n,r];var o=Tl(n.size(),r.size());return[n,r].map(t=>o4(t,o))}function o4(n,r){return yo(n.size(),r)?n:n.create(ui(n.valueOf(),r),n.datatype())}var i4="matrixAlgorithmSuite",s4=["typed","matrix"],ci=Le(i4,s4,n=>{var{typed:r,matrix:o}=n,t=_2({typed:r}),i=Nl({typed:r});return function(a){var u=a.elop,l=a.SD||a.DS,c;u?(c={"DenseMatrix, DenseMatrix":(h,p)=>t(...dn(h,p),u),"Array, Array":(h,p)=>t(...dn(o(h),o(p)),u).valueOf(),"Array, DenseMatrix":(h,p)=>t(...dn(o(h),p),u),"DenseMatrix, Array":(h,p)=>t(...dn(h,o(p)),u)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(h,p)=>a.SS(...dn(h,p),u,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(h,p)=>a.DS(...dn(h,p),u,!1),c["Array, SparseMatrix"]=(h,p)=>a.DS(...dn(o(h),p),u,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(h,p)=>l(...dn(p,h),u,!0),c["SparseMatrix, Array"]=(h,p)=>l(...dn(o(p),h),u,!0))):(c={"DenseMatrix, DenseMatrix":r.referToSelf(h=>(p,f)=>t(...dn(p,f),h)),"Array, Array":r.referToSelf(h=>(p,f)=>t(...dn(o(p),o(f)),h).valueOf()),"Array, DenseMatrix":r.referToSelf(h=>(p,f)=>t(...dn(o(p),f),h)),"DenseMatrix, Array":r.referToSelf(h=>(p,f)=>t(...dn(p,o(f)),h))},a.SS&&(c["SparseMatrix, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.SS(...dn(p,f),h,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.DS(...dn(p,f),h,!1)),c["Array, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.DS(...dn(o(p),f),h,!1))),l&&(c["SparseMatrix, DenseMatrix"]=r.referToSelf(h=>(p,f)=>l(...dn(f,p),h,!0)),c["SparseMatrix, Array"]=r.referToSelf(h=>(p,f)=>l(...dn(o(f),p),h,!0))));var m=a.scalar||"any",y=a.Ds||a.Ss;y&&(u?(c["DenseMatrix,"+m]=(h,p)=>i(h,p,u,!1),c[m+", DenseMatrix"]=(h,p)=>i(p,h,u,!0),c["Array,"+m]=(h,p)=>i(o(h),p,u,!1).valueOf(),c[m+", Array"]=(h,p)=>i(o(p),h,u,!0).valueOf()):(c["DenseMatrix,"+m]=r.referToSelf(h=>(p,f)=>i(p,f,h,!1)),c[m+", DenseMatrix"]=r.referToSelf(h=>(p,f)=>i(f,p,h,!0)),c["Array,"+m]=r.referToSelf(h=>(p,f)=>i(o(p),f,h,!1).valueOf()),c[m+", Array"]=r.referToSelf(h=>(p,f)=>i(o(f),p,h,!0).valueOf())));var d=a.sS!==void 0?a.sS:a.Ss;return u?(a.Ss&&(c["SparseMatrix,"+m]=(h,p)=>a.Ss(h,p,u,!1)),d&&(c[m+", SparseMatrix"]=(h,p)=>d(p,h,u,!0))):(a.Ss&&(c["SparseMatrix,"+m]=r.referToSelf(h=>(p,f)=>a.Ss(p,f,h,!1))),d&&(c[m+", SparseMatrix"]=r.referToSelf(h=>(p,f)=>d(f,p,h,!0)))),u&&u.signatures&&ih(c,u.signatures),c}});var a4="matAlgo01xDSid",l4=["typed"],Th=Le(a4,l4,n=>{var{typed:r}=n;return function(t,i,s,a){var u=t._data,l=t._size,c=t._datatype||t.getDataType(),m=i._values,y=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==h.length)throw new Ct(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!m)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],v=l[1],g=typeof c=="string"&&c!=="mixed"&&c===p?c:void 0,w=g?r.find(s,[g,g]):s,b,_,D=[];for(b=0;b<f;b++)D[b]=[];var C=[],M=[];for(_=0;_<v;_++){for(var E=_+1,S=d[_],O=d[_+1],I=S;I<O;I++)b=y[I],C[b]=a?w(m[I],u[b][_]):w(u[b][_],m[I]),M[b]=E;for(b=0;b<f;b++)M[b]===E?D[b][_]=C[b]:D[b][_]=u[b][_]}return t.createDenseMatrix({data:D,size:[f,v],datatype:c===t._datatype&&p===i._datatype?g:void 0})}});var u4="matAlgo04xSidSid",c4=["typed","equalScalar"],x2=Le(u4,c4,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var u=i._values,l=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new Ct(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=u&&d?[]:void 0,E=[],S=[],O=u&&d?[]:void 0,I=u&&d?[]:void 0,F=[],j=[],L,B,k,q,G;for(B=0;B<w;B++){S[B]=E.length;var U=B+1;for(q=c[B],G=c[B+1],k=q;k<G;k++)L=l[k],E.push(L),F[L]=U,O&&(O[L]=u[k]);for(q=p[B],G=p[B+1],k=q;k<G;k++)if(L=h[k],F[L]===U){if(O){var W=C(O[L],d[k]);_(W,D)?F[L]=null:O[L]=W}}else E.push(L),j[L]=U,I&&(I[L]=d[k]);if(O&&I)for(k=S[B];k<E.length;)L=E[k],F[L]===U?(M[k]=O[L],k++):j[L]===U?(M[k]=I[L],k++):E.splice(k,1)}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var d4="matAlgo10xSids",f4=["typed","DenseMatrix"],Ih=Le(d4,f4,n=>{var{typed:r,DenseMatrix:o}=n;return function(i,s,a,u){var l=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=a;typeof d=="string"&&(f=d,s=r.convert(s,f),v=r.find(a,[f,f]));for(var g=[],w=[],b=[],_=0;_<p;_++){for(var D=_+1,C=m[_],M=m[_+1],E=C;E<M;E++){var S=c[E];w[S]=l[E],b[S]=D}for(var O=0;O<h;O++)_===0&&(g[O]=[]),b[O]===D?g[O][_]=u?v(s,w[O]):v(w[O],s):g[O][_]=s}return new o({data:g,size:[h,p],datatype:f})}});function oa(n,r,o,t){if(!(this instanceof oa))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=r,this.min=o,this.max=t,this.message="Wrong number of arguments in function "+n+" ("+r+" provided, "+o+(t!=null?"-"+t:"")+" expected)",this.stack=new Error().stack}oa.prototype=new Error;oa.prototype.constructor=Error;oa.prototype.name="ArgumentsError";oa.prototype.isArgumentsError=!0;var h4="multiplyScalar",p4=["typed"],D0=Le(h4,p4,n=>{var{typed:r}=n;return r("multiplyScalar",{"number, number":s0,"Complex, Complex":function(t,i){return t.mul(i)},"BigNumber, BigNumber":function(t,i){return t.times(i)},"bigint, bigint":function(t,i){return t*i},"Fraction, Fraction":function(t,i){return t.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(o,t)=>t.multiply(o),"Unit, number | Fraction | BigNumber | Complex | Unit":(o,t)=>o.multiply(t)})});var D2="multiply",m4=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],S0=Le(D2,m4,n=>{var{typed:r,matrix:o,addScalar:t,multiplyScalar:i,equalScalar:s,dot:a}=n,u=Il({typed:r,equalScalar:s}),l=Nl({typed:r});function c(D,C){switch(D.length){case 1:switch(C.length){case 1:if(D[0]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(D[0]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+D[0]+") must match Matrix rows ("+C[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+C.length+" dimensions)")}break;case 2:switch(C.length){case 1:if(D[1]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+D[1]+") must match Vector length ("+C[0]+")");break;case 2:if(D[1]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+D[1]+") must match Matrix B rows ("+C[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+C.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+D.length+" dimensions)")}}function m(D,C,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return a(D,C)}function y(D,C){if(C.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(D,C)}function d(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,I=C._size,F=C._datatype||C.getDataType(),j=E[0],L=I[1],B,k=t,q=i;S&&F&&S===F&&typeof S=="string"&&S!=="mixed"&&(B=S,k=r.find(t,[B,B]),q=r.find(i,[B,B]));for(var G=[],U=0;U<L;U++){for(var W=q(M[0],O[0][U]),Q=1;Q<j;Q++)W=k(W,q(M[Q],O[Q][U]));G[U]=W}return D.createDenseMatrix({data:G,size:[L],datatype:S===D._datatype&&F===C._datatype?B:void 0})}var h=r("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":w}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":_});function f(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,I=C._datatype||C.getDataType(),F=E[0],j=E[1],L,B=t,k=i;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(L=S,B=r.find(t,[L,L]),k=r.find(i,[L,L]));for(var q=[],G=0;G<F;G++){for(var U=M[G],W=k(U[0],O[0]),Q=1;Q<j;Q++)W=B(W,k(U[Q],O[Q]));q[G]=W}return D.createDenseMatrix({data:q,size:[F],datatype:S===D._datatype&&I===C._datatype?L:void 0})}function v(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,I=C._size,F=C._datatype||C.getDataType(),j=E[0],L=E[1],B=I[1],k,q=t,G=i;S&&F&&S===F&&typeof S=="string"&&S!=="mixed"&&S!=="mixed"&&(k=S,q=r.find(t,[k,k]),G=r.find(i,[k,k]));for(var U=[],W=0;W<j;W++){var Q=M[W];U[W]=[];for(var le=0;le<B;le++){for(var P=G(Q[0],O[0][le]),T=1;T<L;T++)P=q(P,G(Q[T],O[T][le]));U[W][le]=P}}return D.createDenseMatrix({data:U,size:[j,B],datatype:S===D._datatype&&F===C._datatype?k:void 0})}function g(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._values,I=C._index,F=C._ptr,j=C._size,L=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!O)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var B=E[0],k=j[1],q,G=t,U=i,W=s,Q=0;S&&L&&S===L&&typeof S=="string"&&S!=="mixed"&&(q=S,G=r.find(t,[q,q]),U=r.find(i,[q,q]),W=r.find(s,[q,q]),Q=r.convert(0,q));for(var le=[],P=[],T=[],V=C.createSparseMatrix({values:le,index:P,ptr:T,size:[B,k],datatype:S===D._datatype&&L===C._datatype?q:void 0}),H=0;H<k;H++){T[H]=P.length;var K=F[H],re=F[H+1];if(re>K)for(var ie=0,ce=0;ce<B;ce++){for(var se=ce+1,he=void 0,ue=K;ue<re;ue++){var te=I[ue];ie!==se?(he=U(M[ce][te],O[ue]),ie=se):he=G(he,U(M[ce][te],O[ue]))}ie===se&&!W(he,Q)&&(P.push(ce),le.push(he))}}return T[k]=P.length,V}function w(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=C._data,F=C._datatype||C.getDataType(),j=D._size[0],L=C._size[0],B=[],k=[],q=[],G,U=t,W=i,Q=s,le=0;O&&F&&O===F&&typeof O=="string"&&O!=="mixed"&&(G=O,U=r.find(t,[G,G]),W=r.find(i,[G,G]),Q=r.find(s,[G,G]),le=r.convert(0,G));var P=[],T=[];q[0]=0;for(var V=0;V<L;V++){var H=I[V];if(!Q(H,le))for(var K=S[V],re=S[V+1],ie=K;ie<re;ie++){var ce=E[ie];T[ce]?P[ce]=U(P[ce],W(H,M[ie])):(T[ce]=!0,k.push(ce),P[ce]=W(H,M[ie]))}}for(var se=k.length,he=0;he<se;he++){var ue=k[he];B[he]=P[ue]}return q[1]=k.length,D.createSparseMatrix({values:B,index:k,ptr:q,size:[j,1],datatype:O===D._datatype&&F===C._datatype?G:void 0})}function b(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=C._data,F=C._datatype||C.getDataType(),j=D._size[0],L=C._size[0],B=C._size[1],k,q=t,G=i,U=s,W=0;O&&F&&O===F&&typeof O=="string"&&O!=="mixed"&&(k=O,q=r.find(t,[k,k]),G=r.find(i,[k,k]),U=r.find(s,[k,k]),W=r.convert(0,k));for(var Q=[],le=[],P=[],T=D.createSparseMatrix({values:Q,index:le,ptr:P,size:[j,B],datatype:O===D._datatype&&F===C._datatype?k:void 0}),V=[],H=[],K=0;K<B;K++){P[K]=le.length;for(var re=K+1,ie=0;ie<L;ie++){var ce=I[ie][K];if(!U(ce,W))for(var se=S[ie],he=S[ie+1],ue=se;ue<he;ue++){var te=E[ue];H[te]!==re?(H[te]=re,le.push(te),V[te]=G(ce,M[ue])):V[te]=q(V[te],G(ce,M[ue]))}}for(var pe=P[K],ve=le.length,Me=pe;Me<ve;Me++){var xe=le[Me];Q[Me]=V[xe]}}return P[B]=le.length,T}function _(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType(),I=C._values,F=C._index,j=C._ptr,L=C._datatype||C._data===void 0?C._datatype:C.getDataType(),B=D._size[0],k=C._size[1],q=M&&I,G,U=t,W=i;O&&L&&O===L&&typeof O=="string"&&O!=="mixed"&&(G=O,U=r.find(t,[G,G]),W=r.find(i,[G,G]));for(var Q=q?[]:void 0,le=[],P=[],T=D.createSparseMatrix({values:Q,index:le,ptr:P,size:[B,k],datatype:O===D._datatype&&L===C._datatype?G:void 0}),V=q?[]:void 0,H=[],K,re,ie,ce,se,he,ue,te,pe=0;pe<k;pe++){P[pe]=le.length;var ve=pe+1;for(se=j[pe],he=j[pe+1],ce=se;ce<he;ce++)if(te=F[ce],q)for(re=S[te],ie=S[te+1],K=re;K<ie;K++)ue=E[K],H[ue]!==ve?(H[ue]=ve,le.push(ue),V[ue]=W(I[ce],M[K])):V[ue]=U(V[ue],W(I[ce],M[K]));else for(re=S[te],ie=S[te+1],K=re;K<ie;K++)ue=E[K],H[ue]!==ve&&(H[ue]=ve,le.push(ue));if(q)for(var Me=P[pe],xe=le.length,me=Me;me<xe;me++){var _e=le[me];Q[me]=V[_e]}}return P[k]=le.length,T}return r(D2,i,{"Array, Array":r.referTo("Matrix, Matrix",D=>(C,M)=>{c(xr(C),xr(M));var E=D(o(C),o(M));return er(E)?E.valueOf():E}),"Matrix, Matrix":function(C,M){var E=C.size(),S=M.size();return c(E,S),E.length===1?S.length===1?m(C,M,E[0]):y(C,M):S.length===1?h(C,M):p(C,M)},"Matrix, Array":r.referTo("Matrix,Matrix",D=>(C,M)=>D(C,o(M))),"Array, Matrix":r.referToSelf(D=>(C,M)=>D(o(C,M.storage()),M)),"SparseMatrix, any":function(C,M){return u(C,M,i,!1)},"DenseMatrix, any":function(C,M){return l(C,M,i,!1)},"any, SparseMatrix":function(C,M){return u(M,C,i,!0)},"any, DenseMatrix":function(C,M){return l(M,C,i,!0)},"Array, any":function(C,M){return l(o(C),M,i,!1).valueOf()},"any, Array":function(C,M){return l(o(M),C,i,!0).valueOf()},"any, any":i,"any, any, ...any":r.referToSelf(D=>(C,M,E)=>{for(var S=D(C,M),O=0;O<E.length;O++)S=D(S,E[O]);return S})})});var S2="subtract",g4=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],E0=Le(S2,g4,n=>{var{typed:r,matrix:o,equalScalar:t,subtractScalar:i,unaryMinus:s,DenseMatrix:a,concat:u}=n,l=Th({typed:r}),c=Ol({typed:r}),m=w2({typed:r,equalScalar:t}),y=Ih({typed:r,DenseMatrix:a}),d=jl({typed:r,DenseMatrix:a}),h=ci({typed:r,matrix:o,concat:u});return r(S2,{"any, any":i},h({elop:i,SS:m,DS:l,SD:c,Ss:d,sS:y}))});var y4="matAlgo09xS0Sf",v4=["typed","equalScalar"],E2=Le(y4,v4,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var u=i._values,l=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new Ct(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=u&&d?[]:void 0,E=[],S=[],O=M?[]:void 0,I=[],F,j,L,B,k;for(j=0;j<w;j++){S[j]=E.length;var q=j+1;if(O)for(B=p[j],k=p[j+1],L=B;L<k;L++)F=h[L],I[F]=q,O[F]=d[L];for(B=c[j],k=c[j+1],L=B;L<k;L++)if(F=l[L],O){var G=I[F]===q?O[F]:D,U=C(u[L],G);_(U,D)||(E.push(F),M.push(U))}else E.push(F)}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var C2="dotMultiply",b4=["typed","matrix","equalScalar","multiplyScalar","concat"],C0=Le(C2,b4,n=>{var{typed:r,matrix:o,equalScalar:t,multiplyScalar:i,concat:s}=n,a=b2({typed:r,equalScalar:t}),u=E2({typed:r,equalScalar:t}),l=Il({typed:r,equalScalar:t}),c=ci({typed:r,matrix:o,concat:s});return r(C2,c({elop:i,SS:u,DS:a,Ss:l}))});var w4="matAlgo07xSSf",_4=["typed","SparseMatrix"],jh=Le(w4,_4,n=>{var{typed:r,SparseMatrix:o}=n;return function(s,a,u){var l=s._size,c=s._datatype||s._data===void 0?s._datatype:s.getDataType(),m=a._size,y=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==m.length)throw new Ct(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var d=l[0],h=l[1],p,f=0,v=u;typeof c=="string"&&c===y&&c!=="mixed"&&(p=c,f=r.convert(0,p),v=r.find(u,[p,p]));for(var g=[],w=[],b=new Array(h+1).fill(0),_=[],D=[],C=[],M=[],E=0;E<h;E++){var S=E+1,O=0;t(s,E,C,_,S),t(a,E,M,D,S);for(var I=0;I<d;I++){var F=C[I]===S?_[I]:f,j=M[I]===S?D[I]:f,L=v(F,j);L!==0&&L!==!1&&(w.push(I),g.push(L),O++)}b[E+1]=b[E]+O}return new o({values:g,index:w,ptr:b,size:[d,h],datatype:c===s._datatype&&y===a._datatype?p:void 0})};function t(i,s,a,u,l){for(var c=i._values,m=i._index,y=i._ptr,d=y[s],h=y[s+1];d<h;d++){var p=m[d];a[p]=l,u[p]=c[d]}}});var M2="conj",x4=["typed"],M0=Le(M2,x4,n=>{var{typed:r}=n;return r(M2,{"number | BigNumber | Fraction":o=>o,Complex:o=>o.conjugate(),Unit:r.referToSelf(o=>t=>new t.constructor(o(t.toNumeric()),t.formatUnits())),"Array | Matrix":r.referToSelf(o=>t=>vn(t,o))})});var A2="concat",D4=["typed","matrix","isInteger"],A0=Le(A2,D4,n=>{var{typed:r,matrix:o,isInteger:t}=n;return r(A2,{"...Array | Matrix | number | BigNumber":function(s){var a,u=s.length,l=-1,c,m=!1,y=[];for(a=0;a<u;a++){var d=s[a];if(er(d)&&(m=!0),Lt(d)||Zt(d)){if(a!==u-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=d.valueOf(),!t(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>c)throw new Po(l,c+1)}else{var h=nr(d).valueOf(),p=xr(h);if(y[a]=h,c=l,l=p.length-1,a>0&&l!==c)throw new Ct(c+1,l+1)}}if(y.length===0)throw new SyntaxError("At least one matrix expected");for(var f=y.shift();y.length;)f=Jv(f,y.shift(),l);return m?o(f):f},"...string":function(s){return s.join("")}})});var T2="flatten",S4=["typed"],T0=Le(T2,S4,n=>{var{typed:r}=n;return r(T2,{Array:function(t){return _h(t)},DenseMatrix:function(t){return t.create(_h(t.valueOf(),!0),t.datatype())},SparseMatrix:function(t){throw new TypeError("SparseMatrix is not supported by function flatten because it does not support 1D vectors. Convert to a DenseMatrix or Array first. Example: flatten(x.toArray())")}})});var I2="identity",E4=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],I0=Le(I2,E4,n=>{var{typed:r,config:o,matrix:t,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=n;return r(I2,{"":function(){return o.matrix==="Matrix"?t([]):[]},string:function(m){return t(m)},"number | BigNumber":function(m){return l(m,m,o.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(m,y){return l(m,m,y)},"number | BigNumber, number | BigNumber":function(m,y){return l(m,y,o.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(m,y,d){return l(m,y,d)},Array:function(m){return u(m)},"Array, string":function(m,y){return u(m,y)},Matrix:function(m){return u(m.valueOf(),m.storage())},"Matrix, string":function(m,y){return u(m.valueOf(),y)}});function u(c,m){switch(c.length){case 0:return m?t(m):[];case 1:return l(c[0],c[0],m);case 2:return l(c[0],c[1],m);default:throw new Error("Vector containing two values expected")}}function l(c,m,y){var d=Zt(c)||Zt(m)?i:null;if(Zt(c)&&(c=c.toNumber()),Zt(m)&&(m=m.toNumber()),!qt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!qt(m)||m<1)throw new Error("Parameters in function identity must be positive integers");var h=d?new i(1):1,p=d?new d(0):0,f=[c,m];if(y){if(y==="sparse")return a.diagonal(f,h,0,p);if(y==="dense")return s.diagonal(f,h,0,p);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}for(var v=Fi([],f,p),g=c<m?c:m,w=0;w<g;w++)v[w][w]=h;return v}});var j0="map",C4=["typed"],N0=Le(j0,C4,n=>{var{typed:r}=n;return r(j0,{"Array, function":u,"Matrix, function":function(c,m){return c.map(m)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(l,c,m)=>o([l,c,...m.slice(0,m.length-1)],m[m.length-1])});function o(l,c){if(typeof c!="function")throw new Error("Last argument must be a callback function");var m=l[0].isMatrix,y=l.map(D=>D.isMatrix?D.size():xr(D)),d=Tl(...y),h=l.length,p=m?(D,C)=>D.get(C):na,f=l.map((D,C)=>{var M=y[C].map(()=>0);return D.isMatrix?D.get(M):na(D,M)}),v=r.isTypedFunction(c)?a(c,f,d.map(()=>0),l):s(c,h);if(v<2){var g=i(v,c,null);return t(l,g)}var w=m?l.map(D=>D.isMatrix?D.create(ui(D.toArray(),d),D.datatype()):l[0].create(ui(D.valueOf(),d))):l.map(D=>D.isMatrix?ui(D.toArray(),d):ui(D,d)),b=i(v,c,w),_=(D,C)=>b([D,...w.slice(1).map(M=>p(M,C))],C);return m?w[0].map(_):u(w[0],_)}function t(l,c){var m=l[0],y=l.map(D=>D.isMatrix?D.valueOf():D),d=l.map(D=>D.isMatrix?D.size():xr(D)),h=Tl(...d),p=d.map(D=>h.length-D.length),f=h.length-1,v=c.length>1,g=v?[]:null,w=_(y,0);if(m.isMatrix){var b=m.create();return b._data=w,b._size=h,b}else return w;function _(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=h[C],E=Array(M);if(C<f)for(var S=function(L){g&&(g[C]=L),E[L]=_(D.map((B,k)=>p[k]>C?B:B.length===1?B[0]:B[L]),C+1)},O=0;O<M;O++)S(O);else for(var I=function(L){g&&(g[C]=L),E[L]=c(D.map(B=>B.length===1?B[0]:B[L]),g?g.slice():void 0)},F=0;F<M;F++)I(F);return E}}function i(l,c,m){switch(l){case 0:return y=>c(...y);case 1:return(y,d)=>c(...y,d);case 2:return(y,d)=>c(...y,d,...m)}}function s(l,c){var m=l.toString();if(/arguments/.test(m))return 2;var y=m.match(/\(.*?\)/);return/\.\.\./.test(y)||l.length>c+1?2:l.length===c+1?1:0}function a(l,c,m,y){return r.resolve(l,[...c,m,...y])!==null?2:r.resolve(l,[...c,m])!==null?1:(r.resolve(l,c)!==null,0)}function u(l,c){var m=hs(c,l,j0);return Ku(l,m.fn,m.isUnary)}});function j2(){throw new Error('No "bignumber" implementation available')}function N2(){throw new Error('No "fraction" implementation available')}var O2="reshape",M4=["typed","isInteger","matrix"],O0=Le(O2,M4,n=>{var{typed:r,isInteger:o}=n;return r(O2,{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(a){if(!o(a))throw new TypeError("Invalid size for dimension: "+a)}),Xu(i,s)}})});var A4="resize",T4=["config","matrix"],F0=Le(A4,T4,n=>{var{config:r,matrix:o}=n;return function(s,a,u){if(arguments.length!==2&&arguments.length!==3)throw new oa("resize",arguments.length,2,3);if(er(a)&&(a=a.valueOf()),Zt(a[0])&&(a=a.map(function(m){return Zt(m)?m.toNumber():m})),er(s))return s.resize(a,u,!0);if(typeof s=="string")return t(s,a,u);var l=Array.isArray(s)?!1:r.matrix!=="Array";if(a.length===0){for(;Array.isArray(s);)s=s[0];return nr(s)}else{Array.isArray(s)||(s=[s]),s=nr(s);var c=Fi(s,a,u);return l?o(c):c}};function t(i,s,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(s.length!==1)throw new Ct(s.length,1);var u=s[0];if(typeof u!="number"||!qt(u))throw new TypeError("Invalid size, must contain positive integers (size: "+ir(s)+")");if(i.length>u)return i.substring(0,u);if(i.length<u){for(var l=i,c=0,m=u-i.length;c<m;c++)l+=a;return l}else return i}});var F2="size",I4=["typed"],k0=Le(F2,I4,n=>{var{typed:r}=n;return r(F2,{Matrix:o=>o.size(),Array:xr,string:o=>[o.length],"number | Complex | BigNumber | Unit | boolean | null":o=>[]})});var k2="transpose",j4=["typed","matrix"],R0=Le(k2,j4,n=>{var{typed:r,matrix:o}=n;return r(k2,{Array:a=>t(o(a)).valueOf(),Matrix:t,any:nr});function t(a){var u=a.size(),l;switch(u.length){case 1:l=a.clone();break;case 2:{var c=u[0],m=u[1];if(m===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ir(u)+")");switch(a.storage()){case"dense":l=i(a,c,m);break;case"sparse":l=s(a,c,m);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ir(u)+")")}return l}function i(a,u,l){for(var c=a._data,m=[],y,d=0;d<l;d++){y=m[d]=[];for(var h=0;h<u;h++)y[h]=nr(c[h][d])}return a.createDenseMatrix({data:m,size:[l,u],datatype:a._datatype})}function s(a,u,l){for(var c=a._values,m=a._index,y=a._ptr,d=c?[]:void 0,h=[],p=[],f=[],v=0;v<u;v++)f[v]=0;var g,w,b;for(g=0,w=m.length;g<w;g++)f[m[g]]++;for(var _=0,D=0;D<u;D++)p.push(_),_+=f[D],f[D]=p[D];for(p.push(_),b=0;b<l;b++)for(var C=y[b],M=y[b+1],E=C;E<M;E++){var S=f[m[E]]++;h[S]=b,c&&(d[S]=nr(c[E]))}return a.createSparseMatrix({values:d,index:h,ptr:p,size:[l,u],datatype:a._datatype})}});var R2="zeros",N4=["typed","config","matrix","BigNumber"],P0=Le(R2,N4,n=>{var{typed:r,config:o,matrix:t,BigNumber:i}=n;return r(R2,{"":function(){return o.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(c){var m=c[c.length-1];if(typeof m=="string"){var y=c.pop();return s(c,y)}else return o.matrix==="Array"?s(c):s(c,"default")},Array:s,Matrix:function(c){var m=c.storage();return s(c.valueOf(),m)},"Array | Matrix, string":function(c,m){return s(c.valueOf(),m)}});function s(l,c){var m=a(l),y=m?new i(0):0;if(u(l),c){var d=t(c);return l.length>0?d.resize(l,y):d}else{var h=[];return l.length>0?Fi(h,l,y):h}}function a(l){var c=!1;return l.forEach(function(m,y,d){Zt(m)&&(c=!0,d[y]=m.toNumber())}),c}function u(l){l.forEach(function(c){if(typeof c!="number"||!qt(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Fl(n,r,o){var t;return String(n).includes("Unexpected type")?(t=arguments.length>2?" (type: "+In(o)+", value: "+JSON.stringify(o)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+t)):String(n).includes("complex numbers")?(t=arguments.length>2?" (type: "+In(o)+", value: "+JSON.stringify(o)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+t)):n}var P2="format",O4=["typed"],L0=Le(P2,O4,n=>{var{typed:r}=n;return r(P2,{any:ir,"any, Object | function | number | BigNumber":ir})});var F4="numeric",k4=["number","?bignumber","?fraction"],B0=Le(F4,k4,n=>{var{number:r,bignumber:o,fraction:t}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:a=>r(a),BigNumber:o?a=>o(a):j2,bigint:a=>BigInt(a),Fraction:t?a=>t(a):N2};return function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var m=In(u);if(!(m in i))throw new TypeError("Cannot convert "+u+' of type "'+m+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+u+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===m?u:s[l](u)}});var L2="divideScalar",R4=["typed","numeric"],V0=Le(L2,R4,n=>{var{typed:r,numeric:o}=n;return r(L2,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,i)=>t.divide(i),"number | Fraction | Complex | BigNumber, Unit":(t,i)=>i.divideInto(t)})});var Nh="equal",P4=["typed","matrix","equalScalar","DenseMatrix","SparseMatrix"],U0=Le(Nh,P4,n=>{var{typed:r,matrix:o,equalScalar:t,DenseMatrix:i,concat:s,SparseMatrix:a}=n,u=Ol({typed:r}),l=jh({typed:r,SparseMatrix:a}),c=jl({typed:r,DenseMatrix:i}),m=ci({typed:r,matrix:o});return r(Nh,L4({typed:r,equalScalar:t}),m({elop:t,SS:l,DS:u,Ss:c}))}),L4=Le(Nh,["typed","equalScalar"],n=>{var{typed:r,equalScalar:o}=n;return r(Nh,{"any, any":function(i,s){return i===null?s===null:s===null?i===null:i===void 0?s===void 0:s===void 0?i===void 0:o(i,s)}})});var Oh="larger",B4=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],z0=Le(Oh,B4,n=>{var{typed:r,config:o,bignumber:t,matrix:i,DenseMatrix:s,concat:a,SparseMatrix:u}=n,l=Ol({typed:r}),c=jh({typed:r,SparseMatrix:u}),m=jl({typed:r,DenseMatrix:s}),y=ci({typed:r,matrix:i,concat:a}),d=Mh({typed:r});function h(p,f){return p.gt(f)&&!Ch(p,f,o.relTol,o.absTol)}return r(Oh,V4({typed:r,config:o}),{"boolean, boolean":(p,f)=>p>f,"BigNumber, BigNumber":h,"bigint, bigint":(p,f)=>p>f,"Fraction, Fraction":(p,f)=>p.compare(f)===1,"Fraction, BigNumber":function(f,v){return h(t(f),v)},"BigNumber, Fraction":function(f,v){return h(f,t(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,y({SS:c,DS:l,Ss:m}))}),V4=Le(Oh,["typed","config"],n=>{var{typed:r,config:o}=n;return r(Oh,{"number, number":function(i,s){return i>s&&!as(i,s,o.relTol,o.absTol)}})});var B2="max",U4=["typed","config","numeric","larger","isNaN"],G0=Le(B2,U4,n=>{var{typed:r,config:o,numeric:t,larger:i,isNaN:s}=n;return r(B2,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(c,m){return Eh(c,m.valueOf(),a)},"...":function(c){if(Dh(c))throw new TypeError("Scalar values expected in function max");return u(c)}});function a(l,c){try{return i(l,c)?l:c}catch(m){throw Fl(m,"max",c)}}function u(l){var c;if(Sh(l,function(m){try{(s(m)||c===void 0||i(m,c))&&(c=m)}catch(y){throw Fl(y,"max",m)}}),c===void 0)throw new Error("Cannot calculate max of an empty array");return typeof c=="string"&&(c=t(c,sh(c,o))),c}});var V2="add",z4=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],H0=Le(V2,z4,n=>{var{typed:r,matrix:o,addScalar:t,equalScalar:i,DenseMatrix:s,SparseMatrix:a,concat:u}=n,l=Th({typed:r}),c=x2({typed:r,equalScalar:i}),m=Ih({typed:r,DenseMatrix:s}),y=ci({typed:r,matrix:o,concat:u});return r(V2,{"any, any":t,"any, any, ...any":r.referToSelf(d=>(h,p,f)=>{for(var v=d(h,p),g=0;g<f.length;g++)v=d(v,f[g]);return v})},y({elop:t,DS:l,SS:c,Ss:m}))});var U2="dot",G4=["typed","addScalar","multiplyScalar","conj","size"],q0=Le(U2,G4,n=>{var{typed:r,addScalar:o,multiplyScalar:t,conj:i,size:s}=n;return r(U2,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":l});function a(c,m){var y=s(c),d=s(m),h,p;if(y.length===1)h=y[0];else if(y.length===2&&y[1]===1)h=y[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+y.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(h!==p)throw new RangeError("Vectors must have equal length ("+h+" != "+p+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function u(c,m){var y=a(c,m),d=er(c)?c._data:c,h=er(c)?c._datatype||c.getDataType():void 0,p=er(m)?m._data:m,f=er(m)?m._datatype||m.getDataType():void 0,v=s(c).length===2,g=s(m).length===2,w=o,b=t;if(h&&f&&h===f&&typeof h=="string"&&h!=="mixed"){var _=h;w=r.find(o,[_,_]),b=r.find(t,[_,_])}if(!v&&!g){for(var D=b(i(d[0]),p[0]),C=1;C<y;C++)D=w(D,b(i(d[C]),p[C]));return D}if(!v&&g){for(var M=b(i(d[0]),p[0][0]),E=1;E<y;E++)M=w(M,b(i(d[E]),p[E][0]));return M}if(v&&!g){for(var S=b(i(d[0][0]),p[0]),O=1;O<y;O++)S=w(S,b(i(d[O][0]),p[O]));return S}if(v&&g){for(var I=b(i(d[0][0]),p[0][0]),F=1;F<y;F++)I=w(I,b(i(d[F][0]),p[F][0]));return I}}function l(c,m){a(c,m);for(var y=c._index,d=c._values,h=m._index,p=m._values,f=0,v=o,g=t,w=0,b=0;w<y.length&&b<h.length;){var _=y[w],D=h[b];if(_<D){w++;continue}if(_>D){b++;continue}_===D&&(f=v(f,g(d[w],p[b])),w++,b++)}return f}});var z2="det",H4=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],W0=Le(z2,H4,n=>{var{typed:r,matrix:o,subtractScalar:t,multiply:i,divideScalar:s,isZero:a,unaryMinus:u}=n;return r(z2,{any:function(m){return nr(m)},"Array | Matrix":function(m){var y;switch(er(m)?y=m.size():Array.isArray(m)?(m=o(m),y=m.size()):y=[],y.length){case 0:return nr(m);case 1:if(y[0]===1)return nr(m.valueOf()[0]);if(y[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ir(y)+")");case 2:{var d=y[0],h=y[1];if(d===h)return l(m.clone().valueOf(),d,h);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+ir(y)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(y)+")")}}});function l(c,m,y){if(m===1)return nr(c[0][0]);if(m===2)return t(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,h=new Array(m).fill(0).map((M,E)=>E),p=0;p<m;p++){var f=h[p];if(a(c[f][p])){var v=void 0;for(v=p+1;v<m;v++)if(!a(c[h[v]][p])){f=h[v],h[v]=h[p],h[p]=f,d=!d;break}if(v===m)return c[f][p]}for(var g=c[f][p],w=p===0?1:c[h[p-1]][p-1],b=p+1;b<m;b++)for(var _=h[b],D=p+1;D<m;D++)c[_][D]=s(t(i(c[_][D],g),i(c[_][p],c[f][D])),w)}var C=c[h[m-1]][m-1];return d?u(C):C}});var G2="inv",q4=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],$0=Le(G2,q4,n=>{var{typed:r,matrix:o,divideScalar:t,addScalar:i,multiply:s,unaryMinus:a,det:u,identity:l,abs:c}=n;return r(G2,{"Array | Matrix":function(d){var h=er(d)?d.size():xr(d);switch(h.length){case 1:if(h[0]===1)return er(d)?o([t(1,d.valueOf()[0])]):[t(1,d[0])];throw new RangeError("Matrix must be square (size: "+ir(h)+")");case 2:{var p=h[0],f=h[1];if(p===f)return er(d)?o(m(d.valueOf(),p,f),d.storage()):m(d,p,f);throw new RangeError("Matrix must be square (size: "+ir(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(h)+")")}},any:function(d){return t(1,d)}});function m(y,d,h){var p,f,v,g,w;if(d===1){if(g=y[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(1,g)]]}else if(d===2){var b=u(y);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(y[1][1],b),t(a(y[0][1]),b)],[t(a(y[1][0]),b),t(y[0][0],b)]]}else{var _=y.concat();for(p=0;p<d;p++)_[p]=_[p].concat();for(var D=l(d).valueOf(),C=0;C<h;C++){var M=c(_[C][C]),E=C;for(p=C+1;p<d;)c(_[p][C])>M&&(M=c(_[p][C]),E=p),p++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");p=E,p!==C&&(w=_[C],_[C]=_[p],_[p]=w,w=D[C],D[C]=D[p],D[p]=w);var S=_[C],O=D[C];for(p=0;p<d;p++){var I=_[p],F=D[p];if(p!==C){if(I[C]!==0){for(v=t(a(I[C]),S[C]),f=C;f<h;f++)I[f]=i(I[f],s(v,S[f]));for(f=0;f<h;f++)F[f]=i(F[f],s(v,O[f]))}}else{for(v=S[C],f=C;f<h;f++)I[f]=t(I[f],v);for(f=0;f<h;f++)F[f]=t(F[f],v)}}}return D}}});var W4="divide",$4=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Y0=Le(W4,$4,n=>{var{typed:r,matrix:o,multiply:t,equalScalar:i,divideScalar:s,inv:a}=n,u=Il({typed:r,equalScalar:i}),l=Nl({typed:r});return r("divide",ih({"Array | Matrix, Array | Matrix":function(m,y){return t(m,a(y))},"DenseMatrix, any":function(m,y){return l(m,y,s,!1)},"SparseMatrix, any":function(m,y){return u(m,y,s,!1)},"Array, any":function(m,y){return l(o(m),y,s,!1).valueOf()},"any, Array | Matrix":function(m,y){return t(m,a(y))}},s.signatures))});var H2="sum",Y4=["typed","config","add","numeric"],X0=Le(H2,Y4,n=>{var{typed:r,config:o,add:t,numeric:i}=n;return r(H2,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":a,"...":function(l){if(Dh(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(u){var l;return Sh(u,function(c){try{l=l===void 0?c:t(l,c)}catch(m){throw Fl(m,"sum",c)}}),l===void 0&&(l=i(0,o.number)),typeof l=="string"&&(l=i(l,sh(l,o))),l}function a(u,l){try{var c=Eh(u,l,t);return c}catch(m){throw Fl(m,"sum")}}});var Fh=Gv({config:Fo}),X4=Wv({});var q2=Yv({});var Z0=Xv({});var ia=t0({Matrix:Z0,config:Fo});var zt=Rv({BigNumber:Fh,Complex:X4,DenseMatrix:ia,Fraction:q2});var Z4=b0({typed:zt});var kh=w0({typed:zt});var Q4=M0({typed:zt});var ps=f0({config:Fo,typed:zt});var W2=x0({typed:zt});var $2=T0({typed:zt});var Y2=L0({typed:zt});var K4=d0({typed:zt});var ec=N0({typed:zt});var Q0=D0({typed:zt});var J4=p0({typed:zt});var K0=k0({typed:zt}),tc=h0({Matrix:Z0,equalScalar:ps,typed:zt});var X2=_0({typed:zt});var Z2=m0({BigNumber:Fh,typed:zt});var eB=q0({addScalar:kh,conj:Q4,multiplyScalar:Q0,size:K0,typed:zt});var tB=c0({equalScalar:ps,typed:zt}),Zr=y0({DenseMatrix:ia,Matrix:Z0,SparseMatrix:tc,typed:zt});var bn=S0({addScalar:kh,dot:eB,equalScalar:ps,matrix:Zr,multiplyScalar:Q0,typed:zt});var Q2=F0({config:Fo,matrix:Zr});var kl=R0({matrix:Zr,typed:zt});var di=P0({BigNumber:Fh,config:Fo,matrix:Zr,typed:zt});var rB=U0({DenseMatrix:ia,SparseMatrix:tc,equalScalar:ps,matrix:Zr,typed:zt}),nB=g0({Fraction:q2,typed:zt}),oB=I0({BigNumber:Fh,DenseMatrix:ia,SparseMatrix:tc,config:Fo,matrix:Zr,typed:zt}),K2=r0({equal:rB,typed:zt});var J0=B0({bignumber:Z2,fraction:nB,number:J4});var rc=O0({isInteger:K2,matrix:Zr,typed:zt});var eb=v0({typed:zt});var Rh=A0({isInteger:K2,matrix:Zr,typed:zt});var tb=V0({numeric:J0,typed:zt}),Ph=C0({concat:Rh,equalScalar:ps,matrix:Zr,multiplyScalar:Q0,typed:zt});var iB=z0({DenseMatrix:ia,SparseMatrix:tc,bignumber:Z2,concat:Rh,config:Fo,matrix:Zr,typed:zt});var rb=G0({config:Fo,isNaN:K4,larger:iB,numeric:J0,typed:zt});var Ri=E0({DenseMatrix:ia,concat:Rh,equalScalar:ps,matrix:Zr,subtractScalar:X2,typed:zt,unaryMinus:eb});var Lo=H0({DenseMatrix:ia,SparseMatrix:tc,addScalar:kh,concat:Rh,equalScalar:ps,matrix:Zr,typed:zt});var sB=W0({divideScalar:tb,isZero:tB,matrix:Zr,multiply:bn,subtractScalar:X2,typed:zt,unaryMinus:eb});var nb=X0({add:Lo,config:Fo,numeric:J0,typed:zt});var aB=$0({abs:Z4,addScalar:kh,det:sB,divideScalar:tb,identity:oB,matrix:Zr,multiply:bn,typed:zt,unaryMinus:eb});var ms=Y0({divideScalar:tb,equalScalar:ps,inv:aB,matrix:Zr,multiply:bn,typed:zt});var nc=class n{static size=28;static MNIST=[];static load(){return Ir(this,null,function*(){for(let r=0;r<10;r++){let t=yield(yield fetch(`mnist/digits/${r}.json`)).json();n.MNIST.push({id:r,raw:t.data})}})}static getDigitSamples(r,o){let t=this.MNIST[r];if(!t)return[];let i=t.raw.length/(this.size*this.size)|0,s=[];for(let a=0;a<(o??i);a++){let u=a*this.size*this.size,l=t.raw.slice(u,u+this.size*this.size),c=Array(10).fill(0);c[r]=1,s.push({input:l,output:c})}return s}static getAllSamples(){let r=[];for(let o=0;o<10;o++)r=r.concat(this.getDigitSamples(o));return r.sort(()=>Math.random()-.5)}static getDataset(r,o){let t=n.getAllSamples(),i=r+o;i>t.length&&console.warn(`Requested ${i} samples, but only ${t.length} available.`);let s=t.slice(0,i);return{training:s.slice(0,r),test:s.slice(r,r+o)}}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var J2=n=>{let r,o,t,i,s,a,u,l=[[]],c,m,y,d,h,p,f,v,g,w,b,_,D,C,M,E,S=.05,O,I,F=784,j=128,L=64,B=10,k=!1;function q(){if(!k){let je=function(De,qe,Pe=0,We=1){return Zr(Array.from({length:De},()=>Array.from({length:qe},()=>Math.random()*(We-Pe)+Pe)))};var me=je;let _e=nc.getDataset(9e3,1e3);O=_e.training,I=_e.test,h=je(j,F,-.5,.5),f=je(L,j,-.5,.5),g=je(B,L,-.5,.5),p=di(j,1),v=di(L,1),w=di(B,1),ue("Initialized weights and biases."),Q("Weights1:",h),Q("Weights2:",f),Q("Weights3:",g),k=!0}}function G(me){return ec(me,_e=>Math.max(0,_e))}function U(me){return ec(me,_e=>_e>0?1:0)}function W(me){let _e=rb(me),je=Ri(me,_e),De=ec(je,W2),qe=nb(De);return ms(De,qe)}function Q(me,_e){let je=$2(_e).valueOf(),De=Math.min(...je),qe=Math.max(...je),Pe=je.reduce((We,Ze)=>We+Ze,0)/je.length;ue(`${me} - min: ${De.toFixed(5)}, max: ${qe.toFixed(5)}, avg: ${Pe.toFixed(5)}`)}function le(me){let _e=0,je=1e-12;for(let De=0;De<me.length;De++){let qe=rc(Zr(me[De].input),[F,1]),Pe=rc(Zr(me[De].output),[B,1]),{a3:We}=P(qe),Ze=ec(We,Ce=>Math.log(Ce+je)),Qe=-nb(Ph(Pe,Ze));_e+=Number(Qe)}return _e/me.length}function P(me){me=Q2(me,[F,1]);let _e=Lo(bn(h,me),p),je=G(_e),De=Lo(bn(f,je),v),qe=G(De),Pe=Lo(bn(g,qe),w),We=W(Pe);return{z1:_e,a1:je,z2:De,a2:qe,z3:Pe,a3:We}}function T(me){for(let _e=me.length-1;_e>0;_e--){let je=Math.floor(Math.random()*(_e+1));[me[_e],me[je]]=[me[je],me[_e]]}}function V(me,_e,je){me=rc(me,[F,1]),_e=rc(_e,[B,1]);let De,qe,Pe,We,Ze,Qe,Ce,oe,ae;return De=Ri(je.a3,_e),We=bn(De,kl(je.a2)),Ce=De,qe=Ph(bn(kl(g),De),U(je.z2)),Ze=bn(qe,kl(je.a1)),oe=qe,Pe=Ph(bn(kl(f),qe),U(je.z1)),Qe=bn(Pe,kl(me)),ae=Pe,{dw1:Qe,db1:ae,dw2:Ze,db2:oe,dw3:We,db3:Ce}}function H(){function me(_e){return K0(_e)}b=di(me(h)),_=di(me(p)),D=di(me(f)),C=di(me(v)),M=di(me(g)),E=di(me(w))}function K(me){return Ir(this,null,function*(){let _e=64;for(let je=0;je<me;je++){T(O),H();let De=0;for(let Pe=0;Pe<O.length;Pe++){De++;let We=P(O[Pe].input),Ze=V(O[Pe].input,O[Pe].output,We);b=Lo(b,Ze.dw1),_=Lo(_,Ze.db1),D=Lo(D,Ze.dw2),C=Lo(C,Ze.db2),M=Lo(M,Ze.dw3),E=Lo(E,Ze.db3),(De===_e||Pe===O.length-1)&&(ue("Batch completed..."+Pe+"/"+O.length),b=ms(b,De),_=ms(_,De),D=ms(D,De),C=ms(C,De),M=ms(M,De),E=ms(E,De),Pe===O.length-1&&(Q("dw1: ",b),Q("db1: ",_),Q("dw2: ",D),Q("db2: ",C),Q("dw3: ",M),Q("db3: ",E)),h=Ri(h,bn(b,S)),p=Ri(p,bn(_,S)),f=Ri(f,bn(D,S)),v=Ri(v,bn(C,S)),g=Ri(g,bn(M,S)),w=Ri(w,bn(E,S)),H(),De=0,yield new Promise(Qe=>setTimeout(Qe,0)))}ue("Epoch: "+je+" completed.");let qe=le(O);ue(`Epoch ${je} - Train Loss: ${qe.toFixed(6)}`),S=S*.95,Q("weights1:",h),Q("biases1:",p),Q("weights2:",f),Q("biases2:",v),Q("weights3:",g),Q("biases3:",w)}})}function re(me,_e){let je=0,De=I;_e==1&&(De=O);let qe=De.length;for(let Pe=0;Pe<De.length;Pe++){let We=Zr(De[Pe].input);if(!De[Pe].input||De[Pe].input.includes(void 0)){console.warn("Bad input at index",Pe);continue}else{let Ze=P(We),Qe=Ze.a3.toArray().flat(),Ce=Qe.indexOf(Math.max(...Qe)),oe=De[Pe].output.indexOf(rb(Zr(De[Pe].output)));me==1&&ue("Predicting "+Ce+" from A3: "+Y2(Ze.a3,{notation:"fixed",precision:4})+" vs actual "+oe),Ce==oe&&je++}}ue(je+" / "+qe+" predictions correct. "+je/qe+" accuracy value.")}function ie(){return Ir(this,null,function*(){q(),setTimeout(K,0,2)})}function ce(){return Ir(this,null,function*(){q();let me=new Array(t*i);me.fill(0);for(let qe=0;qe<t;qe++)for(let Pe=0;Pe<i;Pe++)me[Pe*t+qe]=(l[qe][Pe].value/255).toFixed(5);console.log(me);let je=P(Zr(me)).a3.toArray().flat(),De=je.indexOf(Math.max(...je));ue("I think you drew a: "+De)})}function se(){return Ir(this,null,function*(){q();let _e=yield(yield fetch("mnist/pretrained-model.json")).json();h=_e.weights1,p=_e.biases1,f=_e.weights2,v=_e.biases2,g=_e.weights3,w=_e.biases3,ue(" "),ue(" "),ue("Pre-Trained model has been loaded."),Q("weights1:",h),Q("biases1:",p),Q("weights2:",f),Q("biases2:",v),Q("weights3:",g),Q("biases3:",w)})}function he(){return Ir(this,null,function*(){q(),setTimeout(re,0,0,0)})}function ue(me){let _e=document.getElementById("txtArea");y.html(me+`
`,!0),console.log(me),_e&&(_e.scrollTop=_e.scrollHeight)}class te{x;y;value;constructor(_e,je,De){this.x=_e,this.y=je,this.value=De}}function pe(me){n.noStroke(),n.fill(me.value),n.rect(me.x*s+u,me.y*s+u,s,s)}function ve(){for(let me=0;me<t;me++)for(let _e=0;_e<i;_e++)l[me][_e].value=0}function Me(){let me=[],_e=document.getElementById("pasteArea");if(!_e){console.warn("No input element found");return}let je=_e.value.trim();if(!je){console.warn("Input is empty, nothing to paste");return}try{let De=JSON.parse(je);if(!Array.isArray(De)){console.error("Parsed input is not an array:",De);return}me=De}catch(De){console.error("Invalid array format:",De,je);return}for(let De=0;De<t;De++)for(let qe=0;qe<i;qe++)l[De][qe].value=255*me[qe*t+De]}n.setup=()=>{nc.load(),a=!1,n.createCanvas(500,500),r=500,o=500,t=28,i=28,s=17,u=r/2-i*s/2,l=Array.from(Array(i),()=>new Array(t));for(let Qe=0;Qe<t;Qe++)for(let Ce=0;Ce<i;Ce++)l[Qe][Ce]=new te(Qe,Ce,0);let me=n.createButton("Train");me.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),me.mousePressed(()=>Ir(void 0,null,function*(){ue("Training started..."),me.attribute("disabled",!0),ie()}));let _e=n.createButton("Load pre-trained model");_e.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),_e.mousePressed(se);let je=n.createButton("Predict");je.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),je.mousePressed(ce);let De=n.createButton("Test");De.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),De.mousePressed(he);let qe=n.createButton("Clear Canvas");qe.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),qe.mousePressed(ve);let Pe=n.createButton("Paste Canvas");Pe.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),Pe.mousePressed(Me),y=n.createElement("textarea"),y.attribute("readonly",!0),y.attribute("id","txtArea"),y.attribute("rows",5),y.addClass("form-control"),d=n.createElement("textarea"),d.attribute("id","pasteArea"),d.attribute("rows",5),d.addClass("form-control");let We=document.createElement("a");We.href="mnist/sample_grayscales.json",We.target="_blank",We.id="grayscale_anchor",We.textContent="Grayscale links";let Ze=document.getElementById("canvas-container1");Ze&&Ze.appendChild(We)},n.draw=()=>{n.noStroke(),n.background(41),n.fill(50,80,200);for(let me=0;me<t;me++)for(let _e=0;_e<i;_e++)pe(l[me][_e]);if(a){let me=n.floor((n.mouseX-u)/s),_e=n.floor((n.mouseY-u)/s),je=[[.05,.15,.05],[.15,.4,.15],[.05,.15,.05]];for(let De=-1;De<=1;De++)for(let qe=-1;qe<=1;qe++){let Pe=me+qe,We=_e+De;Pe>=0&&We>=0&&Pe<i&&We<t&&(l[Pe][We].value=Math.min(255,l[Pe][We].value+je[De+1][qe+1]*180))}}},window.addEventListener("mousedown",()=>{a=!0}),window.addEventListener("touchstart",()=>{a=!0}),window.addEventListener("mouseup",()=>{a=!1}),window.addEventListener("touchend",()=>{a=!0});function xe(me){window.addEventListener("touchstart",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1}),window.addEventListener("touchend",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1}),window.addEventListener("touchmove",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1})}};var Rl=class n{sketches=[FE,kE,RE,PE,LE,VE,J2];sketchDetails=[{id:0,name:"3D Terrain Generator",description:"Perlin Noise Terrain Generation."},{id:1,name:"Pathfinding",description:"Click and drag to make walls. Click restart to generate a new source and target location. Click play to begin pathfinding."},{id:2,name:"Snake",description:"Use arrow keys to play."},{id:3,name:"Game of Life",description:"Click to generate a new pattern."},{id:4,name:"3D Graphics",description:"Elegant 3D animation."},{id:5,name:"Random Track Selector - Mario Kart",description:"Randomized Track Selector for Mario Kart World/Mario Kart 8 - Click to generate"},{id:6,name:"Neural Net - MNIST from Scratch",description:"Neural network build from scratch using only math libraries, capable of learning on the MNIST dataset for predicting handwritten digits."}];constructor(){}getSketch(r){return this.sketches[r]}getSketchDetails(){return this.sketchDetails}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var nM=Ep(rM());var Lh=class n{constructor(r,o){this.elementRef=r;this.sketchService=o}sketchID;parentID;p5Instance;ngOnInit(){}ngOnChanges(){this.p5Instance&&this.p5Instance.remove(),this.initP5()}ngOnDestroy(){this.p5Instance&&this.p5Instance.remove()}initP5(){this.p5Instance=new nM.default(this.sketchService.getSketch(this.sketchID),this.parentID)}static \u0275fac=function(o){return new(o||n)(ot(wr),ot(Rl))};static \u0275cmp=ar({type:n,selectors:[["app-canvas"]],inputs:{sketchID:"sketchID",parentID:"parentID"},features:[po],decls:0,vars:0,template:function(o,t){}})};function uB(n,r){if(n&1){let o=to();ze(0,"div",8)(1,"button",9),lr("click",function(){let i=kr(o).$implicit,s=Ut();return Rr(s.handleClick(i.id))}),ct(2),He()()}if(n&2){let o=r.$implicit;ft(2),Hr(o.name)}}var Bh=class n{constructor(r,o){this.sketchService=r;this.titleService=o;this.activeCanvas=0,this.inSelection=!0,this.canvasList=this.sketchService.getSketchDetails(),this.titleService.setTitle("Jonathan Lemon - Demo")}activeCanvas;inSelection;canvasList;handleClick(r){this.activeCanvas=r,this.inSelection=!0}static \u0275fac=function(o){return new(o||n)(ot(Rl),ot(ri))};static \u0275cmp=ar({type:n,selectors:[["app-demo"]],decls:14,vars:5,consts:[[1,"container"],[1,"display-6"],[1,"row","justify-content-center"],["class","d-flex col-lg col-md-6 mb-4 m-1 justify-content-center",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","col-lg-8","col-md-8","col-sm-8","col-8","mb-4","shadow","border","rounded","m-1","align-items-center"],["id","canvas-container1",1,"d-flex","flex-column","align-items-center","mt-4","mb-2",2,"min-width","500px","max-width","500px"],[3,"sketchID","parentID"],[1,"text-secondary"],[1,"d-flex","col-lg","col-md-6","mb-4","m-1","justify-content-center"],[1,"btn","btn-outline-primary","mb-2","me-2",3,"click"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div")(2,"p",1),ct(3),He()(),ze(4,"div"),pr(5,"hr"),ze(6,"div",2),Mr(7,uB,3,1,"div",3),He()(),ze(8,"div",2)(9,"div",4)(10,"div",5),pr(11,"app-canvas",6),He(),ze(12,"p",7),ct(13),He()()()()),o&2&&(ft(3),nl("Current Demo - ",t.canvasList[t.activeCanvas].name,""),ft(4),Jt("ngForOf",t.canvasList),ft(4),Jt("sketchID",t.activeCanvas)("parentID","canvas-container1"),ft(2),Hr(t.canvasList[t.activeCanvas].description))},dependencies:[Hn,Lh]})};var Vh=class n{vault=null;vaultKey=null;constructor(){}initVault(r){return Ir(this,null,function*(){let o=crypto.getRandomValues(new Uint8Array(16));this.vaultKey=yield this.deriveKey(r,o);let t={version:1,entries:[]},i=yield this.encryptVault(t,this.vaultKey),s=Je({kdf:{alg:"pbkdf2-sha256",salt:this.arrayBufferToBase64(o),iters:1e5}},i);return this.vault=t,s})}unlockVault(r,o){return Ir(this,null,function*(){try{return this.vault=yield this.decryptVaultPBKDF2(o,r),this.vault}catch(t){return console.error("Failed to unlock vault:",t),null}})}listEntries(){return this.vault?.entries||[]}addEntry(r){this.vault.entries||(this.vault.entries=[]);let o=this.vault.entries.length?Math.max(...this.vault.entries.map(t=>t.id))+1:1;this.vault.entries.push(Je({id:o},r))}modifyEntry(r,o){let t=this.vault.entries.find(i=>i.id===r);if(!t)throw new Error("Entry not found");Object.assign(t,o)}deleteEntry(r){let o=this.vault.entries.length;return this.vault.entries=this.vault.entries.filter(t=>t.id!==r),this.vault.entries.length<o}genPass(r=24){let o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?";return Array.from({length:r},()=>o[Math.floor(Math.random()*o.length)]).join("")}exportVault(r,o="vault.json"){return Ir(this,null,function*(){if(!this.vaultKey||!r?.kdf?.salt)return console.error("Vault key or salt missing"),null;let t=yield this.encryptVault(this.vault,this.vaultKey),i=Je({kdf:r.kdf},t),s=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),u=document.createElement("a");return u.href=a,u.download=o,u.click(),URL.revokeObjectURL(a),i})}exportVaultNewPassword(r,o="vault.json"){return Ir(this,null,function*(){let t=crypto.getRandomValues(new Uint8Array(16)),i=yield this.deriveKey(r,t),s=yield this.encryptVault(this.vault,i),a=Je({kdf:{alg:"pbkdf2-sha256",salt:this.arrayBufferToBase64(t),iters:1e5}},s),u=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(u),c=document.createElement("a");return c.href=l,c.download=o,c.click(),URL.revokeObjectURL(l),a})}deriveKey(r,o){return Ir(this,null,function*(){let t=new TextEncoder,i=yield crypto.subtle.importKey("raw",t.encode(r),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})}encryptVault(r,o){return Ir(this,null,function*(){let t=o,i=crypto.getRandomValues(new Uint8Array(12)),s=new TextEncoder().encode(JSON.stringify(r)),a=yield crypto.subtle.encrypt({name:"AES-GCM",iv:i},t,s);return{nonce:this.arrayBufferToBase64(i),ciphertext:this.arrayBufferToBase64(a)}})}decryptVaultPBKDF2(r,o){return Ir(this,null,function*(){let t=this.base64ToArrayBuffer(r.kdf.salt);this.vaultKey=yield this.deriveKey(o,new Uint8Array(t));let i=this.base64ToArrayBuffer(r.nonce),s=this.base64ToArrayBuffer(r.ciphertext),a=yield crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(i)},this.vaultKey,s);return JSON.parse(new TextDecoder().decode(a))})}base64ToArrayBuffer(r){let o=atob(r),t=new Uint8Array(o.length);for(let i=0;i<o.length;i++)t[i]=o.charCodeAt(i);return t.buffer}arrayBufferToBase64(r){let o="",t=new Uint8Array(r);for(let i=0;i<t.byteLength;i++)o+=String.fromCharCode(t[i]);return btoa(o)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var dM=(()=>{let r=class r{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};r.\u0275fac=function(i){return new(i||r)(ot(Rn),ot(wr))},r.\u0275dir=nn({type:r});let n=r;return n})(),dB=(()=>{let r=class r extends dM{};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=pu(r)))(s||r)}})(),r.\u0275dir=nn({type:r,features:[tl]});let n=r;return n})(),fM=new _t("");var fB={provide:fM,useExisting:du(()=>qh),multi:!0};function hB(){let n=ti()?ti().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var pB=new _t(""),qh=(()=>{let r=class r extends dM{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hB())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};r.\u0275fac=function(i){return new(i||r)(ot(Rn),ot(wr),ot(pB,8))},r.\u0275dir=nn({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&lr("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[ty([fB]),tl]});let n=r;return n})();var mB=new _t(""),gB=new _t("");function hM(n){return n!=null}function pM(n){return Ws(n)?Sr(n):n}function mM(n){let r={};return n.forEach(o=>{r=o!=null?Je(Je({},r),o):r}),Object.keys(r).length===0?null:r}function gM(n,r){return r.map(o=>o(n))}function yB(n){return!n.validate}function yM(n){return n.map(r=>yB(r)?r:o=>r.validate(o))}function vB(n){if(!n)return null;let r=n.filter(hM);return r.length==0?null:function(o){return mM(gM(o,r))}}function vM(n){return n!=null?vB(yM(n)):null}function bB(n){if(!n)return null;let r=n.filter(hM);return r.length==0?null:function(o){let t=gM(o,r).map(pM);return Wp(t).pipe(Ht(mM))}}function bM(n){return n!=null?bB(yM(n)):null}function oM(n,r){return n===null?[r]:Array.isArray(n)?[...n,r]:[n,r]}function wB(n){return n._rawValidators}function _B(n){return n._rawAsyncValidators}function ib(n){return n?Array.isArray(n)?n:[n]:[]}function zh(n,r){return Array.isArray(n)?n.includes(r):n===r}function iM(n,r){let o=ib(r);return ib(n).forEach(i=>{zh(o,i)||o.push(i)}),o}function sM(n,r){return ib(r).filter(o=>!zh(n,o))}var Gh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=vM(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=bM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,o){return this.control?this.control.hasError(r,o):!1}getError(r,o){return this.control?this.control.getError(r,o):null}},sb=class extends Gh{get formDirective(){return null}get path(){return null}},lc=class extends Gh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ab=class{constructor(r){this._cd=r}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zoe=Rt(Je({},xB),{"[class.ng-submitted]":"isSubmitted"}),wM=(()=>{let r=class r extends ab{constructor(t){super(t)}};r.\u0275fac=function(i){return new(i||r)(ot(lc,2))},r.\u0275dir=nn({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&eo("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[tl]});let n=r;return n})();var oc="VALID",Uh="INVALID",Pl="PENDING",ic="DISABLED",Bl=class{},Hh=class extends Bl{constructor(r,o){super(),this.value=r,this.source=o}},sc=class extends Bl{constructor(r,o){super(),this.pristine=r,this.source=o}},ac=class extends Bl{constructor(r,o){super(),this.touched=r,this.source=o}},Ll=class extends Bl{constructor(r,o){super(),this.status=r,this.source=o}};function DB(n){return(Wh(n)?n.validators:n)||null}function SB(n){return Array.isArray(n)?vM(n):n||null}function EB(n,r){return(Wh(r)?r.asyncValidators:n)||null}function CB(n){return Array.isArray(n)?bM(n):n||null}function Wh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var lb=class{constructor(r,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pf(()=>this.statusReactive()),this.statusReactive=nf(void 0),this._pristine=pf(()=>this.pristineReactive()),this.pristineReactive=nf(!0),this._touched=pf(()=>this.touchedReactive()),this.touchedReactive=nf(!1),this._events=new rn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get status(){return rs(this.statusReactive)}set status(r){rs(()=>this.statusReactive.set(r))}get valid(){return this.status===oc}get invalid(){return this.status===Uh}get pending(){return this.status==Pl}get disabled(){return this.status===ic}get enabled(){return this.status!==ic}get pristine(){return rs(this.pristineReactive)}set pristine(r){rs(()=>this.pristineReactive.set(r))}get dirty(){return!this.pristine}get touched(){return rs(this.touchedReactive)}set touched(r){rs(()=>this.touchedReactive.set(r))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(iM(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(iM(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(sM(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(sM(r,this._rawAsyncValidators))}hasValidator(r){return zh(this._rawValidators,r)}hasAsyncValidator(r){return zh(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){let o=this.touched===!1;this.touched=!0;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(Rt(Je({},r),{sourceControl:t})),o&&r.emitEvent!==!1&&this._events.next(new ac(!0,t))}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(o=>o.markAllAsTouched(r))}markAsUntouched(r={}){let o=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=r.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:t})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t),o&&r.emitEvent!==!1&&this._events.next(new ac(!1,t))}markAsDirty(r={}){let o=this.pristine===!0;this.pristine=!1;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(Rt(Je({},r),{sourceControl:t})),o&&r.emitEvent!==!1&&this._events.next(new sc(!1,t))}markAsPristine(r={}){let o=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=r.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),o&&r.emitEvent!==!1&&this._events.next(new sc(!0,t))}markAsPending(r={}){this.status=Pl;let o=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Ll(this.status,o)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(Rt(Je({},r),{sourceControl:o}))}disable(r={}){let o=this._parentMarkedDirty(r.onlySelf);this.status=ic,this.errors=null,this._forEachChild(i=>{i.disable(Rt(Je({},r),{onlySelf:!0}))}),this._updateValue();let t=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Hh(this.value,t)),this._events.next(new Ll(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Rt(Je({},r),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(r={}){let o=this._parentMarkedDirty(r.onlySelf);this.status=oc,this._forEachChild(t=>{t.enable(Rt(Je({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Rt(Je({},r),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(r,o){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},o),this._parent._updateTouched({},o))}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===Pl)&&this._runAsyncValidator(t,r.emitEvent)}let o=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Hh(this.value,o)),this._events.next(new Ll(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(Rt(Je({},r),{sourceControl:o}))}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ic:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r,o){if(this.asyncValidator){this.status=Pl,this._hasOwnPendingAsyncValidator={emitEvent:o!==!1};let t=pM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:o,shouldHaveEmitted:r})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let r=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(r,o={}){this.errors=r,this._updateControlsErrors(o.emitEvent!==!1,this,o.shouldHaveEmitted)}get(r){let o=r;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((t,i)=>t&&t._find(i),this)}getError(r,o){let t=o?this.get(o):this;return t&&t.errors?t.errors[r]:null}hasError(r,o){return!!this.getError(r,o)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r,o,t){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||t)&&this._events.next(new Ll(this.status,o)),this._parent&&this._parent._updateControlsErrors(r,o,t)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?ic:this.errors?Uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pl)?Pl:this._anyControlsHaveStatus(Uh)?Uh:oc}_anyControlsHaveStatus(r){return this._anyControls(o=>o.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r,o){let t=!this._anyControlsDirty(),i=this.pristine!==t;this.pristine=t,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,o),i&&this._events.next(new sc(this.pristine,o))}_updateTouched(r={},o){this.touched=this._anyControlsTouched(),this._events.next(new ac(this.touched,o)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,o)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Wh(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let o=this._parent&&this._parent.dirty;return!r&&!!o&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=SB(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=CB(this._rawAsyncValidators)}};var _M=new _t("CallSetDisabledState",{providedIn:"root",factory:()=>ub}),ub="always";function MB(n,r){return[...r.path,n]}function AB(n,r,o=ub){IB(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||o==="always")&&r.valueAccessor.setDisabledState?.(n.disabled),jB(n,r),OB(n,r),NB(n,r),TB(n,r)}function aM(n,r){n.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(r)})}function TB(n,r){if(r.valueAccessor.setDisabledState){let o=t=>{r.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(o),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(o)})}}function IB(n,r){let o=wB(n);r.validator!==null?n.setValidators(oM(o,r.validator)):typeof o=="function"&&n.setValidators([o]);let t=_B(n);r.asyncValidator!==null?n.setAsyncValidators(oM(t,r.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();aM(r._rawValidators,i),aM(r._rawAsyncValidators,i)}function jB(n,r){r.valueAccessor.registerOnChange(o=>{n._pendingValue=o,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&xM(n,r)})}function NB(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&xM(n,r),n.updateOn!=="submit"&&n.markAsTouched()})}function xM(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OB(n,r){let o=(t,i)=>{r.valueAccessor.writeValue(t),i&&r.viewToModelUpdate(t)};n.registerOnChange(o),r._registerOnDestroy(()=>{n._unregisterOnChange(o)})}function FB(n,r){if(!n.hasOwnProperty("model"))return!1;let o=n.model;return o.isFirstChange()?!0:!Object.is(r,o.currentValue)}function kB(n){return Object.getPrototypeOf(n.constructor)===dB}function RB(n,r){if(!r)return null;Array.isArray(r);let o,t,i;return r.forEach(s=>{s.constructor===qh?o=s:kB(s)?t=s:i=s}),i||t||o||null}function lM(n,r){let o=n.indexOf(r);o>-1&&n.splice(o,1)}function uM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var PB=class extends lb{constructor(r=null,o,t){super(DB(o),EB(t,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wh(o)&&(o.nonNullable||o.initialValueIsDefault)&&(uM(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,o={}){this.value=this._pendingValue=r,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(r,o={}){this.setValue(r,o)}reset(r=this.defaultValue,o={}){this._applyFormState(r),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){lM(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){lM(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){uM(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var LB={provide:lc,useExisting:du(()=>cb)},cM=Promise.resolve(),cb=(()=>{let r=class r extends lc{constructor(t,i,s,a,u,l){super(),this._changeDetectorRef=u,this.callSetDisabledState=l,this.control=new PB,this._registered=!1,this.name="",this.update=new $t,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=RB(this,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),FB(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){AB(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,s=i!==0&&$s(i);cM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?MB(t,this._parent):[t]}};r.\u0275fac=function(i){return new(i||r)(ot(sb,9),ot(mB,10),ot(gB,10),ot(fM,10),ot(ts,8),ot(_M,8))},r.\u0275dir=nn({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ty([LB]),tl,po]});let n=r;return n})();var BB=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({});let n=r;return n})();var DM=(()=>{let r=class r{static withConfig(t){return{ngModule:r,providers:[{provide:_M,useValue:t.callSetDisabledState??ub}]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({imports:[BB]});let n=r;return n})();var UB=["*"];function zB(n,r){if(n&1&&(ze(0,"h3",3),ct(1),He()),n&2){let o=Ut();ft(),Hr(o.title)}}var db=(()=>{let r=class r{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="click",this.outsideClick=!1,this.delay=0}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),GB=(()=>{let r=class r{set placement(t){this._bsVersions.isBs5?this._placement=zu[t]:this._placement=t}get _bsVersions(){return oi()}constructor(t){this._placement="top",Object.assign(this,t)}checkMarginNecessity(){return Sv(this._placement)}};r.\u0275fac=function(i){return new(i||r)(ot(db))},r.\u0275cmp=ar({type:r,selectors:[["popover-container"]],hostAttrs:["role","tooltip",2,"display","block","position","absolute"],hostVars:7,hostBindings:function(i,s){i&2&&(Gn("id",s.popoverId),sf("popover in popover-"+s._placement+" bs-popover-"+s._placement+" "+s._placement+" "+s.containerClass+" "+s.checkMarginNecessity()),eo("show",!s._bsVersions.isBs3)("bs3",s._bsVersions.isBs3))},inputs:{placement:"placement",title:"title"},ngContentSelectors:UB,decls:4,vars:1,consts:[[1,"popover-arrow","arrow"],["class","popover-title popover-header",4,"ngIf"],[1,"popover-content","popover-body"],[1,"popover-title","popover-header"]],template:function(i,s){i&1&&(Hs(),pr(0,"div",0),Mr(1,zB,2,1,"h3",1),ze(2,"div",2),qs(3),He()),i&2&&(ft(),Jt("ngIf",s.title))},dependencies:[il],styles:[".popover.bottom[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-4px}[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0});let n=r;return n})(),HB=0,SM=(()=>{let r=class r{get isOpen(){return this._popover.isShown}set isOpen(t){t?this.show():this.hide()}constructor(t,i,s,a,u,l){this._elementRef=i,this._renderer=s,this._positionService=l,this.popoverId=HB++,this.adaptivePosition=!0,this.placement="top",this.outsideClick=!1,this.triggers="click",this.containerClass="",this.delay=0,this._isInited=!1,this._popover=u.createLoader(i,a,s).provide({provide:db,useValue:t}),Object.assign(this,t),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,typeof window<"u"&&i.nativeElement.addEventListener("click",function(){try{i.nativeElement.focus()}catch{return}})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`ngx-popover-${this.popoverId}`:void 0,this._ariaDescribedby?(this._popover.instance&&(this._popover.instance.popoverId=this._ariaDescribedby),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby)):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}show(){if(this._popover.isShown||!this.popover||this._delayTimeoutId)return;this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}});let t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._popover.attach(GB).to(this.container).position({attachment:this.placement}).show({content:this.popover,context:this.popoverContext,placement:this.placement,title:this.popoverTitle,containerClass:this.containerClass}),!this.adaptivePosition&&this._popover._componentRef&&(this._positionService.calcPosition(),this._positionService.deletePositionElement(this._popover._componentRef.location)),this.isOpen=!0,this.setAriaDescribedBy()},i=()=>{this._popoverCancelShowFn&&this._popoverCancelShowFn()};if(this.delay){let s=$p(this.delay).subscribe(()=>{t(),i()});this.triggers&&hv(this.triggers).forEach(a=>{a.close&&(this._popoverCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,a.close,()=>{s.unsubscribe(),i()}))})}else t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this.isOpen&&(this._popover.hide(),this.setAriaDescribedBy(),this.isOpen=!1)}toggle(){if(this.isOpen)return this.hide();this.show()}ngOnInit(){this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:()=>this.show(),hide:()=>this.hide()}))}ngOnDestroy(){this._popover.dispose()}};r.\u0275fac=function(i){return new(i||r)(ot(db),ot(wr),ot(Rn),ot(To),ot(Ii),ot(Ti))},r.\u0275dir=nn({type:r,selectors:[["","popover",""]],inputs:{adaptivePosition:"adaptivePosition",boundariesElement:"boundariesElement",popover:"popover",popoverContext:"popoverContext",popoverTitle:"popoverTitle",placement:"placement",outsideClick:"outsideClick",triggers:"triggers",container:"container",containerClass:"containerClass",isOpen:"isOpen",delay:"delay"},outputs:{onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-popover"]});let n=r;return n})(),EM=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[Ii,Ti]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({imports:[ns]});let n=r;return n})();function WB(n,r){if(n&1){let o=to();ze(0,"div",14)(1,"input",15),jo("ngModelChange",function(i){kr(o);let s=Ut(2);return Jo(s.newPassword,i)||(s.newPassword=i),Rr(i)}),He(),ze(2,"button",16),lr("click",function(){kr(o);let i=Ut(2);return Rr(i.exportVaultWithNewPassword())}),ct(3," Export Vault with New Password "),He()()}if(n&2){let o=Ut(2);ft(),Io("ngModel",o.newPassword)}}function $B(n,r){if(n&1){let o=to();ze(0,"div",11)(1,"button",6),lr("click",function(){kr(o);let i=Ut();return Rr(i.exportVault())}),ct(2,"Export Vault"),He(),ze(3,"button",12),lr("click",function(){kr(o);let i=Ut();return Rr(i.showNewPassword=!i.showNewPassword)}),ct(4," Export with New Password "),He(),Mr(5,WB,4,1,"div",13),He()}if(n&2){let o=Ut();ft(5),Jt("ngIf",o.showNewPassword)}}function YB(n,r){if(n&1&&(ze(0,"div",17),ct(1),He()),n&2){let o=Ut();ft(),Hr(o.error)}}function XB(n,r){if(n&1){let o=to();ze(0,"tr")(1,"td"),ct(2),He(),ze(3,"td"),ct(4),He(),ze(5,"td"),ct(6),He(),ze(7,"td")(8,"button",29),ct(9," Show "),He(),ze(10,"button",30),lr("click",function(){let i=kr(o).$implicit,s=Ut(3);return Rr(s.selectEntryForModification(i))}),ct(11,"Modify"),He(),ze(12,"button",31),lr("click",function(){let i=kr(o).$implicit,s=Ut(3);return Rr(s.deleteEntry(i.id))}),ct(13,"Delete"),He()()()}if(n&2){let o=r.$implicit;ft(2),Hr(o.id),ft(2),Hr(o.site),ft(2),Hr(o.username),ft(2),Jt("popover",o.password)}}function ZB(n,r){if(n&1&&(ze(0,"div")(1,"h3"),ct(2,"Entries"),He(),ze(3,"table",27)(4,"thead")(5,"tr")(6,"th"),ct(7,"ID"),He(),ze(8,"th"),ct(9,"Site"),He(),ze(10,"th"),ct(11,"Username"),He(),ze(12,"th"),ct(13,"Password"),He(),ze(14,"th"),ct(15,"Actions"),He()()(),ze(16,"tbody"),Mr(17,XB,14,4,"tr",28),He()()()),n&2){let o=Ut(2);ft(17),Jt("ngForOf",o.entries)}}function QB(n,r){if(n&1){let o=to();ze(0,"div",18)(1,"h4"),ct(2),He(),ze(3,"div",19)(4,"input",20),jo("ngModelChange",function(i){kr(o);let s=Ut(2);return Jo(s.modifyEntryData.site,i)||(s.modifyEntryData.site=i),Rr(i)}),He(),ze(5,"input",21),jo("ngModelChange",function(i){kr(o);let s=Ut(2);return Jo(s.modifyEntryData.username,i)||(s.modifyEntryData.username=i),Rr(i)}),He(),ze(6,"div",22)(7,"input",23),jo("ngModelChange",function(i){kr(o);let s=Ut(2);return Jo(s.modifyEntryData.password,i)||(s.modifyEntryData.password=i),Rr(i)}),He(),ze(8,"button",24),lr("click",function(){kr(o);let i=Ut(2);return Rr(i.genPass("modify"))}),ct(9,"Gen Pass"),He()(),ze(10,"button",16),lr("click",function(){kr(o);let i=Ut(2);return Rr(i.modifyEntry())}),ct(11,"Save"),He()()()}if(n&2){let o=Ut(2);ft(2),nl("Modify Entry ",o.modifyEntryId,""),ft(2),Io("ngModel",o.modifyEntryData.site),ft(),Io("ngModel",o.modifyEntryData.username),ft(2),Io("ngModel",o.modifyEntryData.password)}}function KB(n,r){if(n&1&&(ze(0,"div",18)(1,"h4"),ct(2,"Vault JSON"),He(),ze(3,"textarea",32),ct(4),TD(5,"json"),He()()),n&2){let o=Ut(2);ft(4),Hr(ID(5,1,o.vaultData))}}function JB(n,r){if(n&1){let o=to();ze(0,"div"),Mr(1,ZB,18,1,"div",10),ze(2,"div",18)(3,"h4"),ct(4,"Add Entry"),He(),ze(5,"div",19)(6,"input",20),jo("ngModelChange",function(i){kr(o);let s=Ut();return Jo(s.newEntry.site,i)||(s.newEntry.site=i),Rr(i)}),He(),ze(7,"input",21),jo("ngModelChange",function(i){kr(o);let s=Ut();return Jo(s.newEntry.username,i)||(s.newEntry.username=i),Rr(i)}),He(),ze(8,"div",22)(9,"input",23),jo("ngModelChange",function(i){kr(o);let s=Ut();return Jo(s.newEntry.password,i)||(s.newEntry.password=i),Rr(i)}),He(),ze(10,"button",24),lr("click",function(){kr(o);let i=Ut();return Rr(i.genPass("new"))}),ct(11,"Gen Pass"),He()(),ze(12,"button",25),lr("click",function(){kr(o);let i=Ut();return Rr(i.addEntry())}),ct(13,"Add"),He()()(),Mr(14,QB,12,4,"div",26)(15,KB,6,3,"div",26),He()}if(n&2){let o=Ut();ft(),Jt("ngIf",o.entries.length),ft(5),Io("ngModel",o.newEntry.site),ft(),Io("ngModel",o.newEntry.username),ft(2),Io("ngModel",o.newEntry.password),ft(5),Jt("ngIf",o.modifyEntryId!==null),ft(),Jt("ngIf",o.vaultData)}}var $h=class n{constructor(r){this.vaultService=r}vaultData=null;password="";newPassword="";showNewPassword=!1;entries=[];error="";vaultLoaded=!1;selectedFile=null;revealedPasswords={};newEntry={site:"",username:"",password:""};modifyEntryId=null;modifyEntryData={site:"",username:"",password:""};initVault(){return Ir(this,null,function*(){if(!this.password){this.error="Password required";return}this.vaultData=yield this.vaultService.initVault(this.password),this.vaultData&&(this.vaultLoaded=!0),this.entries=[],this.error="",this.selectedFile=null})}unlockVault(){return Ir(this,null,function*(){if(!this.vaultData||!this.password||!this.selectedFile){this.error="Vault JSON and password required";return}(yield this.vaultService.unlockVault(this.password,this.vaultData))?(this.entries=this.vaultService.listEntries(),this.vaultLoaded=!0,this.error=""):this.error="Failed to unlock vault"})}togglePassword(r){this.revealedPasswords[r]=!this.revealedPasswords[r]}addEntry(){if(!this.newEntry.site||!this.newEntry.username||!this.newEntry.password){this.error="All fields required";return}this.vaultService.addEntry(this.newEntry),this.entries=this.vaultService.listEntries(),this.newEntry={site:"",username:"",password:""},this.error=""}selectEntryForModification(r){this.modifyEntryId=r.id,this.modifyEntryData=Je({},r)}modifyEntry(){this.modifyEntryId!==null&&(this.vaultService.modifyEntry(this.modifyEntryId,this.modifyEntryData),this.entries=this.vaultService.listEntries(),this.modifyEntryId=null,this.modifyEntryData={site:"",username:"",password:""})}deleteEntry(r){this.vaultService.deleteEntry(r),this.entries=this.vaultService.listEntries()}genPass(r){let o=this.vaultService.genPass();r==="new"?this.newEntry.password=o:r==="modify"&&(this.modifyEntryData.password=o)}exportVault(){return Ir(this,null,function*(){if(!this.password){this.error="Password required for export";return}this.vaultData=yield this.vaultService.exportVault(this.vaultData),this.error=""})}exportVaultWithNewPassword(){return Ir(this,null,function*(){if(!this.vaultLoaded||!this.newPassword){alert("Please enter a new password");return}try{yield this.vaultService.exportVaultNewPassword(this.newPassword,"vault-new.json"),this.showNewPassword=!1,this.newPassword="",alert("Vault exported with new password!")}catch(r){console.error(r),alert("Failed to export vault with new password")}})}handleFileUpload(r){let o=r.target.files[0];if(!o)return;let t=new FileReader;t.onload=i=>{try{this.vaultData=JSON.parse(i.target?.result||"{}"),this.error=""}catch{this.error="Invalid JSON file"}},t.readAsText(o)}static \u0275fac=function(o){return new(o||n)(ot(Vh))};static \u0275cmp=ar({type:n,selectors:[["app-vault"]],decls:19,vars:5,consts:[[1,"container","mt-4"],[1,"mb-3"],["for","vaultFile",1,"form-label"],["type","file","id","vaultFile",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-label"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success","me-2",3,"click"],["class","mt-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"mt-3"],[1,"btn","btn-warning",3,"click"],["class","mt-2",4,"ngIf"],[1,"mt-2"],["type","password","placeholder","Enter new password",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click"],[1,"alert","alert-danger"],[1,"mt-4"],[1,"mb-2"],["placeholder","Site",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["placeholder","Username",1,"form-control","mb-1",3,"ngModelChange","ngModel"],[1,"input-group","mb-1"],["placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],["class","mt-4",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["type","button","popoverTitle","Password","triggers","click",1,"btn","btn-primary","btn-sm","me-2",3,"popover"],[1,"btn","btn-secondary","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],["rows","10",1,"form-control"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"h2"),ct(2,"Vault Manager"),He(),ze(3,"div",1)(4,"label",2),ct(5,"Upload Vault JSON:"),He(),ze(6,"input",3),jo("ngModelChange",function(s){return Jo(t.selectedFile,s)||(t.selectedFile=s),s}),lr("change",function(s){return t.handleFileUpload(s)}),He()(),ze(7,"div",1)(8,"label",4),ct(9,"Master Password:"),He(),ze(10,"input",5),jo("ngModelChange",function(s){return Jo(t.password,s)||(t.password=s),s}),He()(),ze(11,"div",1)(12,"button",6),lr("click",function(){return t.initVault()}),ct(13,"INIT Vault"),He(),ze(14,"button",7),lr("click",function(){return t.unlockVault()}),ct(15,"Unlock Vault"),He(),Mr(16,$B,6,1,"div",8),He(),Mr(17,YB,2,1,"div",9)(18,JB,16,6,"div",10),He()),o&2&&(ft(6),Io("ngModel",t.selectedFile),ft(4),Io("ngModel",t.password),ft(6),Jt("ngIf",t.vaultLoaded),ft(),Jt("ngIf",t.error),ft(),Jt("ngIf",t.vaultLoaded))},dependencies:[Hn,il,qh,wM,cb,SM,JD],styles:[".container[_ngcontent-%COMP%]{max-width:700px}textarea[_ngcontent-%COMP%]{font-family:monospace}pre[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.password-cell[_ngcontent-%COMP%]{white-space:nowrap;max-width:200px;overflow:hidden;text-overflow:ellipsis;font-family:monospace}"]})};var e8=[{path:"home",component:Uu},{path:"portfolio",component:th},{path:"demo",component:Bh},{path:"contact",component:rh},{path:"vault",component:$h},{path:"**",component:Uu,pathMatch:"full"}],Yh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=Cr({type:n});static \u0275inj=Er({imports:[dv.forRoot(e8,{useHash:!0}),dv]})};var Xh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=ar({type:n,selectors:[["app-header"]],decls:14,vars:0,consts:[[1,"jumbotron",2,"position","relative"],[1,"text-center"],[1,"display-4"],[1,"row","mt-2","mb-2","me-2","ms-2","d-flex","justify-content-center",2,"position","absolute","bottom","5px","right","10px","max-width","20vw"],["href","https://www.linkedin.com/in/jonathan-lemon-66464520b/","target","_blank",1,"col","rounded","hoverable","d-flex","justify-content-center"],["src","linkedinlogoheader.png","width","32","height","32",1,"rounded-circle","mt-2","mb-2","me-2","ms-2"],["href","https://github.com/jonathanlemon","target","_blank",1,"col","rounded","hoverable","d-flex","justify-content-center"],["src","githublogoheader.png","width","32","height","32",1,"rounded-circle","mt-2","mb-2","me-2","ms-2"],["href","resume.pdf","target","_blank",1,"d-flex","col","rounded","hoverable","text-white","align-items-center","justify-content-center",2,"text-decoration","none"],[1,"text-white","lead","mt-2","mb-2","me-2","ms-2",2,"font-weight","300"]],template:function(o,t){o&1&&(ze(0,"div",0)(1,"div",1)(2,"h1",2),ct(3,"Jonathan Lemon"),He(),ze(4,"h3"),ct(5,"Software Engineer"),He()(),ze(6,"div",3)(7,"a",4),pr(8,"img",5),He(),ze(9,"a",6),pr(10,"img",7),He(),ze(11,"a",8)(12,"p",9),ct(13,"R\xE9sum\xE9"),He()()()())},styles:['.jumbotron[_ngcontent-%COMP%]{padding:2rem 1rem;background:linear-gradient(var(--degree),rgb(245,102,0),rgb(82,45,128));animation-timing-function:ease-in-out;animation-duration:10s;animation-direction:alternate-reverse;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_rotate;color:#fff}[_ngcontent-%COMP%]:root{--degree: 0deg}@property --degree{syntax: "<angle>"; inherits: false; initial-value: 0deg;}@keyframes _ngcontent-%COMP%_rotate{0%{--degree: 0deg}25%{--degree: 90deg}50%{--degree: 180deg}75%{--degree: 270deg}to{--degree: 360deg}}']})};var Zh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=ar({type:n,selectors:[["app-nav"]],decls:18,vars:0,consts:[[1,"navbar-expand-md","border-bottom","mb-3"],[1,"container"],[1,"nav","justify-content-center"],[1,"nav-item","hoverable"],["href","","routerLink","/home","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/portfolio","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/demo","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/vault","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/contact","routerLinkActive","text-dark",1,"nav-link","text-secondary"]],template:function(o,t){o&1&&(ze(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),ct(5,"Home"),He()(),ze(6,"li",3)(7,"a",5),ct(8,"Portfolio"),He()(),ze(9,"li",3)(10,"a",6),ct(11,"Demo"),He()(),ze(12,"li",3)(13,"a",7),ct(14,"Vault"),He()(),ze(15,"li",3)(16,"a",8),ct(17,"Contact"),He()()()()())},dependencies:[Lf,XS]})};var Qh=class n{title="Portfolio";static \u0275fac=function(o){return new(o||n)};static \u0275cmp=ar({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"shadow-sm"]],template:function(o,t){o&1&&(ze(0,"div",0),pr(1,"app-header")(2,"app-nav"),He(),pr(3,"router-outlet"))},dependencies:[iv,Xh,Zh]})};var Bt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Bt||{}),fi="*";function fb(n,r=null){return{type:Bt.Animate,styles:r,timings:n}}function CM(n,r=null){return{type:Bt.Sequence,steps:n,options:r}}function ys(n){return{type:Bt.Style,styles:n,offset:null}}var gs=class{constructor(r=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){let o=r=="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},uc=class{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let o=0,t=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++o==s&&this._onFinish()}),a.onDestroy(()=>{++t==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){let o=r*this.totalTime;this.players.forEach(t=>{let i=t.totalTime?Math.min(1,o/t.totalTime):1;t.setPosition(i)})}getPosition(){let r=this.players.reduce((o,t)=>o===null||t.totalTime>o.totalTime?t:o,null);return r!=null?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){let o=r=="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},Kh="!";function MM(n){return new et(3e3,!1)}function n8(){return new et(3100,!1)}function o8(){return new et(3101,!1)}function i8(n){return new et(3001,!1)}function s8(n){return new et(3003,!1)}function a8(n){return new et(3004,!1)}function l8(n,r){return new et(3005,!1)}function u8(){return new et(3006,!1)}function c8(){return new et(3007,!1)}function d8(n,r){return new et(3008,!1)}function f8(n){return new et(3002,!1)}function h8(n,r,o,t,i){return new et(3010,!1)}function p8(){return new et(3011,!1)}function m8(){return new et(3012,!1)}function g8(){return new et(3200,!1)}function y8(){return new et(3202,!1)}function v8(){return new et(3013,!1)}function b8(n){return new et(3014,!1)}function w8(n){return new et(3015,!1)}function _8(n){return new et(3016,!1)}function x8(n,r){return new et(3404,!1)}function D8(n){return new et(3502,!1)}function S8(n){return new et(3503,!1)}function E8(){return new et(3300,!1)}function C8(n){return new et(3504,!1)}function M8(n){return new et(3301,!1)}function A8(n,r){return new et(3302,!1)}function T8(n){return new et(3303,!1)}function I8(n,r){return new et(3400,!1)}function j8(n){return new et(3401,!1)}function N8(n){return new et(3402,!1)}function O8(n,r){return new et(3505,!1)}function vs(n){switch(n.length){case 0:return new gs;case 1:return n[0];default:return new uc(n)}}function UM(n,r,o=new Map,t=new Map){let i=[],s=[],a=-1,u=null;if(r.forEach(l=>{let c=l.get("offset"),m=c==a,y=m&&u||new Map;l.forEach((d,h)=>{let p=h,f=d;if(h!=="offset")switch(p=n.normalizePropertyName(p,i),f){case Kh:f=o.get(h);break;case fi:f=t.get(h);break;default:f=n.normalizeStyleValue(h,p,f,i);break}y.set(p,f)}),m||s.push(y),u=y,a=c}),i.length)throw D8(i);return s}function kb(n,r,o,t){switch(r){case"start":n.onStart(()=>t(o&&hb(o,"start",n)));break;case"done":n.onDone(()=>t(o&&hb(o,"done",n)));break;case"destroy":n.onDestroy(()=>t(o&&hb(o,"destroy",n)));break}}function hb(n,r,o){let t=o.totalTime,i=!!o.disabled,s=Rb(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,t??n.totalTime,i),a=n._data;return a!=null&&(s._data=a),s}function Rb(n,r,o,t,i="",s=0,a){return{element:n,triggerName:r,fromState:o,toState:t,phaseName:i,totalTime:s,disabled:!!a}}function so(n,r,o){let t=n.get(r);return t||n.set(r,t=o),t}function AM(n){let r=n.indexOf(":"),o=n.substring(1,r),t=n.slice(r+1);return[o,t]}var F8=typeof document>"u"?null:document.documentElement;function Pb(n){let r=n.parentNode||n.host||null;return r===F8?null:r}function k8(n){return n.substring(1,6)=="ebkit"}var sa=null,TM=!1;function R8(n){sa||(sa=P8()||{},TM=sa.style?"WebkitAppearance"in sa.style:!1);let r=!0;return sa.style&&!k8(n)&&(r=n in sa.style,!r&&TM&&(r="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sa.style)),r}function P8(){return typeof document<"u"?document.body:null}function zM(n,r){for(;r;){if(r===n)return!0;r=Pb(r)}return!1}function GM(n,r,o){if(o)return Array.from(n.querySelectorAll(r));let t=n.querySelector(r);return t?[t]:[]}var Lb=(()=>{let r=class r{validateStyleProperty(t){return R8(t)}containsElement(t,i){return zM(t,i)}getParentElement(t){return Pb(t)}query(t,i,s){return GM(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,a,u,l=[],c){return new gs(s,a)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),zb=class zb{};zb.NOOP=new Lb;var ua=zb,ca=class{};var L8=1e3,HM="{{",B8="}}",qM="ng-enter",bb="ng-leave",Jh="ng-trigger",op=".ng-trigger",IM="ng-animating",wb=".ng-animating";function Pi(n){if(typeof n=="number")return n;let r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:_b(parseFloat(r[1]),r[2])}function _b(n,r){switch(r){case"s":return n*L8;default:return n}}function ip(n,r,o){return n.hasOwnProperty("duration")?n:V8(n,r,o)}function V8(n,r,o){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof n=="string"){let u=n.match(t);if(u===null)return r.push(MM(n)),{duration:0,delay:0,easing:""};i=_b(parseFloat(u[1]),u[2]);let l=u[3];l!=null&&(s=_b(parseFloat(l),u[4]));let c=u[5];c&&(a=c)}else i=n;if(!o){let u=!1,l=r.length;i<0&&(r.push(n8()),u=!0),s<0&&(r.push(o8()),u=!0),u&&r.splice(l,0,MM(n))}return{duration:i,delay:s,easing:a}}function U8(n){return n.length?n[0]instanceof Map?n:n.map(r=>new Map(Object.entries(r))):[]}function hi(n,r,o){r.forEach((t,i)=>{let s=Bb(i);o&&!o.has(i)&&o.set(i,n.style[s]),n.style[s]=t})}function la(n,r){r.forEach((o,t)=>{let i=Bb(t);n.style[i]=""})}function cc(n){return Array.isArray(n)?n.length==1?n[0]:CM(n):n}function z8(n,r,o){let t=r.params||{},i=WM(n);i.length&&i.forEach(s=>{t.hasOwnProperty(s)||o.push(i8(s))})}var xb=new RegExp(`${HM}\\s*(.+?)\\s*${B8}`,"g");function WM(n){let r=[];if(typeof n=="string"){let o;for(;o=xb.exec(n);)r.push(o[1]);xb.lastIndex=0}return r}function fc(n,r,o){let t=`${n}`,i=t.replace(xb,(s,a)=>{let u=r[a];return u==null&&(o.push(s8(a)),u=""),u.toString()});return i==t?n:i}var G8=/-+([a-z0-9])/g;function Bb(n){return n.replace(G8,(...r)=>r[1].toUpperCase())}function H8(n,r){return n===0||r===0}function q8(n,r,o){if(o.size&&r.length){let t=r[0],i=[];if(o.forEach((s,a)=>{t.has(a)||i.push(a),t.set(a,s)}),i.length)for(let s=1;s<r.length;s++){let a=r[s];i.forEach(u=>a.set(u,Vb(n,u)))}}return r}function io(n,r,o){switch(r.type){case Bt.Trigger:return n.visitTrigger(r,o);case Bt.State:return n.visitState(r,o);case Bt.Transition:return n.visitTransition(r,o);case Bt.Sequence:return n.visitSequence(r,o);case Bt.Group:return n.visitGroup(r,o);case Bt.Animate:return n.visitAnimate(r,o);case Bt.Keyframes:return n.visitKeyframes(r,o);case Bt.Style:return n.visitStyle(r,o);case Bt.Reference:return n.visitReference(r,o);case Bt.AnimateChild:return n.visitAnimateChild(r,o);case Bt.AnimateRef:return n.visitAnimateRef(r,o);case Bt.Query:return n.visitQuery(r,o);case Bt.Stagger:return n.visitStagger(r,o);default:throw a8(r.type)}}function Vb(n,r){return window.getComputedStyle(n)[r]}var W8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),sp=class extends ca{normalizePropertyName(r,o){return Bb(r)}normalizeStyleValue(r,o,t,i){let s="",a=t.toString().trim();if(W8.has(o)&&t!==0&&t!=="0")if(typeof t=="number")s="px";else{let u=t.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&u[1].length==0&&i.push(l8(r,t))}return a+s}};var ap="*";function $8(n,r){let o=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>Y8(t,o,r)):o.push(n),o}function Y8(n,r,o){if(n[0]==":"){let l=X8(n,o);if(typeof l=="function"){r.push(l);return}n=l}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return o.push(w8(n)),r;let i=t[1],s=t[2],a=t[3];r.push(jM(i,a));let u=i==ap&&a==ap;s[0]=="<"&&!u&&r.push(jM(a,i))}function X8(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,t)=>parseFloat(t)>parseFloat(o);case":decrement":return(o,t)=>parseFloat(t)<parseFloat(o);default:return r.push(_8(n)),"* => *"}}var ep=new Set(["true","1"]),tp=new Set(["false","0"]);function jM(n,r){let o=ep.has(n)||tp.has(n),t=ep.has(r)||tp.has(r);return(i,s)=>{let a=n==ap||n==i,u=r==ap||r==s;return!a&&o&&typeof i=="boolean"&&(a=i?ep.has(n):tp.has(n)),!u&&t&&typeof s=="boolean"&&(u=s?ep.has(r):tp.has(r)),a&&u}}var $M=":self",Z8=new RegExp(`s*${$M}s*,?`,"g");function YM(n,r,o,t){return new Db(n).build(r,o,t)}var NM="",Db=class{constructor(r){this._driver=r}build(r,o,t){let i=new Sb(o);return this._resetContextStyleTimingState(i),io(this,cc(r),i)}_resetContextStyleTimingState(r){r.currentQuerySelector=NM,r.collectedStyles=new Map,r.collectedStyles.set(NM,new Map),r.currentTime=0}visitTrigger(r,o){let t=o.queryCount=0,i=o.depCount=0,s=[],a=[];return r.name.charAt(0)=="@"&&o.errors.push(u8()),r.definitions.forEach(u=>{if(this._resetContextStyleTimingState(o),u.type==Bt.State){let l=u,c=l.name;c.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,s.push(this.visitState(l,o))}),l.name=c}else if(u.type==Bt.Transition){let l=this.visitTransition(u,o);t+=l.queryCount,i+=l.depCount,a.push(l)}else o.errors.push(c8())}),{type:Bt.Trigger,name:r.name,states:s,transitions:a,queryCount:t,depCount:i,options:null}}visitState(r,o){let t=this.visitStyle(r.styles,o),i=r.options&&r.options.params||null;if(t.containsDynamicStyles){let s=new Set,a=i||{};t.styles.forEach(u=>{u instanceof Map&&u.forEach(l=>{WM(l).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&o.errors.push(d8(r.name,[...s.values()]))}return{type:Bt.State,name:r.name,style:t,options:i?{params:i}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;let t=io(this,cc(r.animation),o),i=$8(r.expr,o.errors);return{type:Bt.Transition,matchers:i,animation:t,queryCount:o.queryCount,depCount:o.depCount,options:aa(r.options)}}visitSequence(r,o){return{type:Bt.Sequence,steps:r.steps.map(t=>io(this,t,o)),options:aa(r.options)}}visitGroup(r,o){let t=o.currentTime,i=0,s=r.steps.map(a=>{o.currentTime=t;let u=io(this,a,o);return i=Math.max(i,o.currentTime),u});return o.currentTime=i,{type:Bt.Group,steps:s,options:aa(r.options)}}visitAnimate(r,o){let t=e6(r.timings,o.errors);o.currentAnimateTimings=t;let i,s=r.styles?r.styles:ys({});if(s.type==Bt.Keyframes)i=this.visitKeyframes(s,o);else{let a=r.styles,u=!1;if(!a){u=!0;let c={};t.easing&&(c.easing=t.easing),a=ys(c)}o.currentTime+=t.duration+t.delay;let l=this.visitStyle(a,o);l.isEmptyStep=u,i=l}return o.currentAnimateTimings=null,{type:Bt.Animate,timings:t,style:i,options:null}}visitStyle(r,o){let t=this._makeStyleAst(r,o);return this._validateStyleAst(t,o),t}_makeStyleAst(r,o){let t=[],i=Array.isArray(r.styles)?r.styles:[r.styles];for(let u of i)typeof u=="string"?u===fi?t.push(u):o.errors.push(f8(u)):t.push(new Map(Object.entries(u)));let s=!1,a=null;return t.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s)){for(let l of u.values())if(l.toString().indexOf(HM)>=0){s=!0;break}}}),{type:Bt.Style,styles:t,easing:a,offset:r.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(r,o){let t=o.currentAnimateTimings,i=o.currentTime,s=o.currentTime;t&&s>0&&(s-=t.duration+t.delay),r.styles.forEach(a=>{typeof a!="string"&&a.forEach((u,l)=>{let c=o.collectedStyles.get(o.currentQuerySelector),m=c.get(l),y=!0;m&&(s!=i&&s>=m.startTime&&i<=m.endTime&&(o.errors.push(h8(l,m.startTime,m.endTime,s,i)),y=!1),s=m.startTime),y&&c.set(l,{startTime:s,endTime:i}),o.options&&z8(u,o.options,o.errors)})})}visitKeyframes(r,o){let t={type:Bt.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(p8()),t;let i=1,s=0,a=[],u=!1,l=!1,c=0,m=r.steps.map(g=>{let w=this._makeStyleAst(g,o),b=w.offset!=null?w.offset:J8(w.styles),_=0;return b!=null&&(s++,_=w.offset=b),l=l||_<0||_>1,u=u||_<c,c=_,a.push(_),w});l&&o.errors.push(m8()),u&&o.errors.push(g8());let y=r.steps.length,d=0;s>0&&s<y?o.errors.push(y8()):s==0&&(d=i/(y-1));let h=y-1,p=o.currentTime,f=o.currentAnimateTimings,v=f.duration;return m.forEach((g,w)=>{let b=d>0?w==h?1:d*w:a[w],_=b*v;o.currentTime=p+f.delay+_,f.duration=_,this._validateStyleAst(g,o),g.offset=b,t.styles.push(g)}),t}visitReference(r,o){return{type:Bt.Reference,animation:io(this,cc(r.animation),o),options:aa(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:Bt.AnimateChild,options:aa(r.options)}}visitAnimateRef(r,o){return{type:Bt.AnimateRef,animation:this.visitReference(r.animation,o),options:aa(r.options)}}visitQuery(r,o){let t=o.currentQuerySelector,i=r.options||{};o.queryCount++,o.currentQuery=r;let[s,a]=Q8(r.selector);o.currentQuerySelector=t.length?t+" "+s:s,so(o.collectedStyles,o.currentQuerySelector,new Map);let u=io(this,cc(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=t,{type:Bt.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:r.selector,options:aa(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(v8());let t=r.timings==="full"?{duration:0,delay:0,easing:"full"}:ip(r.timings,o.errors,!0);return{type:Bt.Stagger,animation:io(this,cc(r.animation),o),timings:t,options:null}}};function Q8(n){let r=!!n.split(/\s*,\s*/).find(o=>o==$M);return r&&(n=n.replace(Z8,"")),n=n.replace(/@\*/g,op).replace(/@\w+/g,o=>op+"-"+o.slice(1)).replace(/:animating/g,wb),[n,r]}function K8(n){return n?Je({},n):null}var Sb=class{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function J8(n){if(typeof n=="string")return null;let r=null;if(Array.isArray(n))n.forEach(o=>{if(o instanceof Map&&o.has("offset")){let t=o;r=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let o=n;r=parseFloat(o.get("offset")),o.delete("offset")}return r}function e6(n,r){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=ip(n,r).duration;return pb(s,0,"")}let o=n;if(o.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=pb(0,0,"");return s.dynamic=!0,s.strValue=o,s}let i=ip(o,r);return pb(i.duration,i.delay,i.easing)}function aa(n){return n?(n=Je({},n),n.params&&(n.params=K8(n.params))):n={},n}function pb(n,r,o){return{duration:n,delay:r,easing:o}}function Ub(n,r,o,t,i,s,a=null,u=!1){return{type:1,element:n,keyframes:r,preStyleProps:o,postStyleProps:t,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:u}}var hc=class{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let t=this._map.get(r);t||this._map.set(r,t=[]),t.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}},t6=1,r6=":enter",n6=new RegExp(r6,"g"),o6=":leave",i6=new RegExp(o6,"g");function XM(n,r,o,t,i,s=new Map,a=new Map,u,l,c=[]){return new Eb().buildKeyframes(n,r,o,t,i,s,a,u,l,c)}var Eb=class{buildKeyframes(r,o,t,i,s,a,u,l,c,m=[]){c=c||new hc;let y=new Cb(r,o,c,i,s,m,[]);y.options=l;let d=l.delay?Pi(l.delay):0;y.currentTimeline.delayNextStep(d),y.currentTimeline.setStyles([a],null,y.errors,l),io(this,t,y);let h=y.timelines.filter(p=>p.containsAnimation());if(h.length&&u.size){let p;for(let f=h.length-1;f>=0;f--){let v=h[f];if(v.element===o){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([u],null,y.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[Ub(o,[],[],[],0,d,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){let t=o.subInstructions.get(o.element);if(t){let i=o.createSubContext(r.options),s=o.currentTimeline.currentTime,a=this._visitSubInstructions(t,i,i.options);s!=a&&o.transformIntoNewTimeline(a)}o.previousNode=r}visitAnimateRef(r,o){let t=o.createSubContext(r.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,t),this.visitReference(r.animation,t),o.transformIntoNewTimeline(t.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,t){for(let i of r){let s=i?.delay;if(s){let a=typeof s=="number"?s:Pi(fc(s,i?.params??{},o.errors));t.delayNextStep(a)}}}_visitSubInstructions(r,o,t){let s=o.currentTimeline.currentTime,a=t.duration!=null?Pi(t.duration):null,u=t.delay!=null?Pi(t.delay):null;return a!==0&&r.forEach(l=>{let c=o.appendInstructionToTimeline(l,a,u);s=Math.max(s,c.duration+c.delay)}),s}visitReference(r,o){o.updateOptions(r.options,!0),io(this,r.animation,o),o.previousNode=r}visitSequence(r,o){let t=o.subContextCount,i=o,s=r.options;if(s&&(s.params||s.delay)&&(i=o.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Bt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lp);let a=Pi(s.delay);i.delayNextStep(a)}r.steps.length&&(r.steps.forEach(a=>io(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>t&&i.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){let t=[],i=o.currentTimeline.currentTime,s=r.options&&r.options.delay?Pi(r.options.delay):0;r.steps.forEach(a=>{let u=o.createSubContext(r.options);s&&u.delayNextStep(s),io(this,a,u),i=Math.max(i,u.currentTimeline.currentTime),t.push(u.currentTimeline)}),t.forEach(a=>o.currentTimeline.mergeTimelineCollectedStyles(a)),o.transformIntoNewTimeline(i),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){let t=r.strValue,i=o.params?fc(t,o.params,o.errors):t;return ip(i,o.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){let t=o.currentAnimateTimings=this._visitTiming(r.timings,o),i=o.currentTimeline;t.delay&&(o.incrementTime(t.delay),i.snapshotCurrentStyles());let s=r.style;s.type==Bt.Keyframes?this.visitKeyframes(s,o):(o.incrementTime(t.duration),this.visitStyle(s,o),i.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){let t=o.currentTimeline,i=o.currentAnimateTimings;!i&&t.hasCurrentStyleProperties()&&t.forwardFrame();let s=i&&i.easing||r.easing;r.isEmptyStep?t.applyEmptyStep(s):t.setStyles(r.styles,s,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){let t=o.currentAnimateTimings,i=o.currentTimeline.duration,s=t.duration,u=o.createSubContext().currentTimeline;u.easing=t.easing,r.styles.forEach(l=>{let c=l.offset||0;u.forwardTime(c*s),u.setStyles(l.styles,l.easing,o.errors,o.options),u.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(u),o.transformIntoNewTimeline(i+s),o.previousNode=r}visitQuery(r,o){let t=o.currentTimeline.currentTime,i=r.options||{},s=i.delay?Pi(i.delay):0;s&&(o.previousNode.type===Bt.Style||t==0&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=lp);let a=t,u=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!i.optional,o.errors);o.currentQueryTotal=u.length;let l=null;u.forEach((c,m)=>{o.currentQueryIndex=m;let y=o.createSubContext(r.options,c);s&&y.delayNextStep(s),c===o.element&&(l=y.currentTimeline),io(this,r.animation,y),y.currentTimeline.applyStylesToKeyframe();let d=y.currentTimeline.currentTime;a=Math.max(a,d)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(a),l&&(o.currentTimeline.mergeTimelineCollectedStyles(l),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){let t=o.parentContext,i=o.currentTimeline,s=r.timings,a=Math.abs(s.duration),u=a*(o.currentQueryTotal-1),l=a*o.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=u-l;break;case"full":l=t.currentStaggerTime;break}let m=o.currentTimeline;l&&m.delayNextStep(l);let y=m.currentTime;io(this,r.animation,o),o.previousNode=r,t.currentStaggerTime=i.currentTime-y+(i.startTime-t.currentTimeline.startTime)}},lp={},Cb=class n{constructor(r,o,t,i,s,a,u,l){this._driver=r,this.element=o,this.subInstructions=t,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new up(this._driver,o,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;let t=r,i=this.options;t.duration!=null&&(i.duration=Pi(t.duration)),t.delay!=null&&(i.delay=Pi(t.delay));let s=t.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!o||!a.hasOwnProperty(u))&&(a[u]=fc(s[u],a,this.errors))})}}_copyOptions(){let r={};if(this.options){let o=this.options.params;if(o){let t=r.params={};Object.keys(o).forEach(i=>{t[i]=o[i]})}}return r}createSubContext(r=null,o,t){let i=o||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(r),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(r){return this.previousNode=lp,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,t){let i={duration:o??r.duration,delay:this.currentTimeline.currentTime+(t??0)+r.delay,easing:""},s=new Mb(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,i,r.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,t,i,s,a){let u=[];if(i&&u.push(this.element),r.length>0){r=r.replace(n6,"."+this._enterClassName),r=r.replace(i6,"."+this._leaveClassName);let l=t!=1,c=this._driver.query(this.element,r,l);t!==0&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),u.push(...c)}return!s&&u.length==0&&a.push(b8(o)),u}},up=class n{constructor(r,o,t,i){this._driver=r,this.element=o,this.startTime=t,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let o=this._keyframes.size===1&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new n(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=t6,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,t]of this._globalTimelineStyles)this._backFill.set(o,t||fi),this._currentKeyframe.set(o,fi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,t,i){o&&this._previousKeyframe.set("easing",o);let s=i&&i.params||{},a=s6(r,this._globalTimelineStyles);for(let[u,l]of a){let c=fc(l,s,t);this._pendingStyles.set(u,c),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??fi),this._updateStyle(u,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,t)=>{let i=this._styleSummary.get(t);(!i||o.time>i.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,o=new Set,t=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((u,l)=>{let c=new Map([...this._backFill,...u]);c.forEach((m,y)=>{m===Kh?r.add(y):m===fi&&o.add(y)}),t||c.set("offset",l/this.duration),i.push(c)});let s=[...r.values()],a=[...o.values()];if(t){let u=i[0],l=new Map(u);u.set("offset",0),l.set("offset",1),i=[u,l]}return Ub(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},Mb=class extends up{constructor(r,o,t,i,s,a,u=!1){super(r,o,a.delay),this.keyframes=t,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:t,easing:i}=this.timings;if(this._stretchStartingKeyframe&&o){let s=[],a=t+o,u=o/a,l=new Map(r[0]);l.set("offset",0),s.push(l);let c=new Map(r[0]);c.set("offset",OM(u)),s.push(c);let m=r.length-1;for(let y=1;y<=m;y++){let d=new Map(r[y]),h=d.get("offset"),p=o+h*t;d.set("offset",OM(p/a)),s.push(d)}t=a,o=0,i="",r=s}return Ub(this.element,r,this.preStyleProps,this.postStyleProps,t,o,i,!0)}};function OM(n,r=3){let o=Math.pow(10,r-1);return Math.round(n*o)/o}function s6(n,r){let o=new Map,t;return n.forEach(i=>{if(i==="*"){t??=r.keys();for(let s of t)o.set(s,fi)}else for(let[s,a]of i)o.set(s,a)}),o}function FM(n,r,o,t,i,s,a,u,l,c,m,y,d){return{type:0,element:n,triggerName:r,isRemovalTransition:i,fromState:o,fromStyles:s,toState:t,toStyles:a,timelines:u,queriedElements:l,preStyleProps:c,postStyleProps:m,totalTime:y,errors:d}}var mb={},cp=class{constructor(r,o,t){this._triggerName=r,this.ast=o,this._stateStyles=t}match(r,o,t,i){return a6(this.ast.matchers,r,o,t,i)}buildStyles(r,o,t){let i=this._stateStyles.get("*");return r!==void 0&&(i=this._stateStyles.get(r?.toString())||i),i?i.buildStyles(o,t):new Map}build(r,o,t,i,s,a,u,l,c,m){let y=[],d=this.ast.options&&this.ast.options.params||mb,h=u&&u.params||mb,p=this.buildStyles(t,h,y),f=l&&l.params||mb,v=this.buildStyles(i,f,y),g=new Set,w=new Map,b=new Map,_=i==="void",D={params:ZM(f,d),delay:this.ast.options?.delay},C=m?[]:XM(r,o,this.ast.animation,s,a,p,v,D,c,y),M=0;return C.forEach(E=>{M=Math.max(E.duration+E.delay,M)}),y.length?FM(o,this._triggerName,t,i,_,p,v,[],[],w,b,M,y):(C.forEach(E=>{let S=E.element,O=so(w,S,new Set);E.preStyleProps.forEach(F=>O.add(F));let I=so(b,S,new Set);E.postStyleProps.forEach(F=>I.add(F)),S!==o&&g.add(S)}),FM(o,this._triggerName,t,i,_,p,v,C,[...g.values()],w,b,M))}};function a6(n,r,o,t,i){return n.some(s=>s(r,o,t,i))}function ZM(n,r){let o=Je({},r);return Object.entries(n).forEach(([t,i])=>{i!=null&&(o[t]=i)}),o}var Ab=class{constructor(r,o,t){this.styles=r,this.defaultParams=o,this.normalizer=t}buildStyles(r,o){let t=new Map,i=ZM(r,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,u)=>{a&&(a=fc(a,i,o));let l=this.normalizer.normalizePropertyName(u,o);a=this.normalizer.normalizeStyleValue(u,l,a,o),t.set(u,a)})}),t}};function l6(n,r,o){return new Tb(n,r,o)}var Tb=class{constructor(r,o,t){this.name=r,this.ast=o,this._normalizer=t,this.transitionFactories=[],this.states=new Map,o.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Ab(i.style,s,t))}),kM(this.states,"true","1"),kM(this.states,"false","0"),o.transitions.forEach(i=>{this.transitionFactories.push(new cp(r,i,this.states))}),this.fallbackTransition=u6(r,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,t,i){return this.transitionFactories.find(a=>a.match(r,o,t,i))||null}matchStyles(r,o,t){return this.fallbackTransition.buildStyles(r,o,t)}};function u6(n,r,o){let t=[(a,u)=>!0],i={type:Bt.Sequence,steps:[],options:null},s={type:Bt.Transition,animation:i,matchers:t,options:null,queryCount:0,depCount:0};return new cp(n,s,r)}function kM(n,r,o){n.has(r)?n.has(o)||n.set(o,n.get(r)):n.has(o)&&n.set(r,n.get(o))}var c6=new hc,Ib=class{constructor(r,o,t){this.bodyNode=r,this._driver=o,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){let t=[],i=[],s=YM(this._driver,o,t,i);if(t.length)throw S8(t);i.length&&void 0,this._animations.set(r,s)}_buildPlayer(r,o,t){let i=r.element,s=UM(this._normalizer,r.keyframes,o,t);return this._driver.animate(i,s,r.duration,r.delay,r.easing,[],!0)}create(r,o,t={}){let i=[],s=this._animations.get(r),a,u=new Map;if(s?(a=XM(this._driver,o,s,qM,bb,new Map,new Map,t,c6,i),a.forEach(m=>{let y=so(u,m.element,new Map);m.postStyleProps.forEach(d=>y.set(d,null))})):(i.push(E8()),a=[]),i.length)throw C8(i);u.forEach((m,y)=>{m.forEach((d,h)=>{m.set(h,this._driver.computeStyle(y,h,fi))})});let l=a.map(m=>{let y=u.get(m.element);return this._buildPlayer(m,new Map,y)}),c=vs(l);return this._playersById.set(r,c),c.onDestroy(()=>this.destroy(r)),this.players.push(c),c}destroy(r){let o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1)}_getPlayer(r){let o=this._playersById.get(r);if(!o)throw M8(r);return o}listen(r,o,t,i){let s=Rb(o,"","","");return kb(this._getPlayer(r),t,s,i),()=>{}}command(r,o,t,i){if(t=="register"){this.register(r,i[0]);return}if(t=="create"){let a=i[0]||{};this.create(r,o,a);return}let s=this._getPlayer(r);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(r);break}}},RM="ng-animate-queued",d6=".ng-animate-queued",gb="ng-animate-disabled",f6=".ng-animate-disabled",h6="ng-star-inserted",p6=".ng-star-inserted",m6=[],QM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed",pc=class{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;let t=r&&r.hasOwnProperty("value"),i=t?r.value:r;if(this.value=v6(i),t){let s=r,{value:a}=s,u=M1(s,["value"]);this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let o=r.params;if(o){let t=this.options.params;Object.keys(o).forEach(i=>{t[i]==null&&(t[i]=o[i])})}}},dc="void",yb=new pc(dc),jb=class{constructor(r,o,t){this.id=r,this.hostElement=o,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,bo(o,this._hostClassName)}listen(r,o,t,i){if(!this._triggers.has(o))throw A8(t,o);if(t==null||t.length==0)throw T8(o);if(!b6(t))throw I8(t,o);let s=so(this._elementListeners,r,[]),a={name:o,phase:t,callback:i};s.push(a);let u=so(this._engine.statesByElement,r,new Map);return u.has(o)||(bo(r,Jh),bo(r,Jh+"-"+o),u.set(o,yb)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(o)||u.delete(o)})}}register(r,o){return this._triggers.has(r)?!1:(this._triggers.set(r,o),!0)}_getTrigger(r){let o=this._triggers.get(r);if(!o)throw j8(r);return o}trigger(r,o,t,i=!0){let s=this._getTrigger(o),a=new mc(this.id,o,r),u=this._engine.statesByElement.get(r);u||(bo(r,Jh),bo(r,Jh+"-"+o),this._engine.statesByElement.set(r,u=new Map));let l=u.get(o),c=new pc(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),u.set(o,c),l||(l=yb),!(c.value===dc)&&l.value===c.value){if(!x6(l.params,c.params)){let f=[],v=s.matchStyles(l.value,l.params,f),g=s.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{la(r,v),hi(r,g)})}return}let d=so(this._engine.playersByElement,r,[]);d.forEach(f=>{f.namespaceId==this.id&&f.triggerName==o&&f.queued&&f.destroy()});let h=s.matchTransition(l.value,c.value,r,c.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:h,fromState:l,toState:c,player:a,isFallbackTransition:p}),p||(bo(r,RM),a.onStart(()=>{Vl(r,RM)})),a.onDone(()=>{let f=this.players.indexOf(a);f>=0&&this.players.splice(f,1);let v=this._engine.playersByElement.get(r);if(v){let g=v.indexOf(a);g>=0&&v.splice(g,1)}}),this.players.push(a),d.push(a),a}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,t)=>{this._elementListeners.set(t,o.filter(i=>i.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let o=this._engine.playersByElement.get(r);o&&(o.forEach(t=>t.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){let t=this._engine.driver.query(r,op,!0);t.forEach(i=>{if(i[Bo])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,o,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(r,o,t,i){let s=this._engine.statesByElement.get(r),a=new Map;if(s){let u=[];if(s.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let m=this.trigger(r,c,dc,i);m&&u.push(m)}}),u.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,a),t&&vs(u).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let o=this._elementListeners.get(r),t=this._engine.statesByElement.get(r);if(o&&t){let i=new Set;o.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let l=this._triggers.get(a).fallbackTransition,c=t.get(a)||yb,m=new pc(dc),y=new mc(this.id,a,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:a,transition:l,fromState:c,toState:m,player:y,isFallbackTransition:!0})})}}removeNode(r,o){let t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let i=!1;if(t.totalAnimations){let s=t.players.length?t.playersByQueriedElement.get(r):[];if(s&&s.length)i=!0;else{let a=r;for(;a=a.parentNode;)if(t.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(r),i)t.markElementAsRemoved(this.id,r,!1,o);else{let s=r[Bo];(!s||s===QM)&&(t.afterFlush(()=>this.clearElementCache(r)),t.destroyInnerAnimations(r),t._onRemovalComplete(r,o))}}insertNode(r,o){bo(r,this._hostClassName)}drainQueuedTransitions(r){let o=[];return this._queue.forEach(t=>{let i=t.player;if(i.destroyed)return;let s=t.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==t.triggerName){let l=Rb(s,t.triggerName,t.fromState.value,t.toState.value);l._data=r,kb(t.player,u.phase,l,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):o.push(t)}),this._queue=[],o.sort((t,i)=>{let s=t.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(t.element,i.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},Nb=class{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,t){this.bodyNode=r,this.driver=o,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let r=[];return this._namespaceList.forEach(o=>{o.players.forEach(t=>{t.queued&&r.push(t)})}),r}createNamespace(r,o){let t=new jb(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(t,o):(this.newHostElements.set(o,t),this.collectEnterElement(o)),this._namespaceLookup[r]=t}_balanceNamespaceList(r,o){let t=this._namespaceList,i=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,u=this.driver.getParentElement(o);for(;u;){let l=i.get(u);if(l){let c=t.indexOf(l);t.splice(c+1,0,r),a=!0;break}u=this.driver.getParentElement(u)}a||t.unshift(r)}else t.push(r);return i.set(o,r),r}register(r,o){let t=this._namespaceLookup[r];return t||(t=this.createNamespace(r,o)),t}registerTrigger(r,o,t){let i=this._namespaceLookup[r];i&&i.register(o,t)&&this.totalAnimations++}destroy(r,o){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(r);this.namespacesByHostElement.delete(t.hostElement);let i=this._namespaceList.indexOf(t);i>=0&&this._namespaceList.splice(i,1),t.destroy(o),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let o=new Set,t=this.statesByElement.get(r);if(t){for(let i of t.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&o.add(s)}}return o}trigger(r,o,t,i){if(rp(o)){let s=this._fetchNamespace(r);if(s)return s.trigger(o,t,i),!0}return!1}insertNode(r,o,t,i){if(!rp(o))return;let s=o[Bo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(o);a>=0&&this.collectedLeaveElements.splice(a,1)}if(r){let a=this._fetchNamespace(r);a&&a.insertNode(o,t)}i&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),bo(r,gb)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Vl(r,gb))}removeNode(r,o,t){if(rp(o)){let i=r?this._fetchNamespace(r):null;i?i.removeNode(o,t):this.markElementAsRemoved(r,o,!1,t);let s=this.namespacesByHostElement.get(o);s&&s.id!==r&&s.removeNode(o,t)}else this._onRemovalComplete(o,t)}markElementAsRemoved(r,o,t,i,s){this.collectedLeaveElements.push(o),o[Bo]={namespaceId:r,setForRemoval:i,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(r,o,t,i,s){return rp(o)?this._fetchNamespace(r).listen(o,t,i,s):()=>{}}_buildInstruction(r,o,t,i,s){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,t,i,r.fromState.options,r.toState.options,o,s)}destroyInnerAnimations(r){let o=this.driver.query(r,op,!0);o.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(o=this.driver.query(r,wb,!0),o.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(r){let o=this.playersByElement.get(r);o&&o.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(r){let o=this.playersByQueriedElement.get(r);o&&o.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return vs(this.players).onDone(()=>r());r()})}processLeaveNode(r){let o=r[Bo];if(o&&o.setForRemoval){if(r[Bo]=QM,o.namespaceId){this.destroyInnerAnimations(r);let t=this._fetchNamespace(o.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}r.classList?.contains(gb)&&this.markElementAsDisabled(r,!1),this.driver.query(r,f6,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,i)=>this._balanceNamespaceList(t,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let i=this.collectedEnterElements[t];bo(i,h6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{o=this._flushAnimations(t,r)}finally{for(let i=0;i<t.length;i++)t[i]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let i=this.collectedLeaveElements[t];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],o.length?vs(o).onDone(()=>{t.forEach(i=>i())}):t.forEach(i=>i())}}reportError(r){throw N8(r)}_flushAnimations(r,o){let t=new hc,i=[],s=new Map,a=[],u=new Map,l=new Map,c=new Map,m=new Set;this.disabledNodes.forEach(k=>{m.add(k);let q=this.driver.query(k,d6,!0);for(let G=0;G<q.length;G++)m.add(q[G])});let y=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=BM(d,this.collectedEnterElements),p=new Map,f=0;h.forEach((k,q)=>{let G=qM+f++;p.set(q,G),k.forEach(U=>bo(U,G))});let v=[],g=new Set,w=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let q=this.collectedLeaveElements[k],G=q[Bo];G&&G.setForRemoval&&(v.push(q),g.add(q),G.hasAnimation?this.driver.query(q,p6,!0).forEach(U=>g.add(U)):w.add(q))}let b=new Map,_=BM(d,Array.from(g));_.forEach((k,q)=>{let G=bb+f++;b.set(q,G),k.forEach(U=>bo(U,G))}),r.push(()=>{h.forEach((k,q)=>{let G=p.get(q);k.forEach(U=>Vl(U,G))}),_.forEach((k,q)=>{let G=b.get(q);k.forEach(U=>Vl(U,G))}),v.forEach(k=>{this.processLeaveNode(k)})});let D=[],C=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(o).forEach(G=>{let U=G.player,W=G.element;if(D.push(U),this.collectedEnterElements.length){let K=W[Bo];if(K&&K.setForMove){if(K.previousTriggersValues&&K.previousTriggersValues.has(G.triggerName)){let re=K.previousTriggersValues.get(G.triggerName),ie=this.statesByElement.get(G.element);if(ie&&ie.has(G.triggerName)){let ce=ie.get(G.triggerName);ce.value=re,ie.set(G.triggerName,ce)}}U.destroy();return}}let Q=!y||!this.driver.containsElement(y,W),le=b.get(W),P=p.get(W),T=this._buildInstruction(G,t,P,le,Q);if(T.errors&&T.errors.length){C.push(T);return}if(Q){U.onStart(()=>la(W,T.fromStyles)),U.onDestroy(()=>hi(W,T.toStyles)),i.push(U);return}if(G.isFallbackTransition){U.onStart(()=>la(W,T.fromStyles)),U.onDestroy(()=>hi(W,T.toStyles)),i.push(U);return}let V=[];T.timelines.forEach(K=>{K.stretchStartingKeyframe=!0,this.disabledNodes.has(K.element)||V.push(K)}),T.timelines=V,t.append(W,T.timelines);let H={instruction:T,player:U,element:W};a.push(H),T.queriedElements.forEach(K=>so(u,K,[]).push(U)),T.preStyleProps.forEach((K,re)=>{if(K.size){let ie=l.get(re);ie||l.set(re,ie=new Set),K.forEach((ce,se)=>ie.add(se))}}),T.postStyleProps.forEach((K,re)=>{let ie=c.get(re);ie||c.set(re,ie=new Set),K.forEach((ce,se)=>ie.add(se))})});if(C.length){let k=[];C.forEach(q=>{k.push(O8(q.triggerName,q.errors))}),D.forEach(q=>q.destroy()),this.reportError(k)}let M=new Map,E=new Map;a.forEach(k=>{let q=k.element;t.has(q)&&(E.set(q,q),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,M))}),i.forEach(k=>{let q=k.element;this._getPreviousPlayers(q,!1,k.namespaceId,k.triggerName,null).forEach(U=>{so(M,q,[]).push(U),U.destroy()})});let S=v.filter(k=>VM(k,l,c)),O=new Map;LM(O,this.driver,w,c,fi).forEach(k=>{VM(k,l,c)&&S.push(k)});let F=new Map;h.forEach((k,q)=>{LM(F,this.driver,new Set(k),l,Kh)}),S.forEach(k=>{let q=O.get(k),G=F.get(k);O.set(k,new Map([...q?.entries()??[],...G?.entries()??[]]))});let j=[],L=[],B={};a.forEach(k=>{let{element:q,player:G,instruction:U}=k;if(t.has(q)){if(m.has(q)){G.onDestroy(()=>hi(q,U.toStyles)),G.disabled=!0,G.overrideTotalTime(U.totalTime),i.push(G);return}let W=B;if(E.size>1){let le=q,P=[];for(;le=le.parentNode;){let T=E.get(le);if(T){W=T;break}P.push(le)}P.forEach(T=>E.set(T,W))}let Q=this._buildAnimation(G.namespaceId,U,M,s,F,O);if(G.setRealPlayer(Q),W===B)j.push(G);else{let le=this.playersByElement.get(W);le&&le.length&&(G.parentPlayer=vs(le)),i.push(G)}}else la(q,U.fromStyles),G.onDestroy(()=>hi(q,U.toStyles)),L.push(G),m.has(q)&&i.push(G)}),L.forEach(k=>{let q=s.get(k.element);if(q&&q.length){let G=vs(q);k.setRealPlayer(G)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<v.length;k++){let q=v[k],G=q[Bo];if(Vl(q,bb),G&&G.hasAnimation)continue;let U=[];if(u.size){let Q=u.get(q);Q&&Q.length&&U.push(...Q);let le=this.driver.query(q,wb,!0);for(let P=0;P<le.length;P++){let T=u.get(le[P]);T&&T.length&&U.push(...T)}}let W=U.filter(Q=>!Q.destroyed);W.length?w6(this,q,W):this.processLeaveNode(q)}return v.length=0,j.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let q=this.players.indexOf(k);this.players.splice(q,1)}),k.play()}),j}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,t,i,s){let a=[];if(o){let u=this.playersByQueriedElement.get(r);u&&(a=u)}else{let u=this.playersByElement.get(r);if(u){let l=!s||s==dc;u.forEach(c=>{c.queued||!l&&c.triggerName!=i||a.push(c)})}}return(t||i)&&(a=a.filter(u=>!(t&&t!=u.namespaceId||i&&i!=u.triggerName))),a}_beforeAnimationBuild(r,o,t){let i=o.triggerName,s=o.element,a=o.isRemovalTransition?void 0:r,u=o.isRemovalTransition?void 0:i;for(let l of o.timelines){let c=l.element,m=c!==s,y=so(t,c,[]);this._getPreviousPlayers(c,m,a,u,o.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),y.push(h)})}la(s,o.fromStyles)}_buildAnimation(r,o,t,i,s,a){let u=o.triggerName,l=o.element,c=[],m=new Set,y=new Set,d=o.timelines.map(p=>{let f=p.element;m.add(f);let v=f[Bo];if(v&&v.removedBeforeQueried)return new gs(p.duration,p.delay);let g=f!==l,w=_6((t.get(f)||m6).map(M=>M.getRealPlayer())).filter(M=>{let E=M;return E.element?E.element===f:!1}),b=s.get(f),_=a.get(f),D=UM(this._normalizer,p.keyframes,b,_),C=this._buildPlayer(p,D,w);if(p.subTimeline&&i&&y.add(f),g){let M=new mc(r,u,f);M.setRealPlayer(C),c.push(M)}return C});c.forEach(p=>{so(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>y6(this.playersByQueriedElement,p.element,p))}),m.forEach(p=>bo(p,IM));let h=vs(d);return h.onDestroy(()=>{m.forEach(p=>Vl(p,IM)),hi(l,o.toStyles)}),y.forEach(p=>{so(i,p,[]).push(h)}),h}_buildPlayer(r,o,t){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,t):new gs(r.duration,r.delay)}},mc=class{constructor(r,o,t){this.namespaceId=r,this.triggerName=o,this.element=t,this._player=new gs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,t)=>{o.forEach(i=>kb(r,t,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){so(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let o=this._player;o.triggerCallback&&o.triggerCallback(r)}};function y6(n,r,o){let t=n.get(r);if(t){if(t.length){let i=t.indexOf(o);t.splice(i,1)}t.length==0&&n.delete(r)}return t}function v6(n){return n??null}function rp(n){return n&&n.nodeType===1}function b6(n){return n=="start"||n=="done"}function PM(n,r){let o=n.style.display;return n.style.display=r??"none",o}function LM(n,r,o,t,i){let s=[];o.forEach(l=>s.push(PM(l)));let a=[];t.forEach((l,c)=>{let m=new Map;l.forEach(y=>{let d=r.computeStyle(c,y,i);m.set(y,d),(!d||d.length==0)&&(c[Bo]=g6,a.push(c))}),n.set(c,m)});let u=0;return o.forEach(l=>PM(l,s[u++])),a}function BM(n,r){let o=new Map;if(n.forEach(u=>o.set(u,[])),r.length==0)return o;let t=1,i=new Set(r),s=new Map;function a(u){if(!u)return t;let l=s.get(u);if(l)return l;let c=u.parentNode;return o.has(c)?l=c:i.has(c)?l=t:l=a(c),s.set(u,l),l}return r.forEach(u=>{let l=a(u);l!==t&&o.get(l).push(u)}),o}function bo(n,r){n.classList?.add(r)}function Vl(n,r){n.classList?.remove(r)}function w6(n,r,o){vs(o).onDone(()=>n.processLeaveNode(r))}function _6(n){let r=[];return KM(n,r),r}function KM(n,r){for(let o=0;o<n.length;o++){let t=n[o];t instanceof uc?KM(t.players,r):r.push(t)}}function x6(n,r){let o=Object.keys(n),t=Object.keys(r);if(o.length!=t.length)return!1;for(let i=0;i<o.length;i++){let s=o[i];if(!r.hasOwnProperty(s)||n[s]!==r[s])return!1}return!0}function VM(n,r,o){let t=o.get(n);if(!t)return!1;let i=r.get(n);return i?t.forEach(s=>i.add(s)):r.set(n,t),o.delete(n),!0}var zl=class{constructor(r,o,t){this._driver=o,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Nb(r.body,o,t),this._timelineEngine=new Ib(r.body,o,t),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(r,o,t,i,s){let a=r+"-"+i,u=this._triggerCache[a];if(!u){let l=[],c=[],m=YM(this._driver,s,l,c);if(l.length)throw x8(i,l);c.length&&void 0,u=l6(i,m,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(o,i,u)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,t,i){this._transitionEngine.insertNode(r,o,t,i)}onRemove(r,o,t){this._transitionEngine.removeNode(r,o,t)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,t,i){if(t.charAt(0)=="@"){let[s,a]=AM(t),u=i;this._timelineEngine.command(s,o,a,u)}else this._transitionEngine.trigger(r,o,t,i)}listen(r,o,t,i,s){if(t.charAt(0)=="@"){let[a,u]=AM(t);return this._timelineEngine.listen(a,o,u,s)}return this._transitionEngine.listen(r,o,t,i,s)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function D6(n,r){let o=null,t=null;return Array.isArray(r)&&r.length?(o=vb(r[0]),r.length>1&&(t=vb(r[r.length-1]))):r instanceof Map&&(o=vb(r)),o||t?new Ob(n,o,t):null}var Ul=class Ul{constructor(r,o,t){this._element=r,this._startStyles=o,this._endStyles=t,this._state=0;let i=Ul.initialStylesByElement.get(r);i||Ul.initialStylesByElement.set(r,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&hi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hi(this._element,this._initialStyles),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ul.initialStylesByElement.delete(this._element),this._startStyles&&(la(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(la(this._element,this._endStyles),this._endStyles=null),hi(this._element,this._initialStyles),this._state=3)}};Ul.initialStylesByElement=new WeakMap;var Ob=Ul;function vb(n){let r=null;return n.forEach((o,t)=>{S6(t)&&(r=r||new Map,r.set(t,o))}),r}function S6(n){return n==="display"||n==="position"}var dp=class{constructor(r,o,t,i){this.element=r,this.keyframes=o,this.options=t,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let o=[];return r.forEach(t=>{o.push(Object.fromEntries(t))}),o}_triggerWebAnimation(r,o,t){return r.animate(this._convertKeyframesToObject(o),t)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,i)=>{i!=="offset"&&r.set(i,this._finished?t:Vb(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){let o=r==="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},fp=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,o){return zM(r,o)}getParentElement(r){return Pb(r)}query(r,o,t){return GM(r,o,t)}computeStyle(r,o,t){return Vb(r,o)}animate(r,o,t,i,s,a=[]){let u=i==0?"both":"forwards",l={duration:t,delay:i,fill:u};s&&(l.easing=s);let c=new Map,m=a.filter(h=>h instanceof dp);H8(t,i)&&m.forEach(h=>{h.currentSnapshot.forEach((p,f)=>c.set(f,p))});let y=U8(o).map(h=>new Map(h));y=q8(r,y,c);let d=D6(r,y);return new dp(r,y,l,d)}};var np="@",JM="@.disabled",hp=class{constructor(r,o,t,i){this.namespaceId=r,this.delegate=o,this.engine=t,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,t,i=!0){this.delegate.insertBefore(r,o,t),this.engine.onInsert(this.namespaceId,o,r,i)}removeChild(r,o,t){this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,t,i){this.delegate.setAttribute(r,o,t,i)}removeAttribute(r,o,t){this.delegate.removeAttribute(r,o,t)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,t,i){this.delegate.setStyle(r,o,t,i)}removeStyle(r,o,t){this.delegate.removeStyle(r,o,t)}setProperty(r,o,t){o.charAt(0)==np&&o==JM?this.disableAnimations(r,!!t):this.delegate.setProperty(r,o,t)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,t){return this.delegate.listen(r,o,t)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}},Fb=class extends hp{constructor(r,o,t,i,s){super(o,t,i,s),this.factory=r,this.namespaceId=o}setProperty(r,o,t){o.charAt(0)==np?o.charAt(1)=="."&&o==JM?(t=t===void 0?!0:!!t,this.disableAnimations(r,t)):this.engine.process(this.namespaceId,r,o.slice(1),t):this.delegate.setProperty(r,o,t)}listen(r,o,t){if(o.charAt(0)==np){let i=E6(r),s=o.slice(1),a="";return s.charAt(0)!=np&&([s,a]=C6(s)),this.engine.listen(this.namespaceId,i,s,a,u=>{let l=u._data||-1;this.factory.scheduleListenerCallback(l,t,u)})}return this.delegate.listen(r,o,t)}};function E6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function C6(n){let r=n.indexOf("."),o=n.substring(0,r),t=n.slice(r+1);return[o,t]}var pp=class{constructor(r,o,t){this.delegate=r,this.engine=o,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(r,o){let t="",i=this.delegate.createRenderer(r,o);if(!r||!o?.data?.animation){let c=this._rendererCache,m=c.get(i);if(!m){let y=()=>c.delete(i);m=new hp(t,i,this.engine,y),c.set(i,m)}return m}let s=o.id,a=o.id+"-"+this._currentId;this._currentId++,this.engine.register(a,r);let u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(s,a,r,c.name,c)};return o.data.animation.forEach(u),new Fb(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,o,t){if(r>=0&&r<this._microtaskId){this._zone.run(()=>o(t));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),i.push([o,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var A6=(()=>{let r=class r extends zl{constructor(t,i,s){super(t,i,s)}ngOnDestroy(){this.flush()}};r.\u0275fac=function(i){return new(i||r)(ut(Xr),ut(ua),ut(ca))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function T6(){return new sp}function I6(n,r,o){return new pp(n,r,o)}var tA=[{provide:ca,useFactory:T6},{provide:zl,useClass:A6},{provide:ho,useFactory:I6,deps:[vf,zl,Yt]}],eA=[{provide:ua,useFactory:()=>new fp},{provide:Og,useValue:"BrowserAnimations"},...tA],j6=[{provide:ua,useClass:Lb},{provide:Og,useValue:"NoopAnimations"},...tA],rA=(()=>{let r=class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?j6:eA}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({providers:eA,imports:[wf]});let n=r;return n})();var nA="400ms cubic-bezier(0.4,0.0,0.2,1)",Tie=[ys({height:0,visibility:"hidden"}),fb(nA,ys({height:"*",visibility:"visible"}))],Iie=[ys({height:"*",visibility:"visible"}),fb(nA,ys({height:0,visibility:"hidden"}))];var oA=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Cr({type:r}),r.\u0275inj=Er({});let n=r;return n})();var mp=class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=Cr({type:n,bootstrap:[Qh]});static \u0275inj=Er({imports:[wf,Yh,DM,EM.forRoot(),rA,NE.forRoot(),aE.forRoot(),oA.forRoot()]})};aS().bootstrapModule(mp,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));

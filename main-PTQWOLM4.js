var R2=Object.create;var Th=Object.defineProperty,P2=Object.defineProperties,L2=Object.getOwnPropertyDescriptor,B2=Object.getOwnPropertyDescriptors,U2=Object.getOwnPropertyNames,$l=Object.getOwnPropertySymbols,V2=Object.getPrototypeOf,Ah=Object.prototype.hasOwnProperty,wb=Object.prototype.propertyIsEnumerable;var bb=(n,r,o)=>r in n?Th(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nt=(n,r)=>{for(var o in r||={})Ah.call(r,o)&&bb(n,o,r[o]);if($l)for(var o of $l(r))wb.call(r,o)&&bb(n,o,r[o]);return n},hr=(n,r)=>P2(n,B2(r));var _u=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var _b=(n,r)=>{var o={};for(var t in n)Ah.call(n,t)&&r.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&$l)for(var t of $l(n))r.indexOf(t)<0&&wb.call(n,t)&&(o[t]=n[t]);return o};var xb=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var z2=(n,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of U2(r))!Ah.call(n,i)&&i!==o&&Th(n,i,{get:()=>r[i],enumerable:!(t=L2(r,i))||t.enumerable});return n};var jh=(n,r,o)=>(o=n!=null?R2(V2(n)):{},z2(r||!n||!n.__esModule?Th(o,"default",{value:n,enumerable:!0}):o,n));var Yn=(n,r,o)=>new Promise((t,i)=>{var s=u=>{try{l(o.next(u))}catch(c){i(c)}},a=u=>{try{l(o.throw(u))}catch(c){i(c)}},l=u=>u.done?t(u.value):Promise.resolve(u.value).then(s,a);l((o=o.apply(n,r)).next())});var Oy=xb((Iy,Ny)=>{"use strict";(function(n,r){typeof Iy=="object"&&typeof Ny<"u"?Ny.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self,n["'typed'"]=r())})(Iy,function(){"use strict";function n(){return!0}function r(){return!1}function o(){}let t="Argument is not a typed-function.";function i(){function a(oe){return typeof oe=="object"&&oe!==null&&oe.constructor===Object}let l=[{name:"number",test:function(oe){return typeof oe=="number"}},{name:"string",test:function(oe){return typeof oe=="string"}},{name:"boolean",test:function(oe){return typeof oe=="boolean"}},{name:"Function",test:function(oe){return typeof oe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(oe){return oe instanceof Date}},{name:"RegExp",test:function(oe){return oe instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(oe){return oe===null}},{name:"undefined",test:function(oe){return oe===void 0}}],u={name:"any",test:n,isAny:!0},c,m,y=0,d={createCount:0};function h(oe){let ae=c.get(oe);if(ae)return ae;let X='Unknown type "'+oe+'"',J=oe.toLowerCase(),Y;for(Y of m)if(Y.toLowerCase()===J){X+='. Did you mean "'+Y+'" ?';break}throw new TypeError(X)}function p(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",X=ae?h(ae).index:m.length,J=[];for(let ee=0;ee<oe.length;++ee){if(!oe[ee]||typeof oe[ee].name!="string"||typeof oe[ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let ge=oe[ee].name;if(c.has(ge))throw new TypeError('Duplicate type name "'+ge+'"');J.push(ge),c.set(ge,{name:ge,test:oe[ee].test,isAny:oe[ee].isAny,index:X+ee,conversionsTo:[]})}let Y=m.slice(X);m=m.slice(0,X).concat(J).concat(Y);for(let ee=X+J.length;ee<m.length;++ee)c.get(m[ee]).index=ee}function f(){c=new Map,m=[],y=0,p([u],!1)}f(),p(l);function v(){let oe;for(oe of m)c.get(oe).conversionsTo=[];y=0}function g(oe){let ae=m.filter(X=>{let J=c.get(X);return!J.isAny&&J.test(oe)});return ae.length?ae:["any"]}function w(oe){return oe&&typeof oe=="function"&&"_typedFunctionData"in oe}function b(oe,ae,X){if(!w(oe))throw new TypeError(t);let J=X&&X.exact,Y=Array.isArray(ae)?ae.join(","):ae,ee=O(Y),ge=C(ee);if(!J||ge in oe.signatures){let Be=oe._typedFunctionData.signatureMap.get(ge);if(Be)return Be}let ye=ee.length,Se;if(J){Se=[];let Be;for(Be in oe.signatures)Se.push(oe._typedFunctionData.signatureMap.get(Be))}else Se=oe._typedFunctionData.signatures;for(let Be=0;Be<ye;++Be){let ze=ee[Be],Ze=[],dt;for(dt of Se){let ut=L(dt.params,Be);if(!(!ut||ze.restParam&&!ut.restParam)){if(!ut.hasAny){let it=S(ut);if(ze.types.some(ft=>!it.has(ft.name)))continue}Ze.push(dt)}}if(Se=Ze,Se.length===0)break}let Te;for(Te of Se)if(Te.params.length<=ye)return Te;throw new TypeError("Signature not found (signature: "+(oe.name||"unnamed")+"("+C(ee,", ")+"))")}function _(oe,ae,X){return b(oe,ae,X).implementation}function D(oe,ae){let X=h(ae);if(X.test(oe))return oe;let J=X.conversionsTo;if(J.length===0)throw new Error("There are no conversions to "+ae+" defined.");for(let Y=0;Y<J.length;Y++)if(h(J[Y].from).test(oe))return J[Y].convert(oe);throw new Error("Cannot convert "+oe+" to "+ae)}function C(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return oe.map(X=>X.name).join(ae)}function M(oe){let ae=oe.indexOf("...")===0,J=(ae?oe.length>3?oe.slice(3):"any":oe).split("|").map(ye=>h(ye.trim())),Y=!1,ee=ae?"...":"";return{types:J.map(function(ye){return Y=ye.isAny||Y,ee+=ye.name+"|",{name:ye.name,typeIndex:ye.index,test:ye.test,isAny:ye.isAny,conversion:null,conversionIndex:-1}}),name:ee.slice(0,-1),hasAny:Y,hasConversion:!1,restParam:ae}}function E(oe){let ae=oe.types.map(ge=>ge.name),X=P(ae),J=oe.hasAny,Y=oe.name,ee=X.map(function(ge){let ye=h(ge.from);return J=ye.isAny||J,Y+="|"+ge.from,{name:ge.from,typeIndex:ye.index,test:ye.test,isAny:ye.isAny,conversion:ge,conversionIndex:ge.index}});return{types:oe.types.concat(ee),name:Y,hasAny:J,hasConversion:ee.length>0,restParam:oe.restParam}}function S(oe){return oe.typeSet||(oe.typeSet=new Set,oe.types.forEach(ae=>oe.typeSet.add(ae.name))),oe.typeSet}function O(oe){let ae=[];if(typeof oe!="string")throw new TypeError("Signatures must be strings");let X=oe.trim();if(X==="")return ae;let J=X.split(",");for(let Y=0;Y<J.length;++Y){let ee=M(J[Y].trim());if(ee.restParam&&Y!==J.length-1)throw new SyntaxError('Unexpected rest parameter "'+J[Y]+'": only allowed for the last parameter');if(ee.types.length===0)return null;ae.push(ee)}return ae}function j(oe){let ae=pe(oe);return ae?ae.restParam:!1}function F(oe){if(!oe||oe.types.length===0)return n;if(oe.types.length===1)return h(oe.types[0].name).test;if(oe.types.length===2){let ae=h(oe.types[0].name).test,X=h(oe.types[1].name).test;return function(Y){return ae(Y)||X(Y)}}else{let ae=oe.types.map(function(X){return h(X.name).test});return function(J){for(let Y=0;Y<ae.length;Y++)if(ae[Y](J))return!0;return!1}}}function I(oe){let ae,X,J;if(j(oe)){ae=te(oe).map(F);let Y=ae.length,ee=F(pe(oe)),ge=function(ye){for(let Se=Y;Se<ye.length;Se++)if(!ee(ye[Se]))return!1;return!0};return function(Se){for(let Te=0;Te<ae.length;Te++)if(!ae[Te](Se[Te]))return!1;return ge(Se)&&Se.length>=Y+1}}else return oe.length===0?function(ee){return ee.length===0}:oe.length===1?(X=F(oe[0]),function(ee){return X(ee[0])&&ee.length===1}):oe.length===2?(X=F(oe[0]),J=F(oe[1]),function(ee){return X(ee[0])&&J(ee[1])&&ee.length===2}):(ae=oe.map(F),function(ee){for(let ge=0;ge<ae.length;ge++)if(!ae[ge](ee[ge]))return!1;return ee.length===ae.length})}function L(oe,ae){return ae<oe.length?oe[ae]:j(oe)?pe(oe):null}function B(oe,ae){let X=L(oe,ae);return X?S(X):new Set}function k(oe){return oe.conversion===null||oe.conversion===void 0}function q(oe,ae){let X=new Set;return oe.forEach(J=>{let Y=B(J.params,ae),ee;for(ee of Y)X.add(ee)}),X.has("any")?["any"]:Array.from(X)}function G(oe,ae,X){let J,Y,ee=oe||"unnamed",ge=X,ye;for(ye=0;ye<ae.length;ye++){let ze=[];if(ge.forEach(Ze=>{let dt=L(Ze.params,ye),ut=F(dt);(ye<Ze.params.length||j(Ze.params))&&ut(ae[ye])&&ze.push(Ze)}),ze.length===0){if(Y=q(ge,ye),Y.length>0){let Ze=g(ae[ye]);return J=new TypeError("Unexpected type of argument in function "+ee+" (expected: "+Y.join(" or ")+", actual: "+Ze.join(" | ")+", index: "+ye+")"),J.data={category:"wrongType",fn:ee,index:ye,actual:Ze,expected:Y},J}}else ge=ze}let Se=ge.map(function(ze){return j(ze.params)?1/0:ze.params.length});if(ae.length<Math.min.apply(null,Se))return Y=q(ge,ye),J=new TypeError("Too few arguments in function "+ee+" (expected: "+Y.join(" or ")+", index: "+ae.length+")"),J.data={category:"tooFewArgs",fn:ee,index:ae.length,expected:Y},J;let Te=Math.max.apply(null,Se);if(ae.length>Te)return J=new TypeError("Too many arguments in function "+ee+" (expected: "+Te+", actual: "+ae.length+")"),J.data={category:"tooManyArgs",fn:ee,index:ae.length,expectedLength:Te},J;let Be=[];for(let ze=0;ze<ae.length;++ze)Be.push(g(ae[ze]).join("|"));return J=new TypeError('Arguments of type "'+Be.join(", ")+'" do not match any of the defined signatures of function '+ee+"."),J.data={category:"mismatch",actual:Be},J}function V(oe){let ae=m.length+1;for(let X=0;X<oe.types.length;X++)k(oe.types[X])&&(ae=Math.min(ae,oe.types[X].typeIndex));return ae}function W(oe){let ae=y+1;for(let X=0;X<oe.types.length;X++)k(oe.types[X])||(ae=Math.min(ae,oe.types[X].conversionIndex));return ae}function Q(oe,ae){if(oe.hasAny){if(!ae.hasAny)return 1}else if(ae.hasAny)return-1;if(oe.restParam){if(!ae.restParam)return 1}else if(ae.restParam)return-1;if(oe.hasConversion){if(!ae.hasConversion)return 1}else if(ae.hasConversion)return-1;let X=V(oe)-V(ae);if(X<0)return-1;if(X>0)return 1;let J=W(oe)-W(ae);return J<0?-1:J>0?1:0}function ue(oe,ae){let X=oe.params,J=ae.params,Y=pe(X),ee=pe(J),ge=j(X),ye=j(J);if(ge&&Y.hasAny){if(!ye||!ee.hasAny)return 1}else if(ye&&ee.hasAny)return-1;let Se=0,Te=0,Be;for(Be of X)Be.hasAny&&++Se,Be.hasConversion&&++Te;let ze=0,Ze=0;for(Be of J)Be.hasAny&&++ze,Be.hasConversion&&++Ze;if(Se!==ze)return Se-ze;if(ge&&Y.hasConversion){if(!ye||!ee.hasConversion)return 1}else if(ye&&ee.hasConversion)return-1;if(Te!==Ze)return Te-Ze;if(ge){if(!ye)return 1}else if(ye)return-1;let dt=(X.length-J.length)*(ge?-1:1);if(dt!==0)return dt;let ut=[],it=0;for(let ht=0;ht<X.length;++ht){let tr=Q(X[ht],J[ht]);ut.push(tr),it+=tr}if(it!==0)return it;let ft;for(ft of ut)if(ft!==0)return ft;return 0}function P(oe){if(oe.length===0)return[];let ae=oe.map(h);oe.length>1&&ae.sort((Y,ee)=>Y.index-ee.index);let X=ae[0].conversionsTo;if(oe.length===1)return X;X=X.concat([]);let J=new Set(oe);for(let Y=1;Y<ae.length;++Y){let ee;for(ee of ae[Y].conversionsTo)J.has(ee.from)||(X.push(ee),J.add(ee.from))}return X}function A(oe,ae){let X=ae;if(oe.some(Y=>Y.hasConversion)){let Y=j(oe),ee=oe.map(U);X=function(){let ye=[],Se=Y?arguments.length-1:arguments.length;for(let Te=0;Te<Se;Te++)ye[Te]=ee[Te](arguments[Te]);return Y&&(ye[Se]=arguments[Se].map(ee[Se])),ae.apply(this,ye)}}let J=X;if(j(oe)){let Y=oe.length-1;J=function(){return X.apply(this,ve(arguments,0,Y).concat([ve(arguments,Y)]))}}return J}function U(oe){let ae,X,J,Y,ee=[],ge=[];switch(oe.types.forEach(function(ye){ye.conversion&&(ee.push(h(ye.conversion.from).test),ge.push(ye.conversion.convert))}),ge.length){case 0:return function(Se){return Se};case 1:return ae=ee[0],J=ge[0],function(Se){return ae(Se)?J(Se):Se};case 2:return ae=ee[0],X=ee[1],J=ge[0],Y=ge[1],function(Se){return ae(Se)?J(Se):X(Se)?Y(Se):Se};default:return function(Se){for(let Te=0;Te<ge.length;Te++)if(ee[Te](Se))return ge[Te](Se);return Se}}}function H(oe){function ae(X,J,Y){if(J<X.length){let ee=X[J],ge=[];if(ee.restParam){let ye=ee.types.filter(k);ye.length<ee.types.length&&ge.push({types:ye,name:"..."+ye.map(Se=>Se.name).join("|"),hasAny:ye.some(Se=>Se.isAny),hasConversion:!1,restParam:!0}),ge.push(ee)}else ge=ee.types.map(function(ye){return{types:[ye],name:ye.name,hasAny:ye.isAny,hasConversion:ye.conversion,restParam:!1}});return xe(ge,function(ye){return ae(X,J+1,Y.concat([ye]))})}else return[Y]}return ae(oe,0,[])}function K(oe,ae){let X=Math.max(oe.length,ae.length);for(let ye=0;ye<X;ye++){let Se=B(oe,ye),Te=B(ae,ye),Be=!1,ze;for(ze of Te)if(Se.has(ze)){Be=!0;break}if(!Be)return!1}let J=oe.length,Y=ae.length,ee=j(oe),ge=j(ae);return ee?ge?J===Y:Y>=J:ge?J>=Y:J===Y}function re(oe){return oe.map(ae=>Ge(ae)?Ie(ae.referToSelf.callback):De(ae)?_e(ae.referTo.references,ae.referTo.callback):ae)}function ie(oe,ae,X){let J=[],Y;for(Y of oe){let ee=X[Y];if(typeof ee!="number")throw new TypeError('No definition for referenced signature "'+Y+'"');if(ee=ae[ee],typeof ee!="function")return!1;J.push(ee)}return J}function ce(oe,ae,X){let J=re(oe),Y=new Array(J.length).fill(!1),ee=!0;for(;ee;){ee=!1;let ge=!0;for(let ye=0;ye<J.length;++ye){if(Y[ye])continue;let Se=J[ye];if(Ge(Se))J[ye]=Se.referToSelf.callback(X),J[ye].referToSelf=Se.referToSelf,Y[ye]=!0,ge=!1;else if(De(Se)){let Te=ie(Se.referTo.references,J,ae);Te?(J[ye]=Se.referTo.callback.apply(this,Te),J[ye].referTo=Se.referTo,Y[ye]=!0,ge=!1):ee=!0}}if(ge&&ee)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return J}function se(oe){let ae=/\bthis(\(|\.signatures\b)/;Object.keys(oe).forEach(X=>{let J=oe[X];if(ae.test(J.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function he(oe,ae){if(d.createCount++,Object.keys(ae).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&se(ae);let X=[],J=[],Y={},ee=[],ge;for(ge in ae){if(!Object.prototype.hasOwnProperty.call(ae,ge))continue;let jt=O(ge);if(!jt)continue;X.forEach(function(Ei){if(K(Ei,jt))throw new TypeError('Conflicting signatures "'+C(Ei)+'" and "'+C(jt)+'".')}),X.push(jt);let ur=J.length;J.push(ae[ge]);let $n=jt.map(E),jr;for(jr of H($n)){let Ei=C(jr);ee.push({params:jr,name:Ei,fn:ur}),jr.every(Pn=>!Pn.hasConversion)&&(Y[Ei]=ur)}}ee.sort(ue);let ye=ce(J,Y,Dr),Se;for(Se in Y)Object.prototype.hasOwnProperty.call(Y,Se)&&(Y[Se]=ye[Y[Se]]);let Te=[],Be=new Map;for(Se of ee)Be.has(Se.name)||(Se.fn=ye[Se.fn],Te.push(Se),Be.set(Se.name,Se));let ze=Te[0]&&Te[0].params.length<=2&&!j(Te[0].params),Ze=Te[1]&&Te[1].params.length<=2&&!j(Te[1].params),dt=Te[2]&&Te[2].params.length<=2&&!j(Te[2].params),ut=Te[3]&&Te[3].params.length<=2&&!j(Te[3].params),it=Te[4]&&Te[4].params.length<=2&&!j(Te[4].params),ft=Te[5]&&Te[5].params.length<=2&&!j(Te[5].params),ht=ze&&Ze&&dt&&ut&&it&&ft;for(let jt=0;jt<Te.length;++jt)Te[jt].test=I(Te[jt].params);let tr=ze?F(Te[0].params[0]):r,en=Ze?F(Te[1].params[0]):r,Fr=dt?F(Te[2].params[0]):r,Jt=ut?F(Te[3].params[0]):r,cr=it?F(Te[4].params[0]):r,qt=ft?F(Te[5].params[0]):r,Zr=ze?F(Te[0].params[1]):r,qr=Ze?F(Te[1].params[1]):r,or=dt?F(Te[2].params[1]):r,Qr=ut?F(Te[3].params[1]):r,ns=it?F(Te[4].params[1]):r,os=ft?F(Te[5].params[1]):r;for(let jt=0;jt<Te.length;++jt)Te[jt].implementation=A(Te[jt].params,Te[jt].fn);let is=ze?Te[0].implementation:o,Ws=Ze?Te[1].implementation:o,ss=dt?Te[2].implementation:o,as=ut?Te[3].implementation:o,we=it?Te[4].implementation:o,$e=ft?Te[5].implementation:o,rt=ze?Te[0].params.length:-1,qe=Ze?Te[1].params.length:-1,Ot=dt?Te[2].params.length:-1,Ve=ut?Te[3].params.length:-1,Wt=it?Te[4].params.length:-1,Ke=ft?Te[5].params.length:-1,Ut=ht?6:0,et=Te.length,Ar=Te.map(jt=>jt.test),Vr=Te.map(jt=>jt.implementation),xr=function(){for(let ur=Ut;ur<et;ur++)if(Ar[ur](arguments))return Vr[ur].apply(this,arguments);return d.onMismatch(oe,arguments,Te)};function Dr(jt,ur){return arguments.length===rt&&tr(jt)&&Zr(ur)?is.apply(this,arguments):arguments.length===qe&&en(jt)&&qr(ur)?Ws.apply(this,arguments):arguments.length===Ot&&Fr(jt)&&or(ur)?ss.apply(this,arguments):arguments.length===Ve&&Jt(jt)&&Qr(ur)?as.apply(this,arguments):arguments.length===Wt&&cr(jt)&&ns(ur)?we.apply(this,arguments):arguments.length===Ke&&qt(jt)&&os(ur)?$e.apply(this,arguments):xr.apply(this,arguments)}try{Object.defineProperty(Dr,"name",{value:oe})}catch{}return Dr.signatures=Y,Dr._typedFunctionData={signatures:Te,signatureMap:Be},Dr}function le(oe,ae,X){throw G(oe,ae,X)}function te(oe){return ve(oe,0,oe.length-1)}function pe(oe){return oe[oe.length-1]}function ve(oe,ae,X){return Array.prototype.slice.call(oe,ae,X)}function Me(oe,ae){for(let X=0;X<oe.length;X++)if(ae(oe[X]))return oe[X]}function xe(oe,ae){return Array.prototype.concat.apply([],oe.map(ae))}function me(){let oe=te(arguments).map(X=>C(O(X))),ae=pe(arguments);if(typeof ae!="function")throw new TypeError("Callback function expected as last argument");return _e(oe,ae)}function _e(oe,ae){return{referTo:{references:oe,callback:ae}}}function Ie(oe){if(typeof oe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:oe}}}function De(oe){return oe&&typeof oe.referTo=="object"&&Array.isArray(oe.referTo.references)&&typeof oe.referTo.callback=="function"}function Ge(oe){return oe&&typeof oe.referToSelf=="object"&&typeof oe.referToSelf.callback=="function"}function Pe(oe,ae){if(!oe)return ae;if(ae&&ae!==oe){let X=new Error("Function names do not match (expected: "+oe+", actual: "+ae+")");throw X.data={actual:ae,expected:oe},X}return oe}function He(oe){let ae;for(let X in oe)Object.prototype.hasOwnProperty.call(oe,X)&&(w(oe[X])||typeof oe[X].signature=="string")&&(ae=Pe(ae,oe[X].name));return ae}function Ye(oe,ae){let X;for(X in ae)if(Object.prototype.hasOwnProperty.call(ae,X)){if(X in oe&&ae[X]!==oe[X]){let J=new Error('Signature "'+X+'" is defined twice');throw J.data={signature:X,sourceFunction:ae[X],destFunction:oe[X]},J}oe[X]=ae[X]}}let Xe=d;d=function(oe){let ae=typeof oe=="string",X=ae?1:0,J=ae?oe:"",Y={};for(let ee=X;ee<arguments.length;++ee){let ge=arguments[ee],ye={},Se;if(typeof ge=="function"?(Se=ge.name,typeof ge.signature=="string"?ye[ge.signature]=ge:w(ge)&&(ye=ge.signatures)):a(ge)&&(ye=ge,ae||(Se=He(ge))),Object.keys(ye).length===0){let Te=new TypeError("Argument to 'typed' at index "+ee+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Te.data={index:ee,argument:ge},Te}ae||(J=Pe(J,Se)),Ye(Y,ye)}return he(J||"",Y)},d.create=i,d.createCount=Xe.createCount,d.onMismatch=le,d.throwMismatchError=le,d.createError=G,d.clear=f,d.clearConversions=v,d.addTypes=p,d._findType=h,d.referTo=me,d.referToSelf=Ie,d.convert=D,d.findSignature=b,d.find=_,d.isTypedFunction=w,d.warnAgainstDeprecatedThis=!0,d.addType=function(oe,ae){let X="any";ae!==!1&&c.has("Object")&&(X="Object"),d.addTypes([oe],X)};function Ce(oe){if(!oe||typeof oe.from!="string"||typeof oe.to!="string"||typeof oe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(oe.to===oe.from)throw new SyntaxError('Illegal to define conversion from "'+oe.from+'" to itself.')}return d.addConversion=function(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ce(oe);let X=h(oe.to),J=X.conversionsTo.find(Y=>Y.from===oe.from);if(J)if(ae&&ae.override)d.removeConversion({from:J.from,to:oe.to,convert:J.convert});else throw new Error('There is already a conversion from "'+oe.from+'" to "'+X.name+'"');X.conversionsTo.push({from:oe.from,convert:oe.convert,index:y++})},d.addConversions=function(oe,ae){oe.forEach(X=>d.addConversion(X,ae))},d.removeConversion=function(oe){Ce(oe);let ae=h(oe.to),X=Me(ae.conversionsTo,Y=>Y.from===oe.from);if(!X)throw new Error("Attempt to remove nonexistent conversion from "+oe.from+" to "+oe.to);if(X.convert!==oe.convert)throw new Error("Conversion to remove does not match existing conversion");let J=ae.conversionsTo.indexOf(X);ae.conversionsTo.splice(J,1)},d.resolve=function(oe,ae){if(!w(oe))throw new TypeError(t);let X=oe._typedFunctionData.signatures;for(let J=0;J<X.length;++J)if(X[J].test(ae))return X[J];return null},d}var s=i();return s})});var RC=xb((kC,i0)=>{"use strict";(function(n){typeof kC=="object"&&typeof i0<"u"?i0.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=n()})(function(){var n,r,o;return function t(i,s,a){function l(m,y){if(!s[m]){if(!i[m]){var d=typeof _u=="function"&&_u;if(!y&&d)return d(m,!0);if(u)return u(m,!0);throw(y=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",y}d=s[m]={exports:{}},i[m][0].call(d.exports,function(h){return l(i[m][1][h]||h)},d,d.exports,t,i,s,a)}return s[m].exports}for(var u=typeof _u=="function"&&_u,c=0;c<a.length;c++)l(a[c]);return l}({1:[function(t,i,s){"use strict";s.byteLength=function(f){var f=d(f),p=f[0],f=f[1];return 3*(p+f)/4-f},s.toByteArray=function(h){var p,f,g=d(h),v=g[0],g=g[1],w=new u(function(D,C){return 3*(D+C)/4-C}(v,g)),b=0,_=0<g?v-4:v;for(f=0;f<_;f+=4)p=l[h.charCodeAt(f)]<<18|l[h.charCodeAt(f+1)]<<12|l[h.charCodeAt(f+2)]<<6|l[h.charCodeAt(f+3)],w[b++]=p>>16&255,w[b++]=p>>8&255,w[b++]=255&p;return g===2&&(p=l[h.charCodeAt(f)]<<2|l[h.charCodeAt(f+1)]>>4,w[b++]=255&p),g===1&&(p=l[h.charCodeAt(f)]<<10|l[h.charCodeAt(f+1)]<<4|l[h.charCodeAt(f+2)]>>2,w[b++]=p>>8&255,w[b++]=255&p),w},s.fromByteArray=function(h){for(var p,f=h.length,v=f%3,g=[],w=0,b=f-v;w<b;w+=16383)g.push(function(_,D,C){for(var M,E=[],S=D;S<C;S+=3)M=(_[S]<<16&16711680)+(_[S+1]<<8&65280)+(255&_[S+2]),E.push(function(O){return a[O>>18&63]+a[O>>12&63]+a[O>>6&63]+a[63&O]}(M));return E.join("")}(h,w,b<w+16383?b:w+16383));return v==1?(p=h[f-1],g.push(a[p>>2]+a[p<<4&63]+"==")):v==2&&(p=(h[f-2]<<8)+h[f-1],g.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),g.join("")};for(var a=[],l=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,y=c.length;m<y;++m)a[m]=c[m],l[c.charCodeAt(m)]=m;function d(h){var p=h.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=h.indexOf("="),p=(h=h===-1?p:h)===p?0:4-h%4,[h,p]}l[45]=62,l[95]=63},{}],2:[function(t,i,s){},{}],3:[function(t,i,s){},{}],4:[function(t,i,s){(function(d){"use strict";var l=t("base64-js"),u=t("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(s.Buffer=d,s.SlowBuffer=function(P){return+P!=P&&(P=0),d.alloc(+P)},s.INSPECT_MAX_BYTES=50,2147483647);function y(P){if(m<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');return P=new Uint8Array(P),Object.setPrototypeOf(P,d.prototype),P}function d(P,A,U){if(typeof P!="number")return h(P,A,U);if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(P)}function h(P,A,U){if(typeof P=="string"){var H=P,K=A;if(d.isEncoding(K=typeof K=="string"&&K!==""?K:"utf8"))return re=0|w(H,K),ie=y(re),ie=(H=ie.write(H,K))!==re?ie.slice(0,H):ie;throw new TypeError("Unknown encoding: "+K)}if(ArrayBuffer.isView(P))return v(P);if(P!=null){if(W(P,ArrayBuffer)||P&&W(P.buffer,ArrayBuffer)){var re=P,H=A,ie=U;if(H<0||re.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<H+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return re=H===void 0&&ie===void 0?new Uint8Array(re):ie===void 0?new Uint8Array(re,H):new Uint8Array(re,H,ie),Object.setPrototypeOf(re,d.prototype),re}if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(K=P.valueOf&&P.valueOf(),K!=null&&K!==P)return d.from(K,A,U);var ce=function(se){{var he,le;if(d.isBuffer(se))return he=0|g(se.length),(le=y(he)).length!==0&&se.copy(le,0,0,he),le}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?y(0):v(se);if(se.type==="Buffer"&&Array.isArray(se.data))return v(se.data)}(P);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return d.from(P[Symbol.toPrimitive]("string"),A,U)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function p(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function f(P){return p(P),y(P<0?0:0|g(P))}function v(P){for(var A=P.length<0?0:0|g(P.length),U=y(A),H=0;H<A;H+=1)U[H]=255&P[H];return U}function g(P){if(m<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|P}function w(P,A){if(d.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||W(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var U=P.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&U===0)return 0;for(var K=!1;;)switch(A){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return q(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return G(P).length;default:if(K)return H?-1:q(P).length;A=(""+A).toLowerCase(),K=!0}}function b(P,A,U){var H,K=!1;if((A=A===void 0||A<0?0:A)>this.length||(U=U===void 0||U>this.length?this.length:U)<=0||(U>>>=0)<=(A>>>=0))return"";for(P=P||"utf8";;)switch(P){case"hex":var re=this,xe=A,ie=U,le=re.length;(!ie||ie<0||le<ie)&&(ie=le);for(var ce="",se=xe=!xe||xe<0?0:xe;se<ie;++se)ce+=ue[re[se]];return ce;case"utf8":case"utf-8":return S(this,A,U);case"ascii":var he=this,le=A,te=U,pe="";te=Math.min(he.length,te);for(var ve=le;ve<te;++ve)pe+=String.fromCharCode(127&he[ve]);return pe;case"latin1":case"binary":var Me=this,xe=A,me=U,_e="";me=Math.min(Me.length,me);for(var Ie=xe;Ie<me;++Ie)_e+=String.fromCharCode(Me[Ie]);return _e;case"base64":return De=this,H=U,(Ge=A)===0&&H===De.length?l.fromByteArray(De):l.fromByteArray(De.slice(Ge,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var De=A,Ge=U,Pe=this.slice(De,Ge),He="",Ye=0;Ye<Pe.length;Ye+=2)He+=String.fromCharCode(Pe[Ye]+256*Pe[Ye+1]);return He;default:if(K)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),K=!0}}function _(P,A,U){var H=P[A];P[A]=P[U],P[U]=H}function D(P,A,U,H,K){if(P.length===0)return-1;if(typeof U=="string"?(H=U,U=0):2147483647<U?U=2147483647:U<-2147483648&&(U=-2147483648),(U=(U=Q(U=+U)?K?0:P.length-1:U)<0?P.length+U:U)>=P.length){if(K)return-1;U=P.length-1}else if(U<0){if(!K)return-1;U=0}if(typeof A=="string"&&(A=d.from(A,H)),d.isBuffer(A))return A.length===0?-1:C(P,A,U,H,K);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?(K?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(P,A,U):C(P,[A],U,H,K);throw new TypeError("val must be string, number or Buffer")}function C(P,A,U,H,K){var re=1,ie=P.length,ce=A.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(P.length<2||A.length<2)return-1;ie/=re=2,ce/=2,U/=2}function se(ve,Me){return re===1?ve[Me]:ve.readUInt16BE(Me*re)}if(K)for(var he=-1,le=U;le<ie;le++)if(se(P,le)===se(A,he===-1?0:le-he)){if(le-(he=he===-1?le:he)+1===ce)return he*re}else he!==-1&&(le-=le-he),he=-1;else for(le=U=ie<U+ce?ie-ce:U;0<=le;le--){for(var te=!0,pe=0;pe<ce;pe++)if(se(P,le+pe)!==se(A,pe)){te=!1;break}if(te)return le}return-1}function M(P,A,U,H){return V(function(K){for(var re=[],ie=0;ie<K.length;++ie)re.push(255&K.charCodeAt(ie));return re}(A),P,U,H)}function E(P,A,U,H){return V(function(K,re){for(var ie,ce,se=[],he=0;he<K.length&&!((re-=2)<0);++he)ce=K.charCodeAt(he),ie=ce>>8,ce=ce%256,se.push(ce),se.push(ie);return se}(A,P.length-U),P,U,H)}function S(P,A,U){U=Math.min(P.length,U);for(var H=[],K=A;K<U;){var re,ie,ce,se,he=P[K],le=null,te=239<he?4:223<he?3:191<he?2:1;if(K+te<=U)switch(te){case 1:he<128&&(le=he);break;case 2:(192&(re=P[K+1]))==128&&127<(se=(31&he)<<6|63&re)&&(le=se);break;case 3:re=P[K+1],ie=P[K+2],(192&re)==128&&(192&ie)==128&&2047<(se=(15&he)<<12|(63&re)<<6|63&ie)&&(se<55296||57343<se)&&(le=se);break;case 4:re=P[K+1],ie=P[K+2],ce=P[K+3],(192&re)==128&&(192&ie)==128&&(192&ce)==128&&65535<(se=(15&he)<<18|(63&re)<<12|(63&ie)<<6|63&ce)&&se<1114112&&(le=se)}le===null?(le=65533,te=1):65535<le&&(le-=65536,H.push(le>>>10&1023|55296),le=56320|1023&le),H.push(le),K+=te}var pe=H,ve=pe.length;if(ve<=O)return String.fromCharCode.apply(String,pe);for(var Me="",xe=0;xe<ve;)Me+=String.fromCharCode.apply(String,pe.slice(xe,xe+=O));return Me}s.kMaxLength=m,(d.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(P,A),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=h,Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(P,A,U){return A=A,U=U,p(P=P),!(P<=0)&&A!==void 0?typeof U=="string"?y(P).fill(A,U):y(P).fill(A):y(P)},d.allocUnsafe=f,d.allocUnsafeSlow=f,d.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==d.prototype},d.compare=function(P,A){if(W(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),W(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(P)||!d.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===A)return 0;for(var U=P.length,H=A.length,K=0,re=Math.min(U,H);K<re;++K)if(P[K]!==A[K]){U=P[K],H=A[K];break}return U<H?-1:H<U?1:0},d.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(P,A){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return d.alloc(0);if(A===void 0)for(K=A=0;K<P.length;++K)A+=P[K].length;for(var U=d.allocUnsafe(A),H=0,K=0;K<P.length;++K){var re=P[K];if(W(re,Uint8Array)&&(re=d.from(re)),!d.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(U,H),H+=re.length}return U},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<P;A+=2)_(this,A,A+1);return this},d.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<P;A+=4)_(this,A,A+3),_(this,A+1,A+2);return this},d.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<P;A+=8)_(this,A,A+7),_(this,A+1,A+6),_(this,A+2,A+5),_(this,A+3,A+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?S(this,0,P):b.apply(this,arguments)},d.prototype.equals=function(P){if(d.isBuffer(P))return this===P||d.compare(this,P)===0;throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var A="",P=s.INSPECT_MAX_BYTES,A=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim();return this.length>P&&(A+=" ... "),"<Buffer "+A+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(P,A,U,H,K){if(W(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),!d.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(U===void 0&&(U=P?P.length:0),H===void 0&&(H=0),K===void 0&&(K=this.length),(A=A===void 0?0:A)<0||U>P.length||H<0||K>this.length)throw new RangeError("out of range index");if(K<=H&&U<=A)return 0;if(K<=H)return-1;if(U<=A)return 1;if(this===P)return 0;for(var re=(K>>>=0)-(H>>>=0),ie=(U>>>=0)-(A>>>=0),ce=Math.min(re,ie),se=this.slice(H,K),he=P.slice(A,U),le=0;le<ce;++le)if(se[le]!==he[le]){re=se[le],ie=he[le];break}return re<ie?-1:ie<re?1:0},d.prototype.includes=function(P,A,U){return this.indexOf(P,A,U)!==-1},d.prototype.indexOf=function(P,A,U){return D(this,P,A,U,!0)},d.prototype.lastIndexOf=function(P,A,U){return D(this,P,A,U,!1)},d.prototype.write=function(P,A,U,H){if(A===void 0)H="utf8",U=this.length,A=0;else if(U===void 0&&typeof A=="string")H=A,U=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(U)?(U>>>=0,H===void 0&&(H="utf8")):(H=U,U=void 0)}var K=this.length-A;if((U===void 0||K<U)&&(U=K),0<P.length&&(U<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var re,ie,ce,se=!1;;)switch(H){case"hex":var he=this,le=P,te=A,pe=U,ve=(te=Number(te)||0,he.length-te);(!pe||ve<(pe=Number(pe)))&&(pe=ve),(ve=le.length)/2<pe&&(pe=ve/2);for(var Me=0;Me<pe;++Me){var xe=parseInt(le.substr(2*Me,2),16);if(Q(xe))return Me;he[te+Me]=xe}return Me;case"utf8":case"utf-8":return ve=A,ce=U,V(q(P,(ie=this).length-ve),ie,ve,ce);case"ascii":return M(this,P,A,U);case"latin1":case"binary":return M(this,P,A,U);case"base64":return ie=this,ce=A,re=U,V(G(P),ie,ce,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,P,A,U);default:if(se)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),se=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function j(P,A,U){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(U<P+A)throw new RangeError("Trying to access beyond buffer length")}function F(P,A,U,H,K,re){if(!d.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(K<A||A<re)throw new RangeError('"value" argument is out of bounds');if(U+H>P.length)throw new RangeError("Index out of range")}function I(P,A,U,H){if(U+H>P.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function L(P,A,U,H,K){return A=+A,U>>>=0,K||I(P,0,U,4),u.write(P,A,U,H,23,4),U+4}function B(P,A,U,H,K){return A=+A,U>>>=0,K||I(P,0,U,8),u.write(P,A,U,H,52,8),U+8}d.prototype.slice=function(P,A){var U=this.length,U=((P=~~P)<0?(P+=U)<0&&(P=0):U<P&&(P=U),(A=A===void 0?U:~~A)<0?(A+=U)<0&&(A=0):U<A&&(A=U),A<P&&(A=P),this.subarray(P,A));return Object.setPrototypeOf(U,d.prototype),U},d.prototype.readUIntLE=function(P,A,U){P>>>=0,A>>>=0,U||j(P,A,this.length);for(var H=this[P],K=1,re=0;++re<A&&(K*=256);)H+=this[P+re]*K;return H},d.prototype.readUIntBE=function(P,A,U){P>>>=0,A>>>=0,U||j(P,A,this.length);for(var H=this[P+--A],K=1;0<A&&(K*=256);)H+=this[P+--A]*K;return H},d.prototype.readUInt8=function(P,A){return P>>>=0,A||j(P,1,this.length),this[P]},d.prototype.readUInt16LE=function(P,A){return P>>>=0,A||j(P,2,this.length),this[P]|this[P+1]<<8},d.prototype.readUInt16BE=function(P,A){return P>>>=0,A||j(P,2,this.length),this[P]<<8|this[P+1]},d.prototype.readUInt32LE=function(P,A){return P>>>=0,A||j(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},d.prototype.readUInt32BE=function(P,A){return P>>>=0,A||j(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},d.prototype.readIntLE=function(P,A,U){P>>>=0,A>>>=0,U||j(P,A,this.length);for(var H=this[P],K=1,re=0;++re<A&&(K*=256);)H+=this[P+re]*K;return(K*=128)<=H&&(H-=Math.pow(2,8*A)),H},d.prototype.readIntBE=function(P,A,U){P>>>=0,A>>>=0,U||j(P,A,this.length);for(var H=A,K=1,re=this[P+--H];0<H&&(K*=256);)re+=this[P+--H]*K;return(K*=128)<=re&&(re-=Math.pow(2,8*A)),re},d.prototype.readInt8=function(P,A){return P>>>=0,A||j(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},d.prototype.readInt16LE=function(P,A){return P>>>=0,A||j(P,2,this.length),A=this[P]|this[P+1]<<8,32768&A?4294901760|A:A},d.prototype.readInt16BE=function(P,A){return P>>>=0,A||j(P,2,this.length),A=this[P+1]|this[P]<<8,32768&A?4294901760|A:A},d.prototype.readInt32LE=function(P,A){return P>>>=0,A||j(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},d.prototype.readInt32BE=function(P,A){return P>>>=0,A||j(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},d.prototype.readFloatLE=function(P,A){return P>>>=0,A||j(P,4,this.length),u.read(this,P,!0,23,4)},d.prototype.readFloatBE=function(P,A){return P>>>=0,A||j(P,4,this.length),u.read(this,P,!1,23,4)},d.prototype.readDoubleLE=function(P,A){return P>>>=0,A||j(P,8,this.length),u.read(this,P,!0,52,8)},d.prototype.readDoubleBE=function(P,A){return P>>>=0,A||j(P,8,this.length),u.read(this,P,!1,52,8)},d.prototype.writeUIntLE=function(P,A,U,H){P=+P,A>>>=0,U>>>=0,H||F(this,P,A,U,Math.pow(2,8*U)-1,0);var K=1,re=0;for(this[A]=255&P;++re<U&&(K*=256);)this[A+re]=P/K&255;return A+U},d.prototype.writeUIntBE=function(P,A,U,H){P=+P,A>>>=0,U>>>=0,H||F(this,P,A,U,Math.pow(2,8*U)-1,0);var K=U-1,re=1;for(this[A+K]=255&P;0<=--K&&(re*=256);)this[A+K]=P/re&255;return A+U},d.prototype.writeUInt8=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,1,255,0),this[A]=255&P,A+1},d.prototype.writeUInt16LE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,2,65535,0),this[A]=255&P,this[A+1]=P>>>8,A+2},d.prototype.writeUInt16BE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,2,65535,0),this[A]=P>>>8,this[A+1]=255&P,A+2},d.prototype.writeUInt32LE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,4,4294967295,0),this[A+3]=P>>>24,this[A+2]=P>>>16,this[A+1]=P>>>8,this[A]=255&P,A+4},d.prototype.writeUInt32BE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,4,4294967295,0),this[A]=P>>>24,this[A+1]=P>>>16,this[A+2]=P>>>8,this[A+3]=255&P,A+4},d.prototype.writeIntLE=function(P,A,U,H){P=+P,A>>>=0,H||F(this,P,A,U,(H=Math.pow(2,8*U-1))-1,-H);var K=0,re=1,ie=0;for(this[A]=255&P;++K<U&&(re*=256);)P<0&&ie===0&&this[A+K-1]!==0&&(ie=1),this[A+K]=(P/re>>0)-ie&255;return A+U},d.prototype.writeIntBE=function(P,A,U,H){P=+P,A>>>=0,H||F(this,P,A,U,(H=Math.pow(2,8*U-1))-1,-H);var K=U-1,re=1,ie=0;for(this[A+K]=255&P;0<=--K&&(re*=256);)P<0&&ie===0&&this[A+K+1]!==0&&(ie=1),this[A+K]=(P/re>>0)-ie&255;return A+U},d.prototype.writeInt8=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,1,127,-128),this[A]=255&(P=P<0?255+P+1:P),A+1},d.prototype.writeInt16LE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,2,32767,-32768),this[A]=255&P,this[A+1]=P>>>8,A+2},d.prototype.writeInt16BE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,2,32767,-32768),this[A]=P>>>8,this[A+1]=255&P,A+2},d.prototype.writeInt32LE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,4,2147483647,-2147483648),this[A]=255&P,this[A+1]=P>>>8,this[A+2]=P>>>16,this[A+3]=P>>>24,A+4},d.prototype.writeInt32BE=function(P,A,U){return P=+P,A>>>=0,U||F(this,P,A,4,2147483647,-2147483648),this[A]=(P=P<0?4294967295+P+1:P)>>>24,this[A+1]=P>>>16,this[A+2]=P>>>8,this[A+3]=255&P,A+4},d.prototype.writeFloatLE=function(P,A,U){return L(this,P,A,!0,U)},d.prototype.writeFloatBE=function(P,A,U){return L(this,P,A,!1,U)},d.prototype.writeDoubleLE=function(P,A,U){return B(this,P,A,!0,U)},d.prototype.writeDoubleBE=function(P,A,U){return B(this,P,A,!1,U)},d.prototype.copy=function(P,A,U,H){if(!d.isBuffer(P))throw new TypeError("argument should be a Buffer");if(U=U||0,H||H===0||(H=this.length),A>=P.length&&(A=P.length),(H=0<H&&H<U?U:H)===U||P.length===0||this.length===0)return 0;if((A=A||0)<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var K=(H=P.length-A<H-U?P.length-A+U:H)-U;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,U,H);else if(this===P&&U<A&&A<H)for(var re=K-1;0<=re;--re)P[re+A]=this[re+U];else Uint8Array.prototype.set.call(P,this.subarray(U,H),A);return K},d.prototype.fill=function(P,A,U,H){if(typeof P=="string"){if(typeof A=="string"?(H=A,A=0,U=this.length):typeof U=="string"&&(H=U,U=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!d.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var K;P.length===1&&(K=P.charCodeAt(0),(H==="utf8"&&K<128||H==="latin1")&&(P=K))}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(A<0||this.length<A||this.length<U)throw new RangeError("Out of range index");var re;if(!(U<=A))if(A>>>=0,U=U===void 0?this.length:U>>>0,typeof(P=P||0)=="number")for(re=A;re<U;++re)this[re]=P;else{var ie=d.isBuffer(P)?P:d.from(P,H),ce=ie.length;if(ce===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(re=0;re<U-A;++re)this[re+A]=ie[re%ce]}return this};var k=/[^+/0-9A-Za-z-_]/g;function q(P,A){A=A||1/0;for(var U,H=P.length,K=null,re=[],ie=0;ie<H;++ie){if(55295<(U=P.charCodeAt(ie))&&U<57344){if(!K){if(56319<U){-1<(A-=3)&&re.push(239,191,189);continue}if(ie+1===H){-1<(A-=3)&&re.push(239,191,189);continue}K=U;continue}if(U<56320){-1<(A-=3)&&re.push(239,191,189),K=U;continue}U=65536+(K-55296<<10|U-56320)}else K&&-1<(A-=3)&&re.push(239,191,189);if(K=null,U<128){if(--A<0)break;re.push(U)}else if(U<2048){if((A-=2)<0)break;re.push(U>>6|192,63&U|128)}else if(U<65536){if((A-=3)<0)break;re.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;re.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return re}function G(P){return l.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(P))}function V(P,A,U,H){for(var K=0;K<H&&!(K+U>=A.length||K>=P.length);++K)A[K+U]=P[K];return K}function W(P,A){return P instanceof A||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===A.name}function Q(P){return P!=P}var ue=function(){for(var P="0123456789abcdef",A=new Array(256),U=0;U<16;++U)for(var H=16*U,K=0;K<16;++K)A[H+K]=P[U]+P[K];return A}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,i,s){i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(l){if(a(l)||l===null)return l;throw TypeError("Can't set "+String(l)+" as a prototype")}},{"../internals/is-object":75}],7:[function(u,i,s){var a=u("../internals/well-known-symbol"),l=u("../internals/object-create"),u=u("../internals/object-define-property"),c=a("unscopables"),m=Array.prototype;m[c]==null&&u.f(m,c,{configurable:!0,value:l(null)}),i.exports=function(y){m[c][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,i,s){"use strict";var a=t("../internals/string-multibyte").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,i,s){i.exports=function(a,l,u){if(a instanceof l)return a;throw TypeError("Incorrect "+(u?u+" ":"")+"invocation")}},{}],10:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(l){if(a(l))return l;throw TypeError(String(l)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,i,s){i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(I,i,s){"use strict";function a(B){return y(B)&&d(L,h(B))}var l,u=I("../internals/array-buffer-native"),c=I("../internals/descriptors"),m=I("../internals/global"),y=I("../internals/is-object"),d=I("../internals/has"),h=I("../internals/classof"),p=I("../internals/create-non-enumerable-property"),f=I("../internals/redefine"),v=I("../internals/object-define-property").f,g=I("../internals/object-get-prototype-of"),w=I("../internals/object-set-prototype-of"),O=I("../internals/well-known-symbol"),I=I("../internals/uid"),b=m.Int8Array,_=b&&b.prototype,D=m.Uint8ClampedArray,D=D&&D.prototype,C=b&&g(b),M=_&&g(_),E=Object.prototype,S=E.isPrototypeOf,O=O("toStringTag"),j=I("TYPED_ARRAY_TAG"),F=u&&!!w&&h(m.opera)!=="Opera",I=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(l in L)m[l]||(F=!1);if((!F||typeof C!="function"||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},F))for(l in L)m[l]&&w(m[l],C);if((!F||!M||M===E)&&(M=C.prototype,F))for(l in L)m[l]&&w(m[l].prototype,M);if(F&&g(D)!==M&&w(D,M),c&&!d(M,O))for(l in I=!0,v(M,O,{get:function(){return y(this)?this[j]:void 0}}),L)m[l]&&p(m[l],j,l);i.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:I&&j,aTypedArray:function(B){if(a(B))return B;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(B){if(w){if(S.call(C,B))return B}else for(var k in L)if(d(L,l)&&(k=m[k],k&&(B===k||S.call(k,B))))return B;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(B,k,q){if(c){if(q)for(var G in L)G=m[G],G&&d(G.prototype,B)&&delete G.prototype[B];M[B]&&!q||f(M,B,!q&&F&&_[B]||k)}},exportTypedArrayStaticMethod:function(B,k,q){var G,V;if(c){if(w){if(q)for(G in L)(V=m[G])&&d(V,B)&&delete V[B];if(C[B]&&!q)return;try{return f(C,B,!q&&F&&b[B]||k)}catch{}}for(G in L)!(V=m[G])||V[B]&&!q||f(V,B,k)}},isView:function(B){return B=h(B),B==="DataView"||d(L,B)},isTypedArray:a,TypedArray:C,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(U,i,s){"use strict";function a(te){return[255&te]}function l(te){return[255&te,te>>8&255]}function u(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function c(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function m(te){return re(te,23,4)}function y(te){return re(te,52,8)}function d(te,pe){I(te[W],pe,{get:function(){return k(this)[pe]}})}function h(_e,pe,me,Me){if(me=E(me),_e=k(_e),me+pe>_e.byteLength)throw K(Q);var xe=k(_e.buffer).bytes,me=me+_e.byteOffset,_e=xe.slice(me,me+pe);return Me?_e:_e.reverse()}function p(te,pe,ve,Me,xe,me){if(ve=E(ve),te=k(te),ve+pe>te.byteLength)throw K(Q);for(var _e=k(te.buffer).bytes,Ie=ve+te.byteOffset,De=Me(+xe),Ge=0;Ge<pe;Ge++)_e[Ie+Ge]=De[me?Ge:pe-Ge-1]}var f=U("../internals/global"),v=U("../internals/descriptors"),g=U("../internals/array-buffer-native"),w=U("../internals/create-non-enumerable-property"),b=U("../internals/redefine-all"),_=U("../internals/fails"),D=U("../internals/an-instance"),C=U("../internals/to-integer"),M=U("../internals/to-length"),E=U("../internals/to-index"),S=U("../internals/ieee754"),O=U("../internals/object-get-prototype-of"),j=U("../internals/object-set-prototype-of"),F=U("../internals/object-get-own-property-names").f,I=U("../internals/object-define-property").f,L=U("../internals/array-fill"),B=U("../internals/set-to-string-tag"),U=U("../internals/internal-state"),k=U.get,q=U.set,G="ArrayBuffer",V="DataView",W="prototype",Q="Wrong index",ue=f[G],P=ue,A=f[V],U=A&&A[W],H=Object.prototype,K=f.RangeError,re=S.pack,ie=S.unpack;if(g){if(!_(function(){ue(1)})||!_(function(){new ue(-1)})||_(function(){return new ue,new ue(1.5),new ue(NaN),ue.name!=G})){for(var ce,f=(P=function(ve){return D(this,P),new ue(E(ve))})[W]=ue[W],se=F(ue),he=0;se.length>he;)(ce=se[he++])in P||w(P,ce,ue[ce]);f.constructor=P}j&&O(U)!==H&&j(U,H);var S=new A(new P(2)),le=U.setInt8;S.setInt8(0,2147483648),S.setInt8(1,2147483649),!S.getInt8(0)&&S.getInt8(1)||b(U,{setInt8:function(pe,ve){le.call(this,pe,ve<<24>>24)},setUint8:function(pe,ve){le.call(this,pe,ve<<24>>24)}},{unsafe:!0})}else P=function(te){D(this,P,G),te=E(te),q(this,{bytes:L.call(new Array(te),0),byteLength:te}),v||(this.byteLength=te)},A=function(te,xe,ve){D(this,A,V),D(te,P,V);var Me=k(te).byteLength,xe=C(xe);if(xe<0||Me<xe)throw K("Wrong offset");if(Me<xe+(ve=ve===void 0?Me-xe:M(ve)))throw K("Wrong length");q(this,{buffer:te,byteLength:ve,byteOffset:xe}),v||(this.buffer=te,this.byteLength=ve,this.byteOffset=xe)},v&&(d(P,"byteLength"),d(A,"buffer"),d(A,"byteLength"),d(A,"byteOffset")),b(A[W],{getInt8:function(te){return h(this,1,te)[0]<<24>>24},getUint8:function(te){return h(this,1,te)[0]},getInt16:function(te){return te=h(this,2,te,1<arguments.length?arguments[1]:void 0),(te[1]<<8|te[0])<<16>>16},getUint16:function(te){return te=h(this,2,te,1<arguments.length?arguments[1]:void 0),te[1]<<8|te[0]},getInt32:function(te){return c(h(this,4,te,1<arguments.length?arguments[1]:void 0))},getUint32:function(te){return c(h(this,4,te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(te){return ie(h(this,4,te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(te){return ie(h(this,8,te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(te,pe){p(this,1,te,a,pe)},setUint8:function(te,pe){p(this,1,te,a,pe)},setInt16:function(te,pe){p(this,2,te,l,pe,2<arguments.length?arguments[2]:void 0)},setUint16:function(te,pe){p(this,2,te,l,pe,2<arguments.length?arguments[2]:void 0)},setInt32:function(te,pe){p(this,4,te,u,pe,2<arguments.length?arguments[2]:void 0)},setUint32:function(te,pe){p(this,4,te,u,pe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(te,pe){p(this,4,te,m,pe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(te,pe){p(this,8,te,y,pe,2<arguments.length?arguments[2]:void 0)}});B(P,G),B(A,V),i.exports={ArrayBuffer:P,DataView:A}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,i,s){"use strict";var a=t("../internals/to-object"),l=t("../internals/to-absolute-index"),u=t("../internals/to-length"),c=Math.min;i.exports=[].copyWithin||function(v,y){var d=a(this),h=u(d.length),p=l(v,h),f=l(y,h),v=2<arguments.length?arguments[2]:void 0,g=c((v===void 0?h:l(v,h))-f,h-p),w=1;for(f<p&&p<f+g&&(w=-1,f+=g-1,p+=g-1);0<g--;)f in d?d[p]=d[f]:delete d[p],p+=w,f+=w;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,i,s){"use strict";var a=t("../internals/to-object"),l=t("../internals/to-absolute-index"),u=t("../internals/to-length");i.exports=function(c){for(var m=a(this),y=u(m.length),h=arguments.length,d=l(1<h?arguments[1]:void 0,y),h=2<h?arguments[2]:void 0,p=h===void 0?y:l(h,y);d<p;)m[d++]=c;return m}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(u,i,s){"use strict";var a=u("../internals/array-iteration").forEach,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("forEach"),u=u("forEach");i.exports=l&&u?[].forEach:function(c){return a(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,i,s){"use strict";var a=t("../internals/function-bind-context"),l=t("../internals/to-object"),u=t("../internals/call-with-safe-iteration-closing"),c=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),y=t("../internals/create-property"),d=t("../internals/get-iterator-method");i.exports=function(D){var p,f,v,g,w,b,_=l(D),D=typeof this=="function"?this:Array,C=arguments.length,M=1<C?arguments[1]:void 0,E=M!==void 0,S=d(_),O=0;if(E&&(M=a(M,2<C?arguments[2]:void 0,2)),S==null||D==Array&&c(S))for(f=new D(p=m(_.length));O<p;O++)b=E?M(_[O],O):_[O],y(f,O,b);else for(w=(g=S.call(_)).next,f=new D;!(v=w.call(g)).done;O++)b=E?u(g,M,[v.value,O],!0):v.value,y(f,O,b);return f.length=O,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,i,s){function a(m){return function(y,d,h){var p,f=l(y),v=u(f.length),g=c(h,v);if(m&&d!=d){for(;g<v;)if((p=f[g++])!=p)return!0}else for(;g<v;g++)if((m||g in f)&&f[g]===d)return m||g||0;return!m&&-1}}var l=t("../internals/to-indexed-object"),u=t("../internals/to-length"),c=t("../internals/to-absolute-index");i.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,i,s){function a(h){var p=h==1,f=h==2,v=h==3,g=h==4,w=h==6,b=h==5||w;return function(_,D,C,M){for(var E,S,O=c(_),j=u(O),F=l(D,C,3),I=m(j.length),L=0,D=M||y,B=p?D(_,I):f?D(_,0):void 0;L<I;L++)if((b||L in j)&&(S=F(E=j[L],L,O),h)){if(p)B[L]=S;else if(S)switch(h){case 3:return!0;case 5:return E;case 6:return L;case 2:d.call(B,E)}else if(g)return!1}return w?-1:v||g?g:B}}var l=t("../internals/function-bind-context"),u=t("../internals/indexed-object"),c=t("../internals/to-object"),m=t("../internals/to-length"),y=t("../internals/array-species-create"),d=[].push;i.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(h,i,s){"use strict";var a=h("../internals/to-indexed-object"),l=h("../internals/to-integer"),u=h("../internals/to-length"),d=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),c=Math.min,m=[].lastIndexOf,y=!!m&&1/[1].lastIndexOf(1,-0)<0,d=d("lastIndexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});i.exports=y||!d||!h?function(p){if(y)return m.apply(this,arguments)||0;var f=a(this),v=u(f.length),g=v-1;for((g=1<arguments.length?c(g,l(arguments[1])):g)<0&&(g=v+g);0<=g;g--)if(g in f&&f[g]===p)return g||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,i,s){var a=t("../internals/fails"),l=t("../internals/well-known-symbol"),u=t("../internals/engine-v8-version"),c=l("species");i.exports=function(m){return 51<=u||!a(function(){var y=[];return(y.constructor={})[c]=function(){return{foo:1}},y[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,i,s){"use strict";var a=t("../internals/fails");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,i,s){function a(d){throw d}var l=t("../internals/descriptors"),u=t("../internals/fails"),c=t("../internals/has"),m=Object.defineProperty,y={};i.exports=function(d,h){var p,f,v,g;return c(y,d)?y[d]:(p=[][d],f=!!c(h=h||{},"ACCESSORS")&&h.ACCESSORS,v=c(h,0)?h[0]:a,g=c(h,1)?h[1]:void 0,y[d]=!!p&&!u(function(){if(f&&!l)return!0;var w={length:-1};f?m(w,1,{enumerable:!0,get:a}):w[1]=1,p.call(w,v,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,i,s){function a(y){return function(d,h,p,f){l(h);var v=u(d),g=c(v),w=m(v.length),b=y?w-1:0,_=y?-1:1;if(p<2)for(;;){if(b in g){f=g[b],b+=_;break}if(b+=_,y?b<0:w<=b)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=b:b<w;b+=_)b in g&&(f=h(f,g[b],b,v));return f}}var l=t("../internals/a-function"),u=t("../internals/to-object"),c=t("../internals/indexed-object"),m=t("../internals/to-length");i.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,i,s){var a=t("../internals/is-object"),l=t("../internals/is-array"),u=t("../internals/well-known-symbol")("species");i.exports=function(c,m){var y;return new((y=l(c)&&(typeof(y=c.constructor)=="function"&&(y===Array||l(y.prototype))||a(y)&&(y=y[u])===null)?void 0:y)===void 0?Array:y)(m===0?0:m)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,i,s){var a=t("../internals/an-object");i.exports=function(l,u,c,m){try{return m?u(a(c)[0],c[1]):u(c)}catch(y){throw m=l.return,m!==void 0&&a(m.call(l)),y}}},{"../internals/an-object":10}],27:[function(t,i,s){var a=t("../internals/well-known-symbol")("iterator"),l=!1;try{var u=0,c={next:function(){return{done:!!u++}},return:function(){l=!0}};c[a]=function(){return this},Array.from(c,function(){throw 2})}catch{}i.exports=function(m,y){if(!y&&!l)return!1;var d=!1;try{var h={};h[a]=function(){return{next:function(){return{done:d=!0}}}},m(h)}catch{}return d}},{"../internals/well-known-symbol":150}],28:[function(t,i,s){var a={}.toString;i.exports=function(l){return a.call(l).slice(8,-1)}},{}],29:[function(t,i,s){var a=t("../internals/to-string-tag-support"),l=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("toStringTag"),c=l(function(){return arguments}())=="Arguments";i.exports=a?l:function(m){var y;return m===void 0?"Undefined":m===null?"Null":typeof(y=function(d,h){try{return d[h]}catch{}}(m=Object(m),u))=="string"?y:c?l(m):(y=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(v,i,s){"use strict";var a=v("../internals/object-define-property").f,l=v("../internals/object-create"),u=v("../internals/redefine-all"),c=v("../internals/function-bind-context"),m=v("../internals/an-instance"),y=v("../internals/iterate"),d=v("../internals/define-iterator"),h=v("../internals/set-species"),p=v("../internals/descriptors"),f=v("../internals/internal-metadata").fastKey,v=v("../internals/internal-state"),g=v.set,w=v.getterFor;i.exports={getConstructor:function(b,_,D,C){function M(j,F,I){var L,B=O(j),k=E(j,F);return k?k.value=I:(B.last=k={index:L=f(F,!0),key:F,value:I,previous:F=B.last,next:void 0,removed:!1},B.first||(B.first=k),F&&(F.next=k),p?B.size++:j.size++,L!=="F"&&(B.index[L]=k)),j}function E(L,F){var I,L=O(L),B=f(F);if(B!=="F")return L.index[B];for(I=L.first;I;I=I.next)if(I.key==F)return I}var S=b(function(j,F){m(j,S,_),g(j,{type:_,index:l(null),first:void 0,last:void 0,size:0}),p||(j.size=0),F!=null&&y(F,j[C],j,D)}),O=w(_);return u(S.prototype,{clear:function(){for(var j=O(this),F=j.index,I=j.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete F[I.index],I=I.next;j.first=j.last=void 0,p?j.size=0:this.size=0},delete:function(B){var F,I,L=O(this),B=E(this,B);return B&&(F=B.next,I=B.previous,delete L.index[B.index],B.removed=!0,I&&(I.next=F),F&&(F.previous=I),L.first==B&&(L.first=F),L.last==B&&(L.last=I),p?L.size--:this.size--),!!B},forEach:function(j){for(var F,I=O(this),L=c(j,1<arguments.length?arguments[1]:void 0,3);F=F?F.next:I.first;)for(L(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(j){return!!E(this,j)}}),u(S.prototype,D?{get:function(j){return j=E(this,j),j&&j.value},set:function(j,F){return M(this,j===0?0:j,F)}}:{add:function(j){return M(this,j=j===0?0:j,j)}}),p&&a(S.prototype,"size",{get:function(){return O(this).size}}),S},setStrong:function(b,_,D){var C=_+" Iterator",M=w(_),E=w(C);d(b,_,function(S,O){g(this,{type:C,target:S,state:M(S),kind:O,last:void 0})},function(){for(var S=E(this),O=S.kind,j=S.last;j&&j.removed;)j=j.previous;return S.target&&(S.last=j=j?j.next:S.state.first)?O=="keys"?{value:j.key,done:!1}:O=="values"?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}:{value:S.target=void 0,done:!0}},D?"entries":"values",!D,!0),h(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(g,i,s){"use strict";function a(M){return M.frozen||(M.frozen=new l)}function l(){this.entries=[]}function u(M,E){return _(M.entries,function(S){return S[0]===E})}var c=g("../internals/redefine-all"),m=g("../internals/internal-metadata").getWeakData,y=g("../internals/an-object"),d=g("../internals/is-object"),h=g("../internals/an-instance"),p=g("../internals/iterate"),f=g("../internals/array-iteration"),v=g("../internals/has"),g=g("../internals/internal-state"),w=g.set,b=g.getterFor,_=f.find,D=f.findIndex,C=0;l.prototype={get:function(M){if(M=u(this,M),M)return M[1]},has:function(M){return!!u(this,M)},set:function(M,E){var S=u(this,M);S?S[1]=E:this.entries.push([M,E])},delete:function(M){var E=D(this.entries,function(S){return S[0]===M});return~E&&this.entries.splice(E,1),!!~E}},i.exports={getConstructor:function(M,E,S,O){function j(L,B,k){var q=I(L),G=m(y(B),!0);return G===!0?a(q).set(B,k):G[q.id]=k,L}var F=M(function(L,B){h(L,F,E),w(L,{type:E,id:C++,frozen:void 0}),B!=null&&p(B,L[O],L,S)}),I=b(E);return c(F.prototype,{delete:function(L){var B,k=I(this);return!!d(L)&&((B=m(L))===!0?a(k).delete(L):B&&v(B,k.id)&&delete B[k.id])},has:function(L){var B,k=I(this);return!!d(L)&&((B=m(L))===!0?a(k).has(L):B&&v(B,k.id))}}),c(F.prototype,S?{get:function(L){var B,k=I(this);if(d(L))return(B=m(L))===!0?a(k).get(L):B?B[k.id]:void 0},set:function(L,B){return j(this,L,B)}}:{add:function(L){return j(this,L,!0)}}),F}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/global"),u=t("../internals/is-forced"),c=t("../internals/redefine"),m=t("../internals/internal-metadata"),y=t("../internals/iterate"),d=t("../internals/an-instance"),h=t("../internals/is-object"),p=t("../internals/fails"),f=t("../internals/check-correctness-of-iteration"),v=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");i.exports=function(w,b,_){function D(G){var V=B[G];c(B,G,G=="add"?function(W){return V.call(this,W===0?0:W),this}:G=="delete"?function(W){return!(F&&!h(W))&&V.call(this,W===0?0:W)}:G=="get"?function(W){return F&&!h(W)?void 0:V.call(this,W===0?0:W)}:G=="has"?function(W){return!(F&&!h(W))&&V.call(this,W===0?0:W)}:function(W,Q){return V.call(this,W===0?0:W,Q),this})}var C,M,E,S,O,j=w.indexOf("Map")!==-1,F=w.indexOf("Weak")!==-1,I=j?"set":"add",L=l[w],B=L&&L.prototype,k=L,q={};return u(w,typeof L!="function"||!(F||B.forEach&&!p(function(){new L().entries().next()})))?(k=_.getConstructor(b,w,j,I),m.REQUIRED=!0):u(w,!0)&&(M=(C=new k)[I](F?{}:-0,1)!=C,E=p(function(){C.has(1)}),S=f(function(G){new L(G)}),O=!F&&p(function(){for(var G=new L,V=5;V--;)G[I](V,V);return!G.has(-0)}),S||(((k=b(function(G,V){return d(G,k,w),G=g(new L,G,k),V!=null&&y(V,G[I],G,j),G})).prototype=B).constructor=k),(E||O)&&(D("delete"),D("has"),j&&D("get")),(O||M)&&D(I),F&&B.clear&&delete B.clear),q[w]=k,a({global:!0,forced:k!=L},q),v(k,w),F||_.setStrong(k,w,j),k}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,i,s){var a=t("../internals/has"),l=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");i.exports=function(m,y){for(var d=l(y),h=c.f,p=u.f,f=0;f<d.length;f++){var v=d[f];a(m,v)||h(m,v,p(y,v))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,i,s){var a=t("../internals/well-known-symbol")("match");i.exports=function(l){var u=/./;try{"/./"[l](u)}catch{try{return u[a]=!1,"/./"[l](u)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(t,i,s){var a=t("../internals/require-object-coercible"),l=/"/g;i.exports=function(d,c,m,y){var d=String(a(d)),h="<"+c;return m!==""&&(h+=" "+m+'="'+String(y).replace(l,"&quot;")+'"'),h+">"+d+"</"+c+">"}},{"../internals/require-object-coercible":115}],37:[function(t,i,s){"use strict";function a(){return this}var l=t("../internals/iterators-core").IteratorPrototype,u=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),y=t("../internals/iterators");i.exports=function(d,h,p){return h+=" Iterator",d.prototype=u(l,{next:c(1,p)}),m(d,h,!1,!0),y[h]=a,d}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");i.exports=a?function(c,m,y){return l.f(c,m,u(1,y))}:function(c,m,y){return c[m]=y,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,i,s){i.exports=function(a,l){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:l}}},{}],40:[function(t,i,s){"use strict";var a=t("../internals/to-primitive"),l=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");i.exports=function(c,m,y){m=a(m),m in c?l.f(c,m,u(0,y)):c[m]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(g,i,s){"use strict";function a(){return this}var l=g("../internals/export"),u=g("../internals/create-iterator-constructor"),c=g("../internals/object-get-prototype-of"),m=g("../internals/object-set-prototype-of"),y=g("../internals/set-to-string-tag"),d=g("../internals/create-non-enumerable-property"),h=g("../internals/redefine"),p=g("../internals/well-known-symbol"),f=g("../internals/is-pure"),v=g("../internals/iterators"),g=g("../internals/iterators-core"),w=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),D="values",C="entries";i.exports=function(M,E,S,q,j,F,I){u(S,E,q);function L(P){if(P===j&&Q)return Q;if(!b&&P in V)return V[P];switch(P){case"keys":case D:case C:return function(){return new S(this,P)}}return function(){return new S(this)}}var B,k,q=E+" Iterator",G=!1,V=M.prototype,W=V[_]||V["@@iterator"]||j&&V[j],Q=!b&&W||L(j),ue=E=="Array"&&V.entries||W;if(ue&&(ue=c(ue.call(new M)),w!==Object.prototype&&ue.next&&(f||c(ue)===w||(m?m(ue,w):typeof ue[_]!="function"&&d(ue,_,a)),y(ue,q,!0,!0),f&&(v[q]=a))),j==D&&W&&W.name!==D&&(G=!0,Q=function(){return W.call(this)}),f&&!I||V[_]===Q||d(V,_,Q),v[E]=Q,j)if(B={values:L(D),keys:F?Q:L("keys"),entries:L(C)},I)for(k in B)!b&&!G&&k in V||h(V,k,B[k]);else l({target:E,proto:!0,forced:b||G},B);return B}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,i,s){var a=t("../internals/path"),l=t("../internals/has"),u=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;i.exports=function(m){var y=a.Symbol||(a.Symbol={});l(y,m)||c(y,m,{value:u.f(m)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(l,i,s){var a=l("../internals/global"),l=l("../internals/is-object"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(m){return c?u.createElement(m):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,i,s){t=t("../internals/engine-user-agent"),i.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,i,s){t=t("../internals/get-built-in"),i.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(u,i,s){var a,l,c=u("../internals/global"),u=u("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?l=(a=c.split("."))[0]+a[1]:u&&(!(a=u.match(/Edge\/(\d+)/))||74<=a[1])&&(a=u.match(/Chrome\/(\d+)/))&&(l=a[1]),i.exports=l&&+l},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,i,s){var a=t("../internals/global"),l=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/create-non-enumerable-property"),c=t("../internals/redefine"),m=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");i.exports=function(h,p){var f,v,g,w=h.target,b=h.global,_=h.stat,D=b?a:_?a[w]||m(w,{}):(a[w]||{}).prototype;if(D)for(f in p){if(v=p[f],g=h.noTargetGet?(g=l(D,f))&&g.value:D[f],!d(b?f:w+(_?".":"#")+f,h.forced)&&g!==void 0){if(typeof v==typeof g)continue;y(v,g)}(h.sham||g&&g.sham)&&u(v,"sham",!0),c(D,f,v,h)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,i,s){i.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(p,i,s){"use strict";p("../modules/es.regexp.exec");var a=p("../internals/redefine"),l=p("../internals/fails"),u=p("../internals/well-known-symbol"),c=p("../internals/regexp-exec"),m=p("../internals/create-non-enumerable-property"),y=u("species"),d=!l(function(){var g=/./;return g.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(g,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",p=u("replace"),f=!!/./[p]&&/./[p]("a","$0")==="",v=!l(function(){var w=/(?:)/,g=w.exec,w=(w.exec=function(){return g.apply(this,arguments)},"ab".split(w));return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(g,w,b,_){var D,C,M=u(g),E=!l(function(){var O={};return O[M]=function(){return 7},""[g](O)!=7}),S=E&&!l(function(){var O=!1,j=/a/;return g==="split"&&((j={constructor:{}}).constructor[y]=function(){return j},j.flags="",j[M]=/./[M]),j.exec=function(){return O=!0,null},j[M](""),!O});E&&S&&(g!=="replace"||d&&h&&!f)&&(g!=="split"||v)||(D=/./[M],b=(S=b(M,""[g],function(O,j,F,I,L){return j.exec===c?E&&!L?{done:!0,value:D.call(j,F,I)}:{done:!0,value:O.call(F,j,I)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],C=S[1],a(String.prototype,g,b),a(RegExp.prototype,M,w==2?function(O,j){return C.call(O,this,j)}:function(O){return C.call(O,this)})),_&&m(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,i,s){"use strict";function a(m,y,d,h,p,f,v,g){for(var w,b=p,_=0,D=!!v&&c(v,g,3);_<h;){if(_ in d){if(w=D?D(d[_],_,y):d[_],0<f&&l(w))b=a(m,y,w,u(w.length),b,f-1)-1;else{if(9007199254740991<=b)throw TypeError("Exceed the acceptable array length");m[b]=w}b++}_++}return b}var l=t("../internals/is-array"),u=t("../internals/to-length"),c=t("../internals/function-bind-context");i.exports=a},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,i,s){t=t("../internals/fails"),i.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,i,s){var a=t("../internals/a-function");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(m){return l.call(u,m)};case 2:return function(m,y){return l.call(u,m,y)};case 3:return function(m,y,d){return l.call(u,m,y,d)}}return function(){return l.apply(u,arguments)}}},{"../internals/a-function":5}],56:[function(t,i,s){"use strict";var a=t("../internals/a-function"),l=t("../internals/is-object"),u=[].slice,c={};i.exports=Function.bind||function(m){var y=a(this),d=u.call(arguments,1),h=function(){var p=d.concat(u.call(arguments));if(this instanceof h){var f=y,v=p.length,g=p;if(!(v in c)){for(var w=[],b=0;b<v;b++)w[b]="a["+b+"]";c[v]=Function("C,a","return new C("+w.join(",")+")")}return c[v](f,g)}return y.apply(m,p)};return l(y.prototype)&&(h.prototype=y.prototype),h}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,i,s){function a(c){return typeof c=="function"?c:void 0}var l=t("../internals/path"),u=t("../internals/global");i.exports=function(c,m){return arguments.length<2?a(l[c])||a(u[c]):l[c]&&l[c][m]||u[c]&&u[c][m]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,i,s){var a=t("../internals/classof"),l=t("../internals/iterators"),u=t("../internals/well-known-symbol")("iterator");i.exports=function(c){if(c!=null)return c[u]||c["@@iterator"]||l[a(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,i,s){var a=t("../internals/an-object"),l=t("../internals/get-iterator-method");i.exports=function(u){var c=l(u);if(typeof c!="function")throw TypeError(String(u)+" is not iterable");return a(c.call(u))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,i,s){(function(a){function l(u){return u&&u.Math==Math&&u}i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,i,s){var a={}.hasOwnProperty;i.exports=function(l,u){return a.call(l,u)}},{}],62:[function(t,i,s){i.exports={}},{}],63:[function(t,i,s){var a=t("../internals/global");i.exports=function(l,u){var c=a.console;c&&c.error&&(arguments.length===1?c.error(l):c.error(l,u))}},{"../internals/global":60}],64:[function(t,i,s){t=t("../internals/get-built-in"),i.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/fails"),u=t("../internals/document-create-element");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,i,s){var a=Math.abs,l=Math.pow,u=Math.floor,c=Math.log,m=Math.LN2;i.exports={pack:function(y,d,b){var p,f,v,g=new Array(b),w=8*b-d-1,b=(1<<w)-1,_=b>>1,D=d===23?l(2,-24)-l(2,-77):0,C=y<0||y===0&&1/y<0?1:0,M=0;for((y=a(y))!=y||y===1/0?(f=y!=y?1:0,p=b):(p=u(c(y)/m),y*(v=l(2,-p))<1&&(p--,v*=2),2<=(y+=1<=p+_?D/v:D*l(2,1-_))*v&&(p++,v/=2),b<=p+_?(f=0,p=b):1<=p+_?(f=(y*v-1)*l(2,d),p+=_):(f=y*l(2,_-1)*l(2,d),p=0));8<=d;g[M++]=255&f,f/=256,d-=8);for(p=p<<d|f,w+=d;0<w;g[M++]=255&p,p/=256,w-=8);return g[--M]|=128*C,g},unpack:function(y,d){var h,p=y.length,b=8*p-d-1,f=(1<<b)-1,v=f>>1,g=b-7,w=p-1,b=y[w--],_=127&b;for(b>>=7;0<g;_=256*_+y[w],w--,g-=8);for(h=_&(1<<-g)-1,_>>=-g,g+=d;0<g;h=256*h+y[w],w--,g-=8);if(_===0)_=1-v;else{if(_===f)return h?NaN:b?-1/0:1/0;h+=l(2,d),_-=v}return(b?-1:1)*h*l(2,_-d)}}},{}],67:[function(t,i,s){var a=t("../internals/fails"),l=t("../internals/classof-raw"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,i,s){var a=t("../internals/is-object"),l=t("../internals/object-set-prototype-of");i.exports=function(u,c,m){return l&&typeof(c=c.constructor)=="function"&&c!==m&&a(c=c.prototype)&&c!==m.prototype&&l(u,c),u}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,i,s){var a=a("../internals/shared-store"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},{"../internals/shared-store":121}],70:[function(t,i,s){function a(g){m(g,h,{value:{objectID:"O"+ ++p,weakData:{}}})}var l=t("../internals/hidden-keys"),u=t("../internals/is-object"),c=t("../internals/has"),m=t("../internals/object-define-property").f,y=t("../internals/uid"),d=t("../internals/freezing"),h=y("meta"),p=0,f=Object.isExtensible||function(){return!0},v=i.exports={REQUIRED:!1,fastKey:function(g,w){if(!u(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!c(g,h)){if(!f(g))return"F";if(!w)return"E";a(g)}return g[h].objectID},getWeakData:function(g,w){if(!c(g,h)){if(!f(g))return!0;if(!w)return!1;a(g)}return g[h].weakData},onFreeze:function(g){return d&&v.REQUIRED&&f(g)&&!c(g,h)&&a(g),g}};l[h]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(b,i,s){var a,l,u,c,m,y,d,h,p=b("../internals/native-weak-map"),_=b("../internals/global"),f=b("../internals/is-object"),v=b("../internals/create-non-enumerable-property"),g=b("../internals/has"),w=b("../internals/shared-key"),b=b("../internals/hidden-keys"),_=_.WeakMap;d=p?(a=new _,l=a.get,u=a.has,c=a.set,m=function(D,C){return c.call(a,D,C),C},y=function(D){return l.call(a,D)||{}},function(D){return u.call(a,D)}):(b[h=w("state")]=!0,m=function(D,C){return v(D,h,C),C},y=function(D){return g(D,h)?D[h]:{}},function(D){return g(D,h)}),i.exports={set:m,get:y,has:d,enforce:function(D){return d(D)?y(D):m(D,{})},getterFor:function(D){return function(C){if(f(C)&&(C=y(C)).type===D)return C;throw TypeError("Incompatible receiver, "+D+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,i,s){var a=t("../internals/well-known-symbol"),l=t("../internals/iterators"),u=a("iterator"),c=Array.prototype;i.exports=function(m){return m!==void 0&&(l.Array===m||c[u]===m)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,i,s){var a=t("../internals/classof-raw");i.exports=Array.isArray||function(l){return a(l)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,i,s){function a(h,p){return(h=m[c(h)])==d||h!=y&&(typeof p=="function"?l(p):!!p)}var l=t("../internals/fails"),u=/#|\.prototype\./,c=a.normalize=function(h){return String(h).replace(u,".").toLowerCase()},m=a.data={},y=a.NATIVE="N",d=a.POLYFILL="P";i.exports=a},{"../internals/fails":51}],75:[function(t,i,s){i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],76:[function(t,i,s){i.exports=!1},{}],77:[function(t,i,s){var a=t("../internals/is-object"),l=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("match");i.exports=function(c){var m;return a(c)&&((m=c[u])!==void 0?!!m:l(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,i,s){function a(h,p){this.stopped=h,this.result=p}var l=t("../internals/an-object"),u=t("../internals/is-array-iterator-method"),c=t("../internals/to-length"),m=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),d=t("../internals/call-with-safe-iteration-closing");(i.exports=function(h,p,f,v,g){var w,b,_,D,C,M,E=m(p,f,v?2:1);if(g)w=h;else{if(typeof(p=y(h))!="function")throw TypeError("Target is not iterable");if(u(p)){for(b=0,_=c(h.length);b<_;b++)if((D=v?E(l(M=h[b])[0],M[1]):E(h[b]))&&D instanceof a)return D;return new a(!1)}w=p.call(h)}for(C=w.next;!(M=C.call(w)).done;)if(typeof(D=d(w,E,M.value,v))=="object"&&D&&D instanceof a)return D;return new a(!1)}).stop=function(h){return new a(!0,h)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,i,s){"use strict";var a,l,u=y("../internals/object-get-prototype-of"),c=y("../internals/create-non-enumerable-property"),m=y("../internals/has"),d=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),d=d("iterator"),h=!1;[].keys&&("next"in(l=[].keys())?(u=u(u(l)))!==Object.prototype&&(a=u):h=!0),a==null&&(a={}),y||m(a,d)||c(a,d,function(){return this}),i.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,i,s){i.exports={}},{}],81:[function(t,i,s){i.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],82:[function(v,i,s){var a,l,u,c,m,y,d,h,p=v("../internals/global"),C=v("../internals/object-get-own-property-descriptor").f,D=v("../internals/classof-raw"),f=v("../internals/task").set,v=v("../internals/engine-is-ios"),g=p.MutationObserver||p.WebKitMutationObserver,w=p.process,b=p.Promise,_=D(w)=="process",D=C(p,"queueMicrotask"),C=D&&D.value;C||(a=function(){var M,E;for(_&&(M=w.domain)&&M.exit();l;){E=l.fn,l=l.next;try{E()}catch(S){throw l?c():u=void 0,S}}u=void 0,M&&M.enter()},c=_?function(){w.nextTick(a)}:g&&!v?(m=!0,y=document.createTextNode(""),new g(a).observe(y,{characterData:!0}),function(){y.data=m=!m}):b&&b.resolve?(d=b.resolve(void 0),h=d.then,function(){h.call(d,a)}):function(){f.call(p,a)}),i.exports=C||function(M){M={fn:M,next:void 0},u&&(u.next=M),l||(l=M,c()),u=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,i,s){t=t("../internals/global"),i.exports=t.Promise},{"../internals/global":60}],84:[function(t,i,s){t=t("../internals/fails"),i.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,i,s){var a=t("../internals/fails"),l=t("../internals/well-known-symbol"),u=t("../internals/is-pure"),c=l("iterator");i.exports=!a(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),y=m.searchParams,d="";return m.pathname="c%20d",y.forEach(function(h,p){y.delete("b"),d+=p+h}),u&&!m.toJSON||!y.sort||m.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,i,s){var l=a("../internals/global"),a=a("../internals/inspect-source"),l=l.WeakMap;i.exports=typeof l=="function"&&/native code/.test(a(l))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,i,s){"use strict";function a(u){var c,m;this.promise=new u(function(y,d){if(c!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");c=y,m=d}),this.resolve=l(c),this.reject=l(m)}var l=t("../internals/a-function");i.exports.f=function(u){return new a(u)}},{"../internals/a-function":5}],88:[function(t,i,s){var a=t("../internals/is-regexp");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":77}],89:[function(t,i,s){var a=t("../internals/global").isFinite;i.exports=Number.isFinite||function(l){return typeof l=="number"&&a(l)}},{"../internals/global":60}],90:[function(t,i,s){"use strict";var a=t("../internals/descriptors"),l=t("../internals/fails"),u=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),d=t("../internals/indexed-object"),h=Object.assign,p=Object.defineProperty;i.exports=!h||l(function(){var f,v,g,w;return!(!a||h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(v={},w="abcdefghijklmnopqrst",(f={})[g=Symbol()]=7,w.split("").forEach(function(b){v[b]=b}),h({},f)[g]!=7||u(h({},v)).join("")!=w)})?function(f,v){for(var g=y(f),w=arguments.length,b=1,_=c.f,D=m.f;b<w;)for(var C,M=d(arguments[b++]),E=_?u(M).concat(_(M)):u(M),S=E.length,O=0;O<S;)C=E[O++],a&&!D.call(M,C)||(g[C]=M[C]);return g}:h},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(p,i,s){function a(){}var l,u=p("../internals/an-object"),c=p("../internals/object-define-properties"),m=p("../internals/enum-bug-keys"),y=p("../internals/hidden-keys"),d=p("../internals/html"),h=p("../internals/document-create-element"),p=p("../internals/shared-key"),f="prototype",v="script",g=p("IE_PROTO"),w=function(_){return"<"+v+">"+_+"</"+v+">"},b=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch{}b=l?((_=l).write(w("")),_.close(),D=_.parentWindow.Object,_=null,D):(_=h("iframe"),D="java"+v+":",_.style.display="none",d.appendChild(_),_.src=String(D),(D=_.contentWindow.document).open(),D.write(w("document.F=Object")),D.close(),D.F);for(var _,D,C=m.length;C--;)delete b[f][m[C]];return b()};y[g]=!0,i.exports=Object.create||function(_,D){var C;return _!==null?(a[f]=u(_),C=new a,a[f]=null,C[g]=_):C=b(),D===void 0?C:c(C,D)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/object-define-property"),u=t("../internals/an-object"),c=t("../internals/object-keys");i.exports=a?Object.defineProperties:function(m,y){u(m);for(var d,h=c(y),p=h.length,f=0;f<p;)l.f(m,d=h[f++],y[d]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/ie8-dom-define"),u=t("../internals/an-object"),c=t("../internals/to-primitive"),m=Object.defineProperty;s.f=a?m:function(y,d,h){if(u(y),d=c(d,!0),u(h),l)try{return m(y,d,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(y[d]=h.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/object-property-is-enumerable"),u=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),y=t("../internals/has"),d=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=a?h:function(p,f){if(p=c(p),f=m(f,!0),d)try{return h(p,f)}catch{}if(y(p,f))return u(!l.f.call(p,f),p[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,i,s){var a=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(m){if(!c||u.call(m)!="[object Window]")return l(a(m));try{return l(m)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,i,s){var a=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(u){return a(u,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,i,s){s.f=Object.getOwnPropertySymbols},{}],98:[function(c,i,s){var a=c("../internals/has"),l=c("../internals/to-object"),u=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),m=u("IE_PROTO"),y=Object.prototype;i.exports=c?Object.getPrototypeOf:function(d){return d=l(d),a(d,m)?d[m]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,i,s){var a=t("../internals/has"),l=t("../internals/to-indexed-object"),u=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys");i.exports=function(m,y){var d,h=l(m),p=0,f=[];for(d in h)!a(c,d)&&a(h,d)&&f.push(d);for(;y.length>p;)!a(h,d=y[p++])||~u(f,d)||f.push(d);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,i,s){var a=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys");i.exports=Object.keys||function(u){return a(u,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,i,s){"use strict";var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(c){return c=l(this,c),!!c&&c.enumerable}:a},{}],102:[function(t,i,s){var a=t("../internals/an-object"),l=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,c=!1,m={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),c=m instanceof Array}catch{}return function(y,d){return a(y),l(d),c?u.call(y,d):y.__proto__=d,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,i,s){function a(y){return function(d){for(var h,p=c(d),f=u(p),v=f.length,g=0,w=[];g<v;)h=f[g++],l&&!m.call(p,h)||w.push(y?[h,p[h]]:p[h]);return w}}var l=t("../internals/descriptors"),u=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),m=t("../internals/object-property-is-enumerable").f;i.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,i,s){"use strict";var a=t("../internals/to-string-tag-support"),l=t("../internals/classof");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,i,s){var a=t("../internals/get-built-in"),l=t("../internals/object-get-own-property-names"),u=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object");i.exports=a("Reflect","ownKeys")||function(m){var y=l.f(c(m)),d=u.f;return d?y.concat(d(m)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,i,s){t=t("../internals/global"),i.exports=t},{"../internals/global":60}],107:[function(t,i,s){i.exports=function(a){try{return{error:!1,value:a()}}catch(l){return{error:!0,value:l}}}},{}],108:[function(t,i,s){var a=t("../internals/an-object"),l=t("../internals/is-object"),u=t("../internals/new-promise-capability");i.exports=function(c,m){return a(c),l(m)&&m.constructor===c?m:((0,(c=u.f(c)).resolve)(m),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,i,s){var a=t("../internals/redefine");i.exports=function(l,u,c){for(var m in u)a(l,m,u[m],c);return l}},{"../internals/redefine":110}],110:[function(y,i,s){var a=y("../internals/global"),l=y("../internals/create-non-enumerable-property"),u=y("../internals/has"),c=y("../internals/set-global"),m=y("../internals/inspect-source"),y=y("../internals/internal-state"),d=y.get,h=y.enforce,p=String(String).split("String");(i.exports=function(f,v,g,D){var b=!!D&&!!D.unsafe,_=!!D&&!!D.enumerable,D=!!D&&!!D.noTargetGet;typeof g=="function"&&(typeof v!="string"||u(g,"name")||l(g,"name",v),h(g).source=p.join(typeof v=="string"?v:"")),f===a?_?f[v]=g:c(v,g):(b?!D&&f[v]&&(_=!0):delete f[v],_?f[v]=g:l(f,v,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,i,s){var a=t("./classof-raw"),l=t("./regexp-exec");i.exports=function(u,c){var m=u.exec;if(typeof m=="function"){if(m=m.call(u,c),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(c,i,s){"use strict";var a,l,u=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),m=RegExp.prototype.exec,y=String.prototype.replace,d=m,h=(a=/a/,l=/b*/g,m.call(a,"a"),m.call(l,"a"),a.lastIndex!==0||l.lastIndex!==0),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;i.exports=d=h||f||p?function(v){var g,w,b,_,D=this,C=p&&D.sticky,M=u.call(D),E=D.source,S=0,O=v;return C&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),O=String(v).slice(D.lastIndex),0<D.lastIndex&&(!D.multiline||D.multiline&&v[D.lastIndex-1]!==`
`)&&(E="(?: "+E+")",O=" "+O,S++),w=new RegExp("^(?:"+E+")",M)),f&&(w=new RegExp("^"+E+"$(?!\\s)",M)),h&&(g=D.lastIndex),b=m.call(C?w:D,O),C?b?(b.input=b.input.slice(S),b[0]=b[0].slice(S),b.index=D.lastIndex,D.lastIndex+=b[0].length):D.lastIndex=0:h&&b&&(D.lastIndex=D.global?b.index+b[0].length:g),f&&b&&1<b.length&&y.call(b[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(b[_]=void 0)}),b}:d},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,i,s){"use strict";var a=t("../internals/an-object");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},{"../internals/an-object":10}],114:[function(t,i,s){"use strict";t=t("./fails");function a(l,u){return RegExp(l,u)}s.UNSUPPORTED_Y=t(function(){var l=a("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),s.BROKEN_CARET=t(function(){var l=a("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},{"./fails":51}],115:[function(t,i,s){i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],116:[function(t,i,s){i.exports=Object.is||function(a,l){return a===l?a!==0||1/a==1/l:a!=a&&l!=l}},{}],117:[function(t,i,s){var a=t("../internals/global"),l=t("../internals/create-non-enumerable-property");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,i,s){"use strict";var a=t("../internals/get-built-in"),l=t("../internals/object-define-property"),u=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),m=u("species");i.exports=function(d){var d=a(d),h=l.f;c&&d&&!d[m]&&h(d,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,i,s){var a=t("../internals/object-define-property").f,l=t("../internals/has"),u=t("../internals/well-known-symbol")("toStringTag");i.exports=function(c,m,y){c&&!l(c=y?c:c.prototype,u)&&a(c,u,{configurable:!0,value:m})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,i,s){var a=t("../internals/shared"),l=t("../internals/uid"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,i,s){var u=a("../internals/global"),a=a("../internals/set-global"),l="__core-js_shared__",u=u[l]||a(l,{});i.exports=u},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,i,s){var a=t("../internals/is-pure"),l=t("../internals/shared-store");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,i,s){var a=t("../internals/an-object"),l=t("../internals/a-function"),u=t("../internals/well-known-symbol")("species");i.exports=function(y,m){var y=a(y).constructor;return y===void 0||(y=a(y)[u])==null?m:l(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,i,s){var a=t("../internals/fails");i.exports=function(l){return a(function(){var u=""[l]('"');return u!==u.toLowerCase()||3<u.split('"').length})}},{"../internals/fails":51}],125:[function(t,i,s){function a(c){return function(h,p){var d,h=String(u(h)),p=l(p),f=h.length;return p<0||f<=p?c?"":void 0:(d=h.charCodeAt(p))<55296||56319<d||p+1===f||(f=h.charCodeAt(p+1))<56320||57343<f?c?h.charAt(p):d:c?h.slice(p,p+2):f-56320+(d-55296<<10)+65536}}var l=t("../internals/to-integer"),u=t("../internals/require-object-coercible");i.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,i,s){t=t("../internals/engine-user-agent"),i.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,i,s){function a(y){return function(f,w,g){var f=String(c(f)),v=f.length,g=g===void 0?" ":String(g),w=l(w);return w<=v||g==""?f:((v=u.call(g,m((w=w-v)/g.length))).length>w&&(v=v.slice(0,w)),y?f+v:v+f)}}var l=t("../internals/to-length"),u=t("../internals/string-repeat"),c=t("../internals/require-object-coercible"),m=Math.ceil;i.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,i,s){"use strict";function a(b){return b+22+75*(b<26)}function l(b){var _,D=[],C=(b=function(W){for(var Q=[],ue=0,P=W.length;ue<P;){var A,U=W.charCodeAt(ue++);55296<=U&&U<=56319&&ue<P?(64512&(A=W.charCodeAt(ue++)))==56320?Q.push(((1023&U)<<10)+(1023&A)+65536):(Q.push(U),ue--):Q.push(U)}return Q}(b)).length,M=128,E=0,S=72;for(I=0;I<b.length;I++)(_=b[I])<128&&D.push(w(_));var O=D.length,j=O;for(O&&D.push("-");j<C;){for(var F=u,I=0;I<b.length;I++)M<=(_=b[I])&&_<F&&(F=_);var L=j+1;if(F-M>g((u-E)/L))throw RangeError(f);for(E+=(F-M)*L,M=F,I=0;I<b.length;I++){if((_=b[I])<M&&++E>u)throw RangeError(f);if(_==M){for(var B=E,k=c;;k+=c){var q=k<=S?1:S+m<=k?m:k-S;if(B<q)break;var G=B-q,V=c-q;D.push(w(a(q+G%V))),B=g(G/V)}D.push(w(a(B))),S=function(W,Q,ue){var P=0;for(W=ue?g(W/d):W>>1,W+=g(W/Q);v*m>>1<W;P+=c)W=g(W/v);return g(P+(v+1)*W/(W+y))}(E,L,j==O),E=0,++j}}++E,++M}return D.join("")}var u=2147483647,c=36,m=26,y=38,d=700,h=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",v=c-1,g=Math.floor,w=String.fromCharCode;i.exports=function(b){for(var _,D=[],C=b.toLowerCase().replace(p,".").split("."),M=0;M<C.length;M++)_=C[M],D.push(h.test(_)?"xn--"+l(_):_);return D.join(".")}},{}],129:[function(t,i,s){"use strict";var a=t("../internals/to-integer"),l=t("../internals/require-object-coercible");i.exports="".repeat||function(u){var c=String(l(this)),m="",y=a(u);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(c+=c))1&y&&(m+=c);return m}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,i,s){var a=t("../internals/fails"),l=t("../internals/whitespaces");i.exports=function(u){return a(function(){return!!l[u]()||"\u200B\x85\u180E"[u]()!="\u200B\x85\u180E"||l[u].name!==u})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(u,i,s){function a(y){return function(d){return d=String(l(d)),1&y&&(d=d.replace(c,"")),d=2&y?d.replace(m,""):d}}var l=u("../internals/require-object-coercible"),u="["+u("../internals/whitespaces")+"]",c=RegExp("^"+u+u+"*"),m=RegExp(u+u+"*$");i.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(v,i,s){function a(j){return function(){O(j)}}function l(j){O(j.data)}function u(j){m.postMessage(j+"",g.protocol+"//"+g.host)}var c,m=v("../internals/global"),y=v("../internals/fails"),d=v("../internals/classof-raw"),h=v("../internals/function-bind-context"),p=v("../internals/html"),f=v("../internals/document-create-element"),v=v("../internals/engine-is-ios"),g=m.location,w=m.setImmediate,b=m.clearImmediate,_=m.process,D=m.MessageChannel,C=m.Dispatch,M=0,E={},S="onreadystatechange",O=function(j){var F;E.hasOwnProperty(j)&&(F=E[j],delete E[j],F())};w&&b||(w=function(j){for(var F=[],I=1;I<arguments.length;)F.push(arguments[I++]);return E[++M]=function(){(typeof j=="function"?j:Function(j)).apply(void 0,F)},c(M),M},b=function(j){delete E[j]},d(_)=="process"?c=function(j){_.nextTick(a(j))}:C&&C.now?c=function(j){C.now(a(j))}:D&&!v?(v=(d=new D).port2,d.port1.onmessage=l,c=h(v.postMessage,v,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||y(u)||g.protocol==="file:"?c=S in f("script")?function(j){p.appendChild(f("script"))[S]=function(){p.removeChild(this),O(j)}}:function(j){setTimeout(a(j),0)}:(c=u,m.addEventListener("message",l,!1))),i.exports={set:w,clear:b}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,i,s){var a=t("../internals/classof-raw");i.exports=function(l){if(typeof l!="number"&&a(l)!="Number")throw TypeError("Incorrect invocation");return+l}},{"../internals/classof-raw":28}],134:[function(t,i,s){var a=t("../internals/to-integer"),l=Math.max,u=Math.min;i.exports=function(c,m){return c=a(c),c<0?l(c+m,0):u(c,m)}},{"../internals/to-integer":137}],135:[function(t,i,s){var a=t("../internals/to-integer"),l=t("../internals/to-length");i.exports=function(c){if(c===void 0)return 0;var c=a(c),m=l(c);if(c!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,i,s){var a=t("../internals/indexed-object"),l=t("../internals/require-object-coercible");i.exports=function(u){return a(l(u))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,i,s){var a=Math.ceil,l=Math.floor;i.exports=function(u){return isNaN(u=+u)?0:(0<u?l:a)(u)}},{}],138:[function(t,i,s){var a=t("../internals/to-integer"),l=Math.min;i.exports=function(u){return 0<u?l(a(u),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,i,s){var a=t("../internals/require-object-coercible");i.exports=function(l){return Object(a(l))}},{"../internals/require-object-coercible":115}],140:[function(t,i,s){var a=t("../internals/to-positive-integer");i.exports=function(l,u){if(l=a(l),l%u)throw RangeError("Wrong offset");return l}},{"../internals/to-positive-integer":141}],141:[function(t,i,s){var a=t("../internals/to-integer");i.exports=function(l){if(l=a(l),l<0)throw RangeError("The argument can't be less than 0");return l}},{"../internals/to-integer":137}],142:[function(t,i,s){var a=t("../internals/is-object");i.exports=function(l,u){if(!a(l))return l;var c,m;if(u&&typeof(c=l.toString)=="function"&&!a(m=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(m=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(m=c.call(l)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,i,s){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,i,s){"use strict";function a(xe,me){for(var _e=0,Ie=me.length,De=new(te(xe))(Ie);_e<Ie;)De[_e]=me[_e++];return De}function l(xe,me){A(xe,me,{get:function(){return ue(this)[me]}})}function u(xe){return xe instanceof re||(xe=O(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function c(xe,me){return pe(xe)&&typeof me!="symbol"&&me in xe&&String(+me)==String(me)}function m(xe,me){return c(xe,me=E(me,!0))?b(2,xe[me]):U(xe,me)}function y(xe,me,_e){return!(c(xe,me=E(me,!0))&&j(_e)&&S(_e,"value"))||S(_e,"get")||S(_e,"set")||_e.configurable||S(_e,"writable")&&!_e.writable||S(_e,"enumerable")&&!_e.enumerable?A(xe,me,_e):(xe[me]=_e.value,xe)}var d=t("../internals/export"),h=t("../internals/global"),p=t("../internals/descriptors"),f=t("../internals/typed-array-constructors-require-wrappers"),v=t("../internals/array-buffer-view-core"),g=t("../internals/array-buffer"),w=t("../internals/an-instance"),b=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),D=t("../internals/to-length"),C=t("../internals/to-index"),M=t("../internals/to-offset"),E=t("../internals/to-primitive"),S=t("../internals/has"),O=t("../internals/classof"),j=t("../internals/is-object"),F=t("../internals/object-create"),I=t("../internals/object-set-prototype-of"),L=t("../internals/object-get-own-property-names").f,B=t("../internals/typed-array-from"),k=t("../internals/array-iteration").forEach,q=t("../internals/set-species"),G=t("../internals/object-define-property"),V=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),ue=W.get,P=W.set,A=G.f,U=V.f,H=Math.round,K=h.RangeError,re=g.ArrayBuffer,ie=g.DataView,ce=v.NATIVE_ARRAY_BUFFER_VIEWS,se=v.TYPED_ARRAY_TAG,he=v.TypedArray,le=v.TypedArrayPrototype,te=v.aTypedArrayConstructor,pe=v.isTypedArray,ve="BYTES_PER_ELEMENT",Me="Wrong length";p?(ce||(V.f=m,G.f=y,l(le,"buffer"),l(le,"byteOffset"),l(le,"byteLength"),l(le,"length")),d({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:m,defineProperty:y}),i.exports=function(Ce,me,_e){function Ie(ae,X){A(ae,X,{get:function(){var J=this,Y=X;return(J=ue(J)).view[Pe](Y*De+J.byteOffset,!0)},set:function(J){var Y=this,ee=X;Y=ue(Y),_e&&(J=(J=H(J))<0?0:255<J?255:255&J),Y.view[He](ee*De+Y.byteOffset,J,!0)},enumerable:!0})}var De=Ce.match(/\d+$/)[0]/8,Ge=Ce+(_e?"Clamped":"")+"Array",Pe="get"+Ce,He="set"+Ce,Ye=h[Ge],Xe=Ye,Ce=Xe&&Xe.prototype,oe={};ce?f&&(Xe=me(function(ae,X,J,Y){return w(ae,Xe,Ge),Q(j(X)?u(X)?Y!==void 0?new Ye(X,M(J,De),Y):J!==void 0?new Ye(X,M(J,De)):new Ye(X):pe(X)?a(Xe,X):B.call(Xe,X):new Ye(C(X)),ae,Xe)}),I&&I(Xe,he),k(L(Ye),function(ae){ae in Xe||_(Xe,ae,Ye[ae])}),Xe.prototype=Ce):(Xe=me(function(ae,X,J,Y){w(ae,Xe,Ge);var ee,ge,ye=0,Se=0;if(j(X)){if(!u(X))return pe(X)?a(Xe,X):B.call(Xe,X);var Te=X,Se=M(J,De),J=X.byteLength;if(Y===void 0){if(J%De||(ee=J-Se)<0)throw K(Me)}else if(J<(ee=D(Y)*De)+Se)throw K(Me);ge=ee/De}else ge=C(X),Te=new re(ee=ge*De);for(P(ae,{buffer:Te,byteOffset:Se,byteLength:ee,length:ge,view:new ie(Te)});ye<ge;)Ie(ae,ye++)}),I&&I(Xe,he),Ce=Xe.prototype=F(le)),Ce.constructor!==Xe&&_(Ce,"constructor",Xe),se&&_(Ce,se,Ge),oe[Ge]=Xe,d({global:!0,forced:Xe!=Ye,sham:!ce},oe),ve in Xe||_(Xe,ve,De),ve in Ce||_(Ce,ve,De),q(Ge)}):i.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(c,i,s){var a=c("../internals/global"),l=c("../internals/fails"),u=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=a.ArrayBuffer,y=a.Int8Array;i.exports=!c||!l(function(){y(1)})||!l(function(){new y(-1)})||!u(function(d){new y,new y(null),new y(1.5),new y(d)},!0)||l(function(){return new y(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,i,s){var a=t("../internals/to-object"),l=t("../internals/to-length"),u=t("../internals/get-iterator-method"),c=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;i.exports=function(d){var h,p,f,v,g,w,b=a(d),_=arguments.length,D=1<_?arguments[1]:void 0,C=D!==void 0,M=u(b);if(M!=null&&!c(M))for(w=(g=M.call(b)).next,b=[];!(v=w.call(g)).done;)b.push(v.value);for(C&&2<_&&(D=m(D,arguments[2],2)),p=l(b.length),f=new(y(this))(p),h=0;h<p;h++)f[h]=C?D(b[h],h):b[h];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,i,s){var a=0,l=Math.random();i.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+l).toString(36)}},{}],148:[function(t,i,s){t=t("../internals/native-symbol"),i.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,i,s){t=t("../internals/well-known-symbol"),s.f=t},{"../internals/well-known-symbol":150}],150:[function(y,i,s){var a=y("../internals/global"),l=y("../internals/shared"),u=y("../internals/has"),c=y("../internals/uid"),m=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),d=l("wks"),h=a.Symbol,p=y?h:h&&h.withoutSetter||c;i.exports=function(f){return u(d,f)||(m&&u(h,f)?d[f]=h[f]:d[f]=p("Symbol."+f)),d[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,i,s){i.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(u,i,s){"use strict";var a=u("../internals/export"),l=u("../internals/global"),m=u("../internals/array-buffer"),u=u("../internals/set-species"),c="ArrayBuffer",m=m[c];a({global:!0,forced:l[c]!==m},{ArrayBuffer:m}),u(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(b,i,s){"use strict";var a=b("../internals/export"),l=b("../internals/fails"),u=b("../internals/is-array"),c=b("../internals/is-object"),m=b("../internals/to-object"),y=b("../internals/to-length"),d=b("../internals/create-property"),h=b("../internals/array-species-create"),p=b("../internals/array-method-has-species-support"),w=b("../internals/well-known-symbol"),b=b("../internals/engine-v8-version"),f=w("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",w=51<=b||!l(function(){var _=[];return _[f]=!1,_.concat()[0]!==_}),b=p("concat");a({target:"Array",proto:!0,forced:!w||!b},{concat:function(_){for(var D,C,M,E,S,O=m(this),j=h(O,0),F=0,I=-1,L=arguments.length;I<L;I++)if(S=void 0,!c(E=M=I===-1?O:arguments[I])||((S=E[f])!==void 0?!S:!u(E))){if(v<=F)throw TypeError(g);d(j,F++,M)}else{if(C=y(M.length),v<F+C)throw TypeError(g);for(D=0;D<C;D++,F++)D in M&&d(j,F,M[D])}return j.length=F,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(u,i,s){var a=u("../internals/export"),l=u("../internals/array-copy-within"),u=u("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:l}),u("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(c,i,s){"use strict";var a=c("../internals/export"),l=c("../internals/array-iteration").every,u=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),u=u("every"),c=c("every");a({target:"Array",proto:!0,forced:!u||!c},{every:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(u,i,s){var a=u("../internals/export"),l=u("../internals/array-fill"),u=u("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:l}),u("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(c,i,s){"use strict";var a=c("../internals/export"),l=c("../internals/array-iteration").filter,u=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),u=u("filter"),c=c("filter");a({target:"Array",proto:!0,forced:!u||!c},{filter:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,i,s){"use strict";var a=y("../internals/export"),l=y("../internals/array-iteration").findIndex,u=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),c="findIndex",m=!0,y=y(c);c in[]&&Array(1)[c](function(){m=!1}),a({target:"Array",proto:!0,forced:m||!y},{findIndex:function(d){return l(this,d,1<arguments.length?arguments[1]:void 0)}}),u(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/flatten-into-array"),u=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/a-function"),y=t("../internals/array-species-create");a({target:"Array",proto:!0},{flatMap:function(d){var h,p=u(this),f=c(p.length);return m(d),(h=y(p,0)).length=l(h,p,p,f,0,1,d,1<arguments.length?arguments[1]:void 0),h}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/flatten-into-array"),u=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/to-integer"),y=t("../internals/array-species-create");a({target:"Array",proto:!0},{flat:function(){var d=arguments.length?arguments[0]:void 0,h=u(this),p=c(h.length),f=y(h,0);return f.length=l(f,h,h,p,0,d===void 0?1:m(d)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(l,i,s){"use strict";var a=l("../internals/export"),l=l("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,i,s){var a=t("../internals/export"),l=t("../internals/array-from");a({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(u){Array.from(u)})},{from:l})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/array-includes").includes,u=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return l(this,c,1<arguments.length?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,i,s){"use strict";var a=y("../internals/export"),l=y("../internals/array-includes").indexOf,m=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!m||!y},{indexOf:function(d){return c?u.apply(this,arguments)||0:l(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(m,i,s){"use strict";var a=m("../internals/to-indexed-object"),l=m("../internals/add-to-unscopables"),u=m("../internals/iterators"),c=m("../internals/internal-state"),m=m("../internals/define-iterator"),y="Array Iterator",d=c.set,h=c.getterFor(y);i.exports=m(Array,"Array",function(p,f){d(this,{type:y,target:a(p),index:0,kind:f})},function(){var p=h(this),f=p.target,v=p.kind,g=p.index++;return!f||g>=f.length?{value:p.target=void 0,done:!0}:v=="keys"?{value:g,done:!1}:v=="values"?{value:f[g],done:!1}:{value:[g,f[g]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(m,i,s){"use strict";var a=m("../internals/export"),c=m("../internals/indexed-object"),l=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),u=[].join,c=c!=Object,m=m("join",",");a({target:"Array",proto:!0,forced:c||!m},{join:function(y){return u.call(l(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(l,i,s){var a=l("../internals/export"),l=l("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:l!==[].lastIndexOf},{lastIndexOf:l})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(c,i,s){"use strict";var a=c("../internals/export"),l=c("../internals/array-iteration").map,u=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),u=u("map"),c=c("map");a({target:"Array",proto:!0,forced:!u||!c},{map:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(f,i,s){"use strict";var a=f("../internals/export"),l=f("../internals/is-object"),u=f("../internals/is-array"),c=f("../internals/to-absolute-index"),m=f("../internals/to-length"),y=f("../internals/to-indexed-object"),d=f("../internals/create-property"),h=f("../internals/well-known-symbol"),p=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),p=p("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),v=h("species"),g=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!p||!f},{slice:function(b,_){var D,C,M,E=y(this),S=m(E.length),O=c(b,S),j=c(_===void 0?S:_,S);if(u(E)&&((D=typeof(D=E.constructor)=="function"&&(D===Array||u(D.prototype))||l(D)&&(D=D[v])===null?void 0:D)===Array||D===void 0))return g.call(E,O,j);for(C=new(D===void 0?Array:D)(w(j-O,0)),M=0;O<j;O++,M++)O in E&&d(C,M,E[O]);return C.length=M,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(c,i,s){"use strict";var a=c("../internals/export"),l=c("../internals/array-iteration").some,u=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),u=u("some"),c=c("some");a({target:"Array",proto:!0,forced:!u||!c},{some:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(p,i,s){"use strict";var a=p("../internals/export"),l=p("../internals/to-absolute-index"),u=p("../internals/to-integer"),c=p("../internals/to-length"),m=p("../internals/to-object"),y=p("../internals/array-species-create"),d=p("../internals/create-property"),h=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),h=h("splice"),p=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min;a({target:"Array",proto:!0,forced:!h||!p},{splice:function(F,w){var b,_,D,C,M,E,S=m(this),O=c(S.length),j=l(F,O),F=arguments.length;if(F===0?b=_=0:_=F===1?(b=0,O-j):(b=F-2,v(f(u(w),0),O-j)),9007199254740991<O+b-_)throw TypeError("Maximum allowed length exceeded");for(D=y(S,_),C=0;C<_;C++)(M=j+C)in S&&d(D,C,S[M]);if(b<(D.length=_)){for(C=j;C<O-_;C++)E=C+b,(M=C+_)in S?S[E]=S[M]:delete S[E];for(C=O;O-_+b<C;C--)delete S[C-1]}else if(_<b)for(C=O-_;j<C;C--)E=C+b-1,(M=C+_-1)in S?S[E]=S[M]:delete S[E];for(C=0;C<b;C++)S[C+j]=arguments[C+2];return S.length=O-_+b,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,i,s){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,i,s){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(l,i,s){var a=l("../internals/descriptors"),l=l("../internals/object-define-property").f,u=Function.prototype,c=u.toString,m=/^\s*function ([^ (]*)/;!a||"name"in u||l(u,"name",{configurable:!0,get:function(){try{return c.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(l,i,s){"use strict";var a=l("../internals/collection"),l=l("../internals/collection-strong");i.exports=a("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,i,s){var a=a("../internals/export"),l=Math.hypot,u=Math.abs,c=Math.sqrt;a({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(m,y){for(var d,h,p=0,f=0,v=arguments.length,g=0;f<v;)g<(d=u(arguments[f++]))?(p=p*(h=g/d)*h+1,g=d):p+=0<d?(h=d/g)*h:d;return g===1/0?1/0:g*c(p)}})},{"../internals/export":50}],177:[function(a,i,s){var a=a("../internals/export"),l=Math.log,u=Math.LN2;a({target:"Math",stat:!0},{log2:function(c){return l(c)/u}})},{"../internals/export":50}],178:[function(t,i,s){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,i,s){"use strict";function a(I){var L,B,k,q,G,V,W,Q=p(I,!1);if(typeof Q=="string"&&2<Q.length){if((I=(Q=_(Q)).charCodeAt(0))===43||I===45){if((L=Q.charCodeAt(2))===88||L===120)return NaN}else if(I===48){switch(Q.charCodeAt(1)){case 66:case 98:B=2,k=49;break;case 79:case 111:B=8,k=55;break;default:return+Q}for(G=(q=Q.slice(2)).length,V=0;V<G;V++)if((W=q.charCodeAt(V))<48||k<W)return NaN;return parseInt(q,B)}}return+Q}var l=t("../internals/descriptors"),u=t("../internals/global"),c=t("../internals/is-forced"),m=t("../internals/redefine"),y=t("../internals/has"),d=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),p=t("../internals/to-primitive"),f=t("../internals/fails"),v=t("../internals/object-create"),g=t("../internals/object-get-own-property-names").f,w=t("../internals/object-get-own-property-descriptor").f,b=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,D="Number",C=u[D],M=C.prototype,E=d(v(M))==D;if(c(D,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var S,O=function(L){var L=arguments.length<1?0:L,B=this;return B instanceof O&&(E?f(function(){M.valueOf.call(B)}):d(B)!=D)?h(new C(a(L)),B,O):a(L)},j=l?g(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;j.length>F;F++)y(C,S=j[F])&&!y(O,S)&&b(O,S,w(C,S));(O.prototype=M).constructor=O,m(u,D,O)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,i,s){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,i,s){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,i,s){"use strict";function a(p,f,v){return f===0?v:f%2==1?a(p,f-1,v*p):a(p*p,f/2,v)}var l=y("../internals/export"),u=y("../internals/to-integer"),c=y("../internals/this-number-value"),m=y("../internals/string-repeat"),y=y("../internals/fails"),d=1 .toFixed,h=Math.floor;l({target:"Number",proto:!0,forced:d&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){d.call({})})},{toFixed:function(D){function f(S,O){for(var j=-1,F=O;++j<6;)F+=S*C[j],C[j]=F%1e7,F=h(F/1e7)}function v(S){for(var O=6,j=0;0<=--O;)j+=C[O],C[O]=h(j/S),j=j%S*1e7}function g(){for(var S,O=6,j="";0<=--O;)j===""&&O!==0&&C[O]===0||(S=String(C[O]),j=j===""?S:j+m.call("0",7-S.length)+S);return j}var w,b,_=c(this),D=u(D),C=[0,0,0,0,0,0],M="",E="0";if(D<0||20<D)throw RangeError("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return String(_);if(_<0&&(M="-",_=-_),1e-21<_)if(_=(w=function(S){for(var O=0,j=S;4096<=j;)O+=12,j/=4096;for(;2<=j;)O+=1,j/=2;return O}(_*a(2,69,1))-69)<0?_*a(2,-w,1):_/a(2,w,1),_*=4503599627370496,0<(w=52-w)){for(f(0,_),b=D;7<=b;)f(1e7,0),b-=7;for(f(a(10,b,1),0),b=w-1;23<=b;)v(1<<23),b-=23;v(1<<b),f(1,1),v(2),E=g()}else f(0,_),f(1<<-w,0),E=g()+m.call("0",D);return E=0<D?M+((_=E.length)<=D?"0."+m.call("0",D-_)+E:E.slice(0,_-D)+"."+E.slice(_-D)):M+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(l,i,s){var a=l("../internals/export"),l=l("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,i,s){var a=t("../internals/export"),l=t("../internals/object-to-array").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,i,s){var a=t("../internals/export"),l=t("../internals/iterate"),u=t("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(c){var m={};return l(c,function(y,d){u(m,y,d)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(c,i,s){var a=c("../internals/export"),m=c("../internals/fails"),l=c("../internals/to-indexed-object"),u=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),m=m(function(){u(1)});a({target:"Object",stat:!0,forced:!c||m,sham:!c},{getOwnPropertyDescriptor:function(y,d){return u(l(y),d)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(u,i,s){var a=u("../internals/export"),l=u("../internals/fails"),u=u("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:l(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:u})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(m,i,s){var a=m("../internals/export"),l=m("../internals/fails"),u=m("../internals/to-object"),c=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:l(function(){c(1)}),sham:!m},{getPrototypeOf:function(y){return c(u(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,i,s){var a=t("../internals/export"),l=t("../internals/to-object"),u=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){u(1)})},{keys:function(c){return u(l(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(u,i,s){var a=u("../internals/to-string-tag-support"),l=u("../internals/redefine"),u=u("../internals/object-to-string");a||l(Object.prototype,"toString",u,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(_e,i,s){"use strict";var a,l,u,c,m=_e("../internals/export"),y=_e("../internals/is-pure"),d=_e("../internals/global"),h=_e("../internals/get-built-in"),p=_e("../internals/native-promise-constructor"),f=_e("../internals/redefine"),v=_e("../internals/redefine-all"),g=_e("../internals/set-to-string-tag"),w=_e("../internals/set-species"),b=_e("../internals/is-object"),_=_e("../internals/a-function"),D=_e("../internals/an-instance"),C=_e("../internals/classof-raw"),M=_e("../internals/inspect-source"),E=_e("../internals/iterate"),S=_e("../internals/check-correctness-of-iteration"),O=_e("../internals/species-constructor"),j=_e("../internals/task").set,F=_e("../internals/microtask"),I=_e("../internals/promise-resolve"),L=_e("../internals/host-report-errors"),B=_e("../internals/new-promise-capability"),k=_e("../internals/perform"),q=_e("../internals/internal-state"),G=_e("../internals/is-forced"),Ie=_e("../internals/well-known-symbol"),V=_e("../internals/engine-v8-version"),W=Ie("species"),Q="Promise",ue=q.get,P=q.set,A=q.getterFor(Q),U=p,H=d.TypeError,K=d.document,re=d.process,ie=h("fetch"),ce=B.f,se=ce,he=C(re)=="process",le=!!(K&&K.createEvent&&d.dispatchEvent),te="unhandledrejection",pe="rejectionhandled",ve=1,Me=2,xe=1,me=2,_e=G(Q,function(){var oe,ae;return M(U)===String(U)&&(V===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!(!y||U.prototype.finally)||!(51<=V&&/native code/.test(U))&&(ae=function(X){X(function(){},function(){})},((oe=U.resolve(1)).constructor={})[W]=ae,!(oe.then(function(){})instanceof ae))}),Ie=_e||!S(function(oe){U.all(oe).catch(function(){})}),De=function(oe){var ae;return!(!b(oe)||typeof(ae=oe.then)!="function")&&ae},Ge=function(oe,ae,X){var J;ae.notified||(ae.notified=!0,J=ae.reactions,F(function(){for(var Y,ee,ge=ae.value,ye=ae.state==ve,Se=0;J.length>Se;){var Te,Be,ze,Ze=J[Se++],dt=ye?Ze.ok:Ze.fail,ut=Ze.resolve,it=Ze.reject,ft=Ze.domain;try{dt?(ye||(ae.rejection===me&&function(ht,tr){j.call(d,function(){he?re.emit("rejectionHandled",ht):Pe(pe,ht,tr.value)})}(oe,ae),ae.rejection=xe),dt===!0?Te=ge:(ft&&ft.enter(),Te=dt(ge),ft&&(ft.exit(),ze=!0)),Te===Ze.promise?it(H("Promise-chain cycle")):(Be=De(Te))?Be.call(Te,ut,it):ut(Te)):it(ge)}catch(ht){ft&&!ze&&ft.exit(),it(ht)}}ae.reactions=[],ae.notified=!1,X&&!ae.rejection&&(Y=oe,ee=ae,j.call(d,function(){var ht=ee.value,tr=He(ee);if(tr&&(tr=k(function(){he?re.emit("unhandledRejection",ht,Y):Pe(te,Y,ht)}),ee.rejection=he||He(ee)?me:xe,tr.error))throw tr.value}))}))},Pe=function(oe,ae,X){var J;le?((J=K.createEvent("Event")).promise=ae,J.reason=X,J.initEvent(oe,!1,!0),d.dispatchEvent(J)):J={promise:ae,reason:X},(ae=d["on"+oe])?ae(J):oe===te&&L("Unhandled promise rejection",X)},He=function(oe){return oe.rejection!==xe&&!oe.parent},Ye=function(oe,ae,X,J){return function(Y){oe(ae,X,Y,J)}},Xe=function(oe,ae,X,J){ae.done||(ae.done=!0,(ae=J||ae).value=X,ae.state=Me,Ge(oe,ae,!0))},Ce=function(oe,ae,X,J){if(!ae.done){ae.done=!0,J&&(ae=J);try{if(oe===X)throw H("Promise can't be resolved itself");var Y=De(X);Y?F(function(){var ee={done:!1};try{Y.call(X,Ye(Ce,oe,ee,ae),Ye(Xe,oe,ee,ae))}catch(ge){Xe(oe,ee,ge,ae)}}):(ae.value=X,ae.state=ve,Ge(oe,ae,!1))}catch(ee){Xe(oe,{done:!1},ee,ae)}}};_e&&(U=function(oe){D(this,U,Q),_(oe),a.call(this);var ae=ue(this);try{oe(Ye(Ce,this,ae),Ye(Xe,this,ae))}catch(X){Xe(this,ae,X)}},(a=function(oe){P(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(U.prototype,{then:function(oe,ae){var X=A(this),J=ce(O(this,U));return J.ok=typeof oe!="function"||oe,J.fail=typeof ae=="function"&&ae,J.domain=he?re.domain:void 0,X.parent=!0,X.reactions.push(J),X.state!=0&&Ge(this,X,!1),J.promise},catch:function(oe){return this.then(void 0,oe)}}),l=function(){var oe=new a,ae=ue(oe);this.promise=oe,this.resolve=Ye(Ce,oe,ae),this.reject=Ye(Xe,oe,ae)},B.f=ce=function(oe){return oe===U||oe===u?new l:se(oe)},y||typeof p!="function"||(c=p.prototype.then,f(p.prototype,"then",function(oe,ae){var X=this;return new U(function(J,Y){c.call(X,J,Y)}).then(oe,ae)},{unsafe:!0}),typeof ie=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(oe){return I(U,ie.apply(d,arguments))}}))),m({global:!0,wrap:!0,forced:_e},{Promise:U}),g(U,Q,!1,!0),w(Q),u=h(Q),m({target:Q,stat:!0,forced:_e},{reject:function(oe){var ae=ce(this);return ae.reject.call(void 0,oe),ae.promise}}),m({target:Q,stat:!0,forced:y||_e},{resolve:function(oe){return I(y&&this===u?U:this,oe)}}),m({target:Q,stat:!0,forced:Ie},{all:function(oe){var ae=this,X=ce(ae),J=X.resolve,Y=X.reject,ee=k(function(){var ge=_(ae.resolve),ye=[],Se=0,Te=1;E(oe,function(Be){var ze=Se++,Ze=!1;ye.push(void 0),Te++,ge.call(ae,Be).then(function(dt){Ze||(Ze=!0,ye[ze]=dt,--Te||J(ye))},Y)}),--Te||J(ye)});return ee.error&&Y(ee.value),X.promise},race:function(oe){var ae=this,X=ce(ae),J=X.reject,Y=k(function(){var ee=_(ae.resolve);E(oe,function(ge){ee.call(ae,ge).then(X.resolve,J)})});return Y.error&&J(Y.value),X.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(d,i,s){var a=d("../internals/export"),v=d("../internals/get-built-in"),l=d("../internals/a-function"),u=d("../internals/an-object"),c=d("../internals/is-object"),m=d("../internals/object-create"),y=d("../internals/function-bind"),d=d("../internals/fails"),h=v("Reflect","construct"),p=d(function(){function g(){}return!(h(function(){},[],g)instanceof g)}),f=!d(function(){h(function(){})}),v=p||f;a({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(g,w){l(g),u(w);var b=arguments.length<3?g:l(arguments[2]);if(f&&!p)return h(g,w,b);if(g==b){switch(w.length){case 0:return new g;case 1:return new g(w[0]);case 2:return new g(w[0],w[1]);case 3:return new g(w[0],w[1],w[2]);case 4:return new g(w[0],w[1],w[2],w[3])}var _=[null];return _.push.apply(_,w),new(y.apply(g,_))}return _=b.prototype,b=m(c(_)?_:Object.prototype),_=Function.apply.call(g,b,w),c(_)?_:b}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,i,s){var a=t("../internals/export"),l=t("../internals/is-object"),u=t("../internals/an-object"),c=t("../internals/has"),m=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function d(h,p){var f,v=arguments.length<3?h:arguments[2];return u(h)===v?h[p]:(f=m.f(h,p))?c(f,"value")?f.value:f.get===void 0?void 0:f.get.call(v):l(f=y(h))?d(f,p,v):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,i,s){var a=t("../internals/descriptors"),l=t("../internals/global"),u=t("../internals/is-forced"),c=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,d=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),p=t("../internals/regexp-sticky-helpers"),f=t("../internals/redefine"),v=t("../internals/fails"),g=t("../internals/internal-state").set,w=t("../internals/set-species"),b=t("../internals/well-known-symbol")("match"),_=l.RegExp,D=_.prototype,C=/a/g,M=/a/g,E=new _(C)!==C,S=p.UNSUPPORTED_Y;if(a&&u("RegExp",!E||S||v(function(){return M[b]=!1,_(C)!=C||_(M)==M||_(C,"i")!="/a/i"}))){for(var O=function(I,L){var B,k=this instanceof O,q=d(I),G=L===void 0;return!k&&q&&I.constructor===O&&G?I:(E?q&&!G&&(I=I.source):I instanceof O&&(G&&(L=h.call(I)),I=I.source),S&&(B=!!L&&-1<L.indexOf("y"))&&(L=L.replace(/y/g,"")),q=c(E?new _(I,L):_(I,L),k?this:D,O),S&&B&&g(q,{sticky:B}),q)},j=y(_),F=0;j.length>F;)(function(I){I in O||m(O,I,{configurable:!0,get:function(){return _[I]},set:function(L){_[I]=L}})})(j[F++]);(D.constructor=O).prototype=D,f(l,"RegExp",O)}w("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(l,i,s){"use strict";var a=l("../internals/export"),l=l("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(c,i,s){"use strict";var a=c("../internals/redefine"),l=c("../internals/an-object"),d=c("../internals/fails"),u=c("../internals/regexp-flags"),c="toString",m=RegExp.prototype,y=m[c],d=d(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),h=y.name!=c;(d||h)&&a(RegExp.prototype,c,function(){var p=l(this),f=String(p.source),v=p.flags;return"/"+f+"/"+String(v===void 0&&p instanceof RegExp&&!("flags"in m)?u.call(p):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(l,i,s){"use strict";var a=l("../internals/collection"),l=l("../internals/collection-strong");i.exports=a("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,i,s){"use strict";var a=y("../internals/export"),l=y("../internals/object-get-own-property-descriptor").f,u=y("../internals/to-length"),c=y("../internals/not-a-regexp"),m=y("../internals/require-object-coercible"),p=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".endsWith,h=Math.min,p=p("endsWith");a({target:"String",proto:!0,forced:!!(y||p||!(a=l(String.prototype,"endsWith"))||a.writable)&&!p},{endsWith:function(f){var v=String(m(this)),g=(c(f),1<arguments.length?arguments[1]:void 0),w=u(v.length),g=g===void 0?w:h(u(g),w),w=String(f);return d?d.call(v,w,g):v.slice(g-w.length,g)===w}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/not-a-regexp"),u=t("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(u(this)).indexOf(l(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(u,i,s){"use strict";var a=u("../internals/string-multibyte").charAt,l=u("../internals/internal-state"),u=u("../internals/define-iterator"),c="String Iterator",m=l.set,y=l.getterFor(c);u(String,"String",function(d){m(this,{type:c,string:String(d),index:0})},function(){var d=y(this),h=d.string,p=d.index;return p>=h.length?{value:void 0,done:!0}:(h=a(h,p),d.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),u=t("../internals/to-length"),c=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");a("match",1,function(d,h,p){return[function(f){var v=c(this),g=f?.[d];return g!==void 0?g.call(f,v):new RegExp(f)[d](String(v))},function(f){var v=p(h,f,this);if(v.done)return v.value;var g=l(f),w=String(this);if(!g.global)return y(g,w);for(var b=g.unicode,_=[],D=g.lastIndex=0;(C=y(g,w))!==null;){var C=String(C[0]);(_[D]=C)===""&&(g.lastIndex=m(w,u(g.lastIndex),b)),D++}return D===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/string-pad").start;a({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(u){return l(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,i,s){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),u=t("../internals/to-object"),c=t("../internals/to-length"),m=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),d=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),p=Math.max,f=Math.min,v=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;a("replace",2,function(b,_,D,C){var M=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=C.REPLACE_KEEPS_$0,S=M?"$":"$0";return[function(O,j){var F=y(this),I=O?.[b];return I!==void 0?I.call(O,F,j):_.call(String(F),O,j)},function(O,j){if(!M&&E||typeof j=="string"&&j.indexOf(S)===-1){var F=D(_,O,this,j);if(F.done)return F.value}for(var I,L=l(O),B=String(this),k=typeof j=="function",q=(k||(j=String(j)),L.global),G=(q&&(I=L.unicode,L.lastIndex=0),[]);(P=h(L,B))!==null&&(G.push(P),q);)String(P[0])===""&&(L.lastIndex=d(B,c(L.lastIndex),I));for(var V,W="",Q=0,ue=0;ue<G.length;ue++){for(var P=G[ue],A=String(P[0]),U=p(f(m(P.index),B.length),0),H=[],K=1;K<P.length;K++)H.push((V=P[K])===void 0?V:String(V));var re=P.groups,ie=k?(ie=[A].concat(H,U,B),re!==void 0&&ie.push(re),String(j.apply(void 0,ie))):function(ce,se,he,le,te,pe){var ve=he+ce.length,Me=le.length,xe=w;return te!==void 0&&(te=u(te),xe=g),_.call(pe,xe,function(me,_e){var Ie;switch(_e.charAt(0)){case"$":return"$";case"&":return ce;case"`":return se.slice(0,he);case"'":return se.slice(ve);case"<":Ie=te[_e.slice(1,-1)];break;default:var De,Ge=+_e;if(Ge==0)return me;if(Me<Ge)return(De=v(Ge/10))!==0&&De<=Me?le[De-1]===void 0?_e.charAt(1):le[De-1]+_e.charAt(1):me;Ie=le[Ge-1]}return Ie===void 0?"":Ie})}(A,B,U,H,re,j);Q<=U&&(W+=B.slice(Q,U)+ie,Q=U+A.length)}return W+B.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,i,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),u=t("../internals/require-object-coercible"),c=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");a("search",1,function(y,d,h){return[function(p){var f=u(this),v=p?.[y];return v!==void 0?v.call(p,f):new RegExp(p)[y](String(f))},function(p){var f,v=h(d,p,this);return v.done?v.value:(v=l(p),p=String(this),f=v.lastIndex,c(f,0)||(v.lastIndex=0),p=m(v,p),c(v.lastIndex,f)||(v.lastIndex=f),p===null?-1:p.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(f,i,s){"use strict";var a=f("../internals/fix-regexp-well-known-symbol-logic"),l=f("../internals/is-regexp"),u=f("../internals/an-object"),c=f("../internals/require-object-coercible"),m=f("../internals/species-constructor"),y=f("../internals/advance-string-index"),d=f("../internals/to-length"),h=f("../internals/regexp-exec-abstract"),p=f("../internals/regexp-exec"),f=f("../internals/fails"),v=[].push,g=Math.min,w=4294967295,b=!f(function(){return!RegExp(w,"y")});a("split",2,function(_,D,C){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,S){var O=String(c(this)),j=S===void 0?w:S>>>0;if(j==0)return[];if(E===void 0)return[O];if(!l(E))return D.call(O,E,j);for(var F,I,L,B=[],S=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),k=0,q=new RegExp(E.source,S+"g");(F=p.call(q,O))&&!(k<(I=q.lastIndex)&&(B.push(O.slice(k,F.index)),1<F.length&&F.index<O.length&&v.apply(B,F.slice(1)),L=F[0].length,k=I,B.length>=j));)q.lastIndex===F.index&&q.lastIndex++;return k===O.length?!L&&q.test("")||B.push(""):B.push(O.slice(k)),B.length>j?B.slice(0,j):B}:"0".split(void 0,0).length?function(E,S){return E===void 0&&S===0?[]:D.call(this,E,S)}:D;return[function(E,S){var O=c(this),j=E?.[_];return j!==void 0?j.call(E,O,S):M.call(String(O),E,S)},function(F,S){var O=C(M,F,this,S,M!==D);if(O.done)return O.value;var O=u(F),j=String(this),F=m(O,RegExp),I=O.unicode,L=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(b?"y":"g"),B=new F(b?O:"^(?:"+O.source+")",L),k=S===void 0?w:S>>>0;if(k==0)return[];if(j.length===0)return h(B,j)===null?[j]:[];for(var q=0,G=0,V=[];G<j.length;){B.lastIndex=b?G:0;var W,Q=h(B,b?j:j.slice(G));if(Q===null||(W=g(d(B.lastIndex+(b?0:G)),j.length))===q)G=y(j,G,I);else{if(V.push(j.slice(q,G)),V.length===k)return V;for(var ue=1;ue<=Q.length-1;ue++)if(V.push(Q[ue]),V.length===k)return V;G=q=W}}return V.push(j.slice(q)),V}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,i,s){"use strict";var a=y("../internals/export"),l=y("../internals/object-get-own-property-descriptor").f,u=y("../internals/to-length"),c=y("../internals/not-a-regexp"),m=y("../internals/require-object-coercible"),p=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),d="".startsWith,h=Math.min,p=p("startsWith");a({target:"String",proto:!0,forced:!!(y||p||!(a=l(String.prototype,"startsWith"))||a.writable)&&!p},{startsWith:function(w){var v=String(m(this)),g=(c(w),u(h(1<arguments.length?arguments[1]:void 0,v.length))),w=String(w);return d?d.call(v,w,g):v.slice(g,g+w.length)===w}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/create-html");a({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return l(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,i,s){"use strict";var a=t("../internals/export"),l=t("../internals/string-trim").trim;a({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return l(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(g,i,s){"use strict";var a,l,u,c,m,y=g("../internals/export"),d=g("../internals/descriptors"),h=g("../internals/global"),p=g("../internals/has"),f=g("../internals/is-object"),v=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),w=h.Symbol;!d||typeof w!="function"||"description"in w.prototype&&w().description===void 0||(a={},g(l=function(){var b=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof l?new w(b):b===void 0?w():w(b);return b===""&&(a[_]=!0),_},w),(h=l.prototype=w.prototype).constructor=l,u=h.toString,c=String(w("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,v(h,"description",{configurable:!0,get:function(){var b=f(this)?this.valueOf():this,_=u.call(b);return p(a,b)?"":(b=c?_.slice(7,-1):_.replace(m,"$1"))===""?void 0:b}}),y({global:!0,forced:!0},{Symbol:l}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,i,s){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(se,i,s){"use strict";function a(Y,ee){var ge=Ie[Y]=O(pe[ce]);return he(ge,{type:ie,tag:Y,description:ee}),p||(ge.description=ee),ge}function l(Y,ye){D(Y);var ge=M(ye),ye=j(ge).concat(J(ge));return K(ye,function(Se){p&&!X.call(ge,Se)||ae(Y,Se,ge[Se])}),Y}function u(ye,Se){var ge,ye=M(ye),Se=E(Se,!0);if(ye!==te||!w(Ie,Se)||w(De,Se))return!(ge=Me(ye,Se))||!w(Ie,Se)||w(ye,re)&&ye[re][Se]||(ge.enumerable=!0),ge}function c(ee){var ee=me(M(ee)),ge=[];return K(ee,function(ye){w(Ie,ye)||w(Q,ye)||ge.push(ye)}),ge}var m=se("../internals/export"),y=se("../internals/global"),d=se("../internals/get-built-in"),h=se("../internals/is-pure"),p=se("../internals/descriptors"),f=se("../internals/native-symbol"),v=se("../internals/use-symbol-as-uid"),g=se("../internals/fails"),w=se("../internals/has"),b=se("../internals/is-array"),_=se("../internals/is-object"),D=se("../internals/an-object"),C=se("../internals/to-object"),M=se("../internals/to-indexed-object"),E=se("../internals/to-primitive"),S=se("../internals/create-property-descriptor"),O=se("../internals/object-create"),j=se("../internals/object-keys"),F=se("../internals/object-get-own-property-names"),I=se("../internals/object-get-own-property-names-external"),L=se("../internals/object-get-own-property-symbols"),B=se("../internals/object-get-own-property-descriptor"),k=se("../internals/object-define-property"),q=se("../internals/object-property-is-enumerable"),G=se("../internals/create-non-enumerable-property"),V=se("../internals/redefine"),W=se("../internals/shared"),He=se("../internals/shared-key"),Q=se("../internals/hidden-keys"),ue=se("../internals/uid"),P=se("../internals/well-known-symbol"),A=se("../internals/well-known-symbol-wrapped"),U=se("../internals/define-well-known-symbol"),H=se("../internals/set-to-string-tag"),Ye=se("../internals/internal-state"),K=se("../internals/array-iteration").forEach,re=He("hidden"),ie="Symbol",ce="prototype",se=P("toPrimitive"),he=Ye.set,le=Ye.getterFor(ie),te=Object[ce],pe=y.Symbol,ve=d("JSON","stringify"),Me=B.f,xe=k.f,me=I.f,_e=q.f,Ie=W("symbols"),De=W("op-symbols"),Ge=W("string-to-symbol-registry"),Pe=W("symbol-to-string-registry"),He=W("wks"),Ye=y.QObject,Xe=!Ye||!Ye[ce]||!Ye[ce].findChild,Ce=p&&g(function(){return O(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(Y,ee,ge){var ye=Me(te,ee);ye&&delete te[ee],xe(Y,ee,ge),ye&&Y!==te&&xe(te,ee,ye)}:xe,oe=v?function(Y){return typeof Y=="symbol"}:function(Y){return Object(Y)instanceof pe},ae=function(Y,ee,ge){return Y===te&&ae(De,ee,ge),D(Y),ee=E(ee,!0),D(ge),(w(Ie,ee)?(ge.enumerable?(w(Y,re)&&Y[re][ee]&&(Y[re][ee]=!1),ge=O(ge,{enumerable:S(0,!1)})):(w(Y,re)||xe(Y,re,S(1,{})),Y[re][ee]=!0),Ce):xe)(Y,ee,ge)},X=function(ee){var ee=E(ee,!0),ge=_e.call(this,ee);return!(this===te&&w(Ie,ee)&&!w(De,ee))&&(!(ge||!w(this,ee)||!w(Ie,ee)||w(this,re)&&this[re][ee])||ge)},J=function(ge){var ee=ge===te,ge=me(ee?De:M(ge)),ye=[];return K(ge,function(Se){!w(Ie,Se)||ee&&!w(te,Se)||ye.push(Ie[Se])}),ye};f||(V((pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor");var Y=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ee=ue(Y),ge=function(ye){this===te&&ge.call(De,ye),w(this,re)&&w(this[re],ee)&&(this[re][ee]=!1),Ce(this,ee,S(1,ye))};return p&&Xe&&Ce(te,ee,{configurable:!0,set:ge}),a(ee,Y)})[ce],"toString",function(){return le(this).tag}),V(pe,"withoutSetter",function(Y){return a(ue(Y),Y)}),q.f=X,k.f=ae,B.f=u,F.f=I.f=c,L.f=J,A.f=function(Y){return a(P(Y),Y)},p&&(xe(pe[ce],"description",{configurable:!0,get:function(){return le(this).description}}),h||V(te,"propertyIsEnumerable",X,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:pe}),K(j(He),function(Y){U(Y)}),m({target:ie,stat:!0,forced:!f},{for:function(ge){var ee,ge=String(ge);return w(Ge,ge)?Ge[ge]:(ee=pe(ge),Ge[ge]=ee,Pe[ee]=ge,ee)},keyFor:function(Y){if(!oe(Y))throw TypeError(Y+" is not a symbol");if(w(Pe,Y))return Pe[Y]},useSetter:function(){Xe=!0},useSimple:function(){Xe=!1}}),m({target:"Object",stat:!0,forced:!f,sham:!p},{create:function(Y,ee){return ee===void 0?O(Y):l(O(Y),ee)},defineProperty:ae,defineProperties:l,getOwnPropertyDescriptor:u}),m({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:c,getOwnPropertySymbols:J}),m({target:"Object",stat:!0,forced:g(function(){L.f(1)})},{getOwnPropertySymbols:function(Y){return L.f(C(Y))}}),ve&&m({target:"JSON",stat:!0,forced:!f||g(function(){var Y=pe();return ve([Y])!="[null]"||ve({a:Y})!="{}"||ve(Object(Y))!="{}"})},{stringify:function(Y,ee,ge){for(var ye,Se=[Y],Te=1;Te<arguments.length;)Se.push(arguments[Te++]);if((_(ye=ee)||Y!==void 0)&&!oe(Y))return b(ee)||(ee=function(Be,ze){if(typeof ye=="function"&&(ze=ye.call(this,Be,ze)),!oe(ze))return ze}),Se[1]=ee,ve.apply(null,Se)}}),pe[ce][se]||G(pe[ce],se,pe[ce].valueOf),H(pe,ie),Q[re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-copy-within"),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(c,m){return l.call(u(this),c,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").every,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-fill"),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(c){return l.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").filter,u=t("../internals/species-constructor"),c=a.aTypedArray,m=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(y){for(var d=l(c(this),y,1<arguments.length?arguments[1]:void 0),y=u(this,this.constructor),h=0,p=d.length,f=new(m(y))(p);h<p;)f[h]=d[h++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").findIndex,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").find,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,i,s){t("../internals/typed-array-constructor")("Float32",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],220:[function(t,i,s){t("../internals/typed-array-constructor")("Float64",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],221:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").forEach,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(c){l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").includes,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").indexOf,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,i,s){t("../internals/typed-array-constructor")("Int16",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],225:[function(t,i,s){t("../internals/typed-array-constructor")("Int32",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],226:[function(l,i,s){"use strict";function a(){return u.call(y(this))}var p=l("../internals/global"),h=l("../internals/array-buffer-view-core"),d=l("../modules/es.array.iterator"),l=l("../internals/well-known-symbol")("iterator"),p=p.Uint8Array,u=d.values,c=d.keys,m=d.entries,y=h.aTypedArray,d=h.exportTypedArrayMethod,h=p&&p.prototype[l],p=!!h&&(h.name=="values"||h.name==null);d("entries",function(){return m.call(y(this))}),d("keys",function(){return c.call(y(this))}),d("values",a,!p),d(l,a,!p)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(l,i,s){"use strict";var l=l("../internals/array-buffer-view-core"),a=l.aTypedArray,l=l.exportTypedArrayMethod,u=[].join;l("join",function(c){return u.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-last-index-of"),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(c){return l.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").map,u=t("../internals/species-constructor"),c=a.aTypedArray,m=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(y){return l(c(this),y,1<arguments.length?arguments[1]:void 0,function(d,h){return new(m(u(d,d.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").right,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(c){return l(u(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").left,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(c){return l(u(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(l,i,s){"use strict";var l=l("../internals/array-buffer-view-core"),a=l.aTypedArray,l=l.exportTypedArrayMethod,u=Math.floor;l("reverse",function(){for(var c,m=a(this).length,y=u(m/2),d=0;d<y;)c=this[d],this[d++]=this[--m],this[m]=c;return this})},{"../internals/array-buffer-view-core":12}],233:[function(m,i,s){"use strict";var a=m("../internals/array-buffer-view-core"),l=m("../internals/to-length"),u=m("../internals/to-offset"),c=m("../internals/to-object"),m=m("../internals/fails"),y=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(d){y(this);var h=u(1<arguments.length?arguments[1]:void 0,1),p=this.length,f=c(d),v=l(f.length),g=0;if(p<v+h)throw RangeError("Wrong length");for(;g<v;)this[h+g]=f[g++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(l,i,s){"use strict";var m=l("../internals/array-buffer-view-core"),a=l("../internals/species-constructor"),l=l("../internals/fails"),u=m.aTypedArray,c=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,y=[].slice;m("slice",function(d,h){for(var p=y.call(u(this),d,h),d=a(this,this.constructor),f=0,v=p.length,g=new(c(d))(v);f<v;)g[f]=p[f++];return g},l(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").some,u=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(c){return l(u(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(l,i,s){"use strict";var l=l("../internals/array-buffer-view-core"),a=l.aTypedArray,l=l.exportTypedArrayMethod,u=[].sort;l("sort",function(c){return u.call(a(this),c)})},{"../internals/array-buffer-view-core":12}],237:[function(t,i,s){"use strict";var a=t("../internals/array-buffer-view-core"),l=t("../internals/to-length"),u=t("../internals/to-absolute-index"),c=t("../internals/species-constructor"),m=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(f,d){var h=m(this),p=h.length,f=u(f,p);return new(c(h,h.constructor))(h.buffer,h.byteOffset+f*h.BYTES_PER_ELEMENT,l((d===void 0?p:u(d,p))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(l,i,s){"use strict";var m=l("../internals/global"),a=l("../internals/array-buffer-view-core"),l=l("../internals/fails"),u=m.Int8Array,c=a.aTypedArray,m=a.exportTypedArrayMethod,y=[].toLocaleString,d=[].slice,h=!!u&&l(function(){y.call(new u(1))});m("toLocaleString",function(){return y.apply(h?d.call(c(this)):c(this),arguments)},l(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!l(function(){u.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(l,i,s){"use strict";var a=l("../internals/array-buffer-view-core").exportTypedArrayMethod,m=l("../internals/fails"),l=l("../internals/global").Uint8Array,l=l&&l.prototype||{},u=[].toString,c=[].join,m=(m(function(){u.call({})})&&(u=function(){return c.call(this)}),l.toString!=u);a("toString",u,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,i,s){t("../internals/typed-array-constructor")("Uint16",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],241:[function(t,i,s){t("../internals/typed-array-constructor")("Uint32",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],242:[function(t,i,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(l,u,c){return a(this,l,u,c)}})},{"../internals/typed-array-constructor":144}],243:[function(t,i,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(l,u,c){return a(this,l,u,c)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(w,D,s){"use strict";function a(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}}var l,u,c,m,y,b=w("../internals/global"),d=w("../internals/redefine-all"),h=w("../internals/internal-metadata"),p=w("../internals/collection"),f=w("../internals/collection-weak"),v=w("../internals/is-object"),g=w("../internals/internal-state").enforce,w=w("../internals/native-weak-map"),b=!b.ActiveXObject&&"ActiveXObject"in b,_=Object.isExtensible,D=D.exports=p("WeakMap",a,f);w&&b&&(l=f.getConstructor(a,"WeakMap",!0),h.REQUIRED=!0,p=D.prototype,u=p.delete,c=p.has,m=p.get,y=p.set,d(p,{delete:function(C){var M;return v(C)&&!_(C)?((M=g(this)).frozen||(M.frozen=new l),u.call(this,C)||M.frozen.delete(C)):u.call(this,C)},has:function(C){var M;return v(C)&&!_(C)?((M=g(this)).frozen||(M.frozen=new l),c.call(this,C)||M.frozen.has(C)):c.call(this,C)},get:function(C){var M;return!v(C)||_(C)||((M=g(this)).frozen||(M.frozen=new l),c.call(this,C))?m.call(this,C):M.frozen.get(C)},set:function(C,M){var E;return!v(C)||_(C)||((E=g(this)).frozen||(E.frozen=new l),c.call(this,C))?y.call(this,C,M):E.frozen.set(C,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,i,s){var a,l=t("../internals/global"),u=t("../internals/dom-iterables"),c=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(a in u){var y=l[a],y=y&&y.prototype;if(y&&y.forEach!==c)try{m(y,"forEach",c)}catch{y.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,i,s){var a,l=y("../internals/global"),u=y("../internals/dom-iterables"),c=y("../modules/es.array.iterator"),m=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),d=y("iterator"),h=y("toStringTag"),p=c.values;for(a in u){var f=l[a],v=f&&f.prototype;if(v){if(v[d]!==p)try{m(v,d,p)}catch{v[d]=p}if(v[h]||m(v,h,a),u[a]){for(var g in c)if(v[g]!==c[g])try{m(v,g,c[g])}catch{v[g]=c[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(re,i,s){"use strict";re("../modules/es.array.iterator");function a(ie){try{return decodeURIComponent(ie)}catch{return ie}}function l(ie){return U[ie]}function u(ie){return encodeURIComponent(ie).replace(A,l)}function c(ie){this.entries.length=0,H(this.entries,ie)}function m(ie,ce){if(ie<ce)throw TypeError("Not enough arguments")}function y(){b(this,y,k);var ie,ce,se,he,le,te,pe,ve,Me=0<arguments.length?arguments[0]:void 0,xe=[];if(G(this,{type:k,entries:xe,updateURL:function(){},updateSearchParams:c}),Me!==void 0)if(E(Me))if(typeof(ie=F(Me))=="function")for(se=(ce=ie.call(Me)).next;!(he=se.call(ce)).done;){if((te=(le=(he=j(M(he.value))).next).call(he)).done||(pe=le.call(he)).done||!le.call(he).done)throw TypeError("Expected sequence with length 2");xe.push({key:te.value+"",value:pe.value+""})}else for(ve in Me)_(Me,ve)&&xe.push({key:ve,value:Me[ve]+""});else H(xe,typeof Me=="string"?Me.charAt(0)==="?"?Me.slice(1):Me:Me+"")}var d=re("../internals/export"),B=re("../internals/get-built-in"),h=re("../internals/native-url"),p=re("../internals/redefine"),f=re("../internals/redefine-all"),v=re("../internals/set-to-string-tag"),g=re("../internals/create-iterator-constructor"),w=re("../internals/internal-state"),b=re("../internals/an-instance"),_=re("../internals/has"),D=re("../internals/function-bind-context"),C=re("../internals/classof"),M=re("../internals/an-object"),E=re("../internals/is-object"),S=re("../internals/object-create"),O=re("../internals/create-property-descriptor"),j=re("../internals/get-iterator"),F=re("../internals/get-iterator-method"),re=re("../internals/well-known-symbol"),I=B("fetch"),L=B("Headers"),B=re("iterator"),k="URLSearchParams",q=k+"Iterator",G=w.set,V=w.getterFor(k),W=w.getterFor(q),Q=/\+/g,ue=Array(4),P=function(ie){var ce,se=ie.replace(Q," "),he=4;try{return decodeURIComponent(se)}catch{for(;he;)se=se.replace((ce=he--,ue[ce-1]||(ue[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),a);return se}},A=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(ie,ce){if(ce)for(var se,he=ce.split("&"),le=0;le<he.length;)(se=he[le++]).length&&(se=se.split("="),ie.push({key:P(se.shift()),value:P(se.join("="))}))},K=g(function(ie,ce){G(this,{type:q,iterator:j(V(ie).entries),kind:ce})},"Iterator",function(){var ce=W(this),ie=ce.kind,ce=ce.iterator.next(),se=ce.value;return ce.done||(ce.value=ie==="keys"?se.key:ie==="values"?se.value:[se.key,se.value]),ce}),re=y.prototype;f(re,{append:function(ie,ce){m(arguments.length,2);var se=V(this);se.entries.push({key:ie+"",value:ce+""}),se.updateURL()},delete:function(ie){m(arguments.length,1);for(var ce=V(this),se=ce.entries,he=ie+"",le=0;le<se.length;)se[le].key===he?se.splice(le,1):le++;ce.updateURL()},get:function(ie){m(arguments.length,1);for(var ce=V(this).entries,se=ie+"",he=0;he<ce.length;he++)if(ce[he].key===se)return ce[he].value;return null},getAll:function(ie){m(arguments.length,1);for(var ce=V(this).entries,se=ie+"",he=[],le=0;le<ce.length;le++)ce[le].key===se&&he.push(ce[le].value);return he},has:function(ie){m(arguments.length,1);for(var ce=V(this).entries,se=ie+"",he=0;he<ce.length;)if(ce[he++].key===se)return!0;return!1},set:function(ie,ce){m(arguments.length,1);for(var se,he=V(this),le=he.entries,te=!1,pe=ie+"",ve=ce+"",Me=0;Me<le.length;Me++)(se=le[Me]).key===pe&&(te?le.splice(Me--,1):(te=!0,se.value=ve));te||le.push({key:pe,value:ve}),he.updateURL()},sort:function(){for(var ie,ce,se=V(this),he=se.entries,le=he.slice(),te=he.length=0;te<le.length;te++){for(ie=le[te],ce=0;ce<te;ce++)if(he[ce].key>ie.key){he.splice(ce,0,ie);break}ce===te&&he.push(ie)}se.updateURL()},forEach:function(ie){for(var ce,se=V(this).entries,he=D(ie,1<arguments.length?arguments[1]:void 0,3),le=0;le<se.length;)he((ce=se[le++]).value,ce.key,this)},keys:function(){return new K(this,"keys")},values:function(){return new K(this,"values")},entries:function(){return new K(this,"entries")}},{enumerable:!0}),p(re,B,re.entries),p(re,"toString",function(){for(var ie,ce=V(this).entries,se=[],he=0;he<ce.length;)ie=ce[he++],se.push(u(ie.key)+"="+u(ie.value));return se.join("&")},{enumerable:!0}),v(y,k),d({global:!0,forced:!h},{URLSearchParams:y}),h||typeof I!="function"||typeof L!="function"||d({global:!0,enumerable:!0,forced:!0},{fetch:function(le){var ce,se,he,le=[le];return 1<arguments.length&&(E(ce=arguments[1])&&(se=ce.body,C(se)===k&&((he=ce.headers?new L(ce.headers):new L).has("content-type")||he.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=S(ce,{body:O(0,String(se)),headers:O(0,he)}))),le.push(ce)),I.apply(this,le)}}),i.exports={URLSearchParams:y,getState:V}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(j,i,s){"use strict";j("../modules/es.string.iterator");function a(we){var $e,rt,qe,Ot;if(typeof we=="number"){for($e=[],rt=0;rt<4;rt++)$e.unshift(we%256),we=q(we/256);return $e.join(".")}if(typeof we!="object")return we;for($e="",qe=pe(we),rt=0;rt<8;rt++)Ot&&we[rt]===0||(Ot=Ot&&!1,qe===rt?($e+=rt?":":"::",Ot=!0):($e+=we[rt].toString(16),rt<7&&($e+=":")));return"["+$e+"]"}function l(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function u(we,$e,rt,qe){var Ot,Ve,Wt,Ke=rt||oe,Ut=0,et="",Ar=!1,Vr=!1,xr=!1;for(rt||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,$e=$e.replace(he,"")),$e=$e.replace(le,""),Ot=C($e);Ut<=Ot.length;){switch(Ve=Ot[Ut],Ke){case oe:if(!Ve||!P.test(Ve)){if(rt)return W;Ke=X;continue}et+=Ve.toLowerCase(),Ke=ae;break;case ae:if(Ve&&(A.test(Ve)||Ve=="+"||Ve=="-"||Ve=="."))et+=Ve.toLowerCase();else{if(Ve!=":"){if(rt)return W;et="",Ke=X,Ut=0;continue}if(rt&&(De(we)!=_(Ie,et)||et=="file"&&(Ge(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=et,rt)return void(De(we)&&Ie[we.scheme]==we.port&&(we.port=null));et="",we.scheme=="file"?Ke=dt:De(we)&&qe&&qe.scheme==we.scheme?Ke=J:De(we)?Ke=ye:Ot[Ut+1]=="/"?(Ke=Y,Ut++):(we.cannotBeABaseURL=!0,we.path.push(""),Ke=tr)}break;case X:if(!qe||qe.cannotBeABaseURL&&Ve!="#")return W;if(qe.cannotBeABaseURL&&Ve=="#"){we.scheme=qe.scheme,we.path=qe.path.slice(),we.query=qe.query,we.fragment="",we.cannotBeABaseURL=!0,Ke=Fr;break}Ke=qe.scheme=="file"?dt:ee;continue;case J:if(Ve!="/"||Ot[Ut+1]!="/"){Ke=ee;continue}Ke=Se,Ut++;break;case Y:if(Ve=="/"){Ke=Te;break}Ke=ht;continue;case ee:if(we.scheme=qe.scheme,Ve==y)we.username=qe.username,we.password=qe.password,we.host=qe.host,we.port=qe.port,we.path=qe.path.slice(),we.query=qe.query;else if(Ve=="/"||Ve=="\\"&&De(we))Ke=ge;else if(Ve=="?")we.username=qe.username,we.password=qe.password,we.host=qe.host,we.port=qe.port,we.path=qe.path.slice(),we.query="",Ke=en;else{if(Ve!="#"){we.username=qe.username,we.password=qe.password,we.host=qe.host,we.port=qe.port,we.path=qe.path.slice(),we.path.pop(),Ke=ht;continue}we.username=qe.username,we.password=qe.password,we.host=qe.host,we.port=qe.port,we.path=qe.path.slice(),we.query=qe.query,we.fragment="",Ke=Fr}break;case ge:if(!De(we)||Ve!="/"&&Ve!="\\"){if(Ve!="/"){we.username=qe.username,we.password=qe.password,we.host=qe.host,we.port=qe.port,Ke=ht;continue}Ke=Te}else Ke=Se;break;case ye:if(Ke=Se,Ve!="/"||et.charAt(Ut+1)!="/")continue;Ut++;break;case Se:if(Ve=="/"||Ve=="\\")break;Ke=Te;continue;case Te:if(Ve=="@"){Ar&&(et="%40"+et);for(var Ar=!0,Dr=C(et),jt=0;jt<Dr.length;jt++){var ur=Dr[jt];ur!=":"||xr?(ur=_e(ur,me),xr?we.password+=ur:we.username+=ur):xr=!0}et=""}else if(Ve==y||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&De(we)){if(Ar&&et=="")return V;Ut-=C(et).length+1,et="",Ke=Be}else et+=Ve;break;case Be:case ze:if(rt&&we.scheme=="file"){Ke=it;continue}if(Ve!=":"||Vr){if(Ve==y||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&De(we)){if(De(we)&&et=="")return Q;if(rt&&et==""&&(Ge(we)||we.port!==null))return;if(Wt=te(we,et))return Wt;if(et="",Ke=ft,rt)return;continue}Ve=="["?Vr=!0:Ve=="]"&&(Vr=!1),et+=Ve}else{if(et=="")return Q;if(Wt=te(we,et))return Wt;if(et="",Ke=Ze,rt==ze)return}break;case Ze:if(!U.test(Ve)){if(Ve==y||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&De(we)||rt){if(et!=""){var $n=parseInt(et,10);if(65535<$n)return ue;we.port=De(we)&&$n===Ie[we.scheme]?null:$n,et=""}if(rt)return;Ke=ft;continue}return ue}et+=Ve;break;case dt:if(we.scheme="file",Ve=="/"||Ve=="\\")Ke=ut;else{if(!qe||qe.scheme!="file"){Ke=ht;continue}if(Ve==y)we.host=qe.host,we.path=qe.path.slice(),we.query=qe.query;else if(Ve=="?")we.host=qe.host,we.path=qe.path.slice(),we.query="",Ke=en;else{if(Ve!="#"){He(Ot.slice(Ut).join(""))||(we.host=qe.host,we.path=qe.path.slice(),Ye(we)),Ke=ht;continue}we.host=qe.host,we.path=qe.path.slice(),we.query=qe.query,we.fragment="",Ke=Fr}}break;case ut:if(Ve=="/"||Ve=="\\"){Ke=it;break}qe&&qe.scheme=="file"&&!He(Ot.slice(Ut).join(""))&&(Pe(qe.path[0],!0)?we.path.push(qe.path[0]):we.host=qe.host),Ke=ht;continue;case it:if(Ve==y||Ve=="/"||Ve=="\\"||Ve=="?"||Ve=="#"){if(!rt&&Pe(et))Ke=ht;else{if(et==""){if(we.host="",rt)return}else{if(Wt=te(we,et))return Wt;if(we.host=="localhost"&&(we.host=""),rt)return;et=""}Ke=ft}continue}et+=Ve;break;case ft:if(De(we)){if(Ke=ht,Ve!="/"&&Ve!="\\")continue}else if(rt||Ve!="?")if(rt||Ve!="#"){if(Ve!=y&&(Ke=ht,Ve!="/"))continue}else we.fragment="",Ke=Fr;else we.query="",Ke=en;break;case ht:if(Ve==y||Ve=="/"||Ve=="\\"&&De(we)||!rt&&(Ve=="?"||Ve=="#")){if(Ce(et)?(Ye(we),Ve=="/"||Ve=="\\"&&De(we)||we.path.push("")):Xe(et)?Ve=="/"||Ve=="\\"&&De(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&Pe(et)&&(we.host&&(we.host=""),et=et.charAt(0)+":"),we.path.push(et)),et="",we.scheme=="file"&&(Ve==y||Ve=="?"||Ve=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();Ve=="?"?(we.query="",Ke=en):Ve=="#"&&(we.fragment="",Ke=Fr)}else et+=_e(Ve,xe);break;case tr:Ve=="?"?(we.query="",Ke=en):Ve=="#"?(we.fragment="",Ke=Fr):Ve!=y&&(we.path[0]+=_e(Ve,ve));break;case en:rt||Ve!="#"?Ve!=y&&(Ve=="'"&&De(we)?we.query+="%27":we.query+=Ve=="#"?"%23":_e(Ve,ve)):(we.fragment="",Ke=Fr);break;case Fr:Ve!=y&&(we.fragment+=_e(Ve,Me))}Ut++}}function c(Ve){var $e,rt,qe=b(this,c,"URL"),Ot=1<arguments.length?arguments[1]:void 0,Ve=String(Ve),Wt=B(qe,{type:"URL"});if(Ot!==void 0){if(Ot instanceof c)$e=k(Ot);else if(rt=u($e={},String(Ot)))throw TypeError(rt)}if(rt=u(Wt,Ve,null,$e))throw TypeError(rt);var Ke=Wt.searchParams=new I;(Ot=L(Ke)).updateSearchParams(Wt.query),Ot.updateURL=function(){Wt.query=String(Ke)||null},f||(qe.href=cr.call(qe),qe.origin=qt.call(qe),qe.protocol=Zr.call(qe),qe.username=qr.call(qe),qe.password=or.call(qe),qe.host=Qr.call(qe),qe.hostname=ns.call(qe),qe.port=os.call(qe),qe.pathname=is.call(qe),qe.search=Ws.call(qe),qe.searchParams=ss.call(qe),qe.hash=as.call(qe))}function m(we,$e){return{get:we,set:$e,configurable:!0,enumerable:!0}}var y,d,h,p=j("../internals/export"),f=j("../internals/descriptors"),v=j("../internals/native-url"),Jt=j("../internals/global"),g=j("../internals/object-define-properties"),w=j("../internals/redefine"),b=j("../internals/an-instance"),_=j("../internals/has"),D=j("../internals/object-assign"),C=j("../internals/array-from"),M=j("../internals/string-multibyte").codeAt,E=j("../internals/string-punycode-to-ascii"),S=j("../internals/set-to-string-tag"),O=j("../modules/web.url-search-params"),j=j("../internals/internal-state"),F=Jt.URL,I=O.URLSearchParams,L=O.getState,B=j.set,k=j.getterFor("URL"),q=Math.floor,G=Math.pow,V="Invalid authority",W="Invalid scheme",Q="Invalid host",ue="Invalid port",P=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,U=/\d/,H=/^(0x|0X)/,K=/^[0-7]+$/,re=/^\d+$/,ie=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,he=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,le=/[\u0009\u000A\u000D]/g,te=function(we,$e){var rt,qe,Ot;if($e.charAt(0)=="[")return $e.charAt($e.length-1)=="]"&&(rt=function(Ve){var Wt=[0,0,0,0,0,0,0,0],Ke=0,Ut=null,et=0,Ar,Vr,xr,Dr,jt,ur,$n,jr=function(){return Ve.charAt(et)};if(jr()==":"){if(Ve.charAt(1)!=":")return;et+=2,Ke++,Ut=Ke}for(;jr();){if(Ke==8)return;if(jr()==":"){if(Ut!==null)return;et++,Ke++,Ut=Ke;continue}for(Ar=Vr=0;Vr<4&&ie.test(jr());)Ar=Ar*16+parseInt(jr(),16),et++,Vr++;if(jr()=="."){if(Vr==0||(et-=Vr,Ke>6))return;for(xr=0;jr();){if(Dr=null,xr>0)if(jr()=="."&&xr<4)et++;else return;if(!U.test(jr()))return;for(;U.test(jr());){if(jt=parseInt(jr(),10),Dr===null)Dr=jt;else{if(Dr==0)return;Dr=Dr*10+jt}if(Dr>255)return;et++}Wt[Ke]=Wt[Ke]*256+Dr,xr++,(xr==2||xr==4)&&Ke++}if(xr!=4)return;break}else if(jr()==":"){if(et++,!jr())return}else if(jr())return;Wt[Ke++]=Ar}if(Ut!==null)for(ur=Ke-Ut,Ke=7;Ke!=0&&ur>0;)$n=Wt[Ke],Wt[Ke--]=Wt[Ut+ur-1],Wt[Ut+--ur]=$n;else if(Ke!=8)return;return Wt}($e.slice(1,-1)))?void(we.host=rt):Q;if(De(we))return $e=E($e),ce.test($e)||(rt=function(Ve){var Wt=Ve.split("."),Ke,Ut,et,Ar,Vr,xr,Dr;if(Wt.length&&Wt[Wt.length-1]==""&&Wt.pop(),(Ke=Wt.length)>4)return Ve;for(Ut=[],et=0;et<Ke;et++){if(Ar=Wt[et],Ar=="")return Ve;if(Vr=10,Ar.length>1&&Ar.charAt(0)=="0"&&(Vr=H.test(Ar)?16:8,Ar=Ar.slice(Vr==8?1:2)),Ar==="")xr=0;else{if(!(Vr==10?re:Vr==8?K:ie).test(Ar))return Ve;xr=parseInt(Ar,Vr)}Ut.push(xr)}for(et=0;et<Ke;et++)if(xr=Ut[et],et==Ke-1){if(xr>=G(256,5-Ke))return null}else if(xr>255)return null;for(Dr=Ut.pop(),et=0;et<Ut.length;et++)Dr+=Ut[et]*G(256,3-et);return Dr}($e))===null?Q:void(we.host=rt);if(se.test($e))return Q;for(rt="",qe=C($e),Ot=0;Ot<qe.length;Ot++)rt+=_e(qe[Ot],ve);we.host=rt},pe=function(we){for(var $e=null,rt=1,qe=null,Ot=0,Ve=0;Ve<8;Ve++)we[Ve]!==0?(rt<Ot&&($e=qe,rt=Ot),qe=null,Ot=0):(qe===null&&(qe=Ve),++Ot);return rt<Ot&&($e=qe,rt=Ot),$e},ve={},Me=D({},ve,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=D({},Me,{"#":1,"?":1,"{":1,"}":1}),me=D({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_e=function(we,$e){var rt=M(we,0);return 32<rt&&rt<127&&!_($e,we)?we:encodeURIComponent(we)},Ie={ftp:21,file:null,http:80,https:443,ws:80,wss:443},De=function(we){return _(Ie,we.scheme)},Ge=function(we){return we.username!=""||we.password!=""},Pe=function(we,$e){return we.length==2&&P.test(we.charAt(0))&&((we=we.charAt(1))==":"||!$e&&we=="|")},He=function(we){return 1<we.length&&Pe(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},Ye=function(we){var $e=we.path,rt=$e.length;!rt||we.scheme=="file"&&rt==1&&Pe($e[0],!0)||$e.pop()},Xe=function(we){return we==="."||we.toLowerCase()==="%2e"},Ce=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},oe={},ae={},X={},J={},Y={},ee={},ge={},ye={},Se={},Te={},Be={},ze={},Ze={},dt={},ut={},it={},ft={},ht={},tr={},en={},Fr={},Jt=c.prototype,cr=function(){var we=k(this),$e=we.scheme,rt=we.username,qe=we.password,Ot=we.host,Ve=we.port,Wt=we.path,Ke=we.query,Ut=we.fragment,et=$e+":";return Ot!==null?(et+="//",Ge(we)&&(et+=rt+(qe?":"+qe:"")+"@"),et+=a(Ot),Ve!==null&&(et+=":"+Ve)):$e=="file"&&(et+="//"),et+=we.cannotBeABaseURL?Wt[0]:Wt.length?"/"+Wt.join("/"):"",Ke!==null&&(et+="?"+Ke),Ut!==null&&(et+="#"+Ut),et},qt=function(){var we=k(this),$e=we.scheme,rt=we.port;if($e=="blob")try{return new URL($e.path[0]).origin}catch{return"null"}return $e!="file"&&De(we)?$e+"://"+a(we.host)+(rt!==null?":"+rt:""):"null"},Zr=function(){return k(this).scheme+":"},qr=function(){return k(this).username},or=function(){return k(this).password},Qr=function(){var $e=k(this),we=$e.host,$e=$e.port;return we===null?"":$e===null?a(we):a(we)+":"+$e},ns=function(){var we=k(this).host;return we===null?"":a(we)},os=function(){var we=k(this).port;return we===null?"":String(we)},is=function(){var we=k(this),$e=we.path;return we.cannotBeABaseURL?$e[0]:$e.length?"/"+$e.join("/"):""},Ws=function(){var we=k(this).query;return we?"?"+we:""},ss=function(){return k(this).searchParams},as=function(){var we=k(this).fragment;return we?"#"+we:""};f&&g(Jt,{href:m(cr,function(rt){var $e=k(this),rt=String(rt),rt=u($e,rt);if(rt)throw TypeError(rt);L($e.searchParams).updateSearchParams($e.query)}),origin:m(qt),protocol:m(Zr,function(we){var $e=k(this);u($e,String(we)+":",oe)}),username:m(qr,function(we){var $e=k(this),rt=C(String(we));if(!l($e)){$e.username="";for(var qe=0;qe<rt.length;qe++)$e.username+=_e(rt[qe],me)}}),password:m(or,function(we){var $e=k(this),rt=C(String(we));if(!l($e)){$e.password="";for(var qe=0;qe<rt.length;qe++)$e.password+=_e(rt[qe],me)}}),host:m(Qr,function(we){var $e=k(this);$e.cannotBeABaseURL||u($e,String(we),Be)}),hostname:m(ns,function(we){var $e=k(this);$e.cannotBeABaseURL||u($e,String(we),ze)}),port:m(os,function(we){var $e=k(this);l($e)||((we=String(we))==""?$e.port=null:u($e,we,Ze))}),pathname:m(is,function(we){var $e=k(this);$e.cannotBeABaseURL||($e.path=[],u($e,we+"",ft))}),search:m(Ws,function(we){var $e=k(this);(we=String(we))==""?$e.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),$e.query="",u($e,we,en)),L($e.searchParams).updateSearchParams($e.query)}),searchParams:m(ss),hash:m(as,function(we){var $e=k(this);(we=String(we))==""?$e.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),$e.fragment="",u($e,we,Fr))})}),w(Jt,"toJSON",function(){return cr.call(this)},{enumerable:!0}),w(Jt,"toString",function(){return cr.call(this)},{enumerable:!0}),F&&(d=F.createObjectURL,h=F.revokeObjectURL,d&&w(c,"createObjectURL",function(we){return d.apply(F,arguments)}),h&&w(c,"revokeObjectURL",function(we){return h.apply(F,arguments)})),S(c,"URL"),p({global:!0,forced:!v,sham:!f},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,i,s){"use strict";i.exports=t("./").polyfill()},{"./":250}],250:[function(t,i,s){(function(a,l){var u,c;u=this,c=function(){"use strict";function m(te){return typeof te=="function"}var y=Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"},d=0,h=void 0,p=void 0,f=function(te,pe){D[d]=te,D[d+1]=pe,(d+=2)===2&&(p?p(C):I())},v=typeof window<"u"?window:void 0,g=v||{},g=g.MutationObserver||g.WebKitMutationObserver,w=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var te=setTimeout;return function(){return te(C,1)}}var D=new Array(1e3);function C(){for(var te=0;te<d;te+=2)(0,D[te])(D[te+1]),D[te]=void 0,D[te+1]=void 0;d=0}function M(){try{var te=Function("return this")().require("vertx");return(h=te.runOnLoop||te.runOnContext)!==void 0?function(){h(C)}:_()}catch{return _()}}var E,S,O,I=void 0;function j(te,pe){var ve,Me=this,xe=new this.constructor(B),me=(xe[L]===void 0&&ie(xe),Me._state);return me?(ve=arguments[me-1],f(function(){return K(me,xe,ve,Me._result)})):U(Me,xe,te,pe),xe}function F(te){var pe;return te&&typeof te=="object"&&te.constructor===this?te:(Q(pe=new this(B),te),pe)}var I=w?function(){return a.nextTick(C)}:g?(S=0,w=new g(C),O=document.createTextNode(""),w.observe(O,{characterData:!0}),function(){O.data=S=++S%2}):b?((E=new MessageChannel).port1.onmessage=C,function(){return E.port2.postMessage(0)}):(v===void 0&&typeof t=="function"?M:_)(),L=Math.random().toString(36).substring(2);function B(){}var k=void 0,q=1,G=2;function V(te,pe,ve){f(function(Me){var xe=!1,me=function(_e,Ie,De,Ge){try{_e.call(Ie,De,Ge)}catch(Pe){return Pe}}(ve,pe,function(_e){xe||(xe=!0,(pe!==_e?Q:P)(Me,_e))},function(_e){xe||(xe=!0,A(Me,_e))},Me._label);!xe&&me&&(xe=!0,A(Me,me))},te)}function W(te,pe,ve){var Me,xe;pe.constructor===te.constructor&&ve===j&&pe.constructor.resolve===F?(Me=te,(xe=pe)._state===q?P(Me,xe._result):xe._state===G?A(Me,xe._result):U(xe,void 0,function(me){return Q(Me,me)},function(me){return A(Me,me)})):ve!==void 0&&m(ve)?V(te,pe,ve):P(te,pe)}function Q(te,pe){if(te===pe)A(te,new TypeError("You cannot resolve a promise with itself"));else if(ve=typeof pe,pe===null||ve!="object"&&ve!="function")P(te,pe);else{ve=void 0;try{ve=pe.then}catch(Me){return void A(te,Me)}W(te,pe,ve)}var ve}function ue(te){te._onerror&&te._onerror(te._result),H(te)}function P(te,pe){te._state===k&&(te._result=pe,te._state=q,te._subscribers.length!==0&&f(H,te))}function A(te,pe){te._state===k&&(te._state=G,te._result=pe,f(ue,te))}function U(te,pe,ve,Me){var xe=te._subscribers,me=xe.length;te._onerror=null,xe[me]=pe,xe[me+q]=ve,xe[me+G]=Me,me===0&&te._state&&f(H,te)}function H(te){var pe=te._subscribers,ve=te._state;if(pe.length!==0){for(var Me,xe=void 0,me=te._result,_e=0;_e<pe.length;_e+=3)Me=pe[_e],xe=pe[_e+ve],Me?K(ve,Me,xe,me):xe(me);te._subscribers.length=0}}function K(te,pe,ve,Me){var xe=m(ve),me=void 0,_e=void 0,Ie=!0;if(xe){try{me=ve(Me)}catch(De){Ie=!1,_e=De}if(pe===me)return void A(pe,new TypeError("A promises callback cannot return that same promise."))}else me=Me;pe._state===k&&(xe&&Ie?Q(pe,me):Ie===!1?A(pe,_e):te===q?P(pe,me):te===G&&A(pe,me))}var re=0;function ie(te){te[L]=re++,te._state=void 0,te._result=void 0,te._subscribers=[]}se.prototype._enumerate=function(te){for(var pe=0;this._state===k&&pe<te.length;pe++)this._eachEntry(te[pe],pe)},se.prototype._eachEntry=function(te,pe){var ve=this._instanceConstructor,Me=ve.resolve;if(Me===F){var xe,me=void 0,_e=void 0,Ie=!1;try{me=te.then}catch(De){Ie=!0,_e=De}me===j&&te._state!==k?this._settledAt(te._state,pe,te._result):typeof me!="function"?(this._remaining--,this._result[pe]=te):ve===he?(xe=new ve(B),Ie?A(xe,_e):W(xe,te,me),this._willSettleAt(xe,pe)):this._willSettleAt(new ve(function(De){return De(te)}),pe)}else this._willSettleAt(Me(te),pe)},se.prototype._settledAt=function(te,pe,ve){var Me=this.promise;Me._state===k&&(this._remaining--,te===G?A(Me,ve):this._result[pe]=ve),this._remaining===0&&P(Me,this._result)},se.prototype._willSettleAt=function(te,pe){var ve=this;U(te,void 0,function(Me){return ve._settledAt(q,pe,Me)},function(Me){return ve._settledAt(G,pe,Me)})};var ce=se;function se(te,pe){this._instanceConstructor=te,this.promise=new te(B),this.promise[L]||ie(this.promise),y(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(pe),this._remaining!==0)||P(this.promise,this._result)):A(this.promise,new Error("Array Methods must be provided an Array"))}le.prototype.catch=function(te){return this.then(null,te)},le.prototype.finally=function(te){var pe=this.constructor;return m(te)?this.then(function(ve){return pe.resolve(te()).then(function(){return ve})},function(ve){return pe.resolve(te()).then(function(){throw ve})}):this.then(te,te)};var he=le;function le(te){if(this[L]=re++,this._result=this._state=void 0,this._subscribers=[],B!==te){if(typeof te!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof le))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var pe=this;try{te(function(ve){Q(pe,ve)},function(ve){A(pe,ve)})}catch(ve){A(pe,ve)}}}return he.prototype.then=j,he.all=function(te){return new ce(this,te).promise},he.race=function(te){var pe=this;return y(te)?new pe(function(ve,Me){for(var xe=te.length,me=0;me<xe;me++)pe.resolve(te[me]).then(ve,Me)}):new pe(function(ve,Me){return Me(new TypeError("You must pass an array to race."))})},he.resolve=F,he.reject=function(te){var pe=new this(B);return A(pe,te),pe},he._setScheduler=function(te){p=te},he._setAsap=function(te){f=te},he._asap=f,he.polyfill=function(){var te=void 0;if(l!==void 0)te=l;else if(typeof self<"u")te=self;else try{te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var pe=te.Promise;if(pe){var ve=null;try{ve=Object.prototype.toString.call(pe.resolve())}catch{}if(ve==="[object Promise]"&&!pe.cast)return}te.Promise=he},he.Promise=he},typeof s=="object"&&i!==void 0?i.exports=c():typeof n=="function"&&n.amd?n(c):u.ES6Promise=c()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,i,s){var a,l;a=this,l=function(u,c){"use strict";var m=5e3,y="callback";function d(p){try{delete window[p]}catch{window[p]=void 0}}function h(p){p=document.getElementById(p),p&&document.getElementsByTagName("head")[0].removeChild(p)}c.exports=function(p){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=p,g=f.timeout||m,w=f.jsonpCallback||y,b=void 0;return new Promise(function(_,D){var C=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=w+"_"+C,E=(window[C]=function(S){_({ok:!0,json:function(){return Promise.resolve(S)}}),b&&clearTimeout(b),h(M),d(C)},v+=v.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+v+w+"="+C),f.charset&&E.setAttribute("charset",f.charset),E.id=M,document.getElementsByTagName("head")[0].appendChild(E),b=setTimeout(function(){D(new Error("JSONP request to "+p+" timed out")),d(C),h(M),window[C]=function(){d(C)}},g),E.onerror=function(){D(new Error("JSONP request to "+p+" failed")),d(C),h(M),b&&clearTimeout(b)}})}},typeof n=="function"&&n.amd?n(["exports","module"],l):s!==void 0&&i!==void 0?l(0,i):(l(l={exports:{}},l),a.fetchJsonp=l.exports)},{}],252:[function(t,i,s){var a=function(l){"use strict";var u,c,m,y,d,h,p,f,v,g,w;if(!(l===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return w=l.document,u=function(){return l.URL||l.webkitURL||l},c=w.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in c,y=/constructor/i.test(l.HTMLElement)||l.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(b){(l.setImmediate||l.setTimeout)(function(){throw b},0)},p=4e4,f=function(b){setTimeout(function(){typeof b=="string"?u().revokeObjectURL(b):b.remove()},p)},v=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b},w=(g=function(b,_,S){S||(b=v(b));var C,M,E=this,S=b.type==="application/octet-stream",O=function(){for(var j=E,F="writestart progress write writeend".split(" "),I=void 0,L=(F=[].concat(F)).length;L--;){var B=j["on"+F[L]];if(typeof B=="function")try{B.call(j,I||j)}catch(k){h(k)}}};E.readyState=E.INIT,m?(C=u().createObjectURL(b),setTimeout(function(){var j,F;c.href=C,c.download=_,j=c,F=new MouseEvent("click"),j.dispatchEvent(F),O(),f(C),E.readyState=E.DONE})):(d||S&&y)&&l.FileReader?((M=new FileReader).onloadend=function(){var j=d?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");l.open(j,"_blank")||(l.location.href=j),j=void 0,E.readyState=E.DONE,O()},M.readAsDataURL(b),E.readyState=E.INIT):(C=C||u().createObjectURL(b),!S&&l.open(C,"_blank")||(l.location.href=C),E.readyState=E.DONE,O(),f(C))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(b,_,D){return _=_||b.name||"download",D||(b=v(b)),navigator.msSaveOrOpenBlob(b,_)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(b,_,D){return new g(b,_||b.name||"download",D)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);i!==void 0&&i.exports?i.exports.saveAs=a:n!=null&&n.amd!==null&&n("FileSaver.js",function(){return a})},{}],253:[function(t,i,s){var a,l=Object.defineProperty,u=(l(s,"__esModule",{value:!0}),s),c={GIFEncoder:()=>O,applyPalette:()=>function(k,q,G="rgb565"){if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<q.length)throw new Error("applyPalette() only works with 256 colors or less");let V=new Uint32Array(k.buffer),W=V.length,Q=G==="rgb444"?4096:65536,ue=new Uint8Array(W),P=new Array(Q);if(G==="rgba4444")for(let le=0;le<W;le++){var K=V[le],A=K>>24&255,U=K>>16&255,H=K>>8&255,K=255&K,re=f(K,H,U,A),re=re in P?P[re]:P[re]=function(te,pe,ve,Me,xe){let me=0,_e=1e100;for(let Pe=0;Pe<xe.length;Pe++){var Ie,De=xe[Pe],Ge=M(De[3]-Me);Ge>_e||(Ie=De[0],(Ge+=M(Ie-te))>_e||(Ie=De[1],(Ge+=M(Ie-pe))>_e||(Ie=De[2],(Ge+=M(Ie-ve))>_e||(_e=Ge,me=Pe))))}return me}(K,H,U,A,q);ue[le]=re}else{let le=G==="rgb444"?v:p;for(let te=0;te<W;te++){var se=V[te],ie=se>>16&255,ce=se>>8&255,se=255&se,he=le(se,ce,ie),he=he in P?P[he]:P[he]=function(pe,ve,Me,xe){let me=0,_e=1e100;for(let Pe=0;Pe<xe.length;Pe++){var Ie,De=xe[Pe],Ge=M(De[0]-pe);Ge>_e||(Ie=De[1],(Ge+=M(Ie-ve))>_e||(Ie=De[2],(Ge+=M(Ie-Me))>_e||(_e=Ge,me=Pe)))}return me}(se,ce,ie,q);ue[te]=he}}return ue},default:()=>B,nearestColor:()=>function(k,q,G=D){return k[E(k,q,G)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>S,prequantize:()=>function(k,{roundRGB:q=5,roundAlpha:G=10,oneBitAlpha:V=null}={}){let W=new Uint32Array(k.buffer);for(let U=0;U<W.length;U++){var A=W[U];let H=A>>24&255;var Q,ue=A>>16&255,P=A>>8&255,A=255&A;H=C(H,G),V&&(Q=typeof V=="number"?V:127,H=H<=Q?0:255),A=C(A,q),P=C(P,q),ue=C(ue,q),W[U]=H<<24|ue<<16|P<<8|A<<0}},quantize:()=>function(k,q,G={}){var{format:V="rgb565",clearAlpha:W=!0,clearAlphaColor:Q=0,clearAlphaThreshold:ue=0,oneBitAlpha:P=!1}=G;if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");k=new Uint32Array(k.buffer);let A=G.useSqrt!==!1,U=V==="rgba4444",H=function(He,Ye){let Xe=Ye==="rgb444"?4096:65536,Ce=new Array(Xe),oe=He.length;if(Ye==="rgba4444")for(let ut=0;ut<oe;++ut){var Y=He[ut],ae=Y>>24&255,X=Y>>16&255,J=Y>>8&255,Y=255&Y,ee=f(Y,J,X,ae);let it=ee in Ce?Ce[ee]:Ce[ee]=_();it.rc+=Y,it.gc+=J,it.bc+=X,it.ac+=ae,it.cnt++}else if(Ye==="rgb444")for(let ut=0;ut<oe;++ut){var Se=He[ut],ge=Se>>16&255,ye=Se>>8&255,Se=255&Se,Te=v(Se,ye,ge);let it=Te in Ce?Ce[Te]:Ce[Te]=_();it.rc+=Se,it.gc+=ye,it.bc+=ge,it.cnt++}else for(let ut=0;ut<oe;++ut){var Ze=He[ut],Be=Ze>>16&255,ze=Ze>>8&255,Ze=255&Ze,dt=p(Ze,ze,Be);let it=dt in Ce?Ce[dt]:Ce[dt]=_();it.rc+=Ze,it.gc+=ze,it.bc+=Be,it.cnt++}return Ce}(k,V),K=H.length,re=K-1,ie=new Uint32Array(K+1);for(var ce=0,se=0;se<K;++se){let He=H[se];He!=null&&(De=1/He.cnt,U&&(He.ac*=De),He.rc*=De,He.gc*=De,He.bc*=De,H[ce++]=He)}w(q)/ce<.022&&(A=!1);for(var he,le,te,se=0;se<ce-1;++se)H[se].fw=se+1,H[se+1].bk=se,A&&(H[se].cnt=Math.sqrt(H[se].cnt));for(A&&(H[se].cnt=Math.sqrt(H[se].cnt)),se=0;se<ce;++se){b(H,se,!1);var pe=H[se].err;for(le=++ie[0];1<le&&(te=le>>1,!(H[he=ie[te]].err<=pe));le=te)ie[le]=he;ie[le]=se}var ve,Me=ce-q;for(se=0;se<Me;){for(;;){var xe=ie[1];if((ve=H[xe]).tm>=ve.mtm&&H[ve.nn].mtm<=ve.tm)break;for(ve.mtm==re?xe=ie[1]=ie[ie[0]--]:(b(H,xe,!1),ve.tm=se),pe=H[xe].err,le=1;(te=le+le)<=ie[0]&&(te<ie[0]&&H[ie[te]].err>H[ie[te+1]].err&&te++,!(pe<=H[he=ie[te]].err));le=te)ie[le]=he;ie[le]=xe}var me=H[ve.nn],_e=ve.cnt,Ie=me.cnt,De=1/(_e+Ie);U&&(ve.ac=De*(_e*ve.ac+Ie*me.ac)),ve.rc=De*(_e*ve.rc+Ie*me.rc),ve.gc=De*(_e*ve.gc+Ie*me.gc),ve.bc=De*(_e*ve.bc+Ie*me.bc),ve.cnt+=me.cnt,ve.mtm=++se,H[me.bk].fw=me.fw,H[me.fw].bk=me.bk,me.mtm=re}let Ge=[];for(se=0;;0){let He=g(Math.round(H[se].rc),0,255),Ye=g(Math.round(H[se].gc),0,255),Xe=g(Math.round(H[se].bc),0,255),Ce=255;U&&(Ce=g(Math.round(H[se].ac),0,255),P&&(Pe=typeof P=="number"?P:127,Ce=Ce<=Pe?0:255),W&&Ce<=ue&&(He=Ye=Xe=Q,Ce=0));var Pe=U?[He,Ye,Xe,Ce]:[He,Ye,Xe];if(function(oe,ae){for(let Y=0;Y<oe.length;Y++){var J=oe[Y],X=J[0]===ae[0]&&J[1]===ae[1]&&J[2]===ae[2],J=!(4<=J.length&&4<=ae.length)||J[3]===ae[3];if(X&&J)return!0}return!1}(Ge,Pe)||Ge.push(Pe),(se=H[se].fw)==0)break}return Ge},snapColorsToPalette:()=>function(k,q,G=5){if(k.length&&q.length){var V=k.map(A=>A.slice(0,3)),W=G*G,Q=k[0].length;for(let A=0;A<q.length;A++){let U=q[A];U=U.length<Q?[U[0],U[1],U[2],255]:U.length>Q?U.slice(0,3):U.slice();var P=S(V,U.slice(0,3),D),ue=P[0],P=P[1];0<P&&P<=W&&(k[ue]=U)}}}};for(a in c)l(u,a,{get:c[a],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(k=256){let q=0,G=new Uint8Array(k);return{get buffer(){return G.buffer},reset(){q=0},bytesView(){return G.subarray(0,q)},bytes(){return G.slice(0,q)},writeByte(W){V(q+1),G[q]=W,q++},writeBytes(W,Q=0,ue=W.length){V(q+ue);for(let P=0;P<ue;P++)G[q++]=W[P+Q]},writeBytesView(W,Q=0,ue=W.byteLength){V(q+ue),G.set(W.subarray(Q,Q+ue),q),q+=ue}};function V(W){var Q=G.length;if(!(W<=Q)){W=Math.max(W,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(W=Math.max(W,256));let ue=G;G=new Uint8Array(W),0<q&&G.set(ue.subarray(0,q),0)}}}var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=function(k,q,G,U,W=y(512),Q=new Uint8Array(256),ue=new Int32Array(5003),P=new Int32Array(5003)){var A=ue.length,U=Math.max(2,U);Q.fill(0),P.fill(0),ue.fill(-1);let H=0,K=0;var re=U+1;let ie=re,ce=!1,se=ie,he=(1<<se)-1;var le=1<<re-1;let te=1+le,pe=2+le,ve=0,Me=G[0],xe=0;for(let Pe=A;Pe<65536;Pe*=2)++xe;xe=8-xe,W.writeByte(U),Ge(le);var me=G.length;for(let Pe=1;Pe<me;Pe++)e:{var _e=G[Pe],Ie=(_e<<12)+Me;let He=_e<<xe^Me;if(ue[He]===Ie)Me=P[He];else{for(var De=He===0?1:A-He;0<=ue[He];)if((He-=De)<0&&(He+=A),ue[He]===Ie){Me=P[He];break e}Ge(Me),Me=_e,pe<4096?(P[He]=pe++,ue[He]=Ie):(ue.fill(-1),pe=2+le,ce=!0,Ge(le))}}return Ge(Me),Ge(te),W.writeByte(0),W.bytesView();function Ge(Pe){for(H&=d[K],0<K?H|=Pe<<K:H=Pe,K+=se;8<=K;)Q[ve++]=255&H,254<=ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0),H>>=8,K-=8;if((pe>he||ce)&&(ce?(se=ie,he=(1<<se)-1,ce=!1):(++se,he=se===12?1<<se:(1<<se)-1)),Pe==te){for(;0<K;)Q[ve++]=255&H,254<=ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0),H>>=8,K-=8;0<ve&&(W.writeByte(ve),W.writeBytesView(Q,0,ve),ve=0)}}};function p(k,q,G){return k<<8&63488|q<<2&992|G>>3}function f(k,q,G,V){return k>>4|240&q|(240&G)<<4|(240&V)<<8}function v(k,q,G){return k>>4<<8|240&q|G>>4}function g(k,q,G){return k<q?q:G<k?G:k}function w(k){return k*k}function b(k,q,G){var V=0,W=1e100;let Q=k[q];for(var ue=Q.cnt,P=Q.ac,A=Q.rc,U=Q.gc,H=Q.bc,K=Q.fw;K!=0;K=k[K].fw){var re,ie=k[K],ce=ie.cnt,ce=ue*ce/(ue+ce);W<=ce||(re=0,G&&W<=(re+=ce*w(ie.ac-P))||W<=(re+=ce*w(ie.rc-A))||W<=(re+=ce*w(ie.gc-U))||W<=(re+=ce*w(ie.bc-H))||(W=re,V=K))}Q.err=W,Q.nn=V}function _(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function D(k,q){for(var G=0,V=0;V<k.length;V++){var W=k[V]-q[V];G+=W*W}return G}function C(k,q){return 1<q?Math.round(k/q)*q:k}function M(k){return k*k}function E(k,q,G=D){let V=1/0,W=-1;for(let ue=0;ue<k.length;ue++){var Q=G(q,k[ue]);Q<V&&(V=Q,W=ue)}return W}function S(k,q,G=D){let V=1/0,W=-1;for(let ue=0;ue<k.length;ue++){var Q=G(q,k[ue]);Q<V&&(V=Q,W=ue)}return[W,V]}function O(k={}){let{initialCapacity:q=4096,auto:G=!0}=k,V=y(q),W=new Uint8Array(256),Q=new Int32Array(5003),ue=new Int32Array(5003),P=!1;return{reset(){V.reset(),P=!1},finish(){V.writeByte(m.trailer)},bytes(){return V.bytes()},bytesView(){return V.bytesView()},get buffer(){return V.buffer},get stream(){return V},writeHeader:A,writeFrame(U,H,K,Me={}){var{transparent:ie=!1,transparentIndex:ce=0,delay:De=0,palette:se=null,repeat:me=0,colorDepth:he=8,dispose:le=-1}=Me;let te=!1;if(G?P||(te=!0,A(),P=!0):te=!!Me.first,H=Math.max(0,Math.floor(H)),K=Math.max(0,Math.floor(K)),te){if(!se)throw new Error("First frame must include a { palette } option");var[Me,_e,ve,Ie,xe=8]=[V,H,K,se,he];Ie=L(Ie.length)-1,xe=128|xe-1<<4|Ie,F(Me,_e),F(Me,ve),Me.writeBytes([xe,0,0]),j(V,se),0<=me&&(Ie=V,_e=me,Ie.writeByte(33),Ie.writeByte(255),Ie.writeByte(11),I(Ie,"NETSCAPE2.0"),Ie.writeByte(3),Ie.writeByte(1),F(Ie,_e),Ie.writeByte(0))}var pe,ve=Math.round(De/10),Me=V,xe=le,me=ve,_e=ie,Ie=ce,De=(Me.writeByte(33),Me.writeByte(249),Me.writeByte(4),Ie<0&&(Ie=0,_e=!1),_e=_e?(pe=1,2):pe=0,0<=xe&&(_e=7&xe),_e<<=2,Me.writeByte(0|_e|pe),F(Me,me),Me.writeByte(Ie||0),Me.writeByte(0),!!se&&!te);le=V,ie=H,ce=K,pe=De?se:null,le.writeByte(44),F(le,0),F(le,0),F(le,ie),F(le,ce),pe?(ie=L(pe.length)-1,le.writeByte(128|ie)):le.writeByte(0),De&&j(V,se),[me,Me,ce,ie,le=8,De,se,U]=[V,U,H,K,he,W,Q,ue],h(ce,ie,Me,le,me,De,se,U)}};function A(){I(V,"GIF89a")}}function j(k,q){var G=1<<L(q.length);for(let V=0;V<G;V++){let W=[0,0,0];V<q.length&&(W=q[V]),k.writeByte(W[0]),k.writeByte(W[1]),k.writeByte(W[2])}}function F(k,q){k.writeByte(255&q),k.writeByte(q>>8&255)}function I(k,q){for(var G=0;G<q.length;G++)k.writeByte(q.charCodeAt(G))}function L(k){return Math.max(Math.ceil(Math.log2(k)),1)}var B=O},{}],254:[function(t,i,s){s.read=function(a,l,u,c,b){var y,d,h=8*b-c-1,p=(1<<h)-1,f=p>>1,v=-7,g=u?b-1:0,w=u?-1:1,b=a[l+g];for(g+=w,y=b&(1<<-v)-1,b>>=-v,v+=h;0<v;y=256*y+a[l+g],g+=w,v-=8);for(d=y&(1<<-v)-1,y>>=-v,v+=c;0<v;d=256*d+a[l+g],g+=w,v-=8);if(y===0)y=1-f;else{if(y===p)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,c),y-=f}return(b?-1:1)*d*Math.pow(2,y-c)},s.write=function(a,l,u,c,m,_){var d,h,p=8*_-m-1,f=(1<<p)-1,v=f>>1,g=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=c?0:_-1,b=c?1:-1,_=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(h=isNaN(l)?1:0,d=f):(d=Math.floor(Math.log(l)/Math.LN2),l*(c=Math.pow(2,-d))<1&&(d--,c*=2),2<=(l+=1<=d+v?g/c:g*Math.pow(2,1-v))*c&&(d++,c/=2),f<=d+v?(h=0,d=f):1<=d+v?(h=(l*c-1)*Math.pow(2,m),d+=v):(h=l*Math.pow(2,v-1)*Math.pow(2,m),d=0));8<=m;a[u+w]=255&h,w+=b,h/=256,m-=8);for(d=d<<m|h,p+=m;0<p;a[u+w]=255&d,w+=b,d/=256,p-=8);a[u+w-b]|=128*_}},{}],255:[function(t,i,s){"use strict";var a;function l(X,J){return X.b===J.b&&X.a===J.a}function u(X,J){return X.b<J.b||X.b===J.b&&X.a<=J.a}function c(X,J,Y){var ee=J.b-X.b,ge=Y.b-J.b;return 0<ee+ge?ee<ge?J.a-X.a+ee/(ee+ge)*(X.a-Y.a):J.a-Y.a+ge/(ee+ge)*(Y.a-X.a):0}function m(X,J,Y){var ee=J.b-X.b,ge=Y.b-J.b;return 0<ee+ge?(J.a-Y.a)*ee+(J.a-X.a)*ge:0}function y(X,J){return X.a<J.a||X.a===J.a&&X.b<=J.b}function d(X,J,Y){var ee=J.a-X.a,ge=Y.a-J.a;return 0<ee+ge?ee<ge?J.b-X.b+ee/(ee+ge)*(X.b-Y.b):J.b-Y.b+ge/(ee+ge)*(Y.b-X.b):0}function h(X,J,Y){var ee=J.a-X.a,ge=Y.a-J.a;return 0<ee+ge?(J.b-Y.b)*ee+(J.b-X.b)*ge:0}function p(X,J,Y,ee){return(X=X<0?0:X)<=(Y=Y<0?0:Y)?Y===0?(J+ee)/2:J+X/(X+Y)*(ee-J):ee+Y/(X+Y)*(J-ee)}function f(X){var J=_(X.b);return C(J,X.c),C(J.b,X.c),M(J,X.a),J}function v(X,J){var Y=!1,ee=!1;X!==J&&(J.a!==X.a&&(ee=!0,S(J.a,X.a)),J.d!==X.d&&(Y=!0,O(J.d,X.d)),D(J,X),ee||(C(J,X.a),X.a.c=X),Y||(M(J,X.d),X.d.a=X))}function g(X){var J=X.b,Y=!1;X.d!==X.b.d&&(Y=!0,O(X.d,X.b.d)),X.c===X?S(X.a,null):(X.b.d.a=X.b.e,X.a.c=X.c,D(X,X.b.e),Y||M(X,X.d)),J.c===J?(S(J.a,null),O(J.d,null)):(X.d.a=J.b.e,J.a.c=J.c,D(J,J.b.e)),E(X)}function w(X){var J=_(X),Y=J.b;return D(J,X.e),J.a=X.b.a,C(Y,J.a),J.d=Y.d=X.d,J=J.b,D(X.b,X.b.b.e),D(X.b,J),X.b.a=J.a,J.b.a.c=J.b,J.b.d=X.b.d,J.f=X.f,J.b.f=X.b.f,J}function b(X,J){var Y=!1,ee=_(X),ge=ee.b;return J.d!==X.d&&(Y=!0,O(J.d,X.d)),D(ee,X.e),D(ge,J),ee.a=X.b.a,ge.a=J.a,ee.d=ge.d=X.d,X.d.a=ge,Y||M(ee,X.d),ee}function _(X){var J=new ve,Y=new ve,ee=X.b.h;return(((Y.h=ee).b.h=J).h=X).b.h=Y,J.b=Y,((J.c=J).e=Y).b=J,(Y.c=Y).e=J}function D(X,J){var Y=X.c,ee=J.c;Y.b.e=J,(ee.b.e=X).c=ee,J.c=Y}function C(X,J){var Y=J.f,ee=new xe(J,Y);for(Y.e=ee,Y=(J.f=ee).c=X;Y.a=ee,(Y=Y.c)!==X;);}function M(X,J){var Y=J.d,ee=new pe(J,Y);for(Y.b=ee,(J.d=ee).a=X,ee.c=J.c,Y=X;Y.d=ee,(Y=Y.e)!==X;);}function E(X){var J=X.h;X=X.b.h,(J.b.h=X).b.h=J}function S(X,J){for(var Y=X.c,ee=Y;ee.a=J,(ee=ee.c)!==Y;);Y=X.f,((ee=X.e).f=Y).e=ee}function O(X,J){for(var Y=X.a,ee=Y;ee.d=J,(ee=ee.e)!==Y;);Y=X.d,((ee=X.b).d=Y).b=ee}function j(X){var J=0;return Math.abs(X[1])>Math.abs(X[0])&&(J=1),J=Math.abs(X[2])>Math.abs(X[J])?2:J}function F(X,J){X.f+=J.f,X.b.f+=J.b.f}function I(X,J,Y){return X=X.a,J=J.a,Y=Y.a,J.b.a===X?Y.b.a===X?u(J.a,Y.a)?m(Y.b.a,J.a,Y.a)<=0:0<=m(J.b.a,Y.a,J.a):m(Y.b.a,X,Y.a)<=0:Y.b.a===X?0<=m(J.b.a,X,J.a):(J=c(J.b.a,X,J.a),(X=c(Y.b.a,X,Y.a))<=J)}function L(X){X.a.i=null;var J=X.e;J.a.c=J.c,J.c.a=J.a,X.e=null}function B(X,J){g(X.a),X.c=!1,(X.a=J).i=X}function k(X){for(var J=X.a.a;(X=ae(X)).a.a===J;);return X.c&&(B(X,J=b(oe(X).a.b,X.a.e)),X=ae(X)),X}function q(X,J,Y){var ee=new Ce;return ee.a=Y,ee.e=ce(X.f,J.e,ee),Y.i=ee}function G(X,J){switch(X.s){case 100130:return(1&J)!=0;case 100131:return J!==0;case 100132:return 0<J;case 100133:return J<0;case 100134:return 2<=J||J<=-2}return!1}function V(X){var J=X.a,Y=J.d;Y.c=X.d,Y.a=J,L(X)}function W(X,J,Y){for(J=(X=J).a;X!==Y;){X.c=!1;var ee=oe(X),ge=ee.a;if(ge.a!==J.a){if(!ee.c){V(X);break}B(ee,ge=b(J.c.b,ge.b))}J.c!==ge&&(v(ge.b.e,ge),v(J,ge)),V(X),J=ee.a,X=ee}return J}function Q(X,J,Y,ee,ge,ye){for(var Se=!0;q(X,J,Y.b),(Y=Y.c)!==ee;);for(ge===null&&(ge=oe(J).a.b.c);(Y=(ee=oe(J)).a.b).a===ge.a;)Y.c!==ge&&(v(Y.b.e,Y),v(ge.b.e,Y)),ee.f=J.f-Y.f,ee.d=G(X,ee.f),J.b=!0,!Se&&U(X,J)&&(F(Y,ge),L(J),g(ge)),Se=!1,J=ee,ge=Y;J.b=!0,ye&&K(X,J)}function ue(X,J,Y,ee,ge){var ye=[J.g[0],J.g[1],J.g[2]];J.d=null,J.d=X.o&&X.o(ye,Y,ee,X.c)||null,J.d===null&&(ge?X.n||(te(X,100156),X.n=!0):J.d=Y[0])}function P(X,J,Y){var ee=[null,null,null,null];ee[0]=J.a.d,ee[1]=Y.a.d,ue(X,J.a,ee,[.5,.5,0,0],!1),v(J,Y)}function A(X,J,Y,ee,ge){var ye=Math.abs(J.b-X.b)+Math.abs(J.a-X.a),Se=Math.abs(Y.b-X.b)+Math.abs(Y.a-X.a),Te=ge+1;ee[ge]=.5*Se/(ye+Se),ee[Te]=.5*ye/(ye+Se),X.g[0]+=ee[ge]*J.g[0]+ee[Te]*Y.g[0],X.g[1]+=ee[ge]*J.g[1]+ee[Te]*Y.g[1],X.g[2]+=ee[ge]*J.g[2]+ee[Te]*Y.g[2]}function U(X,J){var Y=oe(J),ee=J.a,ge=Y.a;if(u(ee.a,ge.a)){if(0<m(ge.b.a,ee.a,ge.a))return;if(l(ee.a,ge.a)){if(ee.a!==ge.a){var Y=X.e,ye=ee.a.h;if(0<=ye){var Se=(Y=Y.b).d,Te=Y.e,Be=Y.c,ze=Be[ye];Se[ze]=Se[Y.a],(Be[Se[ze]]=ze)<=--Y.a&&(ze<=1||u(Te[Se[ze>>1]],Te[Se[ze]])?Ye:Xe)(Y,ze),Te[ye]=null,Be[ye]=Y.b,Y.b=ye}else for(Y.c[-(ye+1)]=null;0<Y.a&&Y.c[Y.d[Y.a-1]]===null;)--Y.a;P(X,ge.b.e,ee)}}else w(ge.b),v(ee,ge.b.e),J.b=Y.b=!0}else{if(m(ee.b.a,ge.a,ee.a)<0)return;ae(J).b=J.b=!0,w(ee.b),v(ge.b.e,ee)}return 1}function H(X,J){var Y=oe(J),ee=J.a,ge=Y.a,ye=ee.a,Se=ge.a,Te=ee.b.a,Be=ge.b.a,ze=new xe;if(m(Te,X.a,ye),m(Be,X.a,Se),!(ye===Se||Math.min(ye.a,Te.a)>Math.max(Se.a,Be.a))){if(u(ye,Se)){if(0<m(Be,ye,Se))return}else if(m(Te,Se,ye)<0)return;var Ze,dt,ut=Te,it=ye,ft=Be,ht=Se;if(u(ut,it)||(Ze=ut,ut=it,it=Ze),u(ft,ht)||(Ze=ft,ft=ht,ht=Ze),u(ut,ft)||(Ze=ut,ut=ft,ft=Ze,Ze=it,it=ht,ht=Ze),u(ft,it)?u(it,ht)?((Ze=c(ut,ft,it))+(dt=c(ft,it,ht))<0&&(Ze=-Ze,dt=-dt),ze.b=p(Ze,ft.b,dt,it.b)):((Ze=m(ut,ft,it))+(dt=-m(ut,ht,it))<0&&(Ze=-Ze,dt=-dt),ze.b=p(Ze,ft.b,dt,ht.b)):ze.b=(ft.b+it.b)/2,y(ut,it)||(Ze=ut,ut=it,it=Ze),y(ft,ht)||(Ze=ft,ft=ht,ht=Ze),y(ut,ft)||(Ze=ut,ut=ft,ft=Ze,Ze=it,it=ht,ht=Ze),y(ft,it)?y(it,ht)?((Ze=d(ut,ft,it))+(dt=d(ft,it,ht))<0&&(Ze=-Ze,dt=-dt),ze.a=p(Ze,ft.a,dt,it.a)):((Ze=h(ut,ft,it))+(dt=-h(ut,ht,it))<0&&(Ze=-Ze,dt=-dt),ze.a=p(Ze,ft.a,dt,ht.a)):ze.a=(ft.a+it.a)/2,u(ze,X.a)&&(ze.b=X.a.b,ze.a=X.a.a),ut=u(ye,Se)?ye:Se,u(ut,ze)&&(ze.b=ut.b,ze.a=ut.a),l(ze,ye)||l(ze,Se))return U(X,J),0;if(!l(Te,X.a)&&0<=m(Te,X.a,ze)||!l(Be,X.a)&&m(Be,X.a,ze)<=0){if(Be===X.a)w(ee.b),v(ge.b,ee),ee=oe(J=k(J)).a,W(X,oe(J),Y),Q(X,J,ee.b.e,ee,ee,!0);else{if(Te!==X.a)return 0<=m(Te,X.a,ze)&&(ae(J).b=J.b=!0,w(ee.b),ee.a.b=X.a.b,ee.a.a=X.a.a),void(m(Be,X.a,ze)<=0&&(J.b=Y.b=!0,w(ge.b),ge.a.b=X.a.b,ge.a.a=X.a.a));for(w(ge.b),v(ee.e,ge.b.e),Se=(ye=Y=J).a.b.a;(ye=ae(ye)).a.b.a===Se;);ye=oe(J=ye).a.b.c,Y.a=ge.b.e,Q(X,J,(ge=W(X,Y,null)).c,ee.b.c,ye,!0)}return 1}w(ee.b),w(ge.b),v(ge.b.e,ee),ee.a.b=ze.b,ee.a.a=ze.a,ee.a.h=_e(X.e,ee.a),ee=ee.a,ge=[0,0,0,0],ze=[ye.d,Te.d,Se.d,Be.d],ee.g[0]=ee.g[1]=ee.g[2]=0,A(ee,ye,Te,ge,0),A(ee,Se,Be,ge,2),ue(X,ee,ze,ge,!0),ae(J).b=J.b=Y.b=!0}}function K(X,J){for(var Y=oe(J);;){for(;Y.b;)Y=oe(J=Y);if(!J.b&&((J=ae(Y=J))===null||!J.b))break;J.b=!1;var ee=J.a,ge=Y.a;if(ye=ee.b.a!==ge.b.a)e:{var ye,Se=oe(ye=J),Te=ye.a,Be=Se.a,ze=void 0;if(u(Te.b.a,Be.b.a)){if(m(Te.b.a,Be.b.a,Te.a)<0){ye=!1;break e}ae(ye).b=ye.b=!0,ze=w(Te),v(Be.b,ze),ze.d.c=ye.d}else{if(0<m(Be.b.a,Te.b.a,Be.a)){ye=!1;break e}ye.b=Se.b=!0,ze=w(Be),v(Te.e,Be.b),ze.b.d.c=ye.d}ye=!0}if(ye&&(Y.c?(L(Y),g(ge),ge=(Y=oe(J)).a):J.c&&(L(J),g(ee),ee=(J=ae(Y)).a)),ee.a!==ge.a){if(ee.b.a===ge.b.a||J.c||Y.c||ee.b.a!==X.a&&ge.b.a!==X.a)U(X,J);else if(H(X,J))break}ee.a===ge.a&&ee.b.a===ge.b.a&&(F(ge,ee),L(J),g(ee),J=ae(Y))}}function re(X,J){var Y=new Ce,ee=f(X.b);ee.a.b=4e150,ee.a.a=J,ee.b.a.b=-4e150,ee.b.a.a=J,X.a=ee.b.a,Y.a=ee,Y.f=0,Y.d=!1,Y.c=!1,Y.h=!0,Y.b=!1,ee=ce(ee=X.f,ee.a,Y),Y.e=ee}function ie(X){this.a=new se,this.b=X,this.c=I}function ce(X,J,Y){for(;(J=J.c).b!==null&&!X.c(X.b,J.b,Y););return X=new se(Y,J.a,J),J.a.c=X,J.a=X}function se(X,J,Y){this.b=X||null,this.a=J||this,this.c=Y||this}function he(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function le(X,J){if(X.d!==J)for(;X.d!==J;)if(X.d<J)switch(X.d){case 0:te(X,100151),X.u(null);break;case 1:te(X,100152),X.t()}else switch(X.d){case 2:te(X,100154),X.v();break;case 1:te(X,100153),X.w()}}function te(X,J){X.p&&X.p(J,X.c)}function pe(X,J){this.b=X||this,this.d=J||this,this.a=null,this.c=!1}function ve(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Me(){this.c=new xe,this.a=new pe,this.b=new ve,this.d=new ve,this.b.b=this.d,this.d.b=this.b}function xe(X,J){this.e=X||this,this.f=J||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function me(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new De}function _e(X,J){var Y,ee,ge;return X.e?(2*(ee=++(Y=X.b).a)>Y.f&&(Y.f*=2,Y.c=Ge(Y.c,Y.f+1)),Y.b===0?ge=ee:(ge=Y.b,Y.b=Y.c[Y.b]),Y.e[ge]=J,Y.c[ge]=ee,Y.d[ee]=ge,Y.h&&Xe(Y,ee),ge):(Y=X.a++,X.c[Y]=J,-(Y+1))}function Ie(X){if(X.a===0)return He(X.b);var J=X.c[X.d[X.a-1]];if(X.b.a!==0&&u(Pe(X.b),J))return He(X.b);for(;--X.a,0<X.a&&X.c[X.d[X.a-1]]===null;);return J}function De(){this.d=Ge([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ge(X,J){for(var Y=Array(J),ee=0;ee<X.length;ee++)Y[ee]=X[ee];for(;ee<J;ee++)Y[ee]=0;return Y}function Pe(X){return X.e[X.d[1]]}function He(X){var J=X.d,Y=X.e,ee=X.c,ge=J[1],ye=Y[ge];return 0<X.a&&(J[1]=J[X.a],ee[J[1]]=1,Y[ge]=null,ee[ge]=X.b,X.b=ge,0<--X.a&&Ye(X,1)),ye}function Ye(X,J){for(var Y=X.d,ee=X.e,ge=X.c,ye=J,Se=Y[ye];;){var Te=ye<<1,Be=(Te<X.a&&u(ee[Y[Te+1]],ee[Y[Te]])&&(Te+=1),Y[Te]);if(Te>X.a||u(ee[Se],ee[Be])){ge[Y[ye]=Se]=ye;break}ge[Y[ye]=Be]=ye,ye=Te}}function Xe(X,J){for(var Y=X.d,ee=X.e,ge=X.c,ye=J,Se=Y[ye];;){var Te=ye>>1,Be=Y[Te];if(Te==0||u(ee[Be],ee[Se])){ge[Y[ye]=Se]=ye;break}ge[Y[ye]=Be]=ye,ye=Te}}function Ce(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function oe(X){return X.e.c.b}function ae(X){return X.e.a.b}(a=he.prototype).x=function(){le(this,0)},a.B=function(X,J){switch(X){case 100142:return;case 100140:switch(J){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=J)}break;case 100141:return void(this.m=!!J);default:return void te(this,100900)}te(this,100901)},a.y=function(X){switch(X){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:te(this,100900)}return!1},a.A=function(X,J,Y){this.j[0]=X,this.j[1]=J,this.j[2]=Y},a.z=function(X,J){var Y=J||null;switch(X){case 100100:case 100106:this.h=Y;break;case 100104:case 100110:this.l=Y;break;case 100101:case 100107:this.k=Y;break;case 100102:case 100108:this.i=Y;break;case 100103:case 100109:this.p=Y;break;case 100105:case 100111:this.o=Y;break;case 100112:this.r=Y;break;default:te(this,100900)}},a.C=function(X,J){var Y=!1,ee=[0,0,0];le(this,2);for(var ge=0;ge<3;++ge){var ye=X[ge];ye<-1e150&&(ye=-1e150,Y=!0),1e150<ye&&(ye=1e150,Y=!0),ee[ge]=ye}Y&&te(this,100155),(Y=this.q)===null?v(Y=f(this.b),Y.b):(w(Y),Y=Y.e),Y.a.d=J,Y.a.g[0]=ee[0],Y.a.g[1]=ee[1],Y.a.g[2]=ee[2],Y.f=1,Y.b.f=-1,this.q=Y},a.u=function(X){le(this,0),this.d=1,this.b=new Me,this.c=X},a.t=function(){le(this,1),this.d=2,this.q=null},a.v=function(){le(this,2),this.d=1},a.w=function(){le(this,1),this.d=0;var X,J,Y=this.j[0],ee=this.j[1],ge=this.j[2],ye=!1,Se=[Y,ee,ge];if(Y===0&&ee===0&&ge===0){for(var ee=[-2e150,-2e150,-2e150],Te=[2e150,2e150,2e150],ge=[],Be=[],Y=(ye=this.b.c).e;Y!==ye;Y=Y.e)for(var ze=0;ze<3;++ze){var Ze=Y.g[ze];Ze<Te[ze]&&(Te[ze]=Ze,Be[ze]=Y),Ze>ee[ze]&&(ee[ze]=Ze,ge[ze]=Y)}if(ee[1]-Te[1]>ee[Y=0]-Te[0]&&(Y=1),Te[Y=ee[2]-Te[2]>ee[Y]-Te[Y]?2:Y]>=ee[Y])Se[0]=0,Se[1]=0,Se[2]=1;else{for(Te=Be[Y],ge=ge[Y],Be=[ee=0,0,0],Te=[Te.g[0]-ge.g[0],Te.g[1]-ge.g[1],Te.g[2]-ge.g[2]],ze=[0,0,0],Y=ye.e;Y!==ye;Y=Y.e)ze[0]=Y.g[0]-ge.g[0],ze[1]=Y.g[1]-ge.g[1],ze[2]=Y.g[2]-ge.g[2],Be[0]=Te[1]*ze[2]-Te[2]*ze[1],Be[1]=Te[2]*ze[0]-Te[0]*ze[2],Be[2]=Te[0]*ze[1]-Te[1]*ze[0],ee<(Ze=Be[0]*Be[0]+Be[1]*Be[1]+Be[2]*Be[2])&&(ee=Ze,Se[0]=Be[0],Se[1]=Be[1],Se[2]=Be[2]);ee<=0&&(Se[0]=Se[1]=Se[2]=0,Se[j(Te)]=1)}ye=!0}for(Be=j(Se),Y=this.b.c,ee=(Be+1)%3,ge=(Be+2)%3,Be=0<Se[Be]?1:-1,Se=Y.e;Se!==Y;Se=Se.e)Se.b=Se.g[ee],Se.a=Be*Se.g[ge];if(ye){for(Se=0,Y=(ye=this.b.a).b;Y!==ye;Y=Y.b)if(!((ee=Y.a).f<=0))for(;Se+=(ee.a.b-ee.b.a.b)*(ee.a.a+ee.b.a.a),(ee=ee.e)!==Y.a;);if(Se<0)for(ye=(Se=this.b.c).e;ye!==Se;ye=ye.e)ye.a=-ye.a}for(this.n=!1,Se=this.b.b,Y=Se.h;Y!==Se;Y=ye)ye=Y.h,ee=Y.e,l(Y.a,Y.b.a)&&Y.e.e!==Y&&(P(this,ee,Y),g(Y),ee=(Y=ee).e),ee.e===Y&&(ee!==Y&&(ee!==ye&&ee!==ye.b||(ye=ye.h),g(ee)),Y!==ye&&Y!==ye.b||(ye=ye.h),g(Y));for(this.e=Se=new me,ye=this.b.c,Y=ye.e;Y!==ye;Y=Y.e)Y.h=_e(Se,Y);var dt=Se;dt.d=[];for(var ut=0;ut<dt.a;ut++)dt.d[ut]=ut;dt.d.sort(function(ht){return function(tr,en){return u(ht[tr],ht[en])?1:-1}}(dt.c)),dt.e=!0;for(var it=dt.b,ft=it.a;1<=ft;--ft)Ye(it,ft);for(it.h=!0,this.f=new ie(this),re(this,-4e150),re(this,4e150);(Se=Ie(this.e))!==null;){for(;;){e:if((Y=this.e).a===0)ye=Pe(Y.b);else if(ye=Y.c[Y.d[Y.a-1]],Y.b.a!==0&&u(Y=Pe(Y.b),ye)){ye=Y;break e}if(ye===null||!l(ye,Se))break;ye=Ie(this.e),P(this,Se.c,ye.c)}(function ht(tr,en){for(var Fr,Jt=(tr.a=en).c;Jt.i===null;)if((Jt=Jt.c)===en.c){var Jt=tr,cr=en;(or=new Ce).a=cr.c.b;for(var Qr=(qt=Jt.f).a;(Qr=Qr.a).b!==null&&!qt.c(qt.b,or,Qr.b););var qt,Zr,qr=oe(qt=Qr.b),or=qt.a,Qr=qr.a;return void(m(or.b.a,cr,or.a)===0?l((or=qt.a).a,cr)||l(or.b.a,cr)||(w(or.b),qt.c&&(g(or.c),qt.c=!1),v(cr.c,or),ht(Jt,cr)):(Zr=u(Qr.b.a,or.b.a)?qt:qr,qr=void 0,qt.d||Zr.c?(qr=Zr===qt?b(cr.c.b,or.e):b(Qr.b.c.b,cr.c).b,Zr.c?B(Zr,qr):((qt=q(or=Jt,qt,qr)).f=ae(qt).f+qt.a.f,qt.d=G(or,qt.f)),ht(Jt,cr)):Q(Jt,qt,cr.c,cr.c,null,!0)))}qt=(or=oe(Jt=k(Jt.i))).a,(or=W(tr,or,null)).c===qt?(or=(qt=or).c,Qr=oe(Jt),qr=Jt.a,Zr=Qr.a,Fr=!1,qr.b.a!==Zr.b.a&&H(tr,Jt),l(qr.a,tr.a)&&(v(or.b.e,qr),or=oe(Jt=k(Jt)).a,W(tr,oe(Jt),Qr),Fr=!0),l(Zr.a,tr.a)&&(v(qt,Zr.b.e),qt=W(tr,Qr,null),Fr=!0),Fr?Q(tr,Jt,qt.c,or,or,!0):(cr=u(Zr.a,qr.a)?Zr.b.e:qr,Q(tr,Jt,cr=b(qt.c.b,cr),cr.c,cr.c,!1),cr.b.i.c=!0,K(tr,Jt))):Q(tr,Jt,or.c,qt,qt,!0)})(this,Se)}for(this.a=this.f.a.a.b.a.a,Se=0;(ye=this.f.a.a.b)!==null;)ye.h||++Se,L(ye);for(this.f=null,(Se=this.e).b=null,Se.d=null,this.e=Se.c=null,Se=this.b,Y=Se.a.b;Y!==Se.a;Y=ye)ye=Y.b,(Y=Y.a).e.e===Y&&(F(Y.c,Y),g(Y));if(!this.n){if(Se=this.b,this.m)for(Y=Se.b.h;Y!==Se.b;Y=ye)ye=Y.h,Y.b.d.c!==Y.d.c?Y.f=Y.d.c?1:-1:g(Y);else for(Y=Se.a.b;Y!==Se.a;Y=ye)if(ye=Y.b,Y.c){for(Y=Y.a;u(Y.b.a,Y.a);Y=Y.c.b);for(;u(Y.a,Y.b.a);Y=Y.e);for(ee=Y.c.b,ge=void 0;Y.e!==ee;)if(u(Y.b.a,ee.a)){for(;ee.e!==Y&&(u((J=ee.e).b.a,J.a)||m(ee.a,ee.b.a,ee.e.b.a)<=0);)ee=(ge=b(ee.e,ee)).b;ee=ee.c.b}else{for(;ee.e!==Y&&(u((X=Y.c.b).a,X.b.a)||0<=m(Y.b.a,Y.a,Y.c.b.a));)Y=(ge=b(Y,Y.c.b)).b;Y=Y.e}for(;ee.e.e!==Y;)ge=b(ee.e,ee),ee=ge.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ye=(Se=this.b).a.b;ye!==Se.a;ye=ye.b)if(ye.c){for(this.h&&this.h(2,this.c),Y=ye.a;this.k&&this.k(Y.a.d,this.c),(Y=Y.e)!==ye.a;);this.i&&this.i(this.c)}}else{for(Se=this.b,ye=!!this.l,Y=!1,ee=-1,ge=Se.a.d;ge!==Se.a;ge=ge.d)if(ge.c)for(Y||(this.h&&this.h(4,this.c),Y=!0),Be=ge.a;ye&&(Te=Be.b.d.c?0:1,ee!==Te&&(ee=Te,this.l&&this.l(!!ee,this.c))),this.k&&this.k(Be.a.d,this.c),(Be=Be.e)!==ge.a;);Y&&this.i&&this.i(this.c)}if(this.r){for(Se=this.b,Y=Se.a.b;Y!==Se.a;Y=ye)if(ye=Y.b,!Y.c){for(ge=(ee=Y.a).e,Be=void 0;ge=(Be=ge).e,(Be.d=null)===Be.b.d&&(Be.c===Be?S(Be.a,null):(Be.a.c=Be.c,D(Be,Be.b.e)),(Te=Be.b).c===Te?S(Te.a,null):(Te.a.c=Te.c,D(Te,Te.b.e)),E(Be)),Be!==ee;);ee=Y.d,((Y=Y.b).d=ee).b=Y}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:he,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},he.prototype.gluDeleteTess=he.prototype.x,he.prototype.gluTessProperty=he.prototype.B,he.prototype.gluGetTessProperty=he.prototype.y,he.prototype.gluTessNormal=he.prototype.A,he.prototype.gluTessCallback=he.prototype.z,he.prototype.gluTessVertex=he.prototype.C,he.prototype.gluTessBeginPolygon=he.prototype.u,he.prototype.gluTessBeginContour=he.prototype.t,he.prototype.gluTessEndContour=he.prototype.v,he.prototype.gluTessEndPolygon=he.prototype.w,i!==void 0&&(i.exports=this.libtess)},{}],256:[function(t,i,s){"use strict";function a(u,c,m,y){var d=0,h=(y=y===void 0?{}:y).loop===void 0?null:y.loop,p=y.palette===void 0?null:y.palette;if(c<=0||m<=0||65535<c||65535<m)throw new Error("Width/Height invalid.");function f(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}u[d++]=71,u[d++]=73,u[d++]=70,u[d++]=56,u[d++]=57,u[d++]=97;var v=0,g=0;if(p!==null){for(var w=f(p);w>>=1;)++v;if(w=1<<v,--v,y.background!==void 0){if(w<=(g=y.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(u[d++]=255&c,u[d++]=c>>8&255,u[d++]=255&m,u[d++]=m>>8&255,u[d++]=(p!==null?128:0)|v,u[d++]=g,u[d++]=0,p!==null)for(var b=0,_=p.length;b<_;++b){var D=p[b];u[d++]=D>>16&255,u[d++]=D>>8&255,u[d++]=255&D}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");u[d++]=33,u[d++]=255,u[d++]=11,u[d++]=78,u[d++]=69,u[d++]=84,u[d++]=83,u[d++]=67,u[d++]=65,u[d++]=80,u[d++]=69,u[d++]=50,u[d++]=46,u[d++]=48,u[d++]=3,u[d++]=1,u[d++]=255&h,u[d++]=h>>8&255,u[d++]=0}var C=!1;this.addFrame=function(M,E,S,O,j,F){if(C===!0&&(--d,C=!1),F=F===void 0?{}:F,M<0||E<0||65535<M||65535<E)throw new Error("x/y invalid.");if(S<=0||O<=0||65535<S||65535<O)throw new Error("Width/Height invalid.");if(j.length<S*O)throw new Error("Not enough pixels for the frame size.");var I=!0,L=F.palette;if(L==null&&(I=!1,L=p),L==null)throw new Error("Must supply either a local or global palette.");for(var k=f(L),B=0;k>>=1;)++B;var k=1<<B,q=F.delay===void 0?0:F.delay,G=F.disposal===void 0?0:F.disposal;if(G<0||3<G)throw new Error("Disposal out of range.");var V=!1,W=0;if(F.transparent!==void 0&&F.transparent!==null&&(V=!0,(W=F.transparent)<0||k<=W))throw new Error("Transparent color index.");if(G===0&&!V&&q===0||(u[d++]=33,u[d++]=249,u[d++]=4,u[d++]=G<<2|(V===!0?1:0),u[d++]=255&q,u[d++]=q>>8&255,u[d++]=W,u[d++]=0),u[d++]=44,u[d++]=255&M,u[d++]=M>>8&255,u[d++]=255&E,u[d++]=E>>8&255,u[d++]=255&S,u[d++]=S>>8&255,u[d++]=255&O,u[d++]=O>>8&255,u[d++]=I===!0?128|B-1:0,I===!0)for(var Q=0,ue=L.length;Q<ue;++Q){var P=L[Q];u[d++]=P>>16&255,u[d++]=P>>8&255,u[d++]=255&P}return d=function(A,U,H,K){A[U++]=H;var re=U++,ie=1<<H,ce=ie-1,se=1+ie,he=1+se,le=H+1,te=0,pe=0;function ve(He){for(;He<=te;)A[U++]=255&pe,pe>>=8,te-=8,U===re+256&&(A[re]=255,re=U++)}function Me(He){pe|=He<<te,te+=le,ve(8)}var xe=K[0]&ce,me={};Me(ie);for(var _e=1,Ie=K.length;_e<Ie;++_e){var De=K[_e]&ce,Ge=xe<<8|De,Pe=me[Ge];if(Pe===void 0){for(pe|=xe<<te,te+=le;8<=te;)A[U++]=255&pe,pe>>=8,te-=8,U===re+256&&(A[re]=255,re=U++);he===4096?(Me(ie),he=1+se,le=H+1,me={}):(1<<le<=he&&++le,me[Ge]=he++),xe=De}else xe=Pe}return Me(xe),Me(se),ve(1),re+1===U?A[re]=0:(A[re]=U-re-1,A[U++]=0),U}(u,d,B<2?2:B,j)},this.end=function(){return C===!1&&(u[d++]=59,C=!0),d},this.getOutputBuffer=function(){return u},this.setOutputBuffer=function(M){u=M},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(M){d=M}}function l(u,c,m,y){for(var d=u[c++],h=1<<d,p=1+h,f=1+p,v=d+1,g=(1<<v)-1,w=0,b=0,_=0,D=u[c++],C=new Int32Array(4096),M=null;;){for(;w<16&&D!==0;)b|=u[c++]<<w,w+=8,D===1?D=u[c++]:--D;if(w<v)break;var E=b&g;if(b>>=v,w-=v,E==h)f=1+p,g=(1<<(v=d+1))-1,M=null;else{if(E==p)break;for(var S=E<f?E:M,O=0,j=S;h<j;)j=C[j]>>8,++O;var F=j;if(y<_+O+(S!==E?1:0))return void console.log("Warning, gif stream longer than expected.");m[_++]=F;var I=_+=O;for(S!==E&&(m[_++]=F),j=S;O--;)j=C[j],m[--I]=255&j,j>>=8;M!==null&&f<4096&&(C[f++]=M<<8|F,g+1<=f&&v<12&&(++v,g=g<<1|1)),M=E}}_!==y&&console.log("Warning, gif stream shorter than expected.")}try{s.GifWriter=a,s.GifReader=function(u){var c=0;if(u[c++]!==71||u[c++]!==73||u[c++]!==70||u[c++]!==56||(u[c++]+1&253)!=56||u[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=u[c++]|u[c++]<<8,y=u[c++]|u[c++]<<8,d=u[c++],h=1<<1+(7&d),p=(u[c++],u[c++],null),f=null,v=(d>>7&&(p=c,c+=3*(f=h)),!0),g=[],w=0,b=null,_=0,D=null;for(this.width=m,this.height=y;v&&c<u.length;)switch(u[c++]){case 33:switch(u[c++]){case 255:if(u[c]!==11||u[c+1]==78&&u[c+2]==69&&u[c+3]==84&&u[c+4]==83&&u[c+5]==67&&u[c+6]==65&&u[c+7]==80&&u[c+8]==69&&u[c+9]==50&&u[c+10]==46&&u[c+11]==48&&u[c+12]==3&&u[c+13]==1&&u[c+16]==0)c+=14,D=u[c++]|u[c++]<<8,c++;else for(c+=12;;){if(!(0<=(M=u[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}break;case 249:if(u[c++]!==4||u[c+4]!==0)throw new Error("Invalid graphics extension block.");var C=u[c++],w=u[c++]|u[c++]<<8,b=u[c++];!(1&C)&&(b=null),_=C>>2&7,c++;break;case 254:for(;;){if(!(0<=(M=u[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}break;default:throw new Error("Unknown graphic control label: 0x"+u[c-1].toString(16))}break;case 44:var M,E=u[c++]|u[c++]<<8,S=u[c++]|u[c++]<<8,O=u[c++]|u[c++]<<8,j=u[c++]|u[c++]<<8,q=u[c++],F=q>>6&1,I=1<<1+(7&q),L=p,B=f,k=!1,q=(q>>7&&(k=!0,L=c,c+=3*(B=I)),c);for(c++;;){if(!(0<=(M=u[c++])))throw Error("Invalid block size");if(M===0)break;c+=M}g.push({x:E,y:S,width:O,height:j,has_local_palette:k,palette_offset:L,palette_size:B,data_offset:q,data_length:c-q,transparent_index:b,interlaced:!!F,delay:w,disposal:_});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+u[c-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return D},this.frameInfo=function(G){if(G<0||G>=g.length)throw new Error("Frame index out of range.");return g[G]},this.decodeAndBlitFrameBGRA=function(G,V){for(var G=this.frameInfo(G),W=G.width*G.height,Q=new Uint8Array(W),ue=(l(u,G.data_offset,Q,W),G.palette_offset),P=G.transparent_index,A=(P===null&&(P=256),G.width),U=m-A,H=A,K=4*(G.y*m+G.x),re=4*((G.y+G.height)*m+G.x),ie=K,ce=4*U,se=(G.interlaced===!0&&(ce+=4*m*7),8),he=0,le=Q.length;he<le;++he){var te,pe,ve=Q[he];H===0&&(H=A,re<=(ie+=ce)&&(ce=4*U+4*m*(se-1),ie=K+(A+U)*(se<<1),se>>=1)),ve===P?ie+=4:(te=u[ue+3*ve],pe=u[ue+3*ve+1],ve=u[ue+3*ve+2],V[ie++]=ve,V[ie++]=pe,V[ie++]=te,V[ie++]=255),--H}},this.decodeAndBlitFrameRGBA=function(G,V){for(var G=this.frameInfo(G),W=G.width*G.height,Q=new Uint8Array(W),ue=(l(u,G.data_offset,Q,W),G.palette_offset),P=G.transparent_index,A=(P===null&&(P=256),G.width),U=m-A,H=A,K=4*(G.y*m+G.x),re=4*((G.y+G.height)*m+G.x),ie=K,ce=4*U,se=(G.interlaced===!0&&(ce+=4*m*7),8),he=0,le=Q.length;he<le;++he){var te,pe,ve=Q[he];H===0&&(H=A,re<=(ie+=ce)&&(ce=4*U+4*m*(se-1),ie=K+(A+U)*(se<<1),se>>=1)),ve===P?ie+=4:(te=u[ue+3*ve],pe=u[ue+3*ve+1],ve=u[ue+3*ve+2],V[ie++]=te,V[ie++]=pe,V[ie++]=ve,V[ie++]=255),--H}}}}catch{}},{}],257:[function(t,i,s){(function(a){var l,u;l=this,u=function(c){"use strict";function m(z){if(this==null)throw TypeError();var T,N=String(this),R=N.length,z=z?Number(z):0;if(!((z=z!=z?0:z)<0||R<=z))return 55296<=(T=N.charCodeAt(z))&&T<=56319&&z+1<R&&56320<=(R=N.charCodeAt(z+1))&&R<=57343?1024*(T-55296)+R-56320+65536:T}String.prototype.codePointAt||((y=function(){try{var x={},T=Object.defineProperty,N=T(x,x,x)&&T}catch{}return N}())?y(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var y,d=0,h=-3;function p(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(x,T){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=T,this.destLen=0,this.ltree=new p,this.dtree=new p}var v=new p,g=new p,w=new Uint8Array(30),b=new Uint16Array(30),_=new Uint8Array(30),D=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new p,E=new Uint8Array(320);function S(x,T,N,R){for(var z,$=0;$<N;++$)x[$]=0;for($=0;$<30-N;++$)x[$+N]=$/N|0;for(z=R,$=0;$<30;++$)T[$]=z,z+=1<<x[$]}var O=new Uint16Array(16);function j(x,T,N,R){for(var z,$=0;$<16;++$)x.table[$]=0;for($=0;$<R;++$)x.table[T[N+$]]++;for($=z=x.table[0]=0;$<16;++$)O[$]=z,z+=x.table[$];for($=0;$<R;++$)T[N+$]&&(x.trans[O[T[N+$]]++]=$)}function F(x,T,N){if(!T)return N;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var R=x.tag&65535>>>16-T;return x.tag>>>=T,x.bitcount-=T,R+N}function I(x,T){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var N=0,R=0,z=0,$=x.tag;R=2*R+(1&$),$>>>=1,N+=T.table[++z],0<=(R-=T.table[z]););return x.tag=$,x.bitcount-=z,T.trans[N+R]}function L(x,T,N){for(;;){var R=I(x,T);if(R===256)return d;if(R<256)x.dest[x.destLen++]=R;else for(var z,$=F(x,w[R-=257],b[R]),R=I(x,N),Z=z=x.destLen-F(x,_[R],D[R]);Z<z+$;++Z)x.dest[x.destLen++]=x.dest[Z]}}for(var B=v,k=g,q=0;q<7;++q)B.table[q]=0;for(B.table[7]=24,B.table[8]=152,B.table[9]=112,q=0;q<24;++q)B.trans[q]=256+q;for(q=0;q<144;++q)B.trans[24+q]=q;for(q=0;q<8;++q)B.trans[168+q]=280+q;for(q=0;q<112;++q)B.trans[176+q]=144+q;for(q=0;q<5;++q)k.table[q]=0;for(k.table[5]=32,q=0;q<32;++q)k.trans[q]=q;S(w,b,4,3),S(_,D,2,1),w[28]=0,b[28]=258;var G=function(x,T){var N,R,z,$=new f(x,T);do{switch(z=void 0,(R=$).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),z=1&R.tag,R.tag>>>=1,R=z,F($,2,0)){case 0:N=function(Oe){for(var pt,Et;8<Oe.bitcount;)Oe.sourceIndex--,Oe.bitcount-=8;if((pt=256*Oe.source[Oe.sourceIndex+1]+Oe.source[Oe.sourceIndex])!==(65535&~(256*Oe.source[Oe.sourceIndex+3]+Oe.source[Oe.sourceIndex+2])))return h;for(Oe.sourceIndex+=4,Et=pt;Et;--Et)Oe.dest[Oe.destLen++]=Oe.source[Oe.sourceIndex++];return Oe.bitcount=0,d}($);break;case 1:N=L($,v,g);break;case 2:Re=Fe=Ue=Ne=Z=be=Ae=je=Ee=de=fe=ne=void 0;for(var Z,ne=$,fe=$.ltree,de=$.dtree,Ee=F(ne,5,257),je=F(ne,5,1),Ae=F(ne,4,4),be=0;be<19;++be)E[be]=0;for(be=0;be<Ae;++be){var Ue=F(ne,3,0);E[C[be]]=Ue}for(j(M,E,0,19),Z=0;Z<Ee+je;){var Fe=I(ne,M);switch(Fe){case 16:for(var Re=E[Z-1],Ne=F(ne,2,3);Ne;--Ne)E[Z++]=Re;break;case 17:for(Ne=F(ne,3,3);Ne;--Ne)E[Z++]=0;break;case 18:for(Ne=F(ne,7,11);Ne;--Ne)E[Z++]=0;break;default:E[Z++]=Fe}}j(fe,E,0,Ee),j(de,E,Ee,je),N=L($,$.ltree,$.dtree);break;default:N=h}if(N!==d)throw new Error("Data error")}while(!R);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function V(x,T,N,R,z){return Math.pow(1-z,3)*x+3*Math.pow(1-z,2)*z*T+3*(1-z)*Math.pow(z,2)*N+Math.pow(z,3)*R}function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ue(x){throw new Error(x)}function P(x,T){x||ue(T)}W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(x,T){typeof x=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof T=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=T,this.y2=T),T<this.y1&&(this.y1=T),T>this.y2&&(this.y2=T))},W.prototype.addX=function(x){this.addPoint(x,null)},W.prototype.addY=function(x){this.addPoint(null,x)},W.prototype.addBezier=function(x,T,N,R,z,$,Z,ne){var fe=[x,T],de=[N,R],Ee=[z,$],je=[Z,ne];this.addPoint(x,T),this.addPoint(Z,ne);for(var Ae=0;Ae<=1;Ae++){var be,Ue=6*fe[Ae]-12*de[Ae]+6*Ee[Ae],Fe=-3*fe[Ae]+9*de[Ae]-9*Ee[Ae]+3*je[Ae],Re=3*de[Ae]-3*fe[Ae];Fe==0?Ue==0||0<(be=-Re/Ue)&&be<1&&(Ae===0&&this.addX(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],be)),Ae===1&&this.addY(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],be))):(be=Math.pow(Ue,2)-4*Re*Fe)<0||(0<(Re=(-Ue+Math.sqrt(be))/(2*Fe))&&Re<1&&(Ae===0&&this.addX(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],Re)),Ae===1&&this.addY(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],Re))),0<(Re=(-Ue-Math.sqrt(be))/(2*Fe))&&Re<1&&(Ae===0&&this.addX(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],Re)),Ae===1&&this.addY(V(fe[Ae],de[Ae],Ee[Ae],je[Ae],Re))))}},W.prototype.addQuad=function(x,T,N,R,z,$){N=x+2/3*(N-x),R=T+2/3*(R-T),this.addBezier(x,T,N,R,N+1/3*(z-x),R+1/3*($-T),z,$)},Q.prototype.moveTo=function(x,T){this.commands.push({type:"M",x,y:T})},Q.prototype.lineTo=function(x,T){this.commands.push({type:"L",x,y:T})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(x,T,N,R,z,$){this.commands.push({type:"C",x1:x,y1:T,x2:N,y2:R,x:z,y:$})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(x,T,N,R){this.commands.push({type:"Q",x1:x,y1:T,x:N,y:R})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(x){var T;if(x.commands)x=x.commands;else if(x instanceof W)return T=x,this.moveTo(T.x1,T.y1),this.lineTo(T.x2,T.y1),this.lineTo(T.x2,T.y2),this.lineTo(T.x1,T.y2),void this.close();Array.prototype.push.apply(this.commands,x)},Q.prototype.getBoundingBox=function(){for(var x=new W,T=0,N=0,R=0,z=0,$=0;$<this.commands.length;$++){var Z=this.commands[$];switch(Z.type){case"M":x.addPoint(Z.x,Z.y),T=R=Z.x,N=z=Z.y;break;case"L":x.addPoint(Z.x,Z.y),R=Z.x,z=Z.y;break;case"Q":x.addQuad(R,z,Z.x1,Z.y1,Z.x,Z.y),R=Z.x,z=Z.y;break;case"C":x.addBezier(R,z,Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y),R=Z.x,z=Z.y;break;case"Z":R=T,z=N;break;default:throw new Error("Unexpected path command "+Z.type)}}return x.isEmpty()&&x.addPoint(0,0),x},Q.prototype.draw=function(x){x.beginPath();for(var T=0;T<this.commands.length;T+=1){var N=this.commands[T];N.type==="M"?x.moveTo(N.x,N.y):N.type==="L"?x.lineTo(N.x,N.y):N.type==="C"?x.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?x.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},Q.prototype.toPathData=function(x){function T(){for(var $=arguments,Z="",ne=0;ne<arguments.length;ne+=1){var fe=$[ne];0<=fe&&0<ne&&(Z+=" "),Z+=(fe=fe,Math.round(fe)===fe?""+Math.round(fe):fe.toFixed(x))}return Z}x=x!==void 0?x:2;for(var N="",R=0;R<this.commands.length;R+=1){var z=this.commands[R];z.type==="M"?N+="M"+T(z.x,z.y):z.type==="L"?N+="L"+T(z.x,z.y):z.type==="C"?N+="C"+T(z.x1,z.y1,z.x2,z.y2,z.x,z.y):z.type==="Q"?N+="Q"+T(z.x1,z.y1,z.x,z.y):z.type==="Z"&&(N+="Z")}return N},Q.prototype.toSVG=function(x){var T=(T='<path d="')+this.toPathData(x)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?T+=' fill="none"':T+=' fill="'+this.fill+'"'),this.stroke&&(T+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),T+="/>"},Q.prototype.toDOMElement=function(T){var T=this.toPathData(T),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",T),N};var A={fail:ue,argument:P,assert:P},U={},H={},K={};function re(x){return function(){return x}}H.BYTE=function(x){return A.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},K.BYTE=re(1),H.CHAR=function(x){return[x.charCodeAt(0)]},K.CHAR=re(1),H.CHARARRAY=function(x){for(var T=[],N=0;N<x.length;N+=1)T[N]=x.charCodeAt(N);return T},K.CHARARRAY=function(x){return x.length},H.USHORT=function(x){return[x>>8&255,255&x]},K.USHORT=re(2),H.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},K.SHORT=re(2),H.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},K.UINT24=re(3),H.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},K.ULONG=re(4),H.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},K.LONG=re(4),H.FIXED=H.ULONG,K.FIXED=K.ULONG,H.FWORD=H.SHORT,K.FWORD=K.SHORT,H.UFWORD=H.USHORT,K.UFWORD=K.USHORT,H.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},K.LONGDATETIME=re(8),H.TAG=function(x){return A.argument(x.length===4,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},K.TAG=re(4),H.Card8=H.BYTE,K.Card8=K.BYTE,H.Card16=H.USHORT,K.Card16=K.USHORT,H.OffSize=H.BYTE,K.OffSize=K.BYTE,H.SID=H.USHORT,K.SID=K.USHORT,H.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?H.NUMBER16(x):H.NUMBER32(x)},K.NUMBER=function(x){return H.NUMBER(x).length},H.NUMBER16=function(x){return[28,x>>8&255,255&x]},K.NUMBER16=re(3),H.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},K.NUMBER32=re(5),H.REAL=function(x){for(var T=x.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(T),R=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),T=(Math.round(x*N)/N).toString()),""),z=0,$=T.length;z<$;z+=1){var Z=T[z];R+=Z==="e"?T[++z]==="-"?"c":"b":Z==="."?"a":Z==="-"?"e":Z}for(var ne=[30],fe=0,de=(R+=1&R.length?"f":"ff").length;fe<de;fe+=2)ne.push(parseInt(R.substr(fe,2),16));return ne},K.REAL=function(x){return H.REAL(x).length},H.NAME=H.CHARARRAY,K.NAME=K.CHARARRAY,H.STRING=H.CHARARRAY,K.STRING=K.CHARARRAY,U.UTF8=function(x,T,N){for(var R=[],z=N,$=0;$<z;$++,T+=1)R[$]=x.getUint8(T);return String.fromCharCode.apply(null,R)},U.UTF16=function(x,T,N){for(var R=[],z=N/2,$=0;$<z;$++,T+=2)R[$]=x.getUint16(T);return String.fromCharCode.apply(null,R)},H.UTF16=function(x){for(var T=[],N=0;N<x.length;N+=1){var R=x.charCodeAt(N);T[T.length]=R>>8&255,T[T.length]=255&R}return T},K.UTF16=function(x){return 2*x.length};var ie,ce={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},se=(U.MACSTRING=function(x,T,N,R){var z=ce[R];if(z!==void 0){for(var $="",Z=0;Z<N;Z++){var ne=x.getUint8(T+Z);$+=ne<=127?String.fromCharCode(ne):z[127&ne]}return $}},typeof WeakMap=="function"&&new WeakMap);function he(x){return-128<=x&&x<=127}H.MACSTRING=function(x,T){var N=function(Z){if(!ie)for(var ne in ie={},ce)ie[ne]=new String(ne);var fe=ie[Z];if(fe!==void 0){if(se){var de=se.get(fe);if(de!==void 0)return de}var Ee=ce[Z];if(Ee!==void 0){for(var je={},Ae=0;Ae<Ee.length;Ae++)je[Ee.charCodeAt(Ae)]=Ae+128;return se&&se.set(fe,je),je}}}(T);if(N!==void 0){for(var R=[],z=0;z<x.length;z++){var $=x.charCodeAt(z);if(128<=$&&($=N[$])===void 0)return;R[z]=$}return R}},K.MACSTRING=function(x,T){return x=H.MACSTRING(x,T),x!==void 0?x.length:0},H.VARDELTAS=function(x){for(var R=0,T=[];R<x.length;)var N=x[R],R=(N===0?function(z,$,Z){for(var ne=0,fe=z.length;$<fe&&ne<64&&z[$]===0;)++$,++ne;return Z.push(128|ne-1),$}:-128<=N&&N<=127?function(z,$,Z){for(var ne=0,fe=z.length,de=$;de<fe&&ne<64;){var Ee=z[de];if(!he(Ee)||Ee===0&&de+1<fe&&z[de+1]===0)break;++de,++ne}Z.push(ne-1);for(var je=$;je<de;++je)Z.push(z[je]+256&255);return de}:function(z,$,Z){for(var ne=0,fe=z.length,de=$;de<fe&&ne<64;){var Ee=z[de];if(Ee===0||he(Ee)&&de+1<fe&&he(z[de+1]))break;++de,++ne}Z.push(64|ne-1);for(var je=$;je<de;++je){var Ae=z[je];Z.push(Ae+65536>>8&255,Ae+256&255)}return de})(x,R,T);return T},H.INDEX=function(x){for(var T=1,N=[T],R=[],z=0;z<x.length;z+=1){var $=H.OBJECT(x[z]);Array.prototype.push.apply(R,$),T+=$.length,N.push(T)}if(R.length===0)return[0,0];for(var Z=[],ne=1+Math.floor(Math.log(T)/Math.log(2))/8|0,fe=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][ne],de=0;de<N.length;de+=1){var Ee=fe(N[de]);Array.prototype.push.apply(Z,Ee)}return Array.prototype.concat(H.Card16(x.length),H.OffSize(ne),Z,R)},K.INDEX=function(x){return H.INDEX(x).length},H.DICT=function(x){for(var T=[],N=Object.keys(x),R=N.length,z=0;z<R;z+=1){var $=parseInt(N[z],0),Z=x[$];T=(T=T.concat(H.OPERAND(Z.value,Z.type))).concat(H.OPERATOR($))}return T},K.DICT=function(x){return H.DICT(x).length},H.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},H.OPERAND=function(x,T){var N=[];if(Array.isArray(T))for(var R=0;R<T.length;R+=1)A.argument(x.length===T.length,"Not enough arguments given for type"+T),N=N.concat(H.OPERAND(x[R],T[R]));else if(T==="SID")N=N.concat(H.NUMBER(x));else if(T==="offset")N=N.concat(H.NUMBER32(x));else if(T==="number")N=N.concat(H.NUMBER(x));else{if(T!=="real")throw new Error("Unknown operand type "+T);N=N.concat(H.REAL(x))}return N},H.OP=H.BYTE,K.OP=K.BYTE;var le=typeof WeakMap=="function"&&new WeakMap;function te(x,T,N){for(var R=0;R<T.length;R+=1){var z=T[R];this[z.name]=z.value}if(this.tableName=x,this.fields=T,N)for(var $=Object.keys(N),Z=0;Z<$.length;Z+=1){var ne=$[Z],fe=N[ne];this[ne]!==void 0&&(this[ne]=fe)}}function pe(x,T,N){N===void 0&&(N=T.length);var R=new Array(T.length+1);R[0]={name:x+"Count",type:"USHORT",value:N};for(var z=0;z<T.length;z++)R[z+1]={name:x+z,type:"USHORT",value:T[z]};return R}function ve(x,T,N){var R=T.length,z=new Array(R+1);z[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)z[$+1]={name:x+$,type:"TABLE",value:N(T[$],$)};return z}function Me(x,T,N){var R=T.length,z=[];z[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)z=z.concat(N(T[$],$));return z}function xe(x){x.format===1?te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pe("glyph",x.glyphs))):A.assert(!1,"Can't create coverage table format 2 yet.")}function me(x){te.call(this,"scriptListTable",Me("scriptRecord",x,function(T,N){var R=T.script,z=R.defaultLangSys;return A.assert(!!z,"Unable to write GSUB: script "+T.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:T.tag},{name:"script"+N,type:"TABLE",value:new te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:z.reqFeatureIndex}].concat(pe("featureIndex",z.featureIndexes)))}].concat(Me("langSys",R.langSysRecords,function($,Z){var ne=$.langSys;return[{name:"langSysTag"+Z,type:"TAG",value:$.tag},{name:"langSys"+Z,type:"TABLE",value:new te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ne.reqFeatureIndex}].concat(pe("featureIndex",ne.featureIndexes)))}]})))}]}))}function _e(x){te.call(this,"featureListTable",Me("featureRecord",x,function(T,N){var R=T.feature;return[{name:"featureTag"+N,type:"TAG",value:T.tag},{name:"feature"+N,type:"TABLE",value:new te("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(pe("lookupListIndex",R.lookupListIndexes)))}]}))}function Ie(x,T){te.call(this,"lookupListTable",ve("lookup",x,function(N){var R=T[N.lookupType];return A.assert(!!R,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new te("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(ve("subtable",N.subtables,R)))}))}H.CHARSTRING=function(x){if(le){var T=le.get(x);if(T!==void 0)return T}for(var $=[],N=x.length,R=0;R<N;R+=1)var z=x[R],$=$.concat(H[z.type](z.value));return le&&le.set(x,$),$},K.CHARSTRING=function(x){return H.CHARSTRING(x).length},H.OBJECT=function(x){var T=H[x.type];return A.argument(T!==void 0,"No encoding function for type "+x.type),T(x.value)},K.OBJECT=function(x){var T=K[x.type];return A.argument(T!==void 0,"No sizeOf function for type "+x.type),T(x.value)},H.TABLE=function(x){for(var T=[],N=x.fields.length,R=[],z=[],$=0;$<N;$+=1){var Z=x.fields[$],fe=H[Z.type],ne=(A.argument(fe!==void 0,"No encoding function for field type "+Z.type+" ("+Z.name+")"),x[Z.name]),fe=fe(ne=ne===void 0?Z.value:ne);Z.type==="TABLE"?(z.push(T.length),T=T.concat([0,0]),R.push(fe)):T=T.concat(fe)}for(var de=0;de<R.length;de+=1){var Ee=z[de],je=T.length;A.argument(je<65536,"Table "+x.tableName+" too big."),T[Ee]=je>>8,T[Ee+1]=255&je,T=T.concat(R[de])}return T},K.TABLE=function(x){for(var T=0,N=x.fields.length,R=0;R<N;R+=1){var z=x.fields[R],$=K[z.type],Z=(A.argument($!==void 0,"No sizeOf function for field type "+z.type+" ("+z.name+")"),x[z.name]);T+=$(Z=Z===void 0?z.value:Z),z.type==="TABLE"&&(T+=2)}return T},H.RECORD=H.TABLE,K.RECORD=K.TABLE,H.LITERAL=function(x){return x},K.LITERAL=function(x){return x.length},te.prototype.encode=function(){return H.TABLE(this)},te.prototype.sizeOf=function(){return K.TABLE(this)};var De={Table:te,Record:te,Coverage:(xe.prototype=Object.create(te.prototype)).constructor=xe,ScriptList:(me.prototype=Object.create(te.prototype)).constructor=me,FeatureList:(_e.prototype=Object.create(te.prototype)).constructor=_e,LookupList:(Ie.prototype=Object.create(te.prototype)).constructor=Ie,ushortList:pe,tableList:ve,recordList:Me};function Ge(x,T){return x.getUint8(T)}function Pe(x,T){return x.getUint16(T,!1)}function He(x,T){return x.getUint32(T,!1)}function Ye(x,T){return x.getInt16(T,!1)+x.getUint16(T+2,!1)/65535}var Xe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ce(x,T){this.data=x,this.offset=T,this.relativeOffset=0}Ce.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ce.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ce.prototype.parseCard8=Ce.prototype.parseByte,Ce.prototype.parseCard16=Ce.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ce.prototype.parseSID=Ce.prototype.parseUShort,Ce.prototype.parseOffset16=Ce.prototype.parseUShort,Ce.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ce.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},Ce.prototype.parseOffset32=Ce.prototype.parseULong=function(){var x=He(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ce.prototype.parseFixed=function(){var x=Ye(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ce.prototype.parseString=function(x){var T=this.data,N=this.offset+this.relativeOffset,R="";this.relativeOffset+=x;for(var z=0;z<x;z++)R+=String.fromCharCode(T.getUint8(N+z));return R},Ce.prototype.parseTag=function(){return this.parseString(4)},Ce.prototype.parseLongDateTime=function(){var x=He(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},Ce.prototype.parseVersion=function(x){var T=Pe(this.data,this.offset+this.relativeOffset),N=Pe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,T+N/(x=x===void 0?4096:x)/10},Ce.prototype.skip=function(x,T){this.relativeOffset+=Xe[x]*(T=T===void 0?1:T)},Ce.prototype.parseULongList=function(x){x===void 0&&(x=this.parseULong());for(var T=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)T[z]=N.getUint32(R),R+=4;return this.relativeOffset+=4*x,T},Ce.prototype.parseOffset16List=Ce.prototype.parseUShortList=function(x){x===void 0&&(x=this.parseUShort());for(var T=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)T[z]=N.getUint16(R),R+=2;return this.relativeOffset+=2*x,T},Ce.prototype.parseShortList=function(x){for(var T=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)T[z]=N.getInt16(R),R+=2;return this.relativeOffset+=2*x,T},Ce.prototype.parseByteList=function(x){for(var T=new Array(x),N=this.data,R=this.offset+this.relativeOffset,z=0;z<x;z++)T[z]=N.getUint8(R++);return this.relativeOffset+=x,T},Ce.prototype.parseList=function(x,T){T||(T=x,x=this.parseUShort());for(var N=new Array(x),R=0;R<x;R++)N[R]=T.call(this);return N},Ce.prototype.parseList32=function(x,T){T||(T=x,x=this.parseULong());for(var N=new Array(x),R=0;R<x;R++)N[R]=T.call(this);return N},Ce.prototype.parseRecordList=function(x,T){T||(T=x,x=this.parseUShort());for(var N=new Array(x),R=Object.keys(T),z=0;z<x;z++){for(var $={},Z=0;Z<R.length;Z++){var ne=R[Z],fe=T[ne];$[ne]=fe.call(this)}N[z]=$}return N},Ce.prototype.parseRecordList32=function(x,T){T||(T=x,x=this.parseULong());for(var N=new Array(x),R=Object.keys(T),z=0;z<x;z++){for(var $={},Z=0;Z<R.length;Z++){var ne=R[Z],fe=T[ne];$[ne]=fe.call(this)}N[z]=$}return N},Ce.prototype.parseStruct=function(x){if(typeof x=="function")return x.call(this);for(var T=Object.keys(x),N={},R=0;R<T.length;R++){var z=T[R],$=x[z];N[z]=$.call(this)}return N},Ce.prototype.parseValueRecord=function(x){var T;if((x=x===void 0?this.parseUShort():x)!==0)return T={},1&x&&(T.xPlacement=this.parseShort()),2&x&&(T.yPlacement=this.parseShort()),4&x&&(T.xAdvance=this.parseShort()),8&x&&(T.yAdvance=this.parseShort()),16&x&&(T.xPlaDevice=void 0,this.parseShort()),32&x&&(T.yPlaDevice=void 0,this.parseShort()),64&x&&(T.xAdvDevice=void 0,this.parseShort()),128&x&&(T.yAdvDevice=void 0,this.parseShort()),T},Ce.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),T=this.parseUShort(),N=new Array(T),R=0;R<T;R++)N[R]=this.parseValueRecord(x);return N},Ce.prototype.parsePointer=function(x){var T=this.parseOffset16();if(0<T)return new Ce(this.data,this.offset+T).parseStruct(x)},Ce.prototype.parsePointer32=function(x){var T=this.parseOffset32();if(0<T)return new Ce(this.data,this.offset+T).parseStruct(x)},Ce.prototype.parseListOfLists=function(x){for(var T=this.parseOffset16List(),N=T.length,R=this.relativeOffset,z=new Array(N),$=0;$<N;$++){var Z=T[$];if(Z===0)z[$]=void 0;else if(this.relativeOffset=Z,x){for(var ne=this.parseOffset16List(),fe=new Array(ne.length),de=0;de<ne.length;de++)this.relativeOffset=Z+ne[de],fe[de]=x.call(this);z[$]=fe}else z[$]=this.parseUShortList()}return this.relativeOffset=R,z},Ce.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,T=this.parseUShort(),N=this.parseUShort();if(T===1)return{format:1,glyphs:this.parseUShortList(N)};if(T!==2)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(N),z=0;z<N;z++)R[z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},Ce.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,T=this.parseUShort();if(T===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(T===2)return{format:2,ranges:this.parseRecordList({start:Ce.uShort,end:Ce.uShort,classId:Ce.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},Ce.list=function(x,T){return function(){return this.parseList(x,T)}},Ce.list32=function(x,T){return function(){return this.parseList32(x,T)}},Ce.recordList=function(x,T){return function(){return this.parseRecordList(x,T)}},Ce.recordList32=function(x,T){return function(){return this.parseRecordList32(x,T)}},Ce.pointer=function(x){return function(){return this.parsePointer(x)}},Ce.pointer32=function(x){return function(){return this.parsePointer32(x)}},Ce.tag=Ce.prototype.parseTag,Ce.byte=Ce.prototype.parseByte,Ce.uShort=Ce.offset16=Ce.prototype.parseUShort,Ce.uShortList=Ce.prototype.parseUShortList,Ce.uLong=Ce.offset32=Ce.prototype.parseULong,Ce.uLongList=Ce.prototype.parseULongList,Ce.struct=Ce.prototype.parseStruct,Ce.coverage=Ce.prototype.parseCoverage,Ce.classDef=Ce.prototype.parseClassDef;var oe={reserved:Ce.uShort,reqFeatureIndex:Ce.uShort,featureIndexes:Ce.uShortList},ae=(Ce.prototype.parseScriptList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,script:Ce.pointer({defaultLangSys:Ce.pointer(oe),langSysRecords:Ce.recordList({tag:Ce.tag,langSys:Ce.pointer(oe)})})}))||[]},Ce.prototype.parseFeatureList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,feature:Ce.pointer({featureParams:Ce.offset16,lookupListIndexes:Ce.uShortList})}))||[]},Ce.prototype.parseLookupList=function(x){return this.parsePointer(Ce.list(Ce.pointer(function(){var T=this.parseUShort(),N=(A.argument(1<=T&&T<=9,"GPOS/GSUB lookup type "+T+" unknown."),this.parseUShort()),R=16&N;return{lookupType:T,lookupFlag:N,subtables:this.parseList(Ce.pointer(x[T])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},Ce.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),T=this.parseUShort();return A.argument(x===1&&T<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ce.offset32,featureTableSubstitutionOffset:Ce.offset32})})||[]},{getByte:Ge,getCard8:Ge,getUShort:Pe,getCard16:Pe,getShort:function(x,T){return x.getInt16(T,!1)},getULong:He,getFixed:Ye,getTag:function(x,T){for(var N="",R=T;R<T+4;R+=1)N+=String.fromCharCode(x.getInt8(R));return N},getOffset:function(x,T,N){for(var R=0,z=0;z<N;z+=1)R=(R<<=8)+x.getUint8(T+z);return R},getBytes:function(x,T,N){for(var R=[],z=T;z<N;z+=1)R.push(x.getUint8(z));return R},bytesToString:function(x){for(var T="",N=0;N<x.length;N+=1)T+=String.fromCharCode(x[N]);return T},Parser:Ce}),X={parse:function(x,T){for(var N={},R=(N.version=ae.getUShort(x,T),A.argument(N.version===0,"cmap table version should be 0."),N.numTables=ae.getUShort(x,T+2),-1),z=N.numTables-1;0<=z;--z){var $=ae.getUShort(x,T+4+8*z),Z=ae.getUShort(x,T+4+8*z+2);if($===3&&(Z===0||Z===1||Z===10)||$===0&&(Z===0||Z===1||Z===2||Z===3||Z===4)){R=ae.getULong(x,T+4+8*z+4);break}}if(R===-1)throw new Error("No valid cmap sub-tables found.");var ne=new ae.Parser(x,T+R);if(N.format=ne.parseUShort(),N.format===12){var fe,de=N,Ee=ne;Ee.parseUShort(),de.length=Ee.parseULong(),de.language=Ee.parseULong(),de.groupCount=fe=Ee.parseULong(),de.glyphIndexMap={};for(var je=0;je<fe;je+=1)for(var Ae=Ee.parseULong(),be=Ee.parseULong(),Ue=Ee.parseULong(),Fe=Ae;Fe<=be;Fe+=1)de.glyphIndexMap[Fe]=Ue,Ue++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var Re=N,Ne=x,Oe=T,pt=R;Re.length=ne.parseUShort(),Re.language=ne.parseUShort(),Re.segCount=Et=ne.parseUShort()>>1,ne.skip("uShort",3),Re.glyphIndexMap={};for(var Et,mt=new ae.Parser(Ne,Oe+pt+14),gt=new ae.Parser(Ne,Oe+pt+16+2*Et),It=new ae.Parser(Ne,Oe+pt+16+4*Et),vr=new ae.Parser(Ne,Oe+pt+16+6*Et),kr=Oe+pt+16+8*Et,$r=0;$r<Et-1;$r+=1)for(var yn=void 0,vn=mt.parseUShort(),fo=gt.parseUShort(),fr=It.parseShort(),wr=vr.parseUShort(),ar=fo;ar<=vn;ar+=1)wr!==0?(kr=(kr=vr.offset+vr.relativeOffset-2)+wr+2*(ar-fo),(yn=ae.getUShort(Ne,kr))!==0&&(yn=yn+fr&65535)):yn=ar+fr&65535,Re.glyphIndexMap[ar]=yn}return N},make:function(x){for(var T=!0,N=x.length-1;0<N;--N)if(65535<x.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var R,z,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}],Z=($=($=T?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new De.Table("cmap",$));for(Z.segments=[],N=0;N<x.length;N+=1){for(var ne=x.get(N),fe=0;fe<ne.unicodes.length;fe+=1)R=ne.unicodes[fe],z=N,Z.segments.push({end:R,start:R,delta:-(R-z),offset:0,glyphIndex:z});Z.segments=Z.segments.sort(function(Oe,pt){return Oe.start-pt.start})}Z.segments.push({end:65535,start:65535,delta:1,offset:0});var de=Z.segments.length,Ee=0,je=[],Ae=[],be=[],Ue=[],Fe=[],Re=[];for(N=0;N<de;N+=1){var Ne=Z.segments[N];Ne.end<=65535&&Ne.start<=65535?(je=je.concat({name:"end_"+N,type:"USHORT",value:Ne.end}),Ae=Ae.concat({name:"start_"+N,type:"USHORT",value:Ne.start}),be=be.concat({name:"idDelta_"+N,type:"SHORT",value:Ne.delta}),Ue=Ue.concat({name:"idRangeOffset_"+N,type:"USHORT",value:Ne.offset}),Ne.glyphId!==void 0&&(Fe=Fe.concat({name:"glyph_"+N,type:"USHORT",value:Ne.glyphId}))):Ee+=1,T||Ne.glyphIndex===void 0||(Re=(Re=(Re=Re.concat({name:"cmap12Start_"+N,type:"ULONG",value:Ne.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:Ne.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:Ne.glyphIndex}))}return Z.segCountX2=2*(de-Ee),Z.searchRange=2*Math.pow(2,Math.floor(Math.log(de-Ee)/Math.log(2))),Z.entrySelector=Math.log(Z.searchRange/2)/Math.log(2),Z.rangeShift=Z.segCountX2-Z.searchRange,Z.fields=Z.fields.concat(je),Z.fields.push({name:"reservedPad",type:"USHORT",value:0}),Z.fields=Z.fields.concat(Ae),Z.fields=Z.fields.concat(be),Z.fields=Z.fields.concat(Ue),Z.fields=Z.fields.concat(Fe),Z.cmap4Length=14+2*je.length+2+2*Ae.length+2*be.length+2*Ue.length+2*Fe.length,T||($=16+4*Re.length,Z.cmap12Offset=20+Z.cmap4Length,Z.fields=Z.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Re.length/3}]),Z.fields=Z.fields.concat(Re)),Z}},J=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ye(x){this.font=x}function Se(x){this.cmap=x}function Te(x,T){this.encoding=x,this.charset=T}function Be(x){switch(x.version){case 1:this.names=ge.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var T=0;T<x.numberOfGlyphs;T++)x.glyphNameIndex[T]<ge.length?this.names[T]=ge[x.glyphNameIndex[T]]:this.names[T]=x.names[x.glyphNameIndex[T]-ge.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var N=0;N<x.numberOfGlyphs;N++)this.names[N]=ge[N+x.glyphNameIndex[N]];break;default:this.names=[]}}ye.prototype.charToGlyphIndex=function(x){var T=x.codePointAt(0),N=this.font.glyphs;if(N){for(var R=0;R<N.length;R+=1)for(var z=N.get(R),$=0;$<z.unicodes.length;$+=1)if(z.unicodes[$]===T)return R}return null},Se.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},Te.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),x=this.encoding[x],this.charset.indexOf(x)},Be.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},Be.prototype.glyphIndexToName=function(x){return this.names[x]};var ze={line:function(x,T,N,R,z){x.beginPath(),x.moveTo(T,N),x.lineTo(R,z),x.stroke()}};function Ze(x){this.bindConstructorValues(x)}function dt(x,T,N){Object.defineProperty(x,T,{get:function(){return x.path,x[N]},set:function(R){x[N]=R},enumerable:!0,configurable:!0})}function ut(x,T){if(this.font=x,this.glyphs={},Array.isArray(T))for(var N=0;N<T.length;N++)this.glyphs[N]=T[N];this.length=T&&T.length||0}Ze.prototype.bindConstructorValues=function(x){var T;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||x.unicode!==void 0?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(x=x.path,T=x||new Q,{configurable:!0,get:function(){return T=typeof T=="function"?T():T},set:function(N){T=N}}))},Ze.prototype.addUnicode=function(x){this.unicodes.length===0&&(this.unicode=x),this.unicodes.push(x)},Ze.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ze.prototype.getPath=function(x,T,N,R,z){x=x!==void 0?x:0,T=T!==void 0?T:0,N=N!==void 0?N:72;for(var $,Z,ne=(R=R||{}).xScale,fe=R.yScale,de=(($=R.hinting&&z&&z.hinting?this.path&&z.hinting.exec(this,N):$)?(Z=z.hinting.getCommands($),x=Math.round(x),T=Math.round(T),ne=fe=1):(Z=this.path.commands,R=1/this.path.unitsPerEm*N,ne===void 0&&(ne=R),fe===void 0&&(fe=R)),new Q),Ee=0;Ee<Z.length;Ee+=1){var je=Z[Ee];je.type==="M"?de.moveTo(x+je.x*ne,T+-je.y*fe):je.type==="L"?de.lineTo(x+je.x*ne,T+-je.y*fe):je.type==="Q"?de.quadraticCurveTo(x+je.x1*ne,T+-je.y1*fe,x+je.x*ne,T+-je.y*fe):je.type==="C"?de.curveTo(x+je.x1*ne,T+-je.y1*fe,x+je.x2*ne,T+-je.y2*fe,x+je.x*ne,T+-je.y*fe):je.type==="Z"&&de.closePath()}return de},Ze.prototype.getContours=function(){if(this.points===void 0)return[];for(var x=[],T=[],N=0;N<this.points.length;N+=1){var R=this.points[N];T.push(R),R.lastPointOfContour&&(x.push(T),T=[])}return A.argument(T.length===0,"There are still points left in the current contour."),x},Ze.prototype.getMetrics=function(){for(var x=this.path.commands,T=[],N=[],R=0;R<x.length;R+=1){var z=x[R];z.type!=="Z"&&(T.push(z.x),N.push(z.y)),z.type!=="Q"&&z.type!=="C"||(T.push(z.x1),N.push(z.y1)),z.type==="C"&&(T.push(z.x2),N.push(z.y2))}var $={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,T),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},Ze.prototype.draw=function(x,T,N,R,z){this.getPath(T,N,R,z).draw(x)},Ze.prototype.drawPoints=function(x,T,N,R){function z(Ee,je,Ae,be){var Ue=2*Math.PI;x.beginPath();for(var Fe=0;Fe<Ee.length;Fe+=1)x.moveTo(je+Ee[Fe].x*be,Ae+Ee[Fe].y*be),x.arc(je+Ee[Fe].x*be,Ae+Ee[Fe].y*be,2,0,Ue,!1);x.closePath(),x.fill()}T=T!==void 0?T:0,N=N!==void 0?N:0;for(var R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),$=[],Z=[],ne=this.path,fe=0;fe<ne.commands.length;fe+=1){var de=ne.commands[fe];de.x!==void 0&&$.push({x:de.x,y:-de.y}),de.x1!==void 0&&Z.push({x:de.x1,y:-de.y1}),de.x2!==void 0&&Z.push({x:de.x2,y:-de.y2})}x.fillStyle="blue",z($,T,N,R),x.fillStyle="red",z(Z,T,N,R)},Ze.prototype.drawMetrics=function(x,T,N,R){T=T!==void 0?T:0,N=N!==void 0?N:0,R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),x.lineWidth=1,x.strokeStyle="black",ze.line(x,T,-1e4,T,1e4),ze.line(x,-1e4,N,1e4,N);var z=this.xMin||0,$=this.yMin||0,Z=this.xMax||0,ne=this.yMax||0,fe=this.advanceWidth||0;x.strokeStyle="blue",ze.line(x,T+z*R,-1e4,T+z*R,1e4),ze.line(x,T+Z*R,-1e4,T+Z*R,1e4),ze.line(x,-1e4,N+-$*R,1e4,N+-$*R),ze.line(x,-1e4,N+-ne*R,1e4,N+-ne*R),x.strokeStyle="green",ze.line(x,T+fe*R,-1e4,T+fe*R,1e4)},ut.prototype.get=function(x){return typeof this.glyphs[x]=="function"&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},ut.prototype.push=function(x,T){this.glyphs[x]=T,this.length++};var it={GlyphSet:ut,glyphLoader:function(x,T){return new Ze({index:T,font:x})},ttfGlyphLoader:function(x,T,N,R,z,$){return function(){var Z=new Ze({index:T,font:x});return Z.path=function(){N(Z,R,z);var ne=$(x.glyphs,Z);return ne.unitsPerEm=x.unitsPerEm,ne},dt(Z,"xMin","_xMin"),dt(Z,"xMax","_xMax"),dt(Z,"yMin","_yMin"),dt(Z,"yMax","_yMax"),Z}},cffGlyphLoader:function(x,T,N,R){return function(){var z=new Ze({index:T,font:x});return z.path=function(){var $=N(x,z,R);return $.unitsPerEm=x.unitsPerEm,$},z}}};function ft(x){return x=x.length<1240?107:x.length<33900?1131:32768,x}function ht(x,T,N){var R,z=[],$=[],Z=ae.getCard16(x,T);if(Z!==0){for(var ne=ae.getByte(x,T+2),fe=T+(Z+1)*ne+2,de=T+3,Ee=0;Ee<Z+1;Ee+=1)z.push(ae.getOffset(x,de,ne)),de+=ne;R=fe+z[Z]}else R=T+2;for(var je=0;je<z.length-1;je+=1){var Ae=ae.getBytes(x,fe+z[je],fe+z[je+1]);N&&(Ae=N(Ae)),$.push(Ae)}return{objects:$,startOffset:T,endOffset:R}}function tr(x,T){if(T===28)return x.parseByte()<<8|x.parseByte();if(T===29)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(T===30){for(var N=x,R="",z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Z=N.parseByte(),$=Z>>4,Z=15&Z;if($==15||(R+=z[$],Z==15))break;R+=z[Z]}return parseFloat(R)}if(32<=T&&T<=246)return T-139;if(247<=T&&T<=250)return 256*(T-247)+x.parseByte()+108;if(251<=T&&T<=254)return 256*-(T-251)-x.parseByte()-108;throw new Error("Invalid b0 "+T)}function en(x,T,N){var R=new ae.Parser(x,T=T!==void 0?T:0),z=[],$=[];for(N=N!==void 0?N:x.length;R.relativeOffset<N;){var Z=R.parseByte();Z<=21?(Z===12&&(Z=1200+R.parseByte()),z.push([Z,$]),$=[]):$.push(tr(R,Z))}for(var ne=z,fe={},de=0;de<ne.length;de+=1){var Ee=ne[de][0],je=ne[de][1],Ae=void 0,Ae=je.length===1?je[0]:je;if(fe.hasOwnProperty(Ee)&&!isNaN(fe[Ee]))throw new Error("Object "+fe+" already has key "+Ee);fe[Ee]=Ae}return fe}function Fr(x,T){return T=T<=390?J[T]:x[T-391]}function Jt(x,T,N){for(var R,z={},$=0;$<T.length;$+=1){var Z=T[$];if(Array.isArray(Z.type)){var ne=[];ne.length=Z.type.length;for(var fe=0;fe<Z.type.length;fe++)(R=x[Z.op]!==void 0?x[Z.op][fe]:void 0)===void 0&&(R=Z.value!==void 0&&Z.value[fe]!==void 0?Z.value[fe]:null),Z.type[fe]==="SID"&&(R=Fr(N,R)),ne[fe]=R;z[Z.name]=ne}else(R=x[Z.op])===void 0&&(R=Z.value!==void 0?Z.value:null),Z.type==="SID"&&(R=Fr(N,R)),z[Z.name]=R}return z}var cr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],qt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Zr(x,T,N,R){return Jt(en(x,T,N),qt,R)}function qr(x,T,N,R){for(var z=[],$=0;$<N.length;$+=1){var Z=new DataView(new Uint8Array(N[$]).buffer),Z=(ne=R,Jt(en(Z,0,Z.byteLength),cr,ne)),ne=(Z._subrs=[],Z._subrsBias=0,Z.private[0]),fe=Z.private[1];ne!==0&&fe!==0&&(ne=Zr(x,fe+T,ne,R),Z._defaultWidthX=ne.defaultWidthX,Z._nominalWidthX=ne.nominalWidthX,ne.subrs!==0&&(fe=ht(x,fe+ne.subrs+T),Z._subrs=fe.objects,Z._subrsBias=ft(Z._subrs)),Z._privateDict=ne),z.push(Z)}return z}function or(x,T,N){var R,z,$,Z,ne,fe,de,Ee,je,Ae=new Q,be=[],Ue=0,Fe=!1,Re=!1,Ne=0,Oe=0,pt=(je=(x.isCIDFont?(ne=x.tables.cff.topDict._fdSelect[T.index],ne=x.tables.cff.topDict._fdArray[ne],fe=ne._subrs,de=ne._subrsBias,Ee=ne._defaultWidthX,ne):(fe=x.tables.cff.topDict._subrs,de=x.tables.cff.topDict._subrsBias,Ee=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,Ee);function Et(gt,It){Re&&Ae.closePath(),Ae.moveTo(gt,It),Re=!0}function mt(){be.length%2==0||Fe||(pt=be.shift()+je),Ue+=be.length>>1,be.length=0,Fe=!0}return function gt(It){for(var vr,kr,$r,yn,vn,fo,fr,wr,ar,bn,Ir,ln,_r=0;_r<It.length;){var tn=It[_r];switch(_r+=1,tn){case 1:case 3:mt();break;case 4:1<be.length&&!Fe&&(pt=be.shift()+je,Fe=!0),Oe+=be.pop(),Et(Ne,Oe);break;case 5:for(;0<be.length;)Ne+=be.shift(),Oe+=be.shift(),Ae.lineTo(Ne,Oe);break;case 6:for(;0<be.length&&(Ne+=be.shift(),Ae.lineTo(Ne,Oe),be.length!==0);)Oe+=be.shift(),Ae.lineTo(Ne,Oe);break;case 7:for(;0<be.length&&(Oe+=be.shift(),Ae.lineTo(Ne,Oe),be.length!==0);)Ne+=be.shift(),Ae.lineTo(Ne,Oe);break;case 8:for(;0<be.length;)R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Ae.curveTo(R,z,$,Z,Ne,Oe);break;case 10:vn=be.pop()+de,(fo=fe[vn])&&gt(fo);break;case 11:return;case 12:switch(tn=It[_r],_r+=1,tn){case 35:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),fr=$+be.shift(),wr=Z+be.shift(),ar=fr+be.shift(),bn=wr+be.shift(),Ir=ar+be.shift(),ln=bn+be.shift(),Ne=Ir+be.shift(),Oe=ln+be.shift(),be.shift(),Ae.curveTo(R,z,$,Z,fr,wr),Ae.curveTo(ar,bn,Ir,ln,Ne,Oe);break;case 34:R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),fr=$+be.shift(),wr=Z,ar=fr+be.shift(),bn=Z,Ir=ar+be.shift(),ln=Oe,Ne=Ir+be.shift(),Ae.curveTo(R,z,$,Z,fr,wr),Ae.curveTo(ar,bn,Ir,ln,Ne,Oe);break;case 36:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),fr=$+be.shift(),wr=Z,ar=fr+be.shift(),bn=Z,Ir=ar+be.shift(),ln=bn+be.shift(),Ne=Ir+be.shift(),Ae.curveTo(R,z,$,Z,fr,wr),Ae.curveTo(ar,bn,Ir,ln,Ne,Oe);break;case 37:R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),fr=$+be.shift(),wr=Z+be.shift(),ar=fr+be.shift(),bn=wr+be.shift(),Ir=ar+be.shift(),ln=bn+be.shift(),Math.abs(Ir-Ne)>Math.abs(ln-Oe)?Ne=Ir+be.shift():Oe=ln+be.shift(),Ae.curveTo(R,z,$,Z,fr,wr),Ae.curveTo(ar,bn,Ir,ln,Ne,Oe);break;default:console.log("Glyph "+T.index+": unknown operator 1200"+tn),be.length=0}break;case 14:0<be.length&&!Fe&&(pt=be.shift()+je,Fe=!0),Re&&(Ae.closePath(),Re=!1);break;case 18:mt();break;case 19:case 20:mt(),_r+=Ue+7>>3;break;case 21:2<be.length&&!Fe&&(pt=be.shift()+je,Fe=!0),Oe+=be.pop(),Et(Ne+=be.pop(),Oe);break;case 22:1<be.length&&!Fe&&(pt=be.shift()+je,Fe=!0),Et(Ne+=be.pop(),Oe);break;case 23:mt();break;case 24:for(;2<be.length;)R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Ae.curveTo(R,z,$,Z,Ne,Oe);Ne+=be.shift(),Oe+=be.shift(),Ae.lineTo(Ne,Oe);break;case 25:for(;6<be.length;)Ne+=be.shift(),Oe+=be.shift(),Ae.lineTo(Ne,Oe);R=Ne+be.shift(),z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+be.shift(),Ae.curveTo(R,z,$,Z,Ne,Oe);break;case 26:for(be.length%2&&(Ne+=be.shift());0<be.length;)R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$,Oe=Z+be.shift(),Ae.curveTo(R,z,$,Z,Ne,Oe);break;case 27:for(be.length%2&&(Oe+=be.shift());0<be.length;)R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z,Ae.curveTo(R,z,$,Z,Ne,Oe);break;case 28:vr=It[_r],kr=It[_r+1],be.push((vr<<24|kr<<16)>>16),_r+=2;break;case 29:vn=be.pop()+x.gsubrsBias,(fo=x.gsubrs[vn])&&gt(fo);break;case 30:for(;0<be.length&&(R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+(be.length===1?be.shift():0),Ae.curveTo(R,z,$,Z,Ne,Oe),be.length!==0);)R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Oe=Z+be.shift(),Ne=$+(be.length===1?be.shift():0),Ae.curveTo(R,z,$,Z,Ne,Oe);break;case 31:for(;0<be.length&&(R=Ne+be.shift(),z=Oe,$=R+be.shift(),Z=z+be.shift(),Oe=Z+be.shift(),Ne=$+(be.length===1?be.shift():0),Ae.curveTo(R,z,$,Z,Ne,Oe),be.length!==0);)R=Ne,z=Oe+be.shift(),$=R+be.shift(),Z=z+be.shift(),Ne=$+be.shift(),Oe=Z+(be.length===1?be.shift():0),Ae.curveTo(R,z,$,Z,Ne,Oe);break;default:tn<32?console.log("Glyph "+T.index+": unknown operator "+tn):tn<247?be.push(tn-139):tn<251?(vr=It[_r],_r+=1,be.push(256*(tn-247)+vr+108)):tn<255?(vr=It[_r],_r+=1,be.push(256*-(tn-251)-vr-108)):(vr=It[_r],kr=It[_r+1],$r=It[_r+2],yn=It[_r+3],_r+=4,be.push((vr<<24|kr<<16|$r<<8|yn)/65536))}}}(N),T.advanceWidth=pt,Ae}function Qr(x,T){var N,R=J.indexOf(x);return 0<=R&&(N=R),0<=(R=T.indexOf(x))?N=R+J.length:(N=J.length+T.length,T.push(x)),N}function ns(x,T,N){for(var R={},z=0;z<x.length;z+=1){var $=x[z],Z=T[$.name];Z===void 0||function ne(fe,de){if(fe===de)return 1;if(Array.isArray(fe)&&Array.isArray(de)&&fe.length===de.length){for(var Ee=0;Ee<fe.length;Ee+=1)if(!ne(fe[Ee],de[Ee]))return;return 1}}(Z,$.value)||($.type==="SID"&&(Z=Qr(Z,N)),R[$.op]={name:$.name,type:$.type,value:Z})}return R}function os(x,T){var N=new De.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=ns(cr,x,T),N}function is(x){var T=new De.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return T.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],T}function Ws(x){for(var T=new De.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<x.length;N+=1){var R=x.get(N),z=function($){for(var Z=[],ne=$.path,fe=(Z.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),de=0,Ee=0;Ee<ne.commands.length;Ee+=1){var je,Ae,be,Ue,Fe=void 0,Re=void 0,Ne=ne.commands[Ee];(Ne=Ne.type==="Q"?{type:"C",x:Ne.x,y:Ne.y,x1:1/3*fe+2/3*Ne.x1,y1:1/3*de+2/3*Ne.y1,x2:1/3*Ne.x+2/3*Ne.x1,y2:1/3*Ne.y+2/3*Ne.y1}:Ne).type==="M"?(Fe=Math.round(Ne.x-fe),Re=Math.round(Ne.y-de),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rmoveto",type:"OP",value:21}),fe=Math.round(Ne.x),de=Math.round(Ne.y)):Ne.type==="L"?(Fe=Math.round(Ne.x-fe),Re=Math.round(Ne.y-de),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rlineto",type:"OP",value:5}),fe=Math.round(Ne.x),de=Math.round(Ne.y)):Ne.type==="C"&&(je=Math.round(Ne.x1-fe),Ae=Math.round(Ne.y1-de),be=Math.round(Ne.x2-Ne.x1),Ue=Math.round(Ne.y2-Ne.y1),Fe=Math.round(Ne.x-Ne.x2),Re=Math.round(Ne.y-Ne.y2),Z.push({name:"dx1",type:"NUMBER",value:je}),Z.push({name:"dy1",type:"NUMBER",value:Ae}),Z.push({name:"dx2",type:"NUMBER",value:be}),Z.push({name:"dy2",type:"NUMBER",value:Ue}),Z.push({name:"dx",type:"NUMBER",value:Fe}),Z.push({name:"dy",type:"NUMBER",value:Re}),Z.push({name:"rrcurveto",type:"OP",value:8}),fe=Math.round(Ne.x),de=Math.round(Ne.y))}return Z.push({name:"endchar",type:"OP",value:14}),Z}(R);T.charStrings.push({name:R.name,type:"CHARSTRING",value:z})}return T}var ss={parse:function(x,T,N){N.tables.cff={},ne=x,R=T,(z={}).formatMajor=ae.getCard8(ne,R),z.formatMinor=ae.getCard8(ne,R+1),z.size=ae.getCard8(ne,R+2),z.offsetSize=ae.getCard8(ne,R+3),z.startOffset=R,z.endOffset=R+4;var ne=ht(x,z.endOffset,ae.bytesToString),R=ht(x,ne.endOffset),z=ht(x,R.endOffset,ae.bytesToString),ne=ht(x,z.endOffset);if(N.gsubrs=ne.objects,N.gsubrsBias=ft(N.gsubrs),(ne=qr(x,T,R.objects,z.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ne.length);if(R=ne[0],(N.tables.cff.topDict=R)._privateDict&&(N.defaultWidthX=R._privateDict.defaultWidthX,N.nominalWidthX=R._privateDict.nominalWidthX),R.ros[0]!==void 0&&R.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var ne=R.fdArray,$=R.fdSelect;if(ne===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ne=qr(x,T,ht(x,ne+=T).objects,z.objects),R._fdArray=ne,R._fdSelect=function(Ae,be,Ue,Fe){var Re,Ne=[],Oe=new ae.Parser(Ae,be);if((Ae=Oe.parseCard8())===0)for(var pt=0;pt<Ue;pt++){if(Fe<=(Re=Oe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Fe+")");Ne.push(Re)}else{if(Ae!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ae);var Et,mt=Oe.parseCard16(),gt=Oe.parseCard16();if(gt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+gt);for(var It=0;It<mt;It++){if(Re=Oe.parseCard8(),Et=Oe.parseCard16(),Fe<=Re)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Fe+")");if(Ue<Et)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Et);for(;gt<Et;gt++)Ne.push(Re);gt=Et}if(Et!==Ue)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Et)}return Ne}(x,$+=T,N.numGlyphs,ne.length)}var $=T+R.private[1],ne=Zr(x,$,R.private[0],z.objects),Z=(N.defaultWidthX=ne.defaultWidthX,N.nominalWidthX=ne.nominalWidthX,ne.subrs!==0?($=ht(x,$+ne.subrs),N.subrs=$.objects,N.subrsBias=ft(N.subrs)):(N.subrs=[],N.subrsBias=0),ht(x,T+R.charStrings)),ne=(N.nGlyphs=Z.objects.length,function(Ee,je,Ae,be){var Ue=new ae.Parser(Ee,je),Fe=(--Ae,[".notdef"]);if((Ee=Ue.parseCard8())===0)for(var Re=0;Re<Ae;Re+=1)Ne=Ue.parseSID(),Fe.push(Fr(be,Ne));else if(Ee===1)for(;Fe.length<=Ae;)for(var Ne=Ue.parseSID(),Oe=Ue.parseCard8(),pt=0;pt<=Oe;pt+=1)Fe.push(Fr(be,Ne)),Ne+=1;else{if(Ee!==2)throw new Error("Unknown charset format "+Ee);for(;Fe.length<=Ae;){Ne=Ue.parseSID(),Oe=Ue.parseCard16();for(var Et=0;Et<=Oe;Et+=1)Fe.push(Fr(be,Ne)),Ne+=1}}return Fe}(x,T+R.charset,N.nGlyphs,z.objects));R.encoding===0?N.cffEncoding=new Te(Y,ne):R.encoding===1?N.cffEncoding=new Te(ee,ne):N.cffEncoding=function(Ee,je,Ae){var be={},Ue=new ae.Parser(Ee,je);if((Ee=Ue.parseCard8())===0)for(var Fe=Ue.parseCard8(),Re=0;Re<Fe;Re+=1)be[Oe=Ue.parseCard8()]=Re;else{if(Ee!==1)throw new Error("Unknown encoding format "+Ee);for(var Ne=Ue.parseCard8(),Oe=1,pt=0;pt<Ne;pt+=1)for(var Et=Ue.parseCard8(),mt=Ue.parseCard8(),gt=Et;gt<=Et+mt;gt+=1)be[gt]=Oe,Oe+=1}return new Te(be,Ae)}(x,T+R.encoding,ne),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new it.GlyphSet(N);for(var fe=0;fe<N.nGlyphs;fe+=1){var de=Z.objects[fe];N.glyphs.push(fe,it.cffGlyphLoader(N,fe,or,de))}},make:function(x,Ee){for(var N,R=new De.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),z=1/Ee.unitsPerEm,z={version:Ee.version,fullName:Ee.fullName,familyName:Ee.familyName,weight:Ee.weightName,fontBBox:Ee.fontBBox||[0,0,0,0],fontMatrix:[z,0,0,z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],Z=1;Z<x.length;Z+=1)N=x.get(Z),$.push(N.name);var ne,fe,de=[],Ee=(R.header=new De.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(Ae){var be=new De.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var Ue=0;Ue<Ae.length;Ue+=1)be.names.push({name:"name_"+Ue,type:"NAME",value:Ae[Ue]});return be}([Ee.postScriptName]),os(z,de)),je=(R.topDictIndex=is(Ee),R.globalSubrIndex=new De.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(Ae,be){for(var Ue=new De.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Fe=0;Fe<Ae.length;Fe+=1){var Re=Qr(Ae[Fe],be);Ue.fields.push({name:"glyph_"+Fe,type:"SID",value:Re})}return Ue}($,de),R.charStringsIndex=Ws(x),R.privateDict=(je={},ne=de,(fe=new De.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ns(qt,je,ne),fe),R.stringIndex=function(Ae){var be=new De.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var Ue=0;Ue<Ae.length;Ue+=1)be.strings.push({name:"string_"+Ue,type:"STRING",value:Ae[Ue]});return be}(de),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return z.charset=je,z.encoding=0,z.charStrings=z.charset+R.charsets.sizeOf(),z.private[1]=z.charStrings+R.charStringsIndex.sizeOf(),Ee=os(z,de),R.topDictIndex=is(Ee),R}},as={parse:function(R,T){var N={},R=new ae.Parser(R,T);return N.version=R.parseVersion(),N.fontRevision=Math.round(1e3*R.parseFixed())/1e3,N.checkSumAdjustment=R.parseULong(),N.magicNumber=R.parseULong(),A.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=R.parseUShort(),N.unitsPerEm=R.parseUShort(),N.created=R.parseLongDateTime(),N.modified=R.parseLongDateTime(),N.xMin=R.parseShort(),N.yMin=R.parseShort(),N.xMax=R.parseShort(),N.yMax=R.parseShort(),N.macStyle=R.parseUShort(),N.lowestRecPPEM=R.parseUShort(),N.fontDirectionHint=R.parseShort(),N.indexToLocFormat=R.parseShort(),N.glyphDataFormat=R.parseShort(),N},make:function(x){var T=Math.round(new Date().getTime()/1e3)+2082844800,N=T;return x.createdTimestamp&&(N=x.createdTimestamp+2082844800),new De.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:T},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)}},we={parse:function(R,T){var N={},R=new ae.Parser(R,T);return N.version=R.parseVersion(),N.ascender=R.parseShort(),N.descender=R.parseShort(),N.lineGap=R.parseShort(),N.advanceWidthMax=R.parseUShort(),N.minLeftSideBearing=R.parseShort(),N.minRightSideBearing=R.parseShort(),N.xMaxExtent=R.parseShort(),N.caretSlopeRise=R.parseShort(),N.caretSlopeRun=R.parseShort(),N.caretOffset=R.parseShort(),R.relativeOffset+=8,N.metricDataFormat=R.parseShort(),N.numberOfHMetrics=R.parseUShort(),N},make:function(x){return new De.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)}},$e={parse:function(x,T,N,R,z){for(var $,Z,ne=new ae.Parser(x,T),fe=0;fe<R;fe+=1){fe<N&&($=ne.parseUShort(),Z=ne.parseShort());var de=z.get(fe);de.advanceWidth=$,de.leftSideBearing=Z}},make:function(x){for(var T=new De.Table("hmtx",[]),N=0;N<x.length;N+=1){var z=x.get(N),R=z.advanceWidth||0,z=z.leftSideBearing||0;T.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:R}),T.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:z})}return T}},rt={make:function(x){for(var T=new De.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),N="",R=12+4*x.length,z=0;z<x.length;++z){var $=N.indexOf(x[z]);$<0&&($=N.length,N+=x[z]),T.fields.push({name:"offset "+z,type:"USHORT",value:R+$}),T.fields.push({name:"length "+z,type:"USHORT",value:x[z].length})}return T.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),T},parse:function(x,T){for(var N=new ae.Parser(x,T),R=N.parseULong(),z=(A.argument(R===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),$=[],Z=0;Z<z;Z++){for(var ne="",fe=T+N.parseUShort(),de=N.parseUShort(),Ee=fe;Ee<fe+de;++Ee)ne+=String.fromCharCode(x.getInt8(Ee));$.push(ne)}return $}},qe={parse:function(R,T){var N={},R=new ae.Parser(R,T);return N.version=R.parseVersion(),N.numGlyphs=R.parseUShort(),N.version===1&&(N.maxPoints=R.parseUShort(),N.maxContours=R.parseUShort(),N.maxCompositePoints=R.parseUShort(),N.maxCompositeContours=R.parseUShort(),N.maxZones=R.parseUShort(),N.maxTwilightPoints=R.parseUShort(),N.maxStorage=R.parseUShort(),N.maxFunctionDefs=R.parseUShort(),N.maxInstructionDefs=R.parseUShort(),N.maxStackElements=R.parseUShort(),N.maxSizeOfInstructions=R.parseUShort(),N.maxComponentElements=R.parseUShort(),N.maxComponentDepth=R.parseUShort()),N},make:function(x){return new De.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])}},Ot=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ve={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Wt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ke={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ut="utf-16",et={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ar={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Vr(x,T,N){switch(x){case 0:return Ut;case 1:return Ar[N]||et[T];case 3:if(T===1||T===10)return Ut}}function xr(x){var T,N={};for(T in x)N[x[T]]=parseInt(T);return N}function Dr(x,T,N,R,z,$){return new De.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:T},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:z},{name:"offset",type:"USHORT",value:$}])}function jt(x,T){if((N=function($,Z){var ne=$.length,fe=Z.length-ne+1;e:for(var de=0;de<fe;de++)for(;de<fe;de++){for(var Ee=0;Ee<ne;Ee++)if(Z[de+Ee]!==$[Ee])continue e;return de}return-1}(x,T))<0)for(var N=T.length,R=0,z=x.length;R<z;++R)T.push(x[R]);return N}var ur={parse:function(x,T,N){for(var R={},z=new ae.Parser(x,T),T=z.parseUShort(),$=z.parseUShort(),Z=z.offset+z.parseUShort(),ne=0;ne<$;ne++){var Ue=z.parseUShort(),fe=z.parseUShort(),de=z.parseUShort(),Ee=z.parseUShort(),Ee=Ot[Ee]||Ee,je=z.parseUShort(),Ae=z.parseUShort(),be=function(Re,Ne,Oe){switch(Re){case 0:if(Ne===65535)return"und";if(Oe)return Oe[Ne];break;case 1:return Ve[Ne];case 3:return Ke[Ne]}}(Ue,de,N),Ue=Vr(Ue,fe,de);Ue!==void 0&&be!==void 0&&(fe=void 0,(fe=Ue===Ut?U.UTF16(x,Z+Ae,je):U.MACSTRING(x,Z+Ae,je,Ue))&&((de=(de=R[Ee])===void 0?R[Ee]={}:de)[be]=fe))}return T===1&&z.parseUShort(),R},make:function(x,T){var N,R=[],z={},$=xr(Ot);for(N in x){var Z=$[N];if(Z===void 0&&(Z=N),Ae=parseInt(Z),isNaN(Ae))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');z[Ae]=x[N],R.push(Ae)}for(var ne=xr(Ve),fe=xr(Ke),de=[],Ee=[],je=0;je<R.length;je++){var Ae,be,Ue=z[Ae=R[je]];for(be in Ue){var Fe=Ue[be],Et=1,Re=ne[be],Ne=Wt[Re],Oe=Vr(Et,Ne,Re),Oe=H.MACSTRING(Fe,Oe),pt=(Oe===void 0&&(Et=0,(Re=T.indexOf(be))<0&&(Re=T.length,T.push(be)),Ne=4,Oe=H.UTF16(Fe)),jt(Oe,Ee)),Et=(de.push(Dr(Et,Ne,Re,Ae,Oe.length,pt)),fe[be]);Et!==void 0&&(Re=jt(Ne=H.UTF16(Fe),Ee),de.push(Dr(3,1,Et,Ae,Ne.length,Re)))}}de.sort(function(It,vr){return It.platformID-vr.platformID||It.encodingID-vr.encodingID||It.languageID-vr.languageID||It.nameID-vr.nameID});for(var mt=new De.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:de.length},{name:"stringOffset",type:"USHORT",value:6+12*de.length}]),gt=0;gt<de.length;gt++)mt.fields.push({name:"record_"+gt,type:"RECORD",value:de[gt]});return mt.fields.push({name:"strings",type:"LITERAL",value:Ee}),mt}},$n=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],jr={parse:function(x,T){var N={},R=new ae.Parser(x,T);N.version=R.parseUShort(),N.xAvgCharWidth=R.parseShort(),N.usWeightClass=R.parseUShort(),N.usWidthClass=R.parseUShort(),N.fsType=R.parseUShort(),N.ySubscriptXSize=R.parseShort(),N.ySubscriptYSize=R.parseShort(),N.ySubscriptXOffset=R.parseShort(),N.ySubscriptYOffset=R.parseShort(),N.ySuperscriptXSize=R.parseShort(),N.ySuperscriptYSize=R.parseShort(),N.ySuperscriptXOffset=R.parseShort(),N.ySuperscriptYOffset=R.parseShort(),N.yStrikeoutSize=R.parseShort(),N.yStrikeoutPosition=R.parseShort(),N.sFamilyClass=R.parseShort(),N.panose=[];for(var z=0;z<10;z++)N.panose[z]=R.parseByte();return N.ulUnicodeRange1=R.parseULong(),N.ulUnicodeRange2=R.parseULong(),N.ulUnicodeRange3=R.parseULong(),N.ulUnicodeRange4=R.parseULong(),N.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),N.fsSelection=R.parseUShort(),N.usFirstCharIndex=R.parseUShort(),N.usLastCharIndex=R.parseUShort(),N.sTypoAscender=R.parseShort(),N.sTypoDescender=R.parseShort(),N.sTypoLineGap=R.parseShort(),N.usWinAscent=R.parseUShort(),N.usWinDescent=R.parseUShort(),1<=N.version&&(N.ulCodePageRange1=R.parseULong(),N.ulCodePageRange2=R.parseULong()),2<=N.version&&(N.sxHeight=R.parseShort(),N.sCapHeight=R.parseShort(),N.usDefaultChar=R.parseUShort(),N.usBreakChar=R.parseUShort(),N.usMaxContent=R.parseUShort()),N},make:function(x){return new De.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},unicodeRanges:$n,getUnicodeRange:function(x){for(var T=0;T<$n.length;T+=1){var N=$n[T];if(x>=N.begin&&x<N.end)return T}return-1}},Ei={parse:function(x,T){var N={},R=new ae.Parser(x,T);switch(N.version=R.parseVersion(),N.italicAngle=R.parseFixed(),N.underlinePosition=R.parseShort(),N.underlineThickness=R.parseShort(),N.isFixedPitch=R.parseULong(),N.minMemType42=R.parseULong(),N.maxMemType42=R.parseULong(),N.minMemType1=R.parseULong(),N.maxMemType1=R.parseULong(),N.version){case 1:N.names=ge.slice();break;case 2:N.numberOfGlyphs=R.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var z=0;z<N.numberOfGlyphs;z++)N.glyphNameIndex[z]=R.parseUShort();N.names=[];for(var $,Z=0;Z<N.numberOfGlyphs;Z++)N.glyphNameIndex[Z]>=ge.length&&($=R.parseChar(),N.names.push(R.parseString($)));break;case 2.5:N.numberOfGlyphs=R.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var ne=0;ne<N.numberOfGlyphs;ne++)N.offset[ne]=R.parseChar()}return N},make:function(){return new De.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Pn=new Array(9),$s=(Pn[1]=function(){var x=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),deltaGlyphId:this.parseUShort()}:T===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),substitute:this.parseOffset16List()}:void A.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},Pn[2]=function(){var x=this.parseUShort();return A.argument(x===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),sequences:this.parseListOfLists()}},Pn[3]=function(){var x=this.parseUShort();return A.argument(x===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),alternateSets:this.parseListOfLists()}},Pn[4]=function(){var x=this.parseUShort();return A.argument(x===1,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ce.uShort,lookupListIndex:Ce.uShort});Pn[5]=function(){var x,T,N=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:R,coverage:this.parsePointer(Ce.coverage),ruleSets:this.parseListOfLists(function(){var z=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(z-1),lookupRecords:this.parseRecordList($,$s)}})}:R===2?{substFormat:R,coverage:this.parsePointer(Ce.coverage),classDef:this.parsePointer(Ce.classDef),classSets:this.parseListOfLists(function(){var z=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(z-1),lookupRecords:this.parseRecordList($,$s)}})}:R===3?(x=this.parseUShort(),T=this.parseUShort(),{substFormat:R,coverages:this.parseList(x,Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList(T,$s)}):void A.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Pn[6]=function(){var x=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:T===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),backtrackClassDef:this.parsePointer(Ce.classDef),inputClassDef:this.parsePointer(Ce.classDef),lookaheadClassDef:this.parsePointer(Ce.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:T===3?{substFormat:3,backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),inputCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList($s)}:void A.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Pn[7]=function(){var x=this.parseUShort(),x=(A.argument(x===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),T=new Ce(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:Pn[x].call(T)}},Pn[8]=function(){var x=this.parseUShort();return A.argument(x===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ce.coverage),backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),substitutes:this.parseUShortList()}};var zl=new Array(9);zl[1]=function(x){return x.substFormat===1?new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]):new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.ushortList("substitute",x.substitute)))},zl[3]=function(x){return A.assert(x.substFormat===1,"Lookup type 3 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.tableList("altSet",x.alternateSets,function(T){return new De.Table("alternateSetTable",De.ushortList("alternate",T))})))},zl[4]=function(x){return A.assert(x.substFormat===1,"Lookup type 4 substFormat must be 1."),new De.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new De.Coverage(x.coverage)}].concat(De.tableList("ligSet",x.ligatureSets,function(T){return new De.Table("ligatureSetTable",De.tableList("ligature",T,function(N){return new De.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(De.ushortList("component",N.components,N.components.length+1)))}))})))};var P0={parse:function(x,T){return T=(x=new Ce(x,T=T||0)).parseVersion(1),A.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Pn)}:{version:T,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Pn),variations:x.parseFeatureVariationsList()}},make:function(x){return new De.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new De.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new De.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new De.LookupList(x.lookups,zl)}])}},L0={parse:function(x,T){for(var N=new ae.Parser(x,T),R=N.parseULong(),z=(A.argument(R===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),$={},Z=0;Z<z;Z++){var ne=N.parseTag(),de=N.parseULong(),fe=N.parseULong(),de=U.UTF8(x,T+de,fe);$[ne]=de}return $},make:function(x){var T,N=Object.keys(x).length,R="",z=16+12*N,$=new De.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:z},{name:"numTags",type:"ULONG",value:N}]);for(T in x){var Z=R.length;R+=x[T],$.fields.push({name:"tag "+T,type:"TAG",value:T}),$.fields.push({name:"offset "+T,type:"ULONG",value:z+Z}),$.fields.push({name:"length "+T,type:"ULONG",value:x[T].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),$}};function B0(x){return Math.log(x)/Math.log(2)|0}function _h(x){for(;x.length%4!=0;)x.push(0);for(var T=0,N=0;N<x.length;N+=4)T+=(x[N]<<24)+(x[N+1]<<16)+(x[N+2]<<8)+x[N+3];return T%=Math.pow(2,32)}function U0(x,T,N,R){return new De.Record("Table Record",[{name:"tag",type:"TAG",value:x!==void 0?x:""},{name:"checkSum",type:"ULONG",value:T!==void 0?T:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:R!==void 0?R:0}])}function V0(x){for(var T=new De.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(T.tables=x,T.numTables=x.length,Math.pow(2,B0(T.numTables))),R=(T.searchRange=16*N,T.entrySelector=B0(N),T.rangeShift=16*T.numTables-T.searchRange,[]),z=[],$=T.sizeOf()+U0().sizeOf()*T.numTables;$%4!=0;)$+=1,z.push({name:"padding",type:"BYTE",value:0});for(var Z=0;Z<x.length;Z+=1){var ne=x[Z],fe=(A.argument(ne.tableName.length===4,"Table name"+ne.tableName+" is invalid."),ne.sizeOf()),de=U0(ne.tableName,_h(ne.encode()),$,fe);for(R.push({name:de.tag+" Table Record",type:"RECORD",value:de}),z.push({name:ne.tableName+" table",type:"RECORD",value:ne}),$+=fe,A.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,z.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(Ee,je){return Ee.value.tag>je.value.tag?1:-1}),T.fields=T.fields.concat(R),T.fields=T.fields.concat(z),T}function z0(x,T,N){for(var R=0;R<T.length;R+=1){var z=x.charToGlyphIndex(T[R]);if(0<z)return x.glyphs.get(z).getMetrics()}return N}var y2={make:V0,fontToTable:function(x){for(var T,N=[],R=[],z=[],$=[],Z=[],ne=[],fe=[],de=0,Ee=0,je=0,Ae=0,be=0,Ue=0;Ue<x.glyphs.length;Ue+=1){var Fe=x.glyphs.get(Ue),Re=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Ue+"): advanceWidth is not a number.");(Re<T||T===void 0)&&0<Re&&(T=Re),de<Re&&(de=Re);var Re=jr.getUnicodeRange(Re);if(Re<32)Ee|=1<<Re;else if(Re<64)je|=1<<Re-32;else if(Re<96)Ae|=1<<Re-64;else{if(!(Re<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Re-96}Fe.name!==".notdef"&&(Re=Fe.getMetrics(),N.push(Re.xMin),R.push(Re.yMin),z.push(Re.xMax),$.push(Re.yMax),ne.push(Re.leftSideBearing),fe.push(Re.rightSideBearing),Z.push(Fe.advanceWidth))}var Ne,Oe={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,z),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,Z),advanceWidthAvg:function(tn){for(var wu=0,Zs=0;Zs<tn.length;Zs+=1)wu+=tn[Zs];return wu/tn.length}(Z),minLeftSideBearing:Math.min.apply(null,ne),maxLeftSideBearing:Math.max.apply(null,ne),minRightSideBearing:Math.min.apply(null,fe)},pt=(Oe.ascender=x.ascender,Oe.descender=x.descender,as.make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Oe.xMin,yMin:Oe.yMin,xMax:Oe.xMax,yMax:Oe.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Et=we.make({ascender:Oe.ascender,descender:Oe.descender,advanceWidthMax:Oe.advanceWidthMax,minLeftSideBearing:Oe.minLeftSideBearing,minRightSideBearing:Oe.minRightSideBearing,xMaxExtent:Oe.maxLeftSideBearing+(Oe.xMax-Oe.xMin),numberOfHMetrics:x.glyphs.length}),mt=qe.make(x.glyphs.length),gt=jr.make({xAvgCharWidth:Math.round(Oe.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:T,usLastCharIndex:de,ulUnicodeRange1:Ee,ulUnicodeRange2:je,ulUnicodeRange3:Ae,ulUnicodeRange4:be,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Oe.ascender,sTypoDescender:Oe.descender,sTypoLineGap:0,usWinAscent:Oe.yMax,usWinDescent:Math.abs(Oe.yMin),ulCodePageRange1:1,sxHeight:z0(x,"xyvw",{yMax:Math.round(Oe.ascender/2)}).yMax,sCapHeight:z0(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Oe).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),It=$e.make(x.glyphs),vr=X.make(x.glyphs),wr=x.getEnglishName("fontFamily"),ar=x.getEnglishName("fontSubfamily"),fr=wr+" "+ar,kr=(kr=x.getEnglishName("postScriptName"))||wr.replace(/\s/g,"")+"-"+ar,$r={};for(Ne in x.names)$r[Ne]=x.names[Ne];$r.uniqueID||($r.uniqueID={en:x.getEnglishName("manufacturer")+":"+fr}),$r.postScriptName||($r.postScriptName={en:kr}),$r.preferredFamily||($r.preferredFamily=x.names.fontFamily),$r.preferredSubfamily||($r.preferredSubfamily=x.names.fontSubfamily);var vn=[],yn=ur.make($r,vn),vn=0<vn.length?rt.make(vn):void 0,fo=Ei.make(),fr=ss.make(x.glyphs,{version:x.getEnglishName("version"),fullName:fr,familyName:wr,weightName:ar,postScriptName:kr,unitsPerEm:x.unitsPerEm,fontBBox:[0,Oe.yMin,Oe.ascender,Oe.advanceWidthMax]}),wr=x.metas&&0<Object.keys(x.metas).length?L0.make(x.metas):void 0,ar=[pt,Et,mt,gt,yn,vr,fo,fr,It];vn&&ar.push(vn),x.tables.gsub&&ar.push(P0.make(x.tables.gsub)),wr&&ar.push(wr);for(var bn=_h((kr=V0(ar)).encode()),Ir=kr.fields,ln=!1,_r=0;_r<Ir.length;_r+=1)if(Ir[_r].name==="head table"){Ir[_r].value.checkSumAdjustment=2981146554-bn,ln=!0;break}if(ln)return kr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:_h};function xh(x,T){for(var N=0,R=x.length-1;N<=R;){var z=N+R>>>1,$=x[z].tag;if($===T)return z;$<T?N=1+z:R=z-1}return-N-1}function G0(x,T){for(var N=0,R=x.length-1;N<=R;){var z=N+R>>>1,$=x[z];if($===T)return z;$<T?N=1+z:R=z-1}return-N-1}function H0(x,T){for(var N=0,R=x.length-1;N<=R;){var z,$=N+R>>>1,Z=(z=x[$]).start;if(Z===T)return z;Z<T?N=1+$:R=$-1}if(0<N)return T>(z=x[N-1]).end?0:z}function Gl(x,T){this.font=x,this.tableName=T}function Hl(x){Gl.call(this,x,"gpos")}function jo(x){Gl.call(this,x,"gsub")}function q0(x,T,N){for(var R=x.subtables,z=0;z<R.length;z++){var $=R[z];if($.substFormat===T)return $}if(N)return R.push(N),N}function W0(x){for(var T=new ArrayBuffer(x.length),N=new Uint8Array(T),R=0;R<x.length;++R)N[R]=x[R];return T}function Ys(x,T){if(!x)throw T}function $0(x,T,N,R,z){var $=0<(T&R)?($=x.parseByte(),N+($=T&z?$:-$)):0<(T&z)?N:N+x.parseShort();return $}function v2(x,T,N){var R,z=new ae.Parser(T,N);if(x.numberOfContours=z.parseShort(),x._xMin=z.parseShort(),x._yMin=z.parseShort(),x._xMax=z.parseShort(),x._yMax=z.parseShort(),0<x.numberOfContours){for(var $=x.endPointIndices=[],Z=0;Z<x.numberOfContours;Z+=1)$.push(z.parseUShort());x.instructionLength=z.parseUShort(),x.instructions=[];for(var ne=0;ne<x.instructionLength;ne+=1)x.instructions.push(z.parseByte());for(var fe=$[$.length-1]+1,de=[],Ee=0;Ee<fe;Ee+=1)if(R=z.parseByte(),de.push(R),0<(8&R))for(var je=z.parseByte(),Ae=0;Ae<je;Ae+=1)de.push(R),Ee+=1;if(A.argument(de.length===fe,"Bad flags."),0<$.length){var be,Ue=[];if(0<fe){for(var Fe=0;Fe<fe;Fe+=1)R=de[Fe],(be={}).onCurve=!!(1&R),be.lastPointOfContour=0<=$.indexOf(Fe),Ue.push(be);for(var Re=0,Ne=0;Ne<fe;Ne+=1)R=de[Ne],(be=Ue[Ne]).x=$0(z,R,Re,2,16),Re=be.x;for(var Oe=0,pt=0;pt<fe;pt+=1)R=de[pt],(be=Ue[pt]).y=$0(z,R,Oe,4,32),Oe=be.y}x.points=Ue}else x.points=[]}else if(x.numberOfContours===0)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Et=!0;Et;){de=z.parseUShort();var mt={glyphIndex:z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&de)?0<(2&de)?(mt.dx=z.parseShort(),mt.dy=z.parseShort()):mt.matchedPoints=[z.parseUShort(),z.parseUShort()]:0<(2&de)?(mt.dx=z.parseChar(),mt.dy=z.parseChar()):mt.matchedPoints=[z.parseByte(),z.parseByte()],0<(8&de)?mt.xScale=mt.yScale=z.parseF2Dot14():0<(64&de)?(mt.xScale=z.parseF2Dot14(),mt.yScale=z.parseF2Dot14()):0<(128&de)&&(mt.xScale=z.parseF2Dot14(),mt.scale01=z.parseF2Dot14(),mt.scale10=z.parseF2Dot14(),mt.yScale=z.parseF2Dot14()),x.components.push(mt),Et=!!(32&de)}if(256&de){x.instructionLength=z.parseUShort(),x.instructions=[];for(var gt=0;gt<x.instructionLength;gt+=1)x.instructions.push(z.parseByte())}}}function Dh(x,T){for(var N=[],R=0;R<x.length;R+=1){var z=x[R],z={x:T.xScale*z.x+T.scale01*z.y+T.dx,y:T.scale10*z.x+T.yScale*z.y+T.dy,onCurve:z.onCurve,lastPointOfContour:z.lastPointOfContour};N.push(z)}return N}function Y0(x){var T=new Q;if(x)for(var N=function(je){for(var Ae=[],be=[],Ue=0;Ue<je.length;Ue+=1){var Fe=je[Ue];be.push(Fe),Fe.lastPointOfContour&&(Ae.push(be),be=[])}return A.argument(be.length===0,"There are still points left in the current contour."),Ae}(x),R=0;R<N.length;++R){var z,$=N[R],Z=$[$.length-1],ne=$[0];Z.onCurve?T.moveTo(Z.x,Z.y):ne.onCurve?T.moveTo(ne.x,ne.y):(z={x:.5*(Z.x+ne.x),y:.5*(Z.y+ne.y)},T.moveTo(z.x,z.y));for(var fe=0;fe<$.length;++fe){var de,Ee=Z,Z=ne,ne=$[(fe+1)%$.length];Z.onCurve?T.lineTo(Z.x,Z.y):(de=ne,Ee.onCurve||(Z.x,Ee.x,Z.y,Ee.y),ne.onCurve||(de={x:.5*(Z.x+ne.x),y:.5*(Z.y+ne.y)}),T.quadraticCurveTo(Z.x,Z.y,de.x,de.y))}T.closePath()}return T}function b2(x,T){if(T.isComposite)for(var N=0;N<T.components.length;N+=1){var R=T.components[N],z=x.get(R.glyphIndex);if(z.getPath(),z.points){var $=void 0;if(R.matchedPoints===void 0)$=Dh(z.points,R);else{if(R.matchedPoints[0]>T.points.length-1||R.matchedPoints[1]>z.points.length-1)throw Error("Matched points out of range in "+T.name);var Z=T.points[R.matchedPoints[0]],ne=z.points[R.matchedPoints[1]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0},ne=Dh([ne],R)[0];R.dx=Z.x-ne.x,R.dy=Z.y-ne.y,$=Dh(z.points,R)}T.points=T.points.concat($)}}return Y0(T.points)}(Hl.prototype=Gl.prototype={searchTag:xh,binSearch:G0,getTable:function(x){var T=this.font.tables[this.tableName];return T=!T&&x?this.font.tables[this.tableName]=this.createDefaultTable():T},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(T){return T.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var T=!1,N=0;N<x.scripts.length;N++){var R=x.scripts[N].tag;if(R==="DFLT")return R;R==="latn"&&(T=!0)}return T?"latn":void 0}},getScriptTable:function(x,T){var N,R=this.getTable(T);if(R)return N=R.scripts,0<=(R=xh(R.scripts,x=x||"DFLT"))?N[R].script:T?(N.splice(-1-R,0,T={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),T.script):void 0},getLangSysTable:function(z,T,N){var R,z=this.getScriptTable(z,N);if(z)return T&&T!=="dflt"&&T!=="DFLT"?0<=(R=xh(z.langSysRecords,T))?z.langSysRecords[R].langSys:N?(z.langSysRecords.splice(-1-R,0,N={tag:T,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:z.defaultLangSys},getFeatureTable:function(x,T,N,R){if(x=this.getLangSysTable(x,T,R),x){for(var z,$=x.featureIndexes,Z=this.font.tables[this.tableName].features,ne=0;ne<$.length;ne++)if((z=Z[$[ne]]).tag===N)return z.feature;if(R)return T=Z.length,A.assert(T===0||N>=Z[T-1].tag,"Features must be added in alphabetical order."),Z.push(z={tag:N,feature:{params:0,lookupListIndexes:[]}}),$.push(T),z.feature}},getLookupTables:function($,T,N,R,z){var $=this.getFeatureTable($,T,N,z),Z=[];if($){for(var ne,fe=$.lookupListIndexes,de=this.font.tables[this.tableName].lookups,Ee=0;Ee<fe.length;Ee++)(ne=de[fe[Ee]]).lookupType===R&&Z.push(ne);if(Z.length===0&&z)return T=de.length,de.push(ne={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),fe.push(T),[ne]}return Z},getGlyphClass:function(x,T){switch(x.format){case 1:return x.startGlyph<=T&&T<x.startGlyph+x.classes.length?x.classes[T-x.startGlyph]:0;case 2:var N=H0(x.ranges,T);return N?N.classId:0}},getCoverageIndex:function(x,T){switch(x.format){case 1:var N=G0(x.glyphs,T);return 0<=N?N:-1;case 2:return N=H0(x.ranges,T),N?N.index+T-N.start:-1}},expandCoverage:function(x){if(x.format===1)return x.glyphs;for(var T=[],N=x.ranges,R=0;R<N.length;R++)for(var z=N[R],$=z.start,Z=z.end,ne=$;ne<=Z;ne++)T.push(ne);return T}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},Hl.prototype.getKerningValue=function(x,T,N){for(var R=0;R<x.length;R++)for(var z=x[R].subtables,$=0;$<z.length;$++){var Z=z[$],ne=this.getCoverageIndex(Z.coverage,T);if(!(ne<0))switch(Z.posFormat){case 1:for(var fe=Z.pairSets[ne],de=0;de<fe.length;de++){var Ee=fe[de];if(Ee.secondGlyph===N)return Ee.value1&&Ee.value1.xAdvance||0}break;case 2:var Ae=this.getGlyphClass(Z.classDef1,T),je=this.getGlyphClass(Z.classDef2,N),Ae=Z.classRecords[Ae][je];return Ae.value1&&Ae.value1.xAdvance||0}}return 0},Hl.prototype.getKerningTables=function(x,T){if(this.font.tables.gpos)return this.getLookupTables(x,T,"kern",2)},(jo.prototype=Gl.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},jo.prototype.getSingle=function(x,T,N){for(var R=[],z=this.getLookupTables(T,N,x,1),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++){var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=void 0;if(fe.substFormat===1)for(var je=fe.deltaGlyphId,Ee=0;Ee<de.length;Ee++){var Ae=de[Ee];R.push({sub:Ae,by:Ae+je})}else{var be=fe.substitute;for(Ee=0;Ee<de.length;Ee++)R.push({sub:de[Ee],by:be[Ee]})}}return R},jo.prototype.getAlternates=function(x,T,N){for(var R=[],z=this.getLookupTables(T,N,x,3),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++)for(var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=fe.alternateSets,je=0;je<de.length;je++)R.push({sub:de[je],by:Ee[je]});return R},jo.prototype.getLigatures=function(x,T,N){for(var R=[],z=this.getLookupTables(T,N,x,4),$=0;$<z.length;$++)for(var Z=z[$].subtables,ne=0;ne<Z.length;ne++)for(var fe=Z[ne],de=this.expandCoverage(fe.coverage),Ee=fe.ligatureSets,je=0;je<de.length;je++)for(var Ae=de[je],be=Ee[je],Ue=0;Ue<be.length;Ue++){var Fe=be[Ue];R.push({sub:[Ae].concat(Fe.components),by:Fe.ligGlyph})}return R},jo.prototype.addSingle=function(x,T,N,R){N=q0(this.getLookupTables(N,R,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),A.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),R=T.sub,x=this.binSearch(N.coverage.glyphs,R),x<0&&(N.coverage.glyphs.splice(x=-1-x,0,R),N.substitute.splice(x,0,0)),N.substitute[x]=T.by},jo.prototype.addAlternate=function(x,T,N,R){N=q0(this.getLookupTables(N,R,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),A.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),R=T.sub,x=this.binSearch(N.coverage.glyphs,R),x<0&&(N.coverage.glyphs.splice(x=-1-x,0,R),N.alternateSets.splice(x,0,0)),N.alternateSets[x]=T.by},jo.prototype.addLigature=function($,fe,ne,z){var ne=this.getLookupTables(ne,z,$,4,!0)[0],z=ne.subtables[0],$=(z||(ne.subtables[0]=z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),A.assert(z.coverage.format===1,"Ligature: unable to modify coverage table format "+z.coverage.format),fe.sub[0]),Z=fe.sub.slice(1),ne={ligGlyph:fe.by,components:Z},fe=this.binSearch(z.coverage.glyphs,$);if(0<=fe){for(var de=z.ligatureSets[fe],Ee=0;Ee<de.length;Ee++)if(function(je,Ae){var be=je.length;if(be===Ae.length){for(var Ue=0;Ue<be;Ue++)if(je[Ue]!==Ae[Ue])return;return 1}}(de[Ee].components,Z))return;de.push(ne)}else z.coverage.glyphs.splice(fe=-1-fe,0,$),z.ligatureSets.splice(fe,0,[ne])},jo.prototype.getFeature=function(x,T,N){if(/ss\d\d/.test(x))return this.getSingle(x,T,N);switch(x){case"aalt":case"salt":return this.getSingle(x,T,N).concat(this.getAlternates(x,T,N));case"dlig":case"liga":case"rlig":return this.getLigatures(x,T,N)}},jo.prototype.add=function(x,T,N,R){if(/ss\d\d/.test(x))return this.addSingle(x,T,N,R);switch(x){case"aalt":case"salt":return typeof T.by=="number"?this.addSingle(x,T,N,R):this.addAlternate(x,T,N,R);case"dlig":case"liga":case"rlig":return this.addLigature(x,T,N,R)}};var X0={getPath:Y0,parse:function(x,T,N,R){for(var z=new it.GlyphSet(R),$=0;$<N.length-1;$+=1){var Z=N[$];Z!==N[$+1]?z.push($,it.ttfGlyphLoader(R,$,v2,x,T+Z,b2)):z.push($,it.glyphLoader(R,$))}return z}};function Z0(x){this.font=x,this.getCommands=function(T){return X0.getPath(T).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function w2(x){return x}function Q0(x){return Math.sign(x)*Math.round(Math.abs(x))}function _2(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function x2(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function D2(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function S2(x){return Math.sign(x)*Math.floor(Math.abs(x))}function K0(x){var T=this.srPeriod,N=this.srPhase,R=1;return x<0&&(x=-x,R=-1),x+=this.srThreshold-N,x=Math.trunc(x/T)*T,(x+=N)<0?N*R:x*R}var Io={x:1,y:0,axis:"x",distance:function(x,T,N,R){return(N?x.xo:x.x)-(R?T.xo:T.x)},interpolate:function(x,T,N,R){var z,$,Z,ne,fe,de,Ee;if(!R||R===this)return z=x.xo-T.xo,$=x.xo-N.xo,fe=T.x-T.xo,de=N.x-N.xo,(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?void(x.x=x.xo+(fe+de)/2):void(x.x=x.xo+(fe*ne+de*Z)/Ee);z=R.distance(x,T,!0,!0),$=R.distance(x,N,!0,!0),fe=R.distance(T,T,!1,!0),de=R.distance(N,N,!1,!0),(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?Io.setRelative(x,x,(fe+de)/2,R,!0):Io.setRelative(x,x,(fe*ne+de*Z)/Ee,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,T,N,R,z){var $,Z;R&&R!==this?($=z?T.xo:T.x,Z=z?T.yo:T.y,$+=N*R.x,Z+=N*R.y,x.x=$+(x.y-Z)/R.normalSlope):x.x=(z?T.xo:T.x)+N},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},ri={x:0,y:1,axis:"y",distance:function(x,T,N,R){return(N?x.yo:x.y)-(R?T.yo:T.y)},interpolate:function(x,T,N,R){var z,$,Z,ne,fe,de,Ee;if(!R||R===this)return z=x.yo-T.yo,$=x.yo-N.yo,fe=T.y-T.yo,de=N.y-N.yo,(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?void(x.y=x.yo+(fe+de)/2):void(x.y=x.yo+(fe*ne+de*Z)/Ee);z=R.distance(x,T,!0,!0),$=R.distance(x,N,!0,!0),fe=R.distance(T,T,!1,!0),de=R.distance(N,N,!1,!0),(Ee=(Z=Math.abs(z))+(ne=Math.abs($)))===0?ri.setRelative(x,x,(fe+de)/2,R,!0):ri.setRelative(x,x,(fe*ne+de*Z)/Ee,R,!0)},normalSlope:0,setRelative:function(x,T,N,R,z){var $,Z;R&&R!==this?($=z?T.xo:T.x,Z=z?T.yo:T.y,$+=N*R.x,Z+=N*R.y,x.y=Z+R.normalSlope*(x.x-$)):x.y=(z?T.yo:T.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function yu(x,T){this.x=x,this.y=T,this.axis=void 0,this.slope=T/x,this.normalSlope=-x/T,Object.freeze(this)}function vu(x,T){var N=Math.sqrt(x*x+T*T);return T/=N,(x/=N)===1&&T===0?Io:x===0&&T===1?ri:new yu(x,T)}function ni(x,T,N,R){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*T)/64,this.lastPointOfContour=N,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Io),Object.freeze(ri),yu.prototype.distance=function(x,T,N,R){return this.x*Io.distance(x,T,N,R)+this.y*ri.distance(x,T,N,R)},yu.prototype.interpolate=function(x,z,$,R){var Z=R.distance(x,z,!0,!0),ne=R.distance(x,$,!0,!0),z=R.distance(z,z,!1,!0),$=R.distance($,$,!1,!0),Z=Math.abs(Z),ne=Math.abs(ne),fe=Z+ne;fe===0?this.setRelative(x,x,(z+$)/2,R,!0):this.setRelative(x,x,(z*ne+$*Z)/fe,R,!0)},yu.prototype.setRelative=function(x,$,fe,de,ne){var Z=ne?$.xo:$.x,ne=ne?$.yo:$.y,$=Z+fe*(de=de||this).x,Z=ne+fe*de.y,ne=de.normalSlope,fe=this.slope,de=x.x,Ee=x.y;x.x=(fe*de-ne*$+Z-Ee)/(fe-ne),x.y=fe*(x.x-de)+Ee},yu.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},ni.prototype.nextTouched=function(x){for(var T=this.nextPointOnContour;!x.touched(T)&&T!==this;)T=T.nextPointOnContour;return T},ni.prototype.prevTouched=function(x){for(var T=this.prevPointOnContour;!x.touched(T)&&T!==this;)T=T.prevPointOnContour;return T};var bu=Object.freeze(new ni(0,0)),E2={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ci(x,T){switch(this.env=x,this.stack=[],this.prog=T,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Io,this.round=Q0}}function ql(x){for(var T=x.tZone=new Array(x.gZone.length),N=0;N<T.length;N++)T[N]=new ni(0,0)}function J0(x,T){var N,R=x.prog,z=x.ip,$=1;do if((N=R[++z])===88)$++;else if(N===89)$--;else if(N===64)z+=R[z+1]+1;else if(N===65)z+=2*R[z+1]+1;else if(176<=N&&N<=183)z+=N-176+1;else if(184<=N&&N<=191)z+=2*(N-184+1);else if(T&&$===1&&N===27)break;while(0<$);x.ip=z}function eb(x,T){c.DEBUG&&console.log(T.step,"SVTCA["+x.axis+"]"),T.fv=T.pv=T.dpv=x}function tb(x,T){c.DEBUG&&console.log(T.step,"SPVTCA["+x.axis+"]"),T.pv=T.dpv=x}function rb(x,T){c.DEBUG&&console.log(T.step,"SFVTCA["+x.axis+"]"),T.fv=x}function nb(x,T){var N,z=T.stack,R=z.pop(),z=z.pop(),$=T.z2[R],Z=T.z1[z];c.DEBUG&&console.log("SPVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),T.pv=T.dpv=vu(N,R)}function ob(x,T){var N,z=T.stack,R=z.pop(),z=z.pop(),$=T.z2[R],Z=T.z1[z];c.DEBUG&&console.log("SFVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),T.fv=vu(N,R)}function Sh(x){c.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function ib(x,T){var N=T.stack.pop(),R=T.z0[N],z=T.fv,$=T.pv,Z=(c.DEBUG&&console.log(T.step,"MDAP["+x+"]",N),$.distance(R,bu));x&&(Z=T.round(Z)),z.setRelative(R,bu,Z,$),z.touch(R),T.rp0=T.rp1=N}function sb(x,T){var N,R,z,$=T.z2,Z=$.length-2;c.DEBUG&&console.log(T.step,"IUP["+x.axis+"]");for(var ne=0;ne<Z;ne++)N=$[ne],x.touched(N)||(R=N.prevTouched(x))!==N&&(R===(z=N.nextTouched(x))&&x.setRelative(N,N,x.distance(R,R,!1,!0),x,!0),x.interpolate(N,R,z,x))}function ab(x,T){for(var N=T.stack,R=x?T.rp1:T.rp2,z=(x?T.z0:T.z1)[R],$=T.fv,Z=T.pv,ne=T.loop,fe=T.z2;ne--;){var de=N.pop(),Ee=fe[de],je=Z.distance(z,z,!1,!0);$.setRelative(Ee,Ee,je,Z),$.touch(Ee),c.DEBUG&&console.log(T.step,(1<T.loop?"loop "+(T.loop-ne)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",de)}T.loop=1}function ub(x,T){for(var N=T.stack,Z=x?T.rp1:T.rp2,R=(x?T.z0:T.z1)[Z],z=T.fv,$=T.pv,Z=N.pop(),ne=T.z2[T.contours[Z]],fe=ne,de=(c.DEBUG&&console.log(T.step,"SHC["+x+"]",Z),$.distance(R,R,!1,!0));fe!==R&&z.setRelative(fe,fe,de,$),(fe=fe.nextPointOnContour)!==ne;);}function lb(x,T){var N,R,ne=T.stack,z=x?T.rp1:T.rp2,z=(x?T.z0:T.z1)[z],$=T.fv,Z=T.pv,ne=ne.pop();switch(c.DEBUG&&console.log(T.step,"SHZ["+x+"]",ne),ne){case 0:N=T.tZone;break;case 1:N=T.gZone;break;default:throw new Error("Invalid zone")}for(var fe=Z.distance(z,z,!1,!0),de=N.length-2,Ee=0;Ee<de;Ee++)R=N[Ee],$.setRelative(R,R,fe,Z)}function cb(x,T){var R=T.stack,N=R.pop()/64,R=R.pop(),z=T.z1[R],$=T.z0[T.rp0],Z=T.fv,ne=T.pv;Z.setRelative(z,$,N,ne),Z.touch(z),c.DEBUG&&console.log(T.step,"MSIRP["+x+"]",N,R),T.rp1=T.rp0,T.rp2=R,x&&(T.rp0=R)}function db(x,T){var N=T.stack,ne=N.pop(),N=N.pop(),R=T.z0[N],z=T.fv,$=T.pv,Z=T.cvt[ne],ne=(c.DEBUG&&console.log(T.step,"MIAP["+x+"]",ne,"(",Z,")",N),$.distance(R,bu));x&&(Math.abs(ne-Z)<T.cvCutIn&&(ne=Z),ne=T.round(ne)),z.setRelative(R,bu,ne,$),T.zp0===0&&(R.xo=R.x,R.yo=R.y),z.touch(R),T.rp0=T.rp1=N}function fb(x,T){var N=T.stack,R=N.pop(),z=T.z2[R];c.DEBUG&&console.log(T.step,"GC["+x+"]",R),N.push(64*T.dpv.distance(z,bu,x,!1))}function hb(x,T){var R=T.stack,N=R.pop(),R=R.pop(),z=T.z1[N],$=T.z0[R],$=T.dpv.distance($,z,x,x);c.DEBUG&&console.log(T.step,"MD["+x+"]",N,R,"->",$),T.stack.push(Math.round(64*$))}function Eh(x,T){var N=T.stack,R=N.pop(),z=T.fv,$=T.pv,Z=T.ppem,ne=T.deltaBase+16*(x-1),fe=T.deltaShift,de=T.z0;c.DEBUG&&console.log(T.step,"DELTAP["+x+"]",R,N);for(var Ee=0;Ee<R;Ee++){var je=N.pop(),Ae=N.pop();ne+((240&Ae)>>4)===Z&&(0<=(Ae=(15&Ae)-8)&&Ae++,c.DEBUG&&console.log(T.step,"DELTAPFIX",je,"by",Ae*fe),je=de[je],z.setRelative(je,je,Ae*fe,$))}}function Wl(x,T){var N=T.stack,R=N.pop();c.DEBUG&&console.log(T.step,"ROUND[]"),N.push(64*T.round(R/64))}function Ch(x,T){var N=T.stack,R=N.pop(),z=T.ppem,$=T.deltaBase+16*(x-1),Z=T.deltaShift;c.DEBUG&&console.log(T.step,"DELTAC["+x+"]",R,N);for(var ne=0;ne<R;ne++){var fe=N.pop(),de=N.pop();$+((240&de)>>4)===z&&(0<=(de=(15&de)-8)&&de++,de=de*Z,c.DEBUG&&console.log(T.step,"DELTACFIX",fe,"by",de),T.cvt[fe]+=de)}}function pb(x,T){var N,z=T.stack,R=z.pop(),z=z.pop(),$=T.z2[R],Z=T.z1[z];c.DEBUG&&console.log(T.step,"SDPVTL["+x+"]",R,z),R=x?(N=$.y-Z.y,Z.x-$.x):(N=Z.x-$.x,Z.y-$.y),T.dpv=vu(N,R)}function Mi(x,T){var N=T.stack,R=T.prog,z=T.ip;c.DEBUG&&console.log(T.step,"PUSHB["+x+"]");for(var $=0;$<x;$++)N.push(R[++z]);T.ip=z}function Ti(x,T){var N=T.ip,R=T.prog,z=T.stack;c.DEBUG&&console.log(T.ip,"PUSHW["+x+"]");for(var $=0;$<x;$++){var Z=R[++N]<<8|R[++N];32768&Z&&(Z=-(1+(65535^Z))),z.push(Z)}T.ip=N}function ct(x,T,N,R,z,$){var Z,ne,de=$.stack,fe=x&&de.pop(),de=de.pop(),Ee=$.rp0,Ee=$.z0[Ee],je=$.z1[de],Ae=$.minDis,be=$.fv,Ue=$.dpv,Fe=Z=Ue.distance(je,Ee,!0,!0),Re=0<=Fe?1:-1;Fe=Math.abs(Fe),x&&(ne=$.cvt[fe],R&&Math.abs(Fe-ne)<$.cvCutIn&&(Fe=ne)),N&&Fe<Ae&&(Fe=Ae),R&&(Fe=$.round(Fe)),be.setRelative(je,Ee,Re*Fe,Ue),be.touch(je),c.DEBUG&&console.log($.step,(x?"MIRP[":"MDRP[")+(T?"M":"m")+(N?">":"_")+(R?"R":"_")+(z===0?"Gr":z===1?"Bl":z===2?"Wh":"")+"]",x?fe+"("+$.cvt[fe]+","+ne+")":"",de,"(d =",Z,"->",Re*Fe,")"),$.rp1=$.rp0,$.rp2=de,T&&($.rp0=de)}Z0.prototype.exec=function(x,T){if(typeof T!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,R=this._prepState;if(!R||R.ppem!==T){var z=this._fpgmState;if(!z){Ci.prototype=E2,(z=this._fpgmState=new Ci("fpgm",N.tables.fpgm)).funcs=[],z.font=N,c.DEBUG&&(console.log("---EXEC FPGM---"),z.step=-1);try{Xs(z)}catch(de){return console.log("Hinting error in FPGM:"+de),void(this._errorState=3)}}Ci.prototype=z,(R=this._prepState=new Ci("prep",N.tables.prep)).ppem=T;var $=N.tables.cvt;if($)for(var Z=R.cvt=new Array($.length),ne=T/N.unitsPerEm,fe=0;fe<$.length;fe++)Z[fe]=$[fe]*ne;else R.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{Xs(R)}catch(de){this._errorState<2&&console.log("Hinting error in PREP:"+de),this._errorState=2}}if(!(1<this._errorState))try{return C2(x,R)}catch(de){this._errorState<1&&(console.log("Hinting error:"+de),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var C2=function(x,T){var N=T.ppem/T.font.unitsPerEm,R=N,z=x.components;if(Ci.prototype=T,z){for(var $=T.font,Z=[],ne=[],fe=0;fe<z.length;fe++){var de=z[fe],Ee=$.glyphs.get(de.glyphIndex),je=new Ci("glyf",Ee.instructions);c.DEBUG&&(console.log("---EXEC COMP "+fe+"---"),je.step=-1),mb(Ee,je,N,R);for(var Ae=Math.round(de.dx*N),be=Math.round(de.dy*R),Ue=je.gZone,Fe=je.contours,Re=0;Re<Ue.length;Re++){var Ne=Ue[Re];Ne.xTouched=Ne.yTouched=!1,Ne.xo=Ne.x=Ne.x+Ae,Ne.yo=Ne.y=Ne.y+be}var Oe=Z.length;Z.push.apply(Z,Ue);for(var pt=0;pt<Fe.length;pt++)ne.push(Fe[pt]+Oe)}x.instructions&&!je.inhibitGridFit&&((je=new Ci("glyf",x.instructions)).gZone=je.z0=je.z1=je.z2=Z,je.contours=ne,Z.push(new ni(0,0),new ni(Math.round(x.advanceWidth*N),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),je.step=-1),Xs(je),Z.length-=2)}else je=new Ci("glyf",x.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),je.step=-1),mb(x,je,N,R),Z=je.gZone;return Z},mb=function(x,T,N,R){for(var z,$,Z,ne=x.points||[],fe=ne.length,de=T.gZone=T.z0=T.z1=T.z2=[],Ee=T.contours=[],je=0;je<fe;je++)z=ne[je],de[je]=new ni(z.x*N,z.y*R,z.lastPointOfContour,z.onCurve);for(var Ae=0;Ae<fe;Ae++)z=de[Ae],$||($=z,Ee.push(Ae)),z.lastPointOfContour?((z.nextPointOnContour=$).prevPointOnContour=z,$=void 0):(Z=de[Ae+1],(z.nextPointOnContour=Z).prevPointOnContour=z);if(!T.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",T.stack);for(var be=0;be<fe;be++)console.log(be,de[be].x,de[be].y)}if(de.push(new ni(0,0),new ni(Math.round(x.advanceWidth*N),0)),Xs(T),de.length-=2,c.DEBUG){console.log("FINISHED GLYPH",T.stack);for(var Ue=0;Ue<fe;Ue++)console.log(Ue,de[Ue].x,de[Ue].y)}}},Xs=function(x){var T=x.prog;if(T){var N,R=T.length;for(x.ip=0;x.ip<R;x.ip++){if(c.DEBUG&&x.step++,!(N=M2[T[x.ip]]))throw new Error("unknown instruction: 0x"+Number(T[x.ip]).toString(16));N(x)}}},M2=[eb.bind(void 0,ri),eb.bind(void 0,Io),tb.bind(void 0,ri),tb.bind(void 0,Io),rb.bind(void 0,ri),rb.bind(void 0,Io),nb.bind(void 0,0),nb.bind(void 0,1),ob.bind(void 0,0),ob.bind(void 0,1),function(x){var T=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"SPVFS[]",T,N),x.pv=x.dpv=vu(N,T)},function(x){var T=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"SPVFS[]",T,N),x.fv=vu(N,T)},function(x){var T=x.stack,N=x.pv;c.DEBUG&&console.log(x.step,"GPV[]"),T.push(16384*N.x),T.push(16384*N.y)},function(x){var T=x.stack,N=x.fv;c.DEBUG&&console.log(x.step,"GFV[]"),T.push(16384*N.x),T.push(16384*N.y)},function(x){x.fv=x.pv,c.DEBUG&&console.log(x.step,"SFVTPV[]")},function(T){var N=(Z=T.stack).pop(),R=Z.pop(),z=Z.pop(),$=Z.pop(),Z=Z.pop(),fe=T.z0,Ee=T.z1,ne=fe[N],fe=fe[R],de=Ee[z],Ee=Ee[$],T=T.z2[Z],N=(c.DEBUG&&console.log("ISECT[], ",N,R,z,$,Z),ne.x),R=ne.y,z=fe.x,$=fe.y,Z=de.x,ne=de.y,fe=Ee.x,de=Ee.y,Ee=(N-z)*(ne-de)-(R-$)*(Z-fe),je=N*$-R*z,Ae=Z*de-ne*fe;T.x=(je*(Z-fe)-Ae*(N-z))/Ee,T.y=(je*(ne-de)-Ae*(R-$))/Ee},function(x){x.rp0=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),c.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var T=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP0[]",T),x.zp0=T){case 0:x.tZone||ql(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var T=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP1[]",T),x.zp1=T){case 0:x.tZone||ql(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var T=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZP2[]",T),x.zp2=T){case 0:x.tZone||ql(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var T=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SZPS[]",T),x.zp0=x.zp1=x.zp2=T){case 0:x.tZone||ql(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),c.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){c.DEBUG&&console.log(x.step,"RTG[]"),x.round=Q0},function(x){c.DEBUG&&console.log(x.step,"RTHG[]"),x.round=x2},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SMD[]",T),x.minDis=T/64},function(x){c.DEBUG&&console.log(x.step,"ELSE[]"),J0(x,!1)},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"JMPR[]",T),x.ip+=T-1},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SCVTCI[]",T),x.cvCutIn=T/64},void 0,void 0,function(x){var T=x.stack;c.DEBUG&&console.log(x.step,"DUP[]"),T.push(T[T.length-1])},Sh,function(x){c.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"SWAP[]"),T.push(N),T.push(R)},function(x){var T=x.stack;c.DEBUG&&console.log(x.step,"DEPTH[]"),T.push(T.length)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"CINDEX[]",N),T.push(T[T.length-N])},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"MINDEX[]",N),T.push(T.splice(T.length-N,1)[0])},void 0,void 0,void 0,function(x){var T=(R=x.stack).pop(),N=R.pop(),R=(c.DEBUG&&console.log(x.step,"LOOPCALL[]",T,N),x.ip),z=x.prog;x.prog=x.funcs[T];for(var $=0;$<N;$++)Xs(x),c.DEBUG&&console.log(++x.step,$+1<N?"next loopcall":"done loopcall",$);x.ip=R,x.prog=z},function(x){var T=x.stack.pop(),N=(c.DEBUG&&console.log(x.step,"CALL[]",T),x.ip),R=x.prog;x.prog=x.funcs[T],Xs(x),x.ip=N,x.prog=R,c.DEBUG&&console.log(++x.step,"returning from",T)},function(x){if(x.env!=="fpgm")throw new Error("FDEF not allowed here");var R=x.stack,T=x.prog,N=x.ip,R=R.pop(),z=N;for(c.DEBUG&&console.log(x.step,"FDEF[]",R);T[++N]!==45;);x.ip=N,x.funcs[R]=T.slice(z+1,N)},void 0,ib.bind(void 0,0),ib.bind(void 0,1),sb.bind(void 0,ri),sb.bind(void 0,Io),ab.bind(void 0,0),ab.bind(void 0,1),ub.bind(void 0,0),ub.bind(void 0,1),lb.bind(void 0,0),lb.bind(void 0,1),function(x){for(var T=x.stack,N=x.loop,R=x.fv,z=T.pop()/64,$=x.z2;N--;){var Z=T.pop(),ne=$[Z];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-N)+": ":"")+"SHPIX[]",Z,z),R.setRelative(ne,ne,z),R.touch(ne)}x.loop=1},function(x){for(var T=x.stack,N=x.rp1,R=x.rp2,z=x.loop,$=x.z0[N],Z=x.z1[R],ne=x.fv,fe=x.dpv,de=x.z2;z--;){var Ee=T.pop(),je=de[Ee];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-z)+": ":"")+"IP[]",Ee,N,"<->",R),ne.interpolate(je,$,Z,fe),ne.touch(je)}x.loop=1},cb.bind(void 0,0),cb.bind(void 0,1),function(x){for(var T=x.stack,N=x.rp0,R=x.z0[N],z=x.loop,$=x.fv,Z=x.pv,ne=x.z1;z--;){var fe=T.pop(),de=ne[fe];c.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-z)+": ":"")+"ALIGNRP[]",fe),$.setRelative(de,R,0,Z),$.touch(de)}x.loop=1},function(x){c.DEBUG&&console.log(x.step,"RTDG[]"),x.round=_2},db.bind(void 0,0),db.bind(void 0,1),function(x){var T=x.prog,N=x.ip,R=x.stack,z=T[++N];c.DEBUG&&console.log(x.step,"NPUSHB[]",z);for(var $=0;$<z;$++)R.push(T[++N]);x.ip=N},function(x){var T=x.ip,N=x.prog,R=x.stack,z=N[++T];c.DEBUG&&console.log(x.step,"NPUSHW[]",z);for(var $=0;$<z;$++){var Z=N[++T]<<8|N[++T];32768&Z&&(Z=-(1+(65535^Z))),R.push(Z)}x.ip=T},function(x){var R=x.stack,T=(T=x.store)||(x.store=[]),N=R.pop(),R=R.pop();c.DEBUG&&console.log(x.step,"WS",N,R),T[R]=N},function(z){var T=z.stack,N=z.store,R=T.pop(),z=(c.DEBUG&&console.log(z.step,"RS",R),N&&N[R]||0);T.push(z)},function(x){var T=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"WCVTP",T,N),x.cvt[N]=T/64},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"RCVT",N),T.push(64*x.cvt[N])},fb.bind(void 0,0),fb.bind(void 0,1),void 0,hb.bind(void 0,0),hb.bind(void 0,1),function(x){c.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){c.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"LT[]",N,R),T.push(R<N?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"LTEQ[]",N,R),T.push(R<=N?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"GT[]",N,R),T.push(N<R?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"GTEQ[]",N,R),T.push(N<=R?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"EQ[]",N,R),T.push(N===R?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"NEQ[]",N,R),T.push(N!==R?1:0)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"ODD[]",N),T.push(Math.trunc(N)%2?1:0)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"EVEN[]",N),T.push(Math.trunc(N)%2?0:1)},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"IF[]",T),T||(J0(x,!0),c.DEBUG&&console.log(x.step,"EIF[]"))},function(x){c.DEBUG&&console.log(x.step,"EIF[]")},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"AND[]",N,R),T.push(N&&R?1:0)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"OR[]",N,R),T.push(N||R?1:0)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"NOT[]",N),T.push(N?0:1)},Eh.bind(void 0,1),function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SDB[]",T),x.deltaBase=T},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SDS[]",T),x.deltaShift=Math.pow(.5,T)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"ADD[]",N,R),T.push(R+N)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"SUB[]",N,R),T.push(R-N)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"DIV[]",N,R),T.push(64*R/N)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"MUL[]",N,R),T.push(R*N/64)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"ABS[]",N),T.push(Math.abs(N))},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"NEG[]",N),T.push(-N)},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"FLOOR[]",N),T.push(64*Math.floor(N/64))},function(x){var T=x.stack,N=T.pop();c.DEBUG&&console.log(x.step,"CEILING[]",N),T.push(64*Math.ceil(N/64))},Wl.bind(void 0,0),Wl.bind(void 0,1),Wl.bind(void 0,2),Wl.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var T=(N=x.stack).pop(),N=N.pop();c.DEBUG&&console.log(x.step,"WCVTF[]",T,N),x.cvt[N]=T*x.ppem/x.font.unitsPerEm},Eh.bind(void 0,2),Eh.bind(void 0,3),Ch.bind(void 0,1),Ch.bind(void 0,2),Ch.bind(void 0,3),function(x){var T,N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"SROUND[]",N),x.round=K0,192&N){case 0:T=.5;break;case 64:T=1;break;case 128:T=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=T,48&N){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*T;break;case 32:x.srPhase=.5*T;break;case 48:x.srPhase=.75*T;break;default:throw new Error("invalid SROUND value")}x.srThreshold=(N&=15)===0?0:(N/8-.5)*T},function(x){var T,N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"S45ROUND[]",N),x.round=K0,192&N){case 0:T=Math.sqrt(2)/2;break;case 64:T=Math.sqrt(2);break;case 128:T=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=T,48&N){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*T;break;case 32:x.srPhase=.5*T;break;case 48:x.srPhase=.75*T;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=(N&=15)===0?0:(N/8-.5)*T},void 0,void 0,function(x){c.DEBUG&&console.log(x.step,"ROFF[]"),x.round=w2},void 0,function(x){c.DEBUG&&console.log(x.step,"RUTG[]"),x.round=D2},function(x){c.DEBUG&&console.log(x.step,"RDTG[]"),x.round=S2},Sh,Sh,void 0,void 0,void 0,void 0,void 0,function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SCANCTRL[]",T)},pb.bind(void 0,0),pb.bind(void 0,1),function(x){var T=x.stack,N=T.pop(),R=0;c.DEBUG&&console.log(x.step,"GETINFO[]",N),1&N&&(R=35),32&N&&(R|=4096),T.push(R)},void 0,function(x){var T=x.stack,N=T.pop(),R=T.pop(),z=T.pop();c.DEBUG&&console.log(x.step,"ROLL[]"),T.push(R),T.push(N),T.push(z)},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"MAX[]",N,R),T.push(Math.max(R,N))},function(x){var T=x.stack,N=T.pop(),R=T.pop();c.DEBUG&&console.log(x.step,"MIN[]",N,R),T.push(Math.min(R,N))},function(x){var T=x.stack.pop();c.DEBUG&&console.log(x.step,"SCANTYPE[]",T)},function(x){var T=x.stack.pop(),N=x.stack.pop();switch(c.DEBUG&&console.log(x.step,"INSTCTRL[]",T,N),T){case 1:return void(x.inhibitGridFit=!!N);case 2:return void(x.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Mi.bind(void 0,1),Mi.bind(void 0,2),Mi.bind(void 0,3),Mi.bind(void 0,4),Mi.bind(void 0,5),Mi.bind(void 0,6),Mi.bind(void 0,7),Mi.bind(void 0,8),Ti.bind(void 0,1),Ti.bind(void 0,2),Ti.bind(void 0,3),Ti.bind(void 0,4),Ti.bind(void 0,5),Ti.bind(void 0,6),Ti.bind(void 0,7),Ti.bind(void 0,8),ct.bind(void 0,0,0,0,0,0),ct.bind(void 0,0,0,0,0,1),ct.bind(void 0,0,0,0,0,2),ct.bind(void 0,0,0,0,0,3),ct.bind(void 0,0,0,0,1,0),ct.bind(void 0,0,0,0,1,1),ct.bind(void 0,0,0,0,1,2),ct.bind(void 0,0,0,0,1,3),ct.bind(void 0,0,0,1,0,0),ct.bind(void 0,0,0,1,0,1),ct.bind(void 0,0,0,1,0,2),ct.bind(void 0,0,0,1,0,3),ct.bind(void 0,0,0,1,1,0),ct.bind(void 0,0,0,1,1,1),ct.bind(void 0,0,0,1,1,2),ct.bind(void 0,0,0,1,1,3),ct.bind(void 0,0,1,0,0,0),ct.bind(void 0,0,1,0,0,1),ct.bind(void 0,0,1,0,0,2),ct.bind(void 0,0,1,0,0,3),ct.bind(void 0,0,1,0,1,0),ct.bind(void 0,0,1,0,1,1),ct.bind(void 0,0,1,0,1,2),ct.bind(void 0,0,1,0,1,3),ct.bind(void 0,0,1,1,0,0),ct.bind(void 0,0,1,1,0,1),ct.bind(void 0,0,1,1,0,2),ct.bind(void 0,0,1,1,0,3),ct.bind(void 0,0,1,1,1,0),ct.bind(void 0,0,1,1,1,1),ct.bind(void 0,0,1,1,1,2),ct.bind(void 0,0,1,1,1,3),ct.bind(void 0,1,0,0,0,0),ct.bind(void 0,1,0,0,0,1),ct.bind(void 0,1,0,0,0,2),ct.bind(void 0,1,0,0,0,3),ct.bind(void 0,1,0,0,1,0),ct.bind(void 0,1,0,0,1,1),ct.bind(void 0,1,0,0,1,2),ct.bind(void 0,1,0,0,1,3),ct.bind(void 0,1,0,1,0,0),ct.bind(void 0,1,0,1,0,1),ct.bind(void 0,1,0,1,0,2),ct.bind(void 0,1,0,1,0,3),ct.bind(void 0,1,0,1,1,0),ct.bind(void 0,1,0,1,1,1),ct.bind(void 0,1,0,1,1,2),ct.bind(void 0,1,0,1,1,3),ct.bind(void 0,1,1,0,0,0),ct.bind(void 0,1,1,0,0,1),ct.bind(void 0,1,1,0,0,2),ct.bind(void 0,1,1,0,0,3),ct.bind(void 0,1,1,0,1,0),ct.bind(void 0,1,1,0,1,1),ct.bind(void 0,1,1,0,1,2),ct.bind(void 0,1,1,0,1,3),ct.bind(void 0,1,1,1,0,0),ct.bind(void 0,1,1,1,0,1),ct.bind(void 0,1,1,1,0,2),ct.bind(void 0,1,1,1,0,3),ct.bind(void 0,1,1,1,1,0),ct.bind(void 0,1,1,1,1,1),ct.bind(void 0,1,1,1,1,2),ct.bind(void 0,1,1,1,1,3)],T2=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function dr(x){(x=x||{}).empty||(Ys(x.familyName,"When creating a new Font object, familyName is required."),Ys(x.styleName,"When creating a new Font object, styleName is required."),Ys(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ys(x.ascender,"When creating a new Font object, ascender is required."),Ys(x.descender,"When creating a new Font object, descender is required."),Ys(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new it.GlyphSet(this,x.glyphs||[]),this.encoding=new ye(this),this.position=new Hl(this),this.substitution=new jo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Z0(this):void 0)}})}function gb(x,T){var N,R=JSON.stringify(x),z=256;for(N in T){var $=parseInt(N);if($&&!($<256)){if(JSON.stringify(T[N])===R)return $;z<=$&&(z=$+1)}}return T[z]=x,z}dr.prototype.hasChar=function(x){return this.encoding.charToGlyphIndex(x)!==null},dr.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},dr.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},dr.prototype.stringToGlyphs=function(x,T){T=T||this.defaultRenderOptions;for(var N=T2(x),R=[],z=0;z<N.length;z+=1){var $=N[z];R.push(this.charToGlyphIndex($))}var Z=R.length;if(T.features){var x=T.script||this.substitution.getDefaultScriptName(),ne=[];T.features.liga&&(ne=ne.concat(this.substitution.getFeature("liga",x,T.language))),T.features.rlig&&(ne=ne.concat(this.substitution.getFeature("rlig",x,T.language)));for(var fe=0;fe<Z;fe+=1)for(var de=0;de<ne.length;de++){for(var Ee=ne[de],je=Ee.sub,Ae=je.length,be=0;be<Ae&&je[be]===R[fe+be];)be++;be===Ae&&(R.splice(fe,Ae,Ee.by),Z=Z-Ae+1)}}for(var Ue=new Array(Z),Fe=this.glyphs.get(0),Re=0;Re<Z;Re+=1)Ue[Re]=this.glyphs.get(R[Re])||Fe;return Ue},dr.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},dr.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},dr.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},dr.prototype.getKerningValue=function(x,T){x=x.index||x,T=T.index||T;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,x,T):this.kerningPairs[x+","+T]||0},dr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},dr.prototype.forEachGlyph=function(x,T,N,R,z,$){T=T!==void 0?T:0,N=N!==void 0?N:0,z=z||this.defaultRenderOptions;var Z,ne=1/this.unitsPerEm*(R=R!==void 0?R:72),fe=this.stringToGlyphs(x,z);z.kerning&&(x=z.script||this.position.getDefaultScriptName(),Z=this.position.getKerningTables(x,z.language));for(var de=0;de<fe.length;de+=1){var Ee=fe[de];$.call(this,Ee,T,N,R,z),Ee.advanceWidth&&(T+=Ee.advanceWidth*ne),z.kerning&&de<fe.length-1&&(T+=(Z?this.position.getKerningValue(Z,Ee.index,fe[de+1].index):this.getKerningValue(Ee,fe[de+1]))*ne),z.letterSpacing?T+=z.letterSpacing*R:z.tracking&&(T+=z.tracking/1e3*R)}return T},dr.prototype.getPath=function(x,T,N,R,z){var $=new Q;return this.forEachGlyph(x,T,N,R,z,function(Z,ne,fe,de){Z=Z.getPath(ne,fe,de,z,this),$.extend(Z)}),$},dr.prototype.getPaths=function(x,T,N,R,z){var $=[];return this.forEachGlyph(x,T,N,R,z,function(Z,ne,fe,de){Z=Z.getPath(ne,fe,de,z,this),$.push(Z)}),$},dr.prototype.getAdvanceWidth=function(x,T,N){return this.forEachGlyph(x,0,0,T,N,function(){})},dr.prototype.draw=function(x,T,N,R,z,$){this.getPath(T,N,R,z,$).draw(x)},dr.prototype.drawPoints=function(x,T,N,R,z,$){this.forEachGlyph(T,N,R,z,$,function(Z,ne,fe,de){Z.drawPoints(x,ne,fe,de)})},dr.prototype.drawMetrics=function(x,T,N,R,z,$){this.forEachGlyph(T,N,R,z,$,function(Z,ne,fe,de){Z.drawMetrics(x,ne,fe,de)})},dr.prototype.getEnglishName=function(x){if(x=this.names[x],x)return x.en},dr.prototype.validate=function(){var x=this;function T(N){N=x.getEnglishName(N),N&&N.trim().length}T("fontFamily"),T("weightName"),T("manufacturer"),T("copyright"),T("version"),this.unitsPerEm},dr.prototype.toTables=function(){return y2.fontToTable(this)},dr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},dr.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),T=new ArrayBuffer(x.length),N=new Uint8Array(T),R=0;R<x.length;R++)N[R]=x[R];return T},dr.prototype.download=function(x){var T=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),R=(x=x||T.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(z){z.root.getFile(x,{create:!0},function($){$.createWriter(function(Z){var ne=new DataView(R),ne=new Blob([ne],{type:"font/opentype"});Z.write(ne),Z.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(z){throw new Error(z.name+": "+z.message)})):(T=t("fs"),N=function(z){for(var $=new a(z.byteLength),Z=new Uint8Array(z),ne=0;ne<$.length;++ne)$[ne]=Z[ne];return $}(R),T.writeFileSync(x,N))},dr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},dr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},dr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var A2={make:function(x,T){var N=new De.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x.axes.length}]);N.offsetToData=N.sizeOf();for(var R,z,$,Z=0;Z<x.axes.length;Z++)N.fields=N.fields.concat((R=Z,z=x.axes[Z],$=T,$=gb(z.name,T),[{name:"tag_"+R,type:"TAG",value:z.tag},{name:"minValue_"+R,type:"FIXED",value:z.minValue<<16},{name:"defaultValue_"+R,type:"FIXED",value:z.defaultValue<<16},{name:"maxValue_"+R,type:"FIXED",value:z.maxValue<<16},{name:"flags_"+R,type:"USHORT",value:0},{name:"nameID_"+R,type:"USHORT",value:$}]));for(var ne=0;ne<x.instances.length;ne++)N.fields=N.fields.concat(function(fe,de,Ee,je){for(var Ae=[{name:"nameID_"+fe,type:"USHORT",value:gb(de.name,je)},{name:"flags_"+fe,type:"USHORT",value:0}],be=0;be<Ee.length;++be){var Ue=Ee[be].tag;Ae.push({name:"axis_"+fe+" "+Ue,type:"FIXED",value:de.coordinates[Ue]<<16})}return Ae}(ne,x.instances[ne],x.axes,T));return N},parse:function(x,T,N){for(var R,z,$,Z,ne=new ae.Parser(x,T),fe=ne.parseULong(),de=(A.argument(fe===65536,"Unsupported fvar table version."),ne.parseOffset16()),Ee=(ne.skip("uShort",1),ne.parseUShort()),je=ne.parseUShort(),Ae=ne.parseUShort(),be=ne.parseUShort(),Ue=[],Fe=0;Fe<Ee;Fe++)Ue.push((R=x,z=T+de+Fe*je,$=N,Z={},R=new ae.Parser(R,z),Z.tag=R.parseTag(),Z.minValue=R.parseFixed(),Z.defaultValue=R.parseFixed(),Z.maxValue=R.parseFixed(),R.skip("uShort",1),Z.name=$[R.parseUShort()]||{},Z));for(var Re=[],Ne=T+de+Ee*je,Oe=0;Oe<Ae;Oe++)Re.push(function(pt,Et,mt,gt){var It={},vr=new ae.Parser(pt,Et);It.name=gt[vr.parseUShort()]||{},vr.skip("uShort",1),It.coordinates={};for(var kr=0;kr<mt.length;++kr)It.coordinates[mt[kr].tag]=vr.parseFixed();return It}(x,Ne+Oe*be,Ue,N));return{axes:Ue,instances:Re}}},co=new Array(10);co[1]=function(){var x=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{posFormat:1,coverage:this.parsePointer(Ce.coverage),value:this.parseValueRecord()}:T===2?{posFormat:2,coverage:this.parsePointer(Ce.coverage),values:this.parseValueRecordList()}:void A.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},co[2]=function(){var x,T,N,R,$=this.offset+this.relativeOffset,z=this.parseUShort(),$=(A.assert(z===1||z===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ce.coverage)),Z=this.parseUShort(),ne=this.parseUShort();return z===1?{posFormat:z,coverage:$,valueFormat1:Z,valueFormat2:ne,pairSets:this.parseList(Ce.pointer(Ce.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Z),value2:this.parseValueRecord(ne)}})))}:z===2?(x=this.parsePointer(Ce.classDef),T=this.parsePointer(Ce.classDef),N=this.parseUShort(),R=this.parseUShort(),{posFormat:z,coverage:$,valueFormat1:Z,valueFormat2:ne,classDef1:x,classDef2:T,class1Count:N,class2Count:R,classRecords:this.parseList(N,Ce.list(R,function(){return{value1:this.parseValueRecord(Z),value2:this.parseValueRecord(ne)}}))}):void 0},co[3]=function(){return{error:"GPOS Lookup 3 not supported"}},co[4]=function(){return{error:"GPOS Lookup 4 not supported"}},co[5]=function(){return{error:"GPOS Lookup 5 not supported"}},co[6]=function(){return{error:"GPOS Lookup 6 not supported"}},co[7]=function(){return{error:"GPOS Lookup 7 not supported"}},co[8]=function(){return{error:"GPOS Lookup 8 not supported"}},co[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var j2=new Array(10),I2={parse:function(x,T){return T=(x=new Ce(x,T=T||0)).parseVersion(1),A.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(co)}:{version:T,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(co),variations:x.parseFeatureVariationsList()}},make:function(x){return new De.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new De.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new De.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new De.LookupList(x.lookups,j2)}])}},N2={parse:function(x,T){if(x=new ae.Parser(x,T),(T=x.parseUShort())===0){var N=x,R={},je=(N.skip("uShort"),N.parseUShort()),z=(A.argument(je===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var $=0;$<z;$+=1){var Z=N.parseUShort(),ne=N.parseUShort(),fe=N.parseShort();R[Z+","+ne]=fe}return R}if(T!==1)throw new Error("Unsupported kern table version ("+T+").");var de=x,Ee={},je=(de.skip("uShort"),1<de.parseULong()&&console.warn("Only the first kern subtable is supported."),de.skip("uLong"),255&de.parseUShort());if(de.skip("uShort"),je==0){var Ae=de.parseUShort();de.skip("uShort",3);for(var be=0;be<Ae;be+=1){var Ue=de.parseUShort(),Fe=de.parseUShort(),Re=de.parseShort();Ee[Ue+","+Fe]=Re}}return Ee}},O2={parse:function(x,T,N,R){for(var z=new ae.Parser(x,T),$=R?z.parseUShort:z.parseULong,Z=[],ne=0;ne<N+1;ne+=1){var fe=$.call(z);R&&(fe*=2),Z.push(fe)}return Z}};function F2(x,T){t("fs").readFile(x,function(N,R){if(N)return T(N.message);T(null,W0(R))})}function k2(x,T){var N=new XMLHttpRequest;N.open("get",x,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?T(null,N.response):T("Font could not be loaded: "+N.statusText)},N.onerror=function(){T("Font could not be loaded")},N.send()}function yb(x,T){for(var N=[],R=12,z=0;z<T;z+=1){var $=ae.getTag(x,R),Z=ae.getULong(x,R+4),ne=ae.getULong(x,R+8),fe=ae.getULong(x,R+12);N.push({tag:$,checksum:Z,offset:ne,length:fe,compression:!1}),R+=16}return N}function Wr(N,T){if(T.compression!=="WOFF")return{data:N,offset:T.offset};var N=new Uint8Array(N.buffer,T.offset+2,T.compressedLength-2),R=new Uint8Array(T.length);if(G(N,R),R.byteLength!==T.length)throw new Error("Decompression error: "+T.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function Mh(Oe){var T,N,R,z,$,Z,ne,fe,de,Ee,je,Ae,be,Ue,Fe=new dr({empty:!0}),Re=new DataView(Oe,0),Ne=[],Oe=ae.getTag(Re,0);if(Oe==="\0\0\0"||Oe==="true"||Oe==="typ1")Fe.outlinesFormat="truetype",Ne=yb(Re,R=ae.getUShort(Re,4));else if(Oe==="OTTO")Fe.outlinesFormat="cff",Ne=yb(Re,R=ae.getUShort(Re,4));else{if(Oe!=="wOFF")throw new Error("Unsupported OpenType signature "+Oe);var pt=ae.getTag(Re,4);if(pt==="\0\0\0")Fe.outlinesFormat="truetype";else{if(pt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Oe);Fe.outlinesFormat="cff"}Ne=function(wr,ar){for(var bn=[],Ir=44,ln=0;ln<ar;ln+=1){var _r=ae.getTag(wr,Ir),tn=ae.getULong(wr,Ir+4),wu=ae.getULong(wr,Ir+8),Zs=ae.getULong(wr,Ir+12),vb=void 0,vb=wu<Zs&&"WOFF";bn.push({tag:_r,offset:tn,compression:vb,compressedLength:wu,length:Zs}),Ir+=20}return bn}(Re,R=ae.getUShort(Re,12))}for(var Et=0;Et<R;Et+=1){var mt=Ne[Et],gt=void 0;switch(mt.tag){case"cmap":gt=Wr(Re,mt),Fe.tables.cmap=X.parse(gt.data,gt.offset),Fe.encoding=new Se(Fe.tables.cmap);break;case"cvt ":gt=Wr(Re,mt),Ue=new ae.Parser(gt.data,gt.offset),Fe.tables.cvt=Ue.parseShortList(mt.length/2);break;case"fvar":$=mt;break;case"fpgm":gt=Wr(Re,mt),Ue=new ae.Parser(gt.data,gt.offset),Fe.tables.fpgm=Ue.parseByteList(mt.length);break;case"head":gt=Wr(Re,mt),Fe.tables.head=as.parse(gt.data,gt.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,T=Fe.tables.head.indexToLocFormat;break;case"hhea":gt=Wr(Re,mt),Fe.tables.hhea=we.parse(gt.data,gt.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":de=mt;break;case"ltag":gt=Wr(Re,mt),N=rt.parse(gt.data,gt.offset);break;case"maxp":gt=Wr(Re,mt),Fe.tables.maxp=qe.parse(gt.data,gt.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":Ae=mt;break;case"OS/2":gt=Wr(Re,mt),Fe.tables.os2=jr.parse(gt.data,gt.offset);break;case"post":gt=Wr(Re,mt),Fe.tables.post=Ei.parse(gt.data,gt.offset),Fe.glyphNames=new Be(Fe.tables.post);break;case"prep":gt=Wr(Re,mt),Ue=new ae.Parser(gt.data,gt.offset),Fe.tables.prep=Ue.parseByteList(mt.length);break;case"glyf":Z=mt;break;case"loca":je=mt;break;case"CFF ":z=mt;break;case"kern":Ee=mt;break;case"GPOS":ne=mt;break;case"GSUB":fe=mt;break;case"meta":be=mt}}if(pt=Wr(Re,Ae),Fe.tables.name=ur.parse(pt.data,pt.offset,N),Fe.names=Fe.tables.name,Z&&je)Oe=T===0,pt=Wr(Re,je),pt=O2.parse(pt.data,pt.offset,Fe.numGlyphs,Oe),Oe=Wr(Re,Z),Fe.glyphs=X0.parse(Oe.data,Oe.offset,pt,Fe);else{if(!z)throw new Error("Font doesn't contain TrueType or CFF outlines.");Oe=Wr(Re,z),ss.parse(Oe.data,Oe.offset,Fe)}for(var pt=Wr(Re,de),It=($e.parse(pt.data,pt.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),Fe),vr=It.tables.cmap.glyphIndexMap,kr=Object.keys(vr),$r=0;$r<kr.length;$r+=1){var yn,vn=kr[$r],fo=vr[vn];(yn=It.glyphs.get(fo)).addUnicode(parseInt(vn))}for(var fr=0;fr<It.glyphs.length;fr+=1)yn=It.glyphs.get(fr),It.cffEncoding?It.isCIDFont?yn.name="gid"+fr:yn.name=It.cffEncoding.charset[fr]:It.glyphNames.names&&(yn.name=It.glyphNames.glyphIndexToName(fr));return Ee?(Oe=Wr(Re,Ee),Fe.kerningPairs=N2.parse(Oe.data,Oe.offset)):Fe.kerningPairs={},ne&&(pt=Wr(Re,ne),Fe.tables.gpos=I2.parse(pt.data,pt.offset),Fe.position.init()),fe&&(Oe=Wr(Re,fe),Fe.tables.gsub=P0.parse(Oe.data,Oe.offset)),$&&(pt=Wr(Re,$),Fe.tables.fvar=A2.parse(pt.data,pt.offset,Fe.names)),be&&(Oe=Wr(Re,be),Fe.tables.meta=L0.parse(Oe.data,Oe.offset),Fe.metas=Fe.tables.meta),Fe}c.Font=dr,c.Glyph=Ze,c.Path=Q,c.BoundingBox=W,c._parse=ae,c.parse=Mh,c.load=function(x,T){(typeof window>"u"?F2:k2)(x,function(N,R){if(N)return T(N);var z;try{z=Mh(R)}catch($){return T($,null)}return T(null,z)})},c.loadSync=function(x){return Mh(W0(t("fs").readFileSync(x)))},Object.defineProperty(c,"__esModule",{value:!0})},typeof s=="object"&&i!==void 0?u(s):typeof n=="function"&&n.amd?n(["exports"],u):u(l.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,i,s){(function(a){function l(m,y){for(var d=0,h=m.length-1;0<=h;h--){var p=m[h];p==="."?m.splice(h,1):p===".."?(m.splice(h,1),d++):d&&(m.splice(h,1),d--)}if(y)for(;d--;)m.unshift("..");return m}function u(m,y){if(m.filter)return m.filter(y);for(var d=[],h=0;h<m.length;h++)y(m[h],h,m)&&d.push(m[h]);return d}s.resolve=function(){for(var m="",y=!1,d=arguments.length-1;-1<=d&&!y;d--){var h=0<=d?arguments[d]:a.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");h&&(m=h+"/"+m,y=h.charAt(0)==="/")}return(y?"/":"")+(m=l(u(m.split("/"),function(p){return!!p}),!y).join("/"))||"."},s.normalize=function(m){var y=s.isAbsolute(m),d=c(m,-1)==="/";return(m=(m=l(u(m.split("/"),function(h){return!!h}),!y).join("/"))||y?m:".")&&d&&(m+="/"),(y?"/":"")+m},s.isAbsolute=function(m){return m.charAt(0)==="/"},s.join=function(){var m=Array.prototype.slice.call(arguments,0);return s.normalize(u(m,function(y,d){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},s.relative=function(m,y){function d(b){for(var _=0;_<b.length&&b[_]==="";_++);for(var D=b.length-1;0<=D&&b[D]==="";D--);return D<_?[]:b.slice(_,D-_+1)}m=s.resolve(m).substr(1),y=s.resolve(y).substr(1);for(var h=d(m.split("/")),p=d(y.split("/")),f=Math.min(h.length,p.length),v=f,g=0;g<f;g++)if(h[g]!==p[g]){v=g;break}for(var w=[],g=v;g<h.length;g++)w.push("..");return(w=w.concat(p.slice(v))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var y=m.charCodeAt(0)===47,d=-1,h=!0,p=m.length-1;1<=p;--p)if(m.charCodeAt(p)===47){if(!h){d=p;break}}else h=!1;return d===-1?y?"/":".":y&&d===1?"/":m.slice(0,d)},s.basename=function(m,y){return m=function(d){typeof d!="string"&&(d+="");for(var h=0,p=-1,f=!0,v=d.length-1;0<=v;--v)if(d.charCodeAt(v)===47){if(!f){h=v+1;break}}else p===-1&&(f=!1,p=v+1);return p===-1?"":d.slice(h,p)}(m),m=y&&m.substr(-1*y.length)===y?m.substr(0,m.length-y.length):m},s.extname=function(m){typeof m!="string"&&(m+="");for(var y=-1,d=0,h=-1,p=!0,f=0,v=m.length-1;0<=v;--v){var g=m.charCodeAt(v);if(g===47){if(p)continue;d=v+1;break}h===-1&&(p=!1,h=v+1),g===46?y===-1?y=v:f!==1&&(f=1):y!==-1&&(f=-1)}return y===-1||h===-1||f===0||f===1&&y===h-1&&y===d+1?"":m.slice(y,h)};var c="ab".substr(-1)==="b"?function(m,y,d){return m.substr(y,d)}:function(m,y,d){return y<0&&(y=m.length+y),m.substr(y,d)}}).call(this,t("_process"))},{_process:259}],259:[function(t,u,s){var a,l,u=u.exports={};function c(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:c}catch{a=c}try{l=typeof clearTimeout=="function"?clearTimeout:m}catch{l=m}function y(_){if(a===setTimeout)return setTimeout(_,0);if((a===c||!a)&&setTimeout)return(a=setTimeout)(_,0);try{return a(_,0)}catch{try{return a.call(null,_,0)}catch{return a.call(this,_,0)}}}var d,h=[],p=!1,f=-1;function v(){p&&d&&(p=!1,d.length?h=d.concat(h):f=-1,h.length&&g())}function g(){if(!p){for(var _=y(v),D=(p=!0,h.length);D;){for(d=h,h=[];++f<D;)d&&d[f].run();f=-1,D=h.length}d=null,p=!1,function(C){if(l===clearTimeout)return clearTimeout(C);if((l===m||!l)&&clearTimeout)return(l=clearTimeout)(C);try{l(C)}catch{try{return l.call(null,C)}catch{return l.call(this,C)}}}(_)}}function w(_,D){this.fun=_,this.array=D}function b(){}u.nextTick=function(_){var D=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)D[C-1]=arguments[C];h.push(new w(_,D)),h.length!==1||p||y(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=b,u.addListener=b,u.once=b,u.off=b,u.removeListener=b,u.removeAllListeners=b,u.emit=b,u.prependListener=b,u.prependOnceListener=b,u.listeners=function(_){return[]},u.binding=function(_){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(_){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],260:[function(t,i,s){i=function(a){"use strict";var l,u=Object.prototype,c=u.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},m=M.iterator||"@@iterator",y=M.asyncIterator||"@@asyncIterator",d=M.toStringTag||"@@toStringTag";function h(q,U,V,H){var Q,ue,P,A,U=U&&U.prototype instanceof _?U:_,U=Object.create(U.prototype),H=new L(H||[]);return U._invoke=(Q=q,ue=V,P=H,A=f,function(K,re){if(A===g)throw new Error("Generator is already running");if(A===w){if(K==="throw")throw re;return k()}for(P.method=K,P.arg=re;;){var ie=P.delegate;if(ie&&(ie=function ce(se,he){var le=se.iterator[he.method];if(le===l){if(he.delegate=null,he.method==="throw"){if(se.iterator.return&&(he.method="return",he.arg=l,ce(se,he),he.method==="throw"))return b;he.method="throw",he.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}if(le=p(le,se.iterator,he.arg),le.type==="throw")return he.method="throw",he.arg=le.arg,he.delegate=null,b;if(le=le.arg,!le)return he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,b;{if(!le.done)return le;he[se.resultName]=le.value,he.next=se.nextLoc,he.method!=="return"&&(he.method="next",he.arg=l)}return he.delegate=null,b}(ie,P),ie)){if(ie===b)continue;return ie}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(A===f)throw A=w,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);if(A=g,ie=p(Q,ue,P),ie.type==="normal"){if(A=P.done?w:v,ie.arg!==b)return{value:ie.arg,done:P.done}}else ie.type==="throw"&&(A=w,P.method="throw",P.arg=ie.arg)}}),U}function p(q,G,V){try{return{type:"normal",arg:q.call(G,V)}}catch(W){return{type:"throw",arg:W}}}a.wrap=h;var f="suspendedStart",v="suspendedYield",g="executing",w="completed",b={};function _(){}function D(){}function C(){}var M={},E=(M[m]=function(){return this},Object.getPrototypeOf),E=E&&E(E(B([]))),S=(E&&E!==u&&c.call(E,m)&&(M=E),C.prototype=_.prototype=Object.create(M));function O(q){["next","throw","return"].forEach(function(G){q[G]=function(V){return this._invoke(G,V)}})}function j(q){var G;this._invoke=function(V,W){function Q(){return new Promise(function(ue,P){(function A(ce,H,K,re){var ie,ce=p(q[ce],q,H);if(ce.type!=="throw")return(H=(ie=ce.arg).value)&&typeof H=="object"&&c.call(H,"__await")?Promise.resolve(H.__await).then(function(se){A("next",se,K,re)},function(se){A("throw",se,K,re)}):Promise.resolve(H).then(function(se){ie.value=se,K(ie)},function(se){return A("throw",se,K,re)});re(ce.arg)})(V,W,ue,P)})}return G=G?G.then(Q,Q):Q()}}function F(q){var G={tryLoc:q[0]};1 in q&&(G.catchLoc=q[1]),2 in q&&(G.finallyLoc=q[2],G.afterLoc=q[3]),this.tryEntries.push(G)}function I(q){var G=q.completion||{};G.type="normal",delete G.arg,q.completion=G}function L(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(F,this),this.reset(!0)}function B(q){if(q){var G,V=q[m];if(V)return V.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return G=-1,(V=function W(){for(;++G<q.length;)if(c.call(q,G))return W.value=q[G],W.done=!1,W;return W.value=l,W.done=!0,W}).next=V}return{next:k}}function k(){return{value:l,done:!0}}return(D.prototype=S.constructor=C).constructor=D,C[d]=D.displayName="GeneratorFunction",a.isGeneratorFunction=function(q){return q=typeof q=="function"&&q.constructor,!!q&&(q===D||(q.displayName||q.name)==="GeneratorFunction")},a.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,C):(q.__proto__=C,d in q||(q[d]="GeneratorFunction")),q.prototype=Object.create(S),q},a.awrap=function(q){return{__await:q}},O(j.prototype),j.prototype[y]=function(){return this},a.AsyncIterator=j,a.async=function(q,G,V,W){var Q=new j(h(q,G,V,W));return a.isGeneratorFunction(G)?Q:Q.next().then(function(ue){return ue.done?ue.value:Q.next()})},O(S),S[d]="Generator",S[m]=function(){return this},S.toString=function(){return"[object Generator]"},a.keys=function(q){var G,V=[];for(G in q)V.push(G);return V.reverse(),function W(){for(;V.length;){var Q=V.pop();if(Q in q)return W.value=Q,W.done=!1,W}return W.done=!0,W}},a.values=B,L.prototype={constructor:L,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(I),!q)for(var G in this)G.charAt(0)==="t"&&c.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=l)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var G=this;function V(U,H){return ue.type="throw",ue.arg=q,G.next=U,H&&(G.method="next",G.arg=l),!!H}for(var W=this.tryEntries.length-1;0<=W;--W){var Q=this.tryEntries[W],ue=Q.completion;if(Q.tryLoc==="root")return V("end");if(Q.tryLoc<=this.prev){var P=c.call(Q,"catchLoc"),A=c.call(Q,"finallyLoc");if(P&&A){if(this.prev<Q.catchLoc)return V(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return V(Q.finallyLoc)}else if(P){if(this.prev<Q.catchLoc)return V(Q.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return V(Q.finallyLoc)}}}},abrupt:function(q,G){for(var V=this.tryEntries.length-1;0<=V;--V){var W=this.tryEntries[V];if(W.tryLoc<=this.prev&&c.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Q=W;break}}var ue=(Q=Q&&(q==="break"||q==="continue")&&Q.tryLoc<=G&&G<=Q.finallyLoc?null:Q)?Q.completion:{};return ue.type=q,ue.arg=G,Q?(this.method="next",this.next=Q.finallyLoc,b):this.complete(ue)},complete:function(q,G){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&G&&(this.next=G),b},finish:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var V=this.tryEntries[G];if(V.finallyLoc===q)return this.complete(V.completion,V.afterLoc),I(V),b}},catch:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var V,W,Q=this.tryEntries[G];if(Q.tryLoc===q)return(V=Q.completion).type==="throw"&&(W=V.arg,I(Q)),W}throw new Error("illegal catch attempt")},delegateYield:function(q,G,V){return this.delegate={iterator:B(q),resultName:G,nextLoc:V},this.method==="next"&&(this.arg=l),b}},a}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},{}],261:[function(t,i,s){(function(a){"use strict";var l,u,c,m,y,d,h,p,f,v;function g(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function w(I){return I=typeof I!="string"?String(I):I}function b(I){var L={next:function(){var B=I.shift();return{done:B===void 0,value:B}}};return u&&(L[Symbol.iterator]=function(){return L}),L}function _(I){this.map={},I instanceof _?I.forEach(function(L,B){this.append(B,L)},this):Array.isArray(I)?I.forEach(function(L){this.append(L[0],L[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(L){this.append(L,I[L])},this)}function D(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function C(I){return new Promise(function(L,B){I.onload=function(){L(I.result)},I.onerror=function(){B(I.error)}})}function M(I){var L=new FileReader,B=C(L);return L.readAsArrayBuffer(I),B}function E(I){var L;return I.slice?I.slice(0):((L=new Uint8Array(I.byteLength)).set(new Uint8Array(I)),L.buffer)}function S(){return this.bodyUsed=!1,this._initBody=function(I){if(this._bodyInit=I)if(typeof I=="string")this._bodyText=I;else if(c&&Blob.prototype.isPrototypeOf(I))this._bodyBlob=I;else if(m&&FormData.prototype.isPrototypeOf(I))this._bodyFormData=I;else if(l&&URLSearchParams.prototype.isPrototypeOf(I))this._bodyText=I.toString();else if(y&&c&&h(I))this._bodyArrayBuffer=E(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(I)&&!p(I))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(I)}else this._bodyText="";this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var I=D(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var I,L,B=D(this);if(B)return B;if(this._bodyBlob)return B=this._bodyBlob,I=new FileReader,L=C(I),I.readAsText(B),L;if(this._bodyArrayBuffer)return Promise.resolve(function(k){for(var q=new Uint8Array(k),G=new Array(q.length),V=0;V<q.length;V++)G[V]=String.fromCharCode(q[V]);return G.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function O(I,L){var B,k=(L=L||{}).body;if(I instanceof O){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,L.headers||(this.headers=new _(I.headers)),this.method=I.method,this.mode=I.mode,k||I._bodyInit==null||(k=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=L.credentials||this.credentials||"omit",!L.headers&&this.headers||(this.headers=new _(L.headers)),this.method=(I=L.method||this.method||"GET",B=I.toUpperCase(),-1<f.indexOf(B)?B:I),this.mode=L.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}function j(I){var L=new FormData;return I.trim().split("&").forEach(function(B){var k;B&&(k=(B=B.split("=")).shift().replace(/\+/g," "),B=B.join("=").replace(/\+/g," "),L.append(decodeURIComponent(k),decodeURIComponent(B)))}),L}function F(I,L){L=L||{},this.type="default",this.status=L.status===void 0?200:L.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in L?L.statusText:"OK",this.headers=new _(L.headers),this.url=L.url||"",this._initBody(I)}a.fetch||(l="URLSearchParams"in a,u="Symbol"in a&&"iterator"in Symbol,c="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in a,(y="ArrayBuffer"in a)&&(d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(I){return I&&DataView.prototype.isPrototypeOf(I)},p=ArrayBuffer.isView||function(I){return I&&-1<d.indexOf(Object.prototype.toString.call(I))}),_.prototype.append=function(I,L){I=g(I),L=w(L);var B=this.map[I];this.map[I]=B?B+","+L:L},_.prototype.delete=function(I){delete this.map[g(I)]},_.prototype.get=function(I){return I=g(I),this.has(I)?this.map[I]:null},_.prototype.has=function(I){return this.map.hasOwnProperty(g(I))},_.prototype.set=function(I,L){this.map[g(I)]=w(L)},_.prototype.forEach=function(I,L){for(var B in this.map)this.map.hasOwnProperty(B)&&I.call(L,this.map[B],B,this)},_.prototype.keys=function(){var I=[];return this.forEach(function(L,B){I.push(B)}),b(I)},_.prototype.values=function(){var I=[];return this.forEach(function(L){I.push(L)}),b(I)},_.prototype.entries=function(){var I=[];return this.forEach(function(L,B){I.push([B,L])}),b(I)},u&&(_.prototype[Symbol.iterator]=_.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},S.call(O.prototype),S.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},F.error=function(){var I=new F(null,{status:0,statusText:""});return I.type="error",I},v=[301,302,303,307,308],F.redirect=function(I,L){if(v.indexOf(L)===-1)throw new RangeError("Invalid status code");return new F(null,{status:L,headers:{location:I}})},a.Headers=_,a.Request=O,a.Response=F,a.fetch=function(I,L){return new Promise(function(B,k){var q=new O(I,L),G=new XMLHttpRequest;G.onload=function(){var V,W={status:G.status,statusText:G.statusText,headers:(W=G.getAllResponseHeaders()||"",V=new _,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var P=P.split(":"),A=P.shift().trim();A&&(P=P.join(":").trim(),V.append(A,P))}),V)},Q=(W.url="responseURL"in G?G.responseURL:W.headers.get("X-Request-URL"),"response"in G?G.response:G.responseText);B(new F(Q,W))},G.onerror=function(){k(new TypeError("Network request failed"))},G.ontimeout=function(){k(new TypeError("Network request failed"))},G.open(q.method,q.url,!0),q.credentials==="include"?G.withCredentials=!0:q.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&c&&(G.responseType="blob"),q.headers.forEach(function(V,W){G.setRequestHeader(W,V)}),G.send(q._bodyInit===void 0?null:q._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,i,s){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,l=c(t("../core/main")),u=c(t("../color/color_conversion"));function c(d){return d&&d.__esModule?d:{default:d}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];l.default.prototype._rgbColorName=function(f){var h,p,f=u.default._rgbaToHSBA(f),v=[(a=f)[0],f[1],f[2]];v[0]!==0&&(v[0]=Math.round(100*v[0]),(f=v[0].toString().split(""))[p=f.length-1]=parseInt(f[p]),f[p]<2.5?f[p]=0:2.5<=f[p]&&f[p]<7.5&&(f[p]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[p]&&(f[p]=0,f[0]=f[0]+1),v[0]=10*f[0]+f[1]):7.5<=f[p]?v[0]=10:v[0]=f[p]),v[2]=v[2]/255;for(var g=v.length-1;1<=g;g--)v[g]<=.25?v[g]=0:.25<v[g]&&v[g]<.75?v[g]=.5:v[g]=1;if(v[0]===0&&v[1]===0&&v[2]===1){for(var w=2;0<=w;w--)a[w]=Math.round(1e4*a[w])/1e4;for(var b=0;b<m.length;b++){if(m[b].h===a[0]&&m[b].s===a[1]&&m[b].b===a[2]){h=m[b].name;break}h="white"}}else for(var _=0;_<y.length;_++)if(y[_].h===v[0]&&y[_].s===v[1]&&y[_].b===v[2]){h=y[_].name;break}return h},t=l.default,s.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t},l="_Description",u="_fallbackDesc",c="_fallbackTable",m="_Label",y="_labelDesc",d="_labelTable";function h(p){if(p==="label"||p==="fallback")throw new Error("description should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")||p.endsWith("?")||p.endsWith("!")||(p+="."),p}a.default.prototype.describe=function(p,f){var v;a.default._validateParameters("describe",arguments),typeof p=="string"&&(v=this.canvas.id,p=h(p),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==p&&(this.descriptions.fallback.innerHTML=p):this._describeHTML("fallback",p),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==p&&(this.descriptions.label.innerHTML=p):this._describeHTML("label",p)))},a.default.prototype.describeElement=function(p,f,v){var g,w;a.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof p=="string"&&(g=this.canvas.id,f=h(f),w=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(p),p=p.replace(/[^a-zA-Z0-9]/g,""),w='<th scope="row">'.concat(w,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[p]?this.descriptions.fallbackElements[p].innerHTML!==w&&(this.descriptions.fallbackElements[p].innerHTML=w):this._describeElementHTML("fallback",p,w),v===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[p]?this.descriptions.labelElements[p].innerHTML!==w&&(this.descriptions.labelElements[p].innerHTML=w):this._describeElementHTML("label",p,w)))},a.default.prototype._describeHTML=function(p,f){var v,g=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(g+l))?this.dummyDOM.querySelector("#"+g+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+u,'"></p>')):(v='<div id="'.concat(g).concat(l,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(u,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#".concat(g)).innerHTML=v),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(u)),this.descriptions.fallback.innerHTML=f):p==="label"&&(this.dummyDOM.querySelector("#".concat(g+m))?this.dummyDOM.querySelector("#".concat(g+d))&&this.dummyDOM.querySelector("#".concat(g+d)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(y,'"></p>')):(v='<div id="'.concat(g).concat(m,'" class="p5Label"><p id="').concat(g).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",v)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+y),this.descriptions.label.innerHTML=f)},a.default.prototype._describeElementHTML=function(p,f,v){var g,w=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(w+l))?this.dummyDOM.querySelector("#"+w+c)||this.dummyDOM.querySelector("#"+w+u).insertAdjacentHTML("afterend",'<table id="'.concat(w).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(w).concat(l,'" role="region" aria-label="Canvas Description"><table id="').concat(w).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+w).innerHTML=g),(g=document.createElement("tr")).id=w+"_fte_"+f,this.dummyDOM.querySelector("#"+w+c).appendChild(g),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(w).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=v):p==="label"&&(this.dummyDOM.querySelector("#".concat(w+m))?this.dummyDOM.querySelector("#".concat(w+d))||this.dummyDOM.querySelector("#"+w+y).insertAdjacentHTML("afterend",'<table id="'.concat(w+d,'"></table>')):(g='<div id="'.concat(w).concat(m,'" class="p5Label"><table id="').concat(w).concat(d,'"></table></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",g)),(p=document.createElement("tr")).id=w+"_lte_"+f,this.dummyDOM.querySelector("#"+w+d).appendChild(p),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(w).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=v)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(a){var l,u,c,m;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(l=this._accessibleOutputs[a],c=function(y,d,h,p){return d="".concat(d," canvas, ").concat(h," by ").concat(p," pixels, contains ").concat(y[0]),d=(y[0]===1?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(y[1]),d}((u=function(y,d){var h,p="",f="",v=0;for(h in d){var g,w=0;for(g in d[h]){var b='<li id="'.concat(y,"shape").concat(v,'">').concat(d[h][g].color," ").concat(h,",");h==="line"?b+=" location = ".concat(d[h][g].pos,", length = ").concat(d[h][g].length," pixels"):(b+=" location = ".concat(d[h][g].pos),h!=="point"&&(b+=", area = ".concat(d[h][g].area," %")),b+="</li>"),p+=b,w++,v++}f=1<w?"".concat(f," ").concat(w," ").concat(h,"s"):"".concat(f," ").concat(w," ").concat(h)}return{numShapes:[v,f],details:p}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,d){var h,p,f=0,v="",g=Array.from(Array(10),function(){return Array(10)});for(h in d)for(var w in d[h]){var b=void 0;b=h!=="line"?'<a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][w].color," ").concat(h,"</a>"):'<a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][w].color," ").concat(h," midpoint</a>"),d[h][w].loc.locY<g.length&&d[h][w].loc.locX<g[d[h][w].loc.locY].length&&(g[d[h][w].loc.locY][d[h][w].loc.locX]?g[d[h][w].loc.locY][d[h][w].loc.locX]=g[d[h][w].loc.locY][d[h][w].loc.locX]+"  "+b:g[d[h][w].loc.locY][d[h][w].loc.locX]=b,f++)}for(p in g){var _,D="<tr>";for(_ in g[p])D+="<td>",g[p][_]!==void 0&&(D+=g[p][_]),D+="</td>";v=v+D+"</tr>"}return v}(a,this.ingredients.shapes),c!==l.summary.innerHTML&&(l.summary.innerHTML=c),m!==l.map.innerHTML&&(l.map.innerHTML=m),u.details!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=u.details),this._accessibleOutputs[a]=l)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c){return function(m){if(Array.isArray(m)){for(var y=0,d=new Array(m.length);y<m.length;y++)d[y]=m[y];return d}}(c)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(c,m,y){return m=Math.floor(c[0]/m*10),c=Math.floor(c[1]/y*10),m===10&&(m-=1),c===10&&(c-=1),{locX:m,locY:c}}a.default.prototype.textOutput=function(c){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(c){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(c,m){var y,d,h,p=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),"");m==="Fallback"?(y=p+c,this.dummyDOM.querySelector("#".concat(d=p+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(p,"_Description"))?this.dummyDOM.querySelector("#".concat(p,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(p)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(y=p+c+(f=m),this.dummyDOM.querySelector("#".concat(d=p+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(p,"_Label"))?this.dummyDOM.querySelector("#".concat(p,"_Label")):this.dummyDOM.querySelector("#".concat(p))).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>'))),this._accessibleOutputs[y]={},c==="textOutput"?(f="#".concat(p,"gridOutput").concat(f),h='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(d)).innerHTML=h,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):c==="gridOutput"&&(f="#".concat(p,"textOutput").concat(f),h='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(d)).innerHTML=h,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},a.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},a.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},a.default.prototype._accsCanvasColors=function(c,m){c==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},a.default.prototype._accsOutput=function(c,m){c==="ellipse"&&m[2]===m[3]?c="circle":c==="rectangle"&&m[2]===m[3]&&(c="square");var y,d,h={},p=!0,f=function(g,w){var b;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(b=Math.round(w[0]+w[2]/2),Math.round(w[1]+w[3]/2)):g==="triangle"?(b=(w[0]+w[2]+w[4])/3,(w[1]+w[3]+w[5])/3):g==="quadrilateral"?(b=(w[0]+w[2]+w[4]+w[6])/4,(w[1]+w[3]+w[5]+w[7])/4):g==="line"?(b=(w[0]+w[2])/2,(w[1]+w[3])/2):(b=w[0],w[1]),[b,g]}(c,m);if(c==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),y=this._getPos(m[0],[1]),d=this._getPos(m[2],[3]),h.loc=u(f,this.width,this.height),h.pos=y===d?"at ".concat(y):"from ".concat(y," to ").concat(d)):(c==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(c,m)),h.pos=this._getPos.apply(this,l(f)),h.loc=u(f,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[h]){for(var v in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][v])===JSON.stringify(h)&&(p=!1);p===!0&&this.ingredients.shapes[c].push(h)}}else this.ingredients.shapes[c]=[h]},a.default.prototype._getPos=function(d,y){var d=new DOMPointReadOnly(d,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),d=d.matrixTransform(y),y=d.x,d=d.y,h=this.width*this._pixelDensity,p=this.height*this._pixelDensity;return y<.4*h?d<.4*p?"top left":.6*p<d?"bottom left":"mid left":.6*h<y?d<.4*p?"top right":.6*p<d?"bottom right":"mid right":d<.4*p?"top middle":.6*p<d?"bottom middle":"middle"},a.default.prototype._getArea=function(c,m){var y,d,h=0,p=(c==="arc"?(h=(y=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(d=m[0],w=m[1],p=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),b=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),v=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),f=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),d=Math.abs(d*(b-f)+p*(f-w)+v*(w-b))/2,y>Math.PI?h+=d:h-=d)):c==="ellipse"||c==="circle"?h=3.14*m[2]/2*m[3]/2:c==="line"||c==="point"?h=0:c==="quadrilateral"?h=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:c==="rectangle"||c==="square"?h=m[2]*m[3]:c==="triangle"&&(h=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,v=[new DOMPoint(0,0),new DOMPoint(p,0),new DOMPoint(p,f),new DOMPoint(0,f)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),w=v.map(function(_){return _.matrixTransform(g)}),b=Math.abs((w[3].x+w[0].x)*(w[3].y-w[0].y)+(w[0].x+w[1].x)*(w[0].y-w[1].y)+(w[1].x+w[2].x)*(w[1].y-w[2].y)+(w[2].x+w[3].x)*(w[2].y-w[3].y))/2;return Math.round(100*h/b)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(a){var l,u,c,m;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(l=this._accessibleOutputs[a],c=function(y,d,h,p){return h="Your output is a, ".concat(h," by ").concat(p," pixels, ").concat(d," canvas containing the following"),h=y===1?"".concat(h," shape:"):"".concat(h," ").concat(y," shapes:"),h}((u=function(y,d){var h,p="",f=0;for(h in d)for(var v in d[h]){var g='<li><a href="#'.concat(y,"shape").concat(f,'">').concat(d[h][v].color," ").concat(h,"</a>");h==="line"?g+=", ".concat(d[h][v].pos,", ").concat(d[h][v].length," pixels long.</li>"):(g+=", at ".concat(d[h][v].pos),h!=="point"&&(g+=", covering ".concat(d[h][v].area,"% of the canvas")),g+=".</li>"),p+=g,f++}return{numShapes:f,listShapes:p}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,d){var h,p="",f=0;for(h in d)for(var v in d[h]){var g='<tr id="'.concat(y,"shape").concat(f,'"><th>').concat(d[h][v].color," ").concat(h,"</th>");h==="line"?g+="<td>location = ".concat(d[h][v].pos,"</td><td>length = ").concat(d[h][v].length," pixels</td></tr>"):(g+="<td>location = ".concat(d[h][v].pos,"</td>"),h!=="point"&&(g+="<td> area = ".concat(d[h][v].area,"%</td>")),g+="</tr>"),p+=g,f++}return p}(a,this.ingredients.shapes),c!==l.summary.innerHTML&&(l.summary.innerHTML=c),u.listShapes!==l.list.innerHTML&&(l.list.innerHTML=u.listShapes),m!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=m),this._accessibleOutputs[a]=l)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,i,s){"use strict";var a=(a=t("./core/main"))&&a.__esModule?a:{default:a};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),i.exports=a.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(a){var l=a[0],u=a[1],c=a[2],m=(2-u)*c/2;return m!=0&&(m==1?u=0:m<.5?u/=2-u:u=u*c/(2-2*m)),[l,u,m,a[3]]},_hsbaToRGBA:function(a){var l,u,c,m,y,d=6*a[0],h=a[1],p=a[2];return h===0?[p,p,p,a[3]]:(u=p*(1-h),c=p*(1-h*(d-(l=Math.floor(d)))),h=p*(1-h*(1+l-d)),d=l===1?(m=c,y=p,u):l===2?(m=u,y=p,h):l===3?(m=u,y=c,p):l===4?(m=h,y=u,p):l===5?(m=p,y=u,c):(m=p,y=h,u),[m,y,d,a[3]])},_hslaToHSBA:function(a){var l=a[0],u=a[1],c=a[2],m=c<.5?(1+u)*c:c+u-c*u;return[l,u=2*(m-c)/m,m,a[3]]},_hslaToRGBA:function(a){var l,u=6*a[0],c=a[1],m=a[2];return c===0?[m,m,m,a[3]]:[(l=function(y,d,h){return y<0?y+=6:6<=y&&(y-=6),y<1?d+(h-d)*y:y<3?h:y<4?d+(h-d)*(4-y):d})(2+u,c=2*m-(m=m<.5?(1+c)*m:m+c-m*c),m),l(u,c,m),l(u-2,c,m),a[3]]},_rgbaToHSBA:function(a){var l,u,c=a[0],m=a[1],y=a[2],d=Math.max(c,m,y),h=d-Math.min(c,m,y);return h==0?u=l=0:(u=h/d,c===d?l=(m-y)/h:m===d?l=2+(y-c)/h:y===d&&(l=4+(c-m)/h),l<0?l+=6:6<=l&&(l-=6)),[l/6,u,d,a[3]]},_rgbaToHSLA:function(a){var l,u,c=a[0],m=a[1],y=a[2],d=Math.max(c,m,y),p=Math.min(c,m,y),h=d+p,p=d-p;return p==0?u=l=0:(u=h<1?p/h:p/(2-h),c===d?l=(m-y)/p:m===d?l=2+(y-c)/p:y===d&&(l=4+(c-m)/p),l<0?l+=6:6<=l&&(l-=6)),[l/6,u,h/2,a[3]]}},t=t.default.ColorConversion,s.default=t},{"../core/main":283}],269:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.alpha=function(d){return u.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()},u.default.prototype.blue=function(d){return u.default._validateParameters("blue",arguments),this.color(d)._getBlue()},u.default.prototype.brightness=function(d){return u.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()},u.default.prototype.color=function(){for(var d,h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];return u.default._validateParameters("color",p),p[0]instanceof u.default.Color?p[0]:(d=Array.isArray(p[0])?p[0]:p,new u.default.Color(this,d))},u.default.prototype.green=function(d){return u.default._validateParameters("green",arguments),this.color(d)._getGreen()},u.default.prototype.hue=function(d){return u.default._validateParameters("hue",arguments),this.color(d)._getHue()},u.default.prototype.lerpColor=function(d,h,p){u.default._validateParameters("lerpColor",arguments);var f,v,g,w=this._colorMode,b=this._colorMaxes;if(w===c.RGB)v=d.levels.map(function(_){return _/255}),g=h.levels.map(function(_){return _/255});else if(w===c.HSB)d._getBrightness(),h._getBrightness(),v=d.hsba,g=h.hsba;else{if(w!==c.HSL)throw new Error("".concat(w," cannot be used for interpolation."));d._getLightness(),h._getLightness(),v=d.hsla,g=h.hsla}return p=Math.max(Math.min(p,1),0),this.lerp===void 0&&(this.lerp=function(_,D,C){return C*(D-_)+_}),w===c.RGB?f=this.lerp(v[0],g[0],p):(.5<Math.abs(v[0]-g[0])&&(v[0]>g[0]?g[0]+=1:v[0]+=1),1<=(f=this.lerp(v[0],g[0],p))&&--f),d=this.lerp(v[1],g[1],p),h=this.lerp(v[2],g[2],p),v=this.lerp(v[3],g[3],p),f*=b[w][0],d*=b[w][1],h*=b[w][2],v*=b[w][3],this.color(f,d,h,v)},u.default.prototype.lightness=function(d){return u.default._validateParameters("lightness",arguments),this.color(d)._getLightness()},u.default.prototype.red=function(d){return u.default._validateParameters("red",arguments),this.color(d)._getRed()},u.default.prototype.saturation=function(d){return u.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var y=u.default;s.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(f,i,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(_)}function l(_){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(D){return a(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":a(D)})(_)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=d(f("../core/main")),c=function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var D=y();if(D&&D.has(_))return D.get(_);var C,M={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in _){var S;Object.prototype.hasOwnProperty.call(_,C)&&((S=E?Object.getOwnPropertyDescriptor(_,C):null)&&(S.get||S.set)?Object.defineProperty(M,C,S):M[C]=_[C])}return M.default=_,D&&D.set(_,M),M}(f("../core/constants")),m=d(f("./color_conversion"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function d(_){return _&&_.__esModule?_:{default:_}}function h(_,D){for(var C=0;C<D.length;C++){var M=D[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,b=/(\d{1,3})/,v=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(v.source,"%")),w={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",b.source,",",b.source,",",b.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",b.source,",",b.source,",",b.source,",",v.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",b.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",b.source,",",g.source,",",g.source,",",v.source,"\\)$"].join(f.source),"i")},b=(u.default.Color=function(){function _(E,S){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,S),this._calculateLevels()}var D,C,M;return D=_,M=[{key:"_parseInputs",value:function(E,S,O,j){var F,I=arguments.length,L=this.mode,B=this.maxes[L],k=[];if(3<=I){for(k[0]=E/B[0],k[1]=S/B[1],k[2]=O/B[2],k[3]=typeof j=="number"?j/B[3]:1,F=k.length-1;0<=F;--F){var q=k[F];q<0?k[F]=0:1<q&&(k[F]=1)}return L===c.HSL?m.default._hslaToRGBA(k):L===c.HSB?m.default._hsbaToRGBA(k):k}if(I===1&&typeof E=="string"){if(O=E.trim().toLowerCase(),p[O])return _._parseInputs.call(this,p[O]);if(w.HEX3.test(O))return(k=w.HEX3.exec(O).slice(1).map(function(G){return parseInt(G+G,16)/255}))[3]=1,k;if(w.HEX6.test(O))return(k=w.HEX6.exec(O).slice(1).map(function(G){return parseInt(G,16)/255}))[3]=1,k;if(w.HEX4.test(O))return k=w.HEX4.exec(O).slice(1).map(function(G){return parseInt(G+G,16)/255});if(w.HEX8.test(O))return k=w.HEX8.exec(O).slice(1).map(function(G){return parseInt(G,16)/255});if(w.RGB.test(O))return(k=w.RGB.exec(O).slice(1).map(function(G){return G/255}))[3]=1,k;if(w.RGB_PERCENT.test(O))return(k=w.RGB_PERCENT.exec(O).slice(1).map(function(G){return parseFloat(G)/100}))[3]=1,k;if(w.RGBA.test(O))return k=w.RGBA.exec(O).slice(1).map(function(G,V){return V===3?parseFloat(G):G/255});if(w.RGBA_PERCENT.test(O))return k=w.RGBA_PERCENT.exec(O).slice(1).map(function(G,V){return V===3?parseFloat(G):parseFloat(G)/100});if(w.HSL.test(O)?(k=w.HSL.exec(O).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:w.HSLA.test(O)&&(k=w.HSLA.exec(O).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:V===3?parseFloat(G):parseInt(G,10)/100})),(k=k.map(function(G){return Math.max(Math.min(G,1),0)})).length)return m.default._hslaToRGBA(k);if(w.HSB.test(O)?(k=w.HSB.exec(O).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:w.HSBA.test(O)&&(k=w.HSBA.exec(O).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:V===3?parseFloat(G):parseInt(G,10)/100})),k.length){for(F=k.length-1;0<=F;--F)k[F]=Math.max(Math.min(k[F],1),0);return m.default._hsbaToRGBA(k)}k=[1,1,1,1]}else{if(I!==1&&I!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));k[0]=E/B[2],k[1]=E/B[2],k[2]=E/B[2],k[3]=typeof S=="number"?S/B[3]:1,k=k.map(function(G){return Math.max(Math.min(G,1),0)})}return k}}],(C=[{key:"toString",value:function(E){var S=this.levels,O=this._array,j=O[3];switch(E){case"#rrggbb":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16));case"#rrggbbaa":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16),S[3]<16?"0".concat(S[3].toString(16)):S[3].toString(16));case"#rgb":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16),Math.round(15*O[3]).toString(16));case"rgb":return"rgb(".concat(S[0],", ",S[1],", ",S[2],")");case"rgb%":return"rgb(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%, ",(100*O[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");default:return"rgba(".concat(S[0],",",S[1],",",S[2],",",j,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,S=this.levels=new Array(E.length),O=E.length-1;0<=O;--O)S[O]=Math.round(255*E[O]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,S){this.mode=E,this.maxes=S}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&h(D.prototype,C),M&&h(D,M),_}(),u.default.Color);s.default=b},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Color"),u.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},u.default.prototype.endClip=function(){this._renderer.endClip()},u.default.prototype.clip=function(d,h){this._renderer.beginClip(h),d(),this._renderer.endClip(h)},u.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this},u.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},u.default.prototype.colorMode=function(d,h,p,f,v){return u.default._validateParameters("colorMode",arguments),d!==c.RGB&&d!==c.HSB&&d!==c.HSL||(this._colorMode=d,d=this._colorMaxes[d],arguments.length===2?(d[0]=h,d[1]=h,d[2]=h,d[3]=h):arguments.length===4?(d[0]=h,d[1]=p,d[2]=f):arguments.length===5&&(d[0]=h,d[1]=p,d[2]=f,d[3]=v)),this},u.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this},u.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},u.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},u.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this},u.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},u.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=u.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.QUADRATIC=s.LINEAR=s._CTX_MIDDLE=s._DEFAULT_LEADMULT=s._DEFAULT_TEXT_FILL=s.WORD=s.CHAR=s.BOLDITALIC=s.BOLD=s.ITALIC=s.NORMAL=s.BLUR=s.ERODE=s.DILATE=s.POSTERIZE=s.INVERT=s.OPAQUE=s.GRAY=s.THRESHOLD=s.BURN=s.DODGE=s.SOFT_LIGHT=s.HARD_LIGHT=s.OVERLAY=s.REPLACE=s.SCREEN=s.MULTIPLY=s.EXCLUSION=s.SUBTRACT=s.DIFFERENCE=s.LIGHTEST=s.DARKEST=s.ADD=s.REMOVE=s.BLEND=s.UP_ARROW=s.TAB=s.SHIFT=s.RIGHT_ARROW=s.RETURN=s.OPTION=s.LEFT_ARROW=s.ESCAPE=s.ENTER=s.DOWN_ARROW=s.DELETE=s.CONTROL=s.BACKSPACE=s.ALT=s.AUTO=s.HSL=s.HSB=s.RGB=s.MITER=s.BEVEL=s.ROUND=s.SQUARE=s.PROJECT=s.PIE=s.CHORD=s.OPEN=s.CLOSE=s.TESS=s.QUAD_STRIP=s.QUADS=s.TRIANGLE_STRIP=s.TRIANGLE_FAN=s.TRIANGLES=s.LINE_LOOP=s.LINE_STRIP=s.LINES=s.POINTS=s.BASELINE=s.BOTTOM=s.TOP=s.CENTER=s.LEFT=s.RIGHT=s.RADIUS=s.CORNERS=s.CORNER=s.RAD_TO_DEG=s.DEG_TO_RAD=s.RADIANS=s.DEGREES=s.TWO_PI=s.TAU=s.QUARTER_PI=s.PI=s.HALF_PI=s.WAIT=s.TEXT=s.MOVE=s.HAND=s.CROSS=s.ARROW=s.WEBGL2=s.WEBGL=s.P2D=s.VERSION=void 0,s.RGBA=s.HALF_FLOAT=s.FLOAT=s.UNSIGNED_INT=s.UNSIGNED_BYTE=s.COVER=s.CONTAIN=s.FALLBACK=s.LABEL=s.AXES=s.GRID=s._DEFAULT_FILL=s._DEFAULT_STROKE=s.PORTRAIT=s.LANDSCAPE=s.SMOOTH=s.FLAT=s.MIRROR=s.CLAMP=s.REPEAT=s.NEAREST=s.IMAGE=s.IMMEDIATE=s.TEXTURE=s.FILL=s.STROKE=s.CURVE=s.BEZIER=void 0;var a=Math.PI,l=(s.VERSION="1.10.0",s.P2D="p2d",s.WEBGL="webgl",s.WEBGL2="webgl2",s.ARROW="default",s.CROSS="crosshair",s.HAND="pointer",s.MOVE="move",s.TEXT="text",s.WAIT="wait",a/2),l=(s.HALF_PI=l,a),l=(s.PI=l,a/4),l=(s.QUARTER_PI=l,2*a),l=(s.TAU=l,2*a),l=(s.TWO_PI=l,s.DEGREES="degrees",s.RADIANS="radians",a/180),l=(s.DEG_TO_RAD=l,180/a);s.RAD_TO_DEG=l,s.CORNER="corner",s.CORNERS="corners",s.RADIUS="radius",s.RIGHT="right",s.LEFT="left",s.CENTER="center",s.TOP="top",s.BOTTOM="bottom",s.BASELINE="alphabetic",s.POINTS=0,s.LINES=1,s.LINE_STRIP=3,s.LINE_LOOP=2,s.TRIANGLES=4,s.TRIANGLE_FAN=6,s.TRIANGLE_STRIP=5,s.QUADS="quads",s.QUAD_STRIP="quad_strip",s.TESS="tess",s.CLOSE="close",s.OPEN="open",s.CHORD="chord",s.PIE="pie",s.PROJECT="square",s.SQUARE="butt",s.ROUND="round",s.BEVEL="bevel",s.MITER="miter",s.RGB="rgb",s.HSB="hsb",s.HSL="hsl",s.AUTO="auto",s.ALT=18,s.BACKSPACE=8,s.CONTROL=17,s.DELETE=46,s.DOWN_ARROW=40,s.ENTER=13,s.ESCAPE=27,s.LEFT_ARROW=37,s.OPTION=18,s.RETURN=13,s.RIGHT_ARROW=39,s.SHIFT=16,s.TAB=9,s.UP_ARROW=38,s.BLEND="source-over",s.REMOVE="destination-out",s.ADD="lighter",s.DARKEST="darken",s.LIGHTEST="lighten",s.DIFFERENCE="difference",s.SUBTRACT="subtract",s.EXCLUSION="exclusion",s.MULTIPLY="multiply",s.SCREEN="screen",s.REPLACE="copy",s.OVERLAY="overlay",s.HARD_LIGHT="hard-light",s.SOFT_LIGHT="soft-light",s.DODGE="color-dodge",s.BURN="color-burn",s.THRESHOLD="threshold",s.GRAY="gray",s.OPAQUE="opaque",s.INVERT="invert",s.POSTERIZE="posterize",s.DILATE="dilate",s.ERODE="erode",s.BLUR="blur",s.NORMAL="normal",s.ITALIC="italic",s.BOLD="bold",s.BOLDITALIC="bold italic",s.CHAR="CHAR",s.WORD="WORD",s._DEFAULT_TEXT_FILL="#000000",s._DEFAULT_LEADMULT=1.25,s._CTX_MIDDLE="middle",s.LINEAR="linear",s.QUADRATIC="quadratic",s.BEZIER="bezier",s.CURVE="curve",s.STROKE="stroke",s.FILL="fill",s.TEXTURE="texture",s.IMMEDIATE="immediate",s.IMAGE="image",s.NEAREST="nearest",s.REPEAT="repeat",s.CLAMP="clamp",s.MIRROR="mirror",s.FLAT="flat",s.SMOOTH="smooth",s.LANDSCAPE="landscape",s.PORTRAIT="portrait",s._DEFAULT_STROKE="#000000",s._DEFAULT_FILL="#FFFFFF",s.GRID="grid",s.AXES="axes",s.LABEL="label",s.FALLBACK="fallback",s.CONTAIN="contain",s.COVER="cover",s.UNSIGNED_BYTE="unsigned-byte",s.UNSIGNED_INT="unsigned-int",s.FLOAT="float",s.HALF_FLOAT="half-float",s.RGBA="rgba"},{}],273:[function(t,i,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(v)}function l(v){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},c=function(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var g=m();if(g&&g.has(v))return g.get(v);var w,b={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var D;Object.prototype.hasOwnProperty.call(v,w)&&((D=_?Object.getOwnPropertyDescriptor(v,w):null)&&(D.get||D.set)?Object.defineProperty(b,w,D):b[w]=v[w])}return b.default=v,g&&g.set(v,b),b}(t("./constants"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}var y=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],d=(u.default.prototype._frameRate=0,u.default.prototype._lastFrameTime=window.performance.now(),u.default.prototype._targetFrameRate=60,window.print),h=!1;function p(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}u.default.prototype.print=function(){var v;arguments.length?(v=console).log.apply(v,arguments):h||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(h=!0))},u.default.prototype.frameCount=0,u.default.prototype.deltaTime=0,u.default.prototype.focused=document.hasFocus(),u.default.prototype.cursor=function(v,g,w){var b,_="auto",D=this._curElement.elt;y.includes(v)?_=v:typeof v=="string"&&(b="",g&&w&&typeof g=="number"&&typeof w=="number"&&(b="".concat(g," ").concat(w)),_=v.substring(0,7)==="http://"||v.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(v)?"url(".concat(v,") ").concat(b,", auto"):v),D.style.cursor=_},u.default.prototype.frameRate=function(v){return u.default._validateParameters("frameRate",arguments),typeof v!="number"||v<0?this._frameRate:(this._setProperty("_targetFrameRate",v),v===0&&this._setProperty("_frameRate",v),this)},u.default.prototype.getFrameRate=function(){return this.frameRate()},u.default.prototype.setFrameRate=function(v){return this.frameRate(v)},u.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},u.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},u.default.prototype.webglVersion=c.P2D,u.default.prototype.displayWidth=screen.width,u.default.prototype.displayHeight=screen.height,u.default.prototype.windowWidth=0,u.default.prototype.windowHeight=0,u.default.prototype._onresize=function(v){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(v))===void 0||g||v.preventDefault()},u.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f())},u.default.prototype.width=0,u.default.prototype.height=0,u.default.prototype.fullscreen=function(v){if(u.default._validateParameters("fullscreen",arguments),v===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(v){if(v=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},u.default.prototype.pixelDensity=function(v){var g;return u.default._validateParameters("pixelDensity",arguments),typeof v=="number"?(v!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=v),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},u.default.prototype.displayDensity=function(){return window.devicePixelRatio},u.default.prototype.getURL=function(){return location.href},u.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(v){return v!==""})},u.default.prototype.getURLParams=function(){for(var v,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(v=g.exec(location.search))!=null;)v.index===g.lastIndex&&g.lastIndex++,w[v[1]]=v[2];return w},t=u.default,s.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function l(d,h){h=h||console.log.bind(console),u||m(),u.some(function(p){var f;if(d.message&&d.message.match("\\W?".concat(p.name,"\\W"))!==null)return f=p.type==="function"?"".concat(p.name,"()"):p.name,h("Did you just try to use p5.js's ".concat(f," ").concat(p.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var u=null,m=null,c=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},u=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function d(p){return Object.getOwnPropertyNames(p).filter(function(f){return f[0]!=="_"&&!(f in h)&&(h[f]=!0)}).map(function(f){var v=typeof p[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:v}})}var h={};(u=[].concat(d(a.default.prototype),d(t("../constants")))).sort(function(p,f){return f.name.length-p.name.length})},y=(a.default.prototype._helpForMisusedAtTopLevelCode=l,document.readyState!=="complete"&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)})),a.default);s.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};t("../internationalization"),a.default._friendlyFileLoadError=function(){},t=a.default,s.default=t},{"../internationalization":281,"../main":283}],276:[function(t,i,s){"use strict";function a(A){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function l(A){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(U){return a(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":a(U)})(A)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=G(t("../main")),c=t("../internationalization"),m=q(t("../constants")),y,d,h,p,f,v,g,w,b,_,D,C,M,E,S,O,j,F,I,L,B;function k(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,k=function(){return A},A)}function q(A){if(A&&A.__esModule)return A;if(A===null||l(A)!=="object"&&typeof A!="function")return{default:A};var U=k();if(U&&U.has(A))return U.get(A);var H,K,re={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in A)Object.prototype.hasOwnProperty.call(A,H)&&((K=ie?Object.getOwnPropertyDescriptor(A,H):null)&&(K.get||K.set)?Object.defineProperty(re,H,K):re[H]=A[H]);return re.default=A,U&&U.set(A,re),re}function G(A){return A&&A.__esModule?A:{default:A}}function V(A){return ue(A)||Q(A)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Q(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}function ue(A){if(Array.isArray(A)){for(var U=0,H=new Array(A.length);U<A.length;U++)H[U]=A[U];return H}}u.default._fesCodeReader=function(){};var P=u.default;s.default=P},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function a(){var l=/(^|@)\S+:\d+/,u=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(u)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(u)},this).map(function(y){var d=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),h=d.match(/ (\((.+):(\d+):(\d+)\)$)/),d=(d=h?d.replace(h[0],""):d).split(/\s+/).slice(1),h=this.extractLocation(h?h[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(y){return!y.match(c)},this).map(function(y){var d,h;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(h=y.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&h[1]?h[1]:void 0,fileName:(h=this.extractLocation(y.replace(d,"")))[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,d=m.message.split(`
`),h=[],p=2,f=d.length;p<f;p+=2){var v=y.exec(d[p]);v&&h.push({fileName:v[2],lineNumber:v[1],source:d[p]})}return h},parseOpera10:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=m.stacktrace.split(`
`),h=[],p=0,f=d.length;p<f;p+=2){var v=y.exec(d[p]);v&&h.push({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:d[p]})}return h},parseOpera11:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(l)&&!y.match(/^Error created at/)},this).map(function(y){var d,p=y.split("@"),h=this.extractLocation(p.pop()),p=p.shift()||"";return{functionName:p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(d=p.match(/\(([^)]*)\)/)?p.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)===void 0||d==="[arguments not available]"?void 0:d.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new a},t=t.default,s.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};(function(m){if(!(m&&m.__esModule)&&!(m===null||c(m)!=="object"&&typeof m!="function")){var y=u();if(y&&y.has(m))return y.get(m);var d,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in m){var f;Object.prototype.hasOwnProperty.call(m,d)&&((f=p?Object.getOwnPropertyDescriptor(m,d):null)&&(f.get||f.set)?Object.defineProperty(h,d,f):h[d]=m[d])}h.default=m,y&&y.set(m,h)}})(t("../constants")),t("../internationalization");function u(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,u=function(){return m},m)}function c(m){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}l.default._validateParameters=l.default._clearValidateParamsCache=function(){},t=l.default,s.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}function l(m){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=function(m){if(m&&m.__esModule)return m;if(m===null||l(m)!=="object"&&typeof m!="function")return{default:m};var y=c();if(y&&y.has(m))return y.get(m);var d,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in m){var f;Object.prototype.hasOwnProperty.call(m,d)&&((f=p?Object.getOwnPropertyDescriptor(m,d):null)&&(f.get||f.set)?Object.defineProperty(h,d,f):h[d]=m[d])}return h.default=m,y&&y.set(m,h),h}(t("./constants"));function c(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,c=function(){return m},m)}s.default={modeAdjust:function(m,y,d,h,p){return p===u.CORNER?{x:m,y,w:d,h}:p===u.CORNERS?{x:m,y,w:d-m,h:h-y}:p===u.RADIUS?{x:m-d,y:y-h,w:2*d,h:2*h}:p===u.CENTER?{x:m-.5*d,y:y-.5*h,w:d,h}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(l=t("../core/main"))&&l.__esModule?l:{default:l};t("./internationalization");var l=Promise.resolve();Promise.all([new Promise(function(u,c){document.readyState==="complete"?u():window.addEventListener("load",u,!1)}),l]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,i,s){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.setTranslatorLanguage=s.currentTranslatorLanguage=s.availableTranslatorLanguages=s.initialize=s.translator=void 0;var a,l,u=m(t("i18next")),c=m(t("i18next-browser-languagedetector"));function m(h){return h&&h.__esModule?h:{default:h}}function y(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}var d=function(){function h(g,w){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(g,w)}var p,f,v;return p=h,(f=[{key:"fetchWithTimeout",value:function(g,w){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,w),new Promise(function(_,D){return setTimeout(function(){return D(new Error("timeout"))},b)})])}},{key:"init",value:function(g){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=w}},{key:"read",value:function(g,w,b){var _=this.options.loadPath;g===this.options.fallback?b(null,a[g][w]):l.includes(g)?(_=this.services.interpolator.interpolate(_,{lng:g,ns:w}),this.loadUrl(_,b)):b("Not found",!1)}},{key:"loadUrl",value:function(g,w){this.fetchWithTimeout(g).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(b){return w(null,b)}).catch(w)}}])&&y(p.prototype,f),v&&y(p,v),h}();d.type="backend",s.translator=function(h,p){console.debug("p5.js translator called before translations were loaded"),u.default.t(h,p)},s.initialize=function(){return u.default.use(c.default).use(d).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(h){s.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},s.availableTranslatorLanguages=function(){return u.default.languages},s.currentTranslatorLanguage=function(h){return u.default.language},s.setTranslatorLanguage=function(h){return u.default.changeLanguage(h||void 0,function(p){return console.debug("Translations failed to load (".concat(p,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,s.default=t},{"./main":283}],283:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function l(h){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("./shim");var u=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var p=c();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("./constants"));function c(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,c=function(){return h},h)}function m(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}var y,d=function(){function h(g,_){var b=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=_,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(h.prototype._registeredMethods),D=!0,C=!1,M=void 0;try{for(var E,S=_[Symbol.iterator]();!(D=(E=S.next()).done);D=!0){var O=E.value;this._registeredMethods[O]=h.prototype._registeredMethods[O].slice()}}catch(V){C=!0,M=V}finally{try{D||S.return==null||S.return()}finally{if(C)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),h.prototype.callRegisteredHooksFor=function(V){var W=this||h.prototype,Q=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(V)){var W=W._registeredMethods[V],ue=!0,V=!1,P=void 0;try{for(var A,U=W[Symbol.iterator]();!(ue=(A=U.next()).done);ue=!0){var H=A.value;typeof H=="function"&&H.call(Q)}}catch(ie){V=!0,P=ie}finally{try{ue||U.return==null||U.return()}finally{if(V)throw P}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var V=b._isGlobal?window:b;if(V.preload){b.callRegisteredHooksFor("beforePreload");var W,Q=document.getElementById(b._loadingScreenId),ue=(Q||((Q=document.createElement("div")).innerHTML="Loading...",Q.style.position="absolute",Q.id=b._loadingScreenId,(b._userNode||document.body).appendChild(Q)),b._preloadMethods);for(W in ue){ue[W]=ue[W]||h;var P=ue[W];P!==h.prototype&&P!==h||(b._isGlobal&&(window[W]=b._wrapPreload(b,W)),P=b),b._registeredPreloadMethods[W]=P[W],P[W]=b._wrapPreload(P,W)}V.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var V,W=this._isGlobal?window:this;W._preloadCount===0&&((V=document.getElementById(W._loadingScreenId))&&V.parentNode.removeChild(V),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||typeof V.preload!="function"||(V._setProperty("_preloadCount",V._preloadCount-1),V._runIfPreloadsAreDone())},this._wrapPreload=function(V,W){var Q=this;return function(){Q._incrementPreload();for(var ue=arguments.length,P=new Array(ue),A=0;A<ue;A++)P[A]=arguments[A];return Q._registeredPreloadMethods[W].apply(V,P)}},this._incrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||V._setProperty("_preloadCount",V._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var V=b._isGlobal?window:b;if(typeof V.preload=="function")for(var W in b._preloadMethods)V[W]=b._preloadMethods[W][W],V[W]&&b&&(V[W]=V[W].bind(b));b._millisStart=window.performance.now(),V._preloadDone=!0,typeof V.setup=="function"&&V.setup();var Q=document.getElementsByTagName("canvas"),ue=!0,P=!1,A=void 0;try{for(var U,H=Q[Symbol.iterator]();!(ue=(U=H.next()).done);ue=!0){var K=U.value;K.dataset.hidden==="true"&&(K.style.visibility="",delete K.dataset.hidden)}}catch(re){P=!0,A=re}finally{try{ue||H.return==null||H.return()}finally{if(P)throw A}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(W){var W=W||window.performance.now(),Q=W-b._lastTargetFrameTime,ue=1e3/b._targetFrameRate;(!b._loop||ue-5<=Q)&&(b.deltaTime=W-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+ue,W),b._lastRealFrameTime=W,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(V,W){b[V]=W,b._isGlobal&&(window[V]=W)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var V=document.getElementById(b._loadingScreenId);if(V&&(V.parentNode.removeChild(V),b._incrementPreload()),b._curElement){for(var W in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(W,b._events[W]);var Q=!0,V=!1,ue=void 0;try{for(var P,A=b._elements[Symbol.iterator]();!(Q=(P=A.next()).done);Q=!0){var U,H=P.value;for(U in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(U,H._events[U])}}catch(se){V=!0,ue=se}finally{try{Q||A.return==null||A.return()}finally{if(V)throw ue}}var K=b;b._registeredMethods.remove.forEach(function(se){se!==void 0&&se.call(K)})}if(b._isGlobal){for(var re in h.prototype)try{delete window[re]}catch{window[re]=void 0}for(var ie in b)if(b.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}h.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(V){V!==void 0&&V.call(this)},this),this._setupPromisePreloads();var j,F,I=this._createFriendlyGlobalFunctionBinder();if(g)g(this),h._checkForUserDefinedFunctions(this);else{for(var L in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[L]=="function"?(j=L.substring(2),this._events.hasOwnProperty(j)||(Math.hasOwnProperty(L)&&Math[L]===h.prototype[L]?I(L,h.prototype[L]):I(L,h.prototype[L].bind(this)))):I(L,h.prototype[L]);for(var B in this)this.hasOwnProperty(B)&&I(B,this[B])}for(F in this._events){var k=this["_on".concat(F)];k&&(k=k.bind(this),window.addEventListener(F,k,{passive:!1}),this._events[F]=k)}function q(){b._setProperty("focused",!0)}function G(){b._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",G),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",G)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var p,f,v;return p=h,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=u.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,w){h.prototype._preloadMethods.hasOwnProperty(g)||(h.prototype._preloadMethods[g]=w)}},{key:"registerMethod",value:function(g,w){var b=this||h.prototype;b._registeredMethods.hasOwnProperty(g)||(b._registeredMethods[g]=[]),b._registeredMethods[g].push(w)}},{key:"unregisterMethod",value:function(g,w){var b=this||h.prototype;if(b._registeredMethods.hasOwnProperty(g)){for(var _=b._registeredMethods[g],D=[],C=0;C<_.length;C++)_[C]===w&&D.push(C);for(var M=D.length-1;0<=M;M--)_.splice(D[M],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=g.globalObject||window;return g.log||console.log.bind(console),function(b,_){h.disableFriendlyErrors,w[b]=_}}}])&&m(p.prototype,f),v&&m(p,v),h}();for(y in d.instance=null,d.disableFriendlyErrors=!1,u)d.prototype[y]=u[y];d.VERSION=u.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={},s.default=d},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function l(u,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}a.default.Element=function(){function u(d,h){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.elt=d,this._pInst=this._pixelsState=h,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,m,y;return c=u,y=[{key:"_adjustListener",value:function(d,h,p){return h===!1?a.default.Element._detachListener(d,p):a.default.Element._attachListener(d,h,p),this}},{key:"_attachListener",value:function(d,h,p){p._events[d]&&a.default.Element._detachListener(d,p),h=h.bind(p),p.elt.addEventListener(d,h,!1),p._events[d]=h}},{key:"_detachListener",value:function(d,h){var p=h._events[d];h.elt.removeEventListener(d,p,!1),h._events[d]=null}}],(m=[{key:"parent",value:function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof a.default.Element&&(d=d.elt),d.appendChild(this.elt),this)}},{key:"id",value:function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)}},{key:"mousePressed",value:function(d){return a.default.Element._adjustListener("mousedown",function(h){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(h),d.call(this,h)},this),this}},{key:"doubleClicked",value:function(d){return a.default.Element._adjustListener("dblclick",d,this),this}},{key:"mouseWheel",value:function(d){return a.default.Element._adjustListener("wheel",d,this),this}},{key:"mouseReleased",value:function(d){return a.default.Element._adjustListener("mouseup",d,this),this}},{key:"mouseClicked",value:function(d){return a.default.Element._adjustListener("click",d,this),this}},{key:"mouseMoved",value:function(d){return a.default.Element._adjustListener("mousemove",d,this),this}},{key:"mouseOver",value:function(d){return a.default.Element._adjustListener("mouseover",d,this),this}},{key:"mouseOut",value:function(d){return a.default.Element._adjustListener("mouseout",d,this),this}},{key:"touchStarted",value:function(d){return a.default.Element._adjustListener("touchstart",d,this),this}},{key:"touchMoved",value:function(d){return a.default.Element._adjustListener("touchmove",d,this),this}},{key:"touchEnded",value:function(d){return a.default.Element._adjustListener("touchend",d,this),this}},{key:"dragOver",value:function(d){return a.default.Element._adjustListener("dragover",d,this),this}},{key:"dragLeave",value:function(d){return a.default.Element._adjustListener("dragleave",d,this),this}},{key:"_setProperty",value:function(d,h){this[d]=h}}])&&l(c.prototype,m),y&&l(c,y),u}(),t=a.default.Element,s.default=t},{"./main":283}],285:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function l(w){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(g=t("./main"))&&g.__esModule?g:{default:g},c=function(w){if(w&&w.__esModule)return w;if(w===null||l(w)!=="object"&&typeof w!="function")return{default:w};var b=m();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("./constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}function y(w,b){for(var _=0;_<b.length;_++){var D=b[_];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function d(w,b){return(d=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_})(w,b)}function h(w){return function(){var b,_=v(w);return p(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=v(this).constructor,Reflect.construct(_,arguments,b)):_.apply(this,arguments))}}function p(w,b){return!b||l(b)!=="object"&&typeof b!="function"?f(w):b}function f(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function v(w){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(w)}u.default.Graphics=function(w){var b=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),w&&d(b,w);var _,D=h(C);function C(M,E,B,O,j){var F;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");L=j||document.createElement("canvas"),(F=D.call(this,L,O)).canvas=L;var I,L=B||c.P2D,B=O._userNode||document.body;for(I in j||B.appendChild(F.canvas),u.default.prototype)F[I]||(typeof u.default.prototype[I]=="function"?F[I]=u.default.prototype[I].bind(f(F)):F[I]=u.default.prototype[I]);return u.default.prototype._initializeInstanceVariables.apply(f(F)),F.width=M,F.height=E,F._pixelDensity=O._pixelDensity,L===c.WEBGL?(F._renderer=new u.default.RendererGL(F.canvas,f(F),!1),M=(j=F._renderer._adjustDimensions(M,E)).adjustedWidth,E=j.adjustedHeight):F._renderer=new u.default.Renderer2D(F.canvas,f(F),!1),O._elements.push(f(F)),Object.defineProperty(f(F),"deltaTime",{get:function(){return this._pInst.deltaTime}}),F._renderer.resize(M,E),F._renderer._applyDefaults(),p(F,f(F))}return b=C,(w=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var M,E=this._pInst._elements.indexOf(this);for(M in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(M,this._events[M]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(M){return new u.default.Framebuffer(this,M)}}])&&y(b.prototype,w),_&&y(b,_),C}(u.default.Element);var g=u.default.Graphics;s.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(v=t("./main"))&&v.__esModule?v:{default:v},u=function(w){if(w&&w.__esModule)return w;if(w===null||m(w)!=="object"&&typeof w!="function")return{default:w};var b=c();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("../core/constants"));function c(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,c=function(){return w},w)}function m(w){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}function y(w,b){for(var _=0;_<b.length;_++){var D=b[_];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function d(w,b){return(d=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_})(w,b)}function h(w){return function(){var b,_,D=f(w);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=f(this).constructor,Reflect.construct(D,arguments,b)):D.apply(this,arguments),D=this,!(_=b)||m(_)!=="object"&&typeof _!="function"?p(D):_}}function p(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(w)}var v=function(w){var b=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),w&&d(b,w);var _,D=h(C);function C(M,E,S){var O;if(this instanceof C)return(O=D.call(this,M,E)).canvas=M,O._pixelsState=E,S?(O._isMainCanvas=!0,O._pInst._setProperty("_curElement",p(O)),O._pInst._setProperty("canvas",O.canvas),O._pInst._setProperty("width",O.width),O._pInst._setProperty("height",O.height)):(O.canvas.style.display="none",O._styles=[]),O._clipping=!1,O._clipInvert=!1,O._textSize=12,O._textLeading=15,O._textFont="sans-serif",O._textStyle=u.NORMAL,O._textAscent=null,O._textDescent=null,O._textAlign=u.LEFT,O._textBaseline=u.BASELINE,O._textWrap=u.WORD,O._rectMode=u.CORNER,O._ellipseMode=u.CENTER,O._curveTightness=0,O._imageMode=u.CORNER,O._tint=null,O._doStroke=!0,O._doFill=!0,O._strokeSet=!1,O._fillSet=!1,O._leadingSet=!1,O._pushPopDepth=0,O;throw new TypeError("Cannot call a class as a function")}return b=C,(w=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(M){this._pushPopDepth--,M.properties&&Object.assign(this,M.properties)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=M.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(M,E){this.width=M,this.height=E,this.elt.width=M*this._pInst._pixelDensity,this.elt.height=E*this._pInst._pixelDensity,this.elt.style.width="".concat(M,"px"),this.elt.style.height="".concat(E,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(M,E,S,O){var j=this._pixelsState,F=j._pixelDensity,I=this.canvas;if(M===void 0&&E===void 0)M=E=0,S=j.width,O=j.height;else if(M*=F,E*=F,S===void 0&&O===void 0)return M<0||E<0||M>=I.width||E>=I.height?[0,0,0,0]:this._getPixel(M,E);return j=new l.default.Image(S*F,O*F),j.pixelDensity(F),j.canvas.getContext("2d").drawImage(I,M,E,S*F,O*F,0,0,S*F,O*F),j}},{key:"textLeading",value:function(M){return typeof M=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",M),this._pInst):this._textLeading}},{key:"textStyle",value:function(M){return M?(M!==u.NORMAL&&M!==u.ITALIC&&M!==u.BOLD&&M!==u.BOLDITALIC||this._setProperty("_textStyle",M),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(M,E){return M!==void 0?(this._setProperty("_textAlign",M),E!==void 0&&this._setProperty("_textBaseline",E),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(M){return this._setProperty("_textWrap",M),this._textWrap}},{key:"text",value:function(M,E,S,O,j){var F,I,L,B,k=this._pInst,q=this._textWrap,G=Number.MAX_VALUE,V=S;if((this._doFill||this._doStroke)&&M!==void 0){if(F=(M=(M=typeof M!="string"?M.toString():M).replace(/(\t)/g,"  ")).split(`
`),O!==void 0){switch(this._rectMode===u.CENTER&&(E-=O/2),this._textAlign){case u.CENTER:E+=O/2;break;case u.RIGHT:E+=O}if(j!==void 0){this._rectMode===u.CENTER&&(S-=j/2,V-=j/2);var M=S,W=k.textAscent();switch(this._textBaseline){case u.BOTTOM:B=S+j,S=Math.max(B,S),V+=W;break;case u.CENTER:B=S+j/2,S=Math.max(B,S),V+=W/2}G=S+j-W,this._textBaseline===u.CENTER&&(G=M+j-W/2)}else this._textBaseline!==u.BOTTOM&&this._textBaseline!==u.CENTER||(V=S-(M=k.textSize()*this._textLeading)/2,G=S+M/2);if(q===u.WORD){for(var Q=[],ue=0;ue<F.length;ue++){for(var P="",A=F[ue].split(" "),U=0;U<A.length;U++)I="".concat(P+A[U])+" ",P=O<(L=this.textWidth(I))&&0<P.length?(Q.push(P),"".concat(A[U])+" "):I;Q.push(P)}var H=0;this._textBaseline===u.CENTER?H=(Q.length-1)*k.textLeading()/2:this._textBaseline===u.BOTTOM&&(H=(Q.length-1)*k.textLeading());for(var K=0;K<F.length;K++){P="",A=F[K].split(" ");for(var re=0;re<A.length;re++)I="".concat(P+A[re])+" ",O<(L=this.textWidth(I))&&0<P.length?(this._renderText(k,P.trim(),E,S-H,G,V),P="".concat(A[re])+" ",S+=k.textLeading()):P=I;this._renderText(k,P.trim(),E,S-H,G,V),S+=k.textLeading()}}else{for(var ie=[],ce=0;ce<F.length;ce++)for(var se=F[ce].split(P=""),he=0;he<se.length;he++)I="".concat(P+se[he]),(L=this.textWidth(I))<=O?P+=se[he]:O<L&&0<P.length&&(ie.push(P),P="".concat(se[he]));ie.push(P);var le=0;this._textBaseline===u.CENTER?le=(ie.length-1)*k.textLeading()/2:this._textBaseline===u.BOTTOM&&(le=(ie.length-1)*k.textLeading());for(var te=0;te<F.length;te++){se=F[te].split(P="");for(var pe=0;pe<se.length;pe++)I="".concat(P+se[pe]),(L=this.textWidth(I))<=O?P+=se[pe]:O<L&&0<P.length&&(this._renderText(k,P.trim(),E,S-le,G,V),S+=k.textLeading(),P="".concat(se[pe]))}this._renderText(k,P.trim(),E,S-le,G,V),S+=k.textLeading()}}else{var ve=0;this._textBaseline===u.CENTER?ve=(F.length-1)*k.textLeading()/2:this._textBaseline===u.BOTTOM&&(ve=(F.length-1)*k.textLeading());for(var Me=0;Me<F.length;Me++)this._renderText(k,F[Me],E,S-ve,G,V-ve),S+=k.textLeading()}return k}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(M)==="object"&&M.font&&M.font.supported}},{key:"_updateTextMetrics",value:function(){var M,E,S,O,j,F;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((M=document.createElement("span")).style.fontFamily=this._textFont,M.style.fontSize="".concat(this._textSize,"px"),M.innerHTML="ABCjgq|",(F=document.createElement("div")).style.display="inline-block",F.style.width="1px",F.style.height="0px",O=((E=document.createElement("div")).appendChild(M),E.appendChild(F),E.style.height="0px",E.style.overflow="hidden",document.body.appendChild(E),F.style.verticalAlign="baseline",g(F)),j=g(M),S=O[1]-j[1],O=(F.style.verticalAlign="bottom",g(F)),j=g(M),F=O[1]-j[1]-S,document.body.removeChild(E),this._setProperty("_textAscent",S),this._setProperty("_textDescent",F)),this}}])&&y(b.prototype,w),_&&y(b,_),C}(l.default.Element);function g(w){var b=0,_=0;if(w.offsetParent)for(;b+=w.offsetLeft,_+=w.offsetTop,w=w.offsetParent;);else b+=w.offsetLeft,_+=w.offsetTop;return[b,_]}v.prototype.textSize=function(w){return typeof w=="number"?(this._setProperty("_textSize",w),this._leadingSet||this._setProperty("_textLeading",w*u._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},l.default.Renderer=v,t=l.default.Renderer,s.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(w,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function l(b){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}w("core-js/modules/es.symbol"),w("core-js/modules/es.symbol.description"),w("core-js/modules/es.symbol.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.for-each"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.array.join"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.function.name"),w("core-js/modules/es.number.to-fixed"),w("core-js/modules/es.object.get-own-property-descriptor"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.reflect.construct"),w("core-js/modules/es.reflect.get"),w("core-js/modules/es.regexp.exec"),w("core-js/modules/es.regexp.to-string"),w("core-js/modules/es.string.iterator"),w("core-js/modules/es.weak-map"),w("core-js/modules/web.dom-collections.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.for-each"),w("core-js/modules/es.array.join"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.function.name"),w("core-js/modules/es.number.to-fixed"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.regexp.exec"),w("core-js/modules/es.regexp.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(g=w("./main"))&&g.__esModule?g:{default:g},c=function(b){if(b&&b.__esModule)return b;if(b===null||l(b)!=="object"&&typeof b!="function")return{default:b};var _=m();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(w("./constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function y(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function d(b,_,D){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(S,M,E){var S=function(O,j){for(;!Object.prototype.hasOwnProperty.call(O,j)&&(O=f(O))!==null;);return O}(S,M);if(S)return(S=Object.getOwnPropertyDescriptor(S,M)).get?S.get.call(E):S.value})(b,_,D||b)}function h(b,_){return(h=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function p(b){return function(){var _,D=f(b),D=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=f(this).constructor,Reflect.construct(D,arguments,_)):D.apply(this,arguments),this);if(!_||l(_)!=="object"&&typeof _!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}w("./p5.Renderer");var v="rgba(0,0,0,0)",g=function(b){var _=M;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&h(_,b);var D,C=p(M);function M(E,S,O){if(this instanceof M)return(E=C.call(this,E,S,O)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return _=M,(b=[{key:"getFilterGraphicsLayer",value:function(){var E;return this.filterGraphicsLayer||(E=(this._pInst instanceof u.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new u.default.Graphics(this.width,this.height,c.WEBGL,E)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,S){d(f(M.prototype),"resize",this).call(this,E,S),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,S;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof u.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),S=(S=this._pInst).color.apply(S,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(S.levels),S=S.toString(),this._setFill(S),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,S){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,S).toString(),this.drawingContext.strokeStyle=E,S=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=S,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(d(f(M.prototype),"beginClip",this).call(this,E),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.strokeStyle=E,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=E,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),d(f(M.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(E,S,O,j,F,I,L,B,k){E.gifProperties&&E._animateGif(this._pInst);try{u.default.MediaElement&&E instanceof u.default.MediaElement&&E._ensureCanvas();var q=(q=this._tint&&E.canvas?this._getTintedImageCanvas(E):q)||E.canvas||E.elt,G=1;E.width&&0<E.width&&(G=q.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(q,G*S,G*O,G*j,G*F,I,L,B,k),this._isErasing&&this._pInst.erase()}catch(V){if(V.name!=="NS_ERROR_NOT_AVAILABLE")throw V}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var S=E.tintCanvas.getContext("2d");return S.save(),S.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(S.drawImage(E.canvas,0,0),S.globalCompositeOperation="luminosity",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="color",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="multiply",S.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),S.fillRect(0,0,E.canvas.width,E.canvas.height),S.globalCompositeOperation="destination-in"),S.globalAlpha=this._tint[3]/255,S.drawImage(E.canvas,0,0),S.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==c.BLEND&&E!==c.REMOVE&&E!==c.DARKEST&&E!==c.LIGHTEST&&E!==c.DIFFERENCE&&E!==c.MULTIPLY&&E!==c.EXCLUSION&&E!==c.SCREEN&&E!==c.REPLACE&&E!==c.OVERLAY&&E!==c.HARD_LIGHT&&E!==c.SOFT_LIGHT&&E!==c.DODGE&&E!==c.BURN&&E!==c.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,S=arguments.length,O=new Array(S),j=0;j<S;j++)O[j]=arguments[j];var F=O[O.length-1],I=Array.prototype.slice.call(O,0,O.length-1);this.drawingContext.globalCompositeOperation=F,u.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,S){return E=this.drawingContext.getImageData(E,S,1,1).data,[E[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,S=E._pixelDensity,O=this.width*S,S=this.height*S,O=this.drawingContext.getImageData(0,0,O,S);E._setProperty("imageData",O),E._setProperty("pixels",O.data)}},{key:"set",value:function(E,S,O){E=Math.floor(E),S=Math.floor(S);var j=this._pixelsState;if(O instanceof u.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(j._pixelDensity,j._pixelDensity),this.drawingContext.clearRect(E,S,O.width,O.height),this.drawingContext.drawImage(O.canvas,E,S),this.drawingContext.restore();else{var F=0,I=0,L=0,B=0,k=4*(S*j._pixelDensity*(this.width*j._pixelDensity)+E*j._pixelDensity);if(j.imageData||j.loadPixels(),typeof O=="number")k<j.pixels.length&&(L=I=F=O,B=255);else if(Array.isArray(O)){if(O.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");k<j.pixels.length&&(F=O[0],I=O[1],L=O[2],B=O[3])}else O instanceof u.default.Color&&k<j.pixels.length&&(F=O.levels[0],I=O.levels[1],L=O.levels[2],B=O.levels[3]);for(var q=0;q<j._pixelDensity;q++)for(var G=0;G<j._pixelDensity;G++)k=4*((S*j._pixelDensity+G)*this.width*j._pixelDensity+(E*j._pixelDensity+q)),j.pixels[k]=F,j.pixels[k+1]=I,j.pixels[k+2]=L,j.pixels[k+3]=B}}},{key:"updatePixels",value:function(E,S,O,j){var F=this._pixelsState,I=F._pixelDensity;E===void 0&&S===void 0&&O===void 0&&j===void 0&&(S=E=0,O=this.width,j=this.height),E*=I,S*=I,O*=I,j*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=F.imageData),this.drawingContext.putImageData(F.imageData,E,S,0,0,O,j)}},{key:"_acuteArcToBezier",value:function(E,S){var I=S/2,O=Math.cos(I),B=Math.sin(I),j=1/Math.tan(I),I=E+I,F=Math.cos(I),I=Math.sin(I),L=(4-O)/3,B=B+(O-L)*j;return{ax:Math.cos(E).toFixed(7),ay:Math.sin(E).toFixed(7),bx:(L*F+B*I).toFixed(7),by:(L*I-B*F).toFixed(7),cx:(L*F-B*I).toFixed(7),cy:(L*I+B*F).toFixed(7),dx:Math.cos(E+S).toFixed(7),dy:Math.sin(E+S).toFixed(7)}}},{key:"arc",value:function(E,S,O,j,F,I,L){var B,k=this.drawingContext,q=O/2,G=j/2,V=[];for(E+=q,S+=G;1e-5<=I-F;)B=Math.min(I-F,c.HALF_PI),V.push(this._acuteArcToBezier(F,B)),F+=B;return this._doFill&&(this._clipping||k.beginPath(),V.forEach(function(W,Q){Q===0&&k.moveTo(E+W.ax*q,S+W.ay*G),k.bezierCurveTo(E+W.bx*q,S+W.by*G,E+W.cx*q,S+W.cy*G,E+W.dx*q,S+W.dy*G)}),L!==c.PIE&&L!=null||k.lineTo(E,S),k.closePath(),this._clipping||k.fill()),this._doStroke&&(this._clipping||k.beginPath(),V.forEach(function(W,Q){Q===0&&k.moveTo(E+W.ax*q,S+W.ay*G),k.bezierCurveTo(E+W.bx*q,S+W.by*G,E+W.cx*q,S+W.cy*G,E+W.dx*q,S+W.dy*G)}),L===c.PIE?(k.lineTo(E,S),k.closePath()):L===c.CHORD&&k.closePath(),this._clipping||k.stroke()),this}},{key:"ellipse",value:function(B){var S=this.drawingContext,O=this._doFill,j=this._doStroke,F=parseFloat(B[0]),I=parseFloat(B[1]),L=parseFloat(B[2]),B=parseFloat(B[3]);if(O&&!j){if(this._getFill()===v)return this}else if(!O&&j&&this._getStroke()===v)return this;F+=L/2,I+=B/2,L/=2,B/=2,this._clipping||S.beginPath(),S.ellipse(F,I,L,B,0,0,2*Math.PI),!this._clipping&&O&&S.fill(),!this._clipping&&j&&S.stroke()}},{key:"line",value:function(E,S,O,j){var F=this.drawingContext;return this._doStroke&&this._getStroke()!==v&&(this._clipping||F.beginPath(),F.moveTo(E,S),F.lineTo(O,j),F.stroke()),this}},{key:"point",value:function(E,S){var O,j,F=this.drawingContext;return!this._doStroke||this._getStroke()===v?this:(O=this._getStroke(),j=this._getFill(),this._clipping||this._setFill(O),this._clipping||F.beginPath(),F.arc(E,S,F.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(F.fill(),this._setFill(j))))}},{key:"quad",value:function(E,S,O,j,F,I,L,B){var k=this.drawingContext,q=this._doFill,G=this._doStroke;if(q&&!G){if(this._getFill()===v)return this}else if(!q&&G&&this._getStroke()===v)return this;return this._clipping||k.beginPath(),k.moveTo(E,S),k.lineTo(O,j),k.lineTo(F,I),k.lineTo(L,B),k.closePath(),!this._clipping&&q&&k.fill(),!this._clipping&&G&&k.stroke(),this}},{key:"rect",value:function(G){var S,O,j=G[0],F=G[1],I=G[2],L=G[3],B=G[4],k=G[5],q=G[6],G=G[7],V=this.drawingContext,W=this._doFill,Q=this._doStroke;if(W&&!Q){if(this._getFill()===v)return this}else if(!W&&Q&&this._getStroke()===v)return this;return this._clipping||V.beginPath(),B===void 0?V.rect(j,F,I,L):(k===void 0&&(k=B),q===void 0&&(q=k),G===void 0&&(G=q),Q=(W=Math.abs(I))/2,O=(S=Math.abs(L))/2,S<2*(B=W<2*B?Q:B)&&(B=O),S<2*(k=W<2*k?Q:k)&&(k=O),S<2*(q=W<2*q?Q:q)&&(q=O),S<2*(G=W<2*G?Q:G)&&(G=O),this._clipping||V.beginPath(),V.moveTo(j+B,F),V.arcTo(j+I,F,j+I,F+L,k),V.arcTo(j+I,F+L,j,F+L,q),V.arcTo(j,F+L,j,F,G),V.arcTo(j,F,j+I,F,B),V.closePath()),!this._clipping&&this._doFill&&V.fill(),!this._clipping&&this._doStroke&&V.stroke(),this}},{key:"triangle",value:function(q){var S=this.drawingContext,O=this._doFill,j=this._doStroke,F=q[0],I=q[1],L=q[2],B=q[3],k=q[4],q=q[5];if(O&&!j){if(this._getFill()===v)return this}else if(!O&&j&&this._getStroke()===v)return this;this._clipping||S.beginPath(),S.moveTo(F,I),S.lineTo(L,B),S.lineTo(k,q),S.closePath(),!this._clipping&&O&&S.fill(),!this._clipping&&j&&S.stroke()}},{key:"endShape",value:function(E,S,O,j,F,I,L){if(S.length!==0&&(this._doStroke||this._doFill)){var B,k,q,G=E===c.CLOSE,V=(G&&!I&&S.push(S[0]),S.length);if(O&&L===null){if(3<V){var W=[],Q=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[1][0],S[1][1]),k=1;k+2<V;k++)B=S[k],W[0]=[B[0],B[1]],W[1]=[B[0]+(Q*S[k+1][0]-Q*S[k-1][0])/6,B[1]+(Q*S[k+1][1]-Q*S[k-1][1])/6],W[2]=[S[k+1][0]+(Q*S[k][0]-Q*S[k+2][0])/6,S[k+1][1]+(Q*S[k][1]-Q*S[k+2][1])/6],W[3]=[S[k+1][0],S[k+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);G&&this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this._doFillStrokeClose(G)}}else if(j&&L===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<V;k++)S[k].isVert?S[k].moveTo?this.drawingContext.moveTo(S[k][0],S[k][1]):this.drawingContext.lineTo(S[k][0],S[k][1]):this.drawingContext.bezierCurveTo(S[k][0],S[k][1],S[k][2],S[k][3],S[k][4],S[k][5]);this._doFillStrokeClose(G)}else if(F&&L===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<V;k++)S[k].isVert?S[k].moveTo?this.drawingContext.moveTo(S[k][0],S[k][1]):this.drawingContext.lineTo(S[k][0],S[k][1]):this.drawingContext.quadraticCurveTo(S[k][0],S[k][1],S[k][2],S[k][3]);this._doFillStrokeClose(G)}else if(L===c.POINTS)for(k=0;k<V;k++)B=S[k],this._doStroke&&this._pInst.stroke(B[6]),this._pInst.point(B[0],B[1]);else if(L===c.LINES)for(k=0;k+1<V;k+=2)B=S[k],this._doStroke&&this._pInst.stroke(S[k+1][6]),this._pInst.line(B[0],B[1],S[k+1][0],S[k+1][1]);else if(L===c.TRIANGLES)for(k=0;k+2<V;k+=3)B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(S[k+2][0],S[k+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(S[k+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(S[k+2][6]),this.drawingContext.stroke());else if(L===c.TRIANGLE_STRIP)for(k=0;k+1<V;k++)B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+1][5]),k+2<V&&(this.drawingContext.lineTo(S[k+2][0],S[k+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+2][5])),this._doFillStrokeClose(G);else if(L===c.TRIANGLE_FAN){if(2<V){for(this._clipping||this.drawingContext.beginPath(),k=2;k<V;k++)B=S[k],this.drawingContext.moveTo(S[0][0],S[0][1]),this.drawingContext.lineTo(S[k-1][0],S[k-1][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(S[0][0],S[0][1]),k<V-1&&(this._doFill&&B[5]!==S[k+1][5]||this._doStroke&&B[6]!==S[k+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(B[5]),this.drawingContext.fill(),this._pInst.fill(S[k+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(B[6]),this.drawingContext.stroke(),this._pInst.stroke(S[k+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(G)}}else if(L===c.QUADS)for(k=0;k+3<V;k+=4){for(B=S[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),q=1;q<4;q++)this.drawingContext.lineTo(S[k+q][0],S[k+q][1]);this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+3][6]),this._doFillStrokeClose(G)}else if(L===c.QUAD_STRIP){if(3<V)for(k=0;k+1<V;k+=2)B=S[k],this._clipping||this.drawingContext.beginPath(),k+3<V?(this.drawingContext.moveTo(S[k+2][0],S[k+2][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1]),this.drawingContext.lineTo(S[k+3][0],S[k+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(S[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[k+3][6])):(this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(S[k+1][0],S[k+1][1])),this._doFillStrokeClose(G)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0][0],S[0][1]),k=1;k<V;k++)(B=S[k]).isVert&&(B.moveTo?(G&&this.drawingContext.closePath(),this.drawingContext.moveTo(B[0],B[1])):this.drawingContext.lineTo(B[0],B[1]));this._doFillStrokeClose(G)}I=F=j=O=!1,G&&S.pop()}return this}},{key:"strokeCap",value:function(E){return E!==c.ROUND&&E!==c.SQUARE&&E!==c.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==c.ROUND&&E!==c.BEVEL&&E!==c.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,S,O,j,F,I,L,B){return this._pInst.beginShape(),this._pInst.vertex(E,S),this._pInst.bezierVertex(O,j,F,I,L,B),this._pInst.endShape(),this}},{key:"curve",value:function(E,S,O,j,F,I,L,B){return this._pInst.beginShape(),this._pInst.curveVertex(E,S),this._pInst.curveVertex(O,j),this._pInst.curveVertex(F,I),this._pInst.curveVertex(L,B),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,S,O,j,F,I){this.drawingContext.transform(E,S,O,j,F,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,S){return this.drawingContext.scale(E,S),this}},{key:"translate",value:function(E,S){return E instanceof u.default.Vector&&(S=E.y,E=E.x),this.drawingContext.translate(E,S),this}},{key:"_renderText",value:function(E,S,O,j,F,I){if(!(j<I||F<=j))return E.push(),this._isOpenType()?this._textFont._renderPath(S,O,j,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(S,O,j),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(S,O,j))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E=this._pInst,S=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),S=this._textFont,this._isOpenType()&&(S=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),S||"sans-serif");return/\s/.exec(S)&&(S='"'.concat(S,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(S),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),d(f(M.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,d(f(M.prototype),"pop",this).call(this,E)}}])&&y(_.prototype,b),D&&y(_,D),M}(u.default.Renderer),w=(g.prototype.text=function(b,_,D,S,M){S!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(E=!0,this.drawingContext.textBaseline=c.TOP);var E,S=u.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=c.BASELINE),S},u.default.Renderer2D=g,u.default.Renderer2D);s.default=w},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("./main"))&&t.__esModule?t:{default:t};a.default.prototype._promisePreloads=[];function l(){return{}}var u=!(a.default.prototype.registerPromisePreload=function(c){a.default.prototype._promisePreloads.push(c)});a.default.prototype._setupPromisePreloads=function(){var c=!0,m=!1,y=void 0;try{for(var d,h=this._promisePreloads[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value,f=this,v=p.method,g=p.addCallbacks,w=p.legacyPreloadSetup,b=p.target||this,_=b[v].bind(b);if(b===a.default.prototype){if(u)continue;f=null,_=b[v]}b[v]=this._wrapPromisePreload(f,_,g),w&&(b[w.method]=this._legacyPreloadGenerator(f,w,b[v]))}}catch(D){m=!0,y=D}finally{try{c||h.return==null||h.return()}finally{if(m)throw y}}u=!0},a.default.prototype._wrapPromisePreload=function(c,m,y){var d=function(){for(var h=this,p=(this._incrementPreload(),null),f=null,v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];if(y)for(var b=g.length-1;0<=b&&!f&&typeof g[b]=="function";b--)f=p,p=g.pop();var _=Promise.resolve(m.apply(this,g));return p&&_.then(p),f&&_.catch(f),_.then(function(){return h._decrementPreload()}),_};return d=c?d.bind(c):d},a.default.prototype._legacyPreloadGenerator=function(c,h,y){var d=h.createBaseObject||l,h=function(){var p=this;this._incrementPreload();for(var f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];var w=d.apply(this,v);return y.apply(this,v).then(function(b){Object.assign(w,b),p._decrementPreload()}),w};return h=c?h.bind(c):h}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("./main"))&&d.__esModule?d:{default:d},u=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var p=c();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("./constants"));function c(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,c=function(){return h},h)}function m(h){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",d=(l.default.prototype.createCanvas=function(h,p,f,v){var g,w,b;if(l.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=u.P2D,v=arguments[2]):g=f||u.P2D,v)(b=document.getElementById(y))&&b.parentNode.removeChild(b),b=v,this._defaultGraphicsCreated=!1;else{if(g===u.WEBGL)(b=document.getElementById(y))&&(b.parentNode.removeChild(b),w=this._renderer,this._elements=this._elements.filter(function(D){return D!==w})),(b=document.createElement("canvas")).id=y,b.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)b=this.canvas;else{b=v||document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;y="defaultCanvas".concat(_),b.id=y,b.classList.add("p5Canvas")}this._setupDone||(b.dataset.hidden=!0,b.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(b)}return g===u.WEBGL?(this._setProperty("_renderer",new l.default.RendererGL(b,this,!0)),this._elements.push(this._renderer),h=(v=this._renderer._adjustDimensions(h,p)).adjustedWidth,p=v.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new l.default.Renderer2D(b,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,p),this._renderer._applyDefaults(),this._renderer},l.default.prototype.resizeCanvas=function(h,p,f){if(l.default._validateParameters("resizeCanvas",arguments),this._renderer){var v,g,w,b={};for(v in this.drawingContext){var _=this.drawingContext[v];m(_)!=="object"&&typeof _!="function"&&(b[v]=_)}for(w in this._renderer instanceof l.default.RendererGL&&(h=(g=this._renderer._adjustDimensions(h,p)).adjustedWidth,p=g.adjustedHeight),this.width=h,this.height=p,this._renderer.resize(h,p),b)try{this.drawingContext[w]=b[w]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},l.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},l.default.prototype.createGraphics=function(h,p){for(var f=arguments.length,v=new Array(2<f?f-2:0),g=2;g<f;g++)v[g-2]=arguments[g];return v[0]instanceof HTMLCanvasElement&&(v[1]=v[0],v[0]=u.P2D),l.default._validateParameters("createGraphics",arguments),new l.default.Graphics(h,p,v[0],this,v[1])},l.default.prototype.createFramebuffer=function(h){return new l.default.Framebuffer(this,h)},l.default.prototype.clearDepth=function(h){this._assert3d("clearDepth"),this._renderer.clearDepth(h)},l.default.prototype.blendMode=function(h){l.default._validateParameters("blendMode",arguments),h===u.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=u.BLEND),this._renderer.blendMode(h)},l.default);s.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function l(p){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=d(t("../main")),c=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var f=y();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../constants")),m=d(t("../helpers"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function d(p){return p&&p.__esModule?p:{default:p}}function h(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),u.default.prototype._normalizeArcAngles=function(p,f,v,g,w){var b;return p-=c.TWO_PI*Math.floor(p/c.TWO_PI),f-=c.TWO_PI*Math.floor(f/c.TWO_PI),b=Math.min(Math.abs(p-f),c.TWO_PI-Math.abs(p-f)),w&&(p=p<=c.HALF_PI?Math.atan(v/g*Math.tan(p)):p>c.HALF_PI&&p<=3*c.HALF_PI?Math.atan(v/g*Math.tan(p))+c.PI:Math.atan(v/g*Math.tan(p))+c.TWO_PI,f=f<=c.HALF_PI?Math.atan(v/g*Math.tan(f)):f>c.HALF_PI&&f<=3*c.HALF_PI?Math.atan(v/g*Math.tan(f))+c.PI:Math.atan(v/g*Math.tan(f))+c.TWO_PI),f<p&&(f+=c.TWO_PI),{start:p,stop:f,correspondToSamePoint:b<1e-5}},u.default.prototype.arc=function(p,f,v,g,w,b,_,D){return u.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&w!==b&&(w=this._toRadians(w),b=this._toRadians(b),v=Math.abs(v),g=Math.abs(g),p=m.default.modeAdjust(p,f,v,g,this._renderer._ellipseMode),(f=this._normalizeArcAngles(w,b,p.w,p.h,!0)).correspondToSamePoint?this._renderer.ellipse([p.x,p.y,p.w,p.h,D]):(this._renderer.arc(p.x,p.y,p.w,p.h,f.start,f.stop,_,D),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[p.x,p.y,p.w,p.h,f.start,f.stop,_]))),this},u.default.prototype.ellipse=function(p,f,v,g,w){return u.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},u.default.prototype.circle=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];u.default._validateParameters("circle",f);var g=f.slice(0,2);return g.push(f[2],f[2]),this._renderEllipse.apply(this,h(g))},u.default.prototype._renderEllipse=function(p,f,v,g,w){return(this._renderer._doStroke||this._renderer._doFill)&&(v<0&&(v=Math.abs(v)),g===void 0?g=v:g<0&&(g=Math.abs(g)),p=m.default.modeAdjust(p,f,v,g,this._renderer._ellipseMode),this._renderer.ellipse([p.x,p.y,p.w,p.h,w]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[p.x,p.y,p.w,p.h])),this},u.default.prototype.line=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return u.default._validateParameters("line",v),this._renderer._doStroke&&(p=this._renderer).line.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",v),this},u.default.prototype.point=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return u.default._validateParameters("point",v),this._renderer._doStroke&&(v.length===1&&v[0]instanceof u.default.Vector?this._renderer.point.call(this._renderer,v[0].x,v[0].y,v[0].z):((p=this._renderer).point.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",v))),this},u.default.prototype.quad=function(){for(var p,f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];return u.default._validateParameters("quad",v),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&v.length<12?this._renderer.quad.call(this._renderer,v[0],v[1],0,v[2],v[3],0,v[4],v[5],0,v[6],v[7],0,v[8],v[9]):((p=this._renderer).quad.apply(p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",v))),this},u.default.prototype.rect=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return u.default._validateParameters("rect",f),this._renderRect.apply(this,f)},u.default.prototype.square=function(p,f,v,g,w,b,_){return u.default._validateParameters("square",arguments),this._renderRect.call(this,p,f,v,v,g,w,b,_)},u.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var p=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=[p.x,p.y,p.w,p.h],v=4;v<arguments.length;v++)f[v]=arguments[v];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[p.x,p.y,p.w,p.h])}return this},u.default.prototype.triangle=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return u.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},t=u.default,s.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}u.default.prototype.ellipseMode=function(d){return u.default._validateParameters("ellipseMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._ellipseMode=d),this},u.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},u.default.prototype.rectMode=function(d){return u.default._validateParameters("rectMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._rectMode=d),this},u.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},u.default.prototype.strokeCap=function(d){return u.default._validateParameters("strokeCap",arguments),d!==c.ROUND&&d!==c.SQUARE&&d!==c.PROJECT||this._renderer.strokeCap(d),this},u.default.prototype.strokeJoin=function(d){return u.default._validateParameters("strokeJoin",arguments),d!==c.ROUND&&d!==c.BEVEL&&d!==c.MITER||this._renderer.strokeJoin(d),this},u.default.prototype.strokeWeight=function(d){return u.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var y=u.default;s.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(l=t("../main"))&&l.__esModule?l:{default:l};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var u,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(u=this._renderer).bezier.apply(u,m),this},a.default.prototype.bezierDetail=function(u){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=u,this},a.default.prototype.bezierPoint=function(u,c,m,y,d){a.default._validateParameters("bezierPoint",arguments);var h=1-d;return Math.pow(h,3)*u+3*Math.pow(h,2)*d*c+3*h*Math.pow(d,2)*m+Math.pow(d,3)*y},a.default.prototype.bezierTangent=function(u,c,m,y,d){a.default._validateParameters("bezierTangent",arguments);var h=1-d;return 3*y*Math.pow(d,2)-3*m*Math.pow(d,2)+6*m*h*d-6*c*h*d+3*c*Math.pow(h,2)-3*u*Math.pow(h,2)},a.default.prototype.curve=function(){for(var u,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("curve",m),this._renderer._doStroke&&(u=this._renderer).curve.apply(u,m),this},a.default.prototype.curveDetail=function(u){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=u<3?3:u,this},a.default.prototype.curveTightness=function(u){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=u,this},a.default.prototype.curvePoint=function(u,c,m,y,d){a.default._validateParameters("curvePoint",arguments);var h=this._renderer._curveTightness,p=d*d*d,f=d*d;return u*((h-1)/2*p+(1-h)*f+(h-1)/2*d)+c*((h+3)/2*p+(-5-h)/2*f+1)+m*((-3-h)/2*p+(h+2)*f+(1-h)/2*d)+y*((1-h)/2*p+(h-1)/2*f)},a.default.prototype.curveTangent=function(u,c,m,y,f){a.default._validateParameters("curveTangent",arguments);var h=this._renderer._curveTightness,p=f*f*3,f=2*f;return u*((h-1)/2*p+(1-h)*f+(h-1)/2)+c*((h+3)/2*p+(-5-h)/2*f)+m*((-3-h)/2*p+(h+2)*f+(1-h)/2)+y*((1-h)/2*p+(h-1)/2*f)};var l=a.default;s.default=l},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,i,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(_)}function l(_){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(D){return a(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":a(D)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(b=t("../main"))&&b.__esModule?b:{default:b},c=function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var D=m();if(D&&D.has(_))return D.get(_);var C,M={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in _){var S;Object.prototype.hasOwnProperty.call(_,C)&&((S=E?Object.getOwnPropertyDescriptor(_,C):null)&&(S.get||S.set)?Object.defineProperty(M,C,S):M[C]=_[C])}return M.default=_,D&&D.set(_,M),M}(t("../constants"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}var y=null,d=[],h=[],p=!1,f=!1,v=!1,g=!1,w=!0,b=(u.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(h=[],g=!0),this},u.default.prototype.beginShape=function(_){var D;return u.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(D=this._renderer).beginShape.apply(D,arguments):(y=_===c.POINTS||_===c.LINES||_===c.TRIANGLES||_===c.TRIANGLE_FAN||_===c.TRIANGLE_STRIP||_===c.QUADS||_===c.QUAD_STRIP?_:null,d=[],h=[]),this},u.default.prototype.bezierVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];if(u.default._validateParameters("bezierVertex",C),this._renderer.isP3D)(_=this._renderer).bezierVertex.apply(_,C);else if(d.length===0)u.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{p=!0;for(var E=[],S=0;S<C.length;S++)E[S]=C[S];E.isVert=!1,(g?h:d).push(E)}return this},u.default.prototype.curveVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];return u.default._validateParameters("curveVertex",C),this._renderer.isP3D?(_=this._renderer).curveVertex.apply(_,C):(f=!0,this.vertex(C[0],C[1])),this},u.default.prototype.endContour=function(){if(!this._renderer.isP3D){var _=h[0].slice();_.isVert=h[0].isVert,_.moveTo=!1,h.push(_),w&&(d.push(d[0]),w=!1);for(var D=0;D<h.length;D++)d.push(h[D])}return this},u.default.prototype.endShape=function(_){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(u.default._validateParameters("endShape",arguments),D<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),D=1),this._renderer.isP3D)this._renderer.endShape(_,f,p,v,g,y,D);else{if(D!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),d.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;D=_===c.CLOSE,D&&!g&&d.push(d[0]),this._renderer.endShape(_,d,f,p,v,g,y),w=!(g=v=p=f=!1),D&&d.pop()}return this},u.default.prototype.quadraticVertex=function(){for(var _,D=arguments.length,C=new Array(D),M=0;M<D;M++)C[M]=arguments[M];if(u.default._validateParameters("quadraticVertex",C),this._renderer.isP3D)(_=this._renderer).quadraticVertex.apply(_,C);else{if(this._contourInited)return(_={}).x=C[0],_.y=C[1],_.x3=C[2],_.y3=C[3],_.type=c.QUADRATIC,this._contourVertices.push(_),this;if(0<d.length){v=!0;for(var E=[],S=0;S<C.length;S++)E[S]=C[S];E.isVert=!1,(g?h:d).push(E)}else u.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},u.default.prototype.vertex=function(_,D,C,M,E){var S;return this._renderer.isP3D?(S=this._renderer).vertex.apply(S,arguments):((S=[]).isVert=!0,S[0]=_,S[1]=D,S[2]=0,S[3]=0,S[4]=0,S[5]=this._renderer._getFill(),S[6]=this._renderer._getStroke(),C&&(S.moveTo=C),(g?(h.length===0&&(S.moveTo=!0),h):d).push(S)),this},u.default.prototype.normal=function(_,D,C){var M;return this._assert3d("normal"),u.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},u.default);s.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,i,s){},{}],295:[function(t,i,s){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var l=parseInt(a),u=((isNaN(l)||l<1)&&(l=1),this._isGlobal?window:this);if(typeof u.draw=="function"){u.setup===void 0&&u.scale(u._pixelDensity,u._pixelDensity);for(var c=0;c<l;c++){u.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),u._renderer.isP3D&&u._renderer._update(),u._setProperty("frameCount",u.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{u.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,s.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function l(u){return function(c){if(Array.isArray(c)){for(var m=0,y=new Array(c.length);m<c.length;m++)y[m]=c[m];return y}}(u)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var u=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||u?(u=this._renderer).applyMatrix.apply(u,l(arguments.length<=0?void 0:arguments[0])):(u=this._renderer).applyMatrix.apply(u,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(u,c){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(u),c),this},a.default.prototype.rotateX=function(u){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(u)),this},a.default.prototype.rotateY=function(u){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(u)),this},a.default.prototype.rotateZ=function(u){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(u)),this},a.default.prototype.scale=function(u,c,m){var y;return a.default._validateParameters("scale",arguments),u instanceof a.default.Vector?(u=(y=u).x,c=y.y,m=y.z):Array.isArray(u)&&(u=(y=u)[0],c=y[1],m=y[2]||1),isNaN(c)?c=m=u:isNaN(m)&&(m=1),this._renderer.scale(u,c,m),this},a.default.prototype.shearX=function(u){return a.default._validateParameters("shearX",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,0,Math.tan(u),1,0,0),this},a.default.prototype.shearY=function(u){return a.default._validateParameters("shearY",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,Math.tan(u),0,1,0,0),this},a.default.prototype.translate=function(u,c,m){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(u,c,m):this._renderer.translate(u,c),this},t=a.default,s.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,i,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(m){return function(y){if(Array.isArray(y)){for(var d=0,h=new Array(y.length);d<y.length;d++)h[d]=y[d];return h}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(m){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(m)}l.default.prototype.storeItem=function(m,y){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var d=c(y);switch(d){case"number":case"boolean":y=y.toString();break;case"object":y instanceof l.default.Color?d="p5.Color":y instanceof l.default.Vector&&(d="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(m,y),m="".concat(m,"p5TypeID"),localStorage.setItem(m,d)},l.default.prototype.getItem=function(m){var y=localStorage.getItem(m),d=localStorage.getItem("".concat(m,"p5TypeID"));if(d===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(d){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,u(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,u(y))}return y},l.default.prototype.clearStorage=function(){var m=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&m.removeItem(y.replace("p5TypeID",""))})},l.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,i,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(v)}function l(v){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),g&&m(v,g)}function m(v,g){return(m=Object.setPrototypeOf||function(w,b){return w.__proto__=b,w})(v,g)}function y(v){return function(){var g,w=d(v),w=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=d(this).constructor,Reflect.construct(w,arguments,g)):w.apply(this,arguments),this);if(!g||l(g)!=="object"&&typeof g!="function"){if(w!==void 0)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function d(v){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(v)}function h(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function p(v,g){for(var w=0;w<g.length;w++){var b=g[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function f(v,g,w){g&&p(v.prototype,g),w&&p(v,w)}u.default.prototype.createStringDict=function(v,g){return u.default._validateParameters("createStringDict",arguments),new u.default.StringDict(v,g)},u.default.prototype.createNumberDict=function(v,g){return u.default._validateParameters("createNumberDict",arguments),new u.default.NumberDict(v,g)},u.default.TypedDict=function(){function v(g,w){return h(this,v),g instanceof Object?this.data=g:(this.data={},this.data[g]=w),this}return f(v,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,w){this._validate(w)?this.data[g]=w:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var w in g)this.set(w,g[w])}},{key:"create",value:function(g,w){g instanceof Object&&w===void 0?this._addObj(g):g!==void 0?this.set(g,w):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var w,b="";for(w in this.data)b+="".concat(w,",").concat(this.data[w],`
`);var _=new Blob([b],{type:"text/csv"});u.default.prototype.downloadFile(_,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,w){u.default.prototype.saveJSON(this.data,g,w)}},{key:"_validate",value:function(g){return!0}}]),v}(),u.default.StringDict=function(){c(g,u.default.TypedDict);var v=y(g);function g(){h(this,g);for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];return v.call.apply(v,[this].concat(b))}return f(g,[{key:"_validate",value:function(w){return typeof w=="string"}}]),g}(),u.default.NumberDict=function(){c(g,u.default.TypedDict);var v=y(g);function g(){h(this,g);for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];return v.call.apply(v,[this].concat(b))}return f(g,[{key:"_validate",value:function(w){return typeof w=="number"}},{key:"add",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]+=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"sub",value:function(w,b){this.add(w,-b)}},{key:"mult",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]*=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"div",value:function(w,b){this.data.hasOwnProperty(w)?this.data[w]/=b:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"_valueTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var b,_=this.data[Object.keys(this.data)[0]];for(b in this.data)this.data[b]*w<_*w&&(_=this.data[b]);return _}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var b=Object.keys(this.data)[0],_=1;_<Object.keys(this.data).length;_++)Object.keys(this.data)[_]*w<b*w&&(b=Object.keys(this.data)[_]);return b}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),t=u.default.TypedDict,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function c(b,_,D){_&&u(b.prototype,_),D&&u(b,D)}function m(b,_){return(m=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function y(b){return function(){var _,D,C=h(b);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(C,arguments,_)):C.apply(this,arguments),C=this,!(D=_)||f(D)!=="object"&&typeof D!="function"?d(C):D}}function d(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function h(b){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b){return(f=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}function v(b,_,D){return(_._userNode||document.body).appendChild(b),D=new(D?l.default.MediaElement:l.default.Element)(b,_),_._elements.push(D),D}function g(b,S,D,C){var M=document.createElement(S),E=(typeof(D=D||"")=="string"&&(D=[D]),!0),S=!1,O=void 0;try{for(var j,F=D[Symbol.iterator]();!(E=(j=F.next()).done);E=!0){var I=j.value,L=document.createElement("source");L.setAttribute("src",I),M.appendChild(L)}}catch(k){S=!0,O=k}finally{try{E||F.return==null||F.return()}finally{if(S)throw O}}typeof C=="function"&&M.addEventListener("canplaythrough",function k(){C(),M.removeEventListener("canplaythrough",k)});var B=v(M,b,!0);return B.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){B.width=M.videoWidth,B.height=M.videoHeight,B.elt.width===0&&(B.elt.width=M.videoWidth),B.elt.height===0&&(B.elt.height=M.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),B}l.default.prototype.select=function(b,_){return l.default._validateParameters("select",arguments),_=this._getContainer(_).querySelector(b),_?this._wrapElement(_):null},l.default.prototype.selectAll=function(b,_){l.default._validateParameters("selectAll",arguments);var D=[],C=this._getContainer(_).querySelectorAll(b);if(C)for(var M=0;M<C.length;M++){var E=this._wrapElement(C[M]);D.push(E)}return D},l.default.prototype._getContainer=function(b){var _=document;return typeof b=="string"?_=document.querySelector(b)||document:b instanceof l.default.Element?_=b.elt:b instanceof HTMLElement&&(_=b),_},l.default.prototype._wrapElement=function(b){var _,D=Array.prototype.slice.call(b.children);return b.tagName==="INPUT"&&b.type==="checkbox"?((_=new l.default.Element(b,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):b.tagName==="VIDEO"||b.tagName==="AUDIO"?new l.default.MediaElement(b,this):b.tagName==="SELECT"?this.createSelect(new l.default.Element(b,this)):0<D.length&&D.every(function(C){return C.tagName==="INPUT"||C.tagName==="LABEL"})&&(b.tagName==="DIV"||b.tagName==="SPAN")?this.createRadio(new l.default.Element(b,this)):new l.default.Element(b,this)},l.default.prototype.removeElements=function(b){l.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},l.default.Element.prototype.changed=function(b){return l.default.Element._adjustListener("change",b,this),this},l.default.Element.prototype.input=function(b){return l.default.Element._adjustListener("input",b,this),this},l.default.prototype.createDiv=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=b,v(_,this)},l.default.prototype.createP=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=b,v(_,this)},l.default.prototype.createSpan=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=b,v(_,this)},l.default.prototype.createImg=function(){l.default._validateParameters("createImg",arguments);var b,_=document.createElement("img"),D=arguments;return 1<D.length&&typeof D[1]=="string"&&(_.alt=D[1]),2<D.length&&typeof D[2]=="string"&&(_.crossOrigin=D[2]),_.src=D[0],b=v(_,this),_.addEventListener("load",function(){b.width=_.offsetWidth||_.width,b.height=_.offsetHeight||_.height;var C=D[D.length-1];typeof C=="function"&&C(b)}),b},l.default.prototype.createA=function(b,_,D){l.default._validateParameters("createA",arguments);var C=document.createElement("a");return C.href=b,C.innerHTML=_,D&&(C.target=D),v(C,this)},l.default.prototype.createSlider=function(b,_,D,C){l.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=b,M.max=_,C===0?M.step=1e-18:C&&(M.step=C),typeof D=="number"&&(M.value=D),v(M,this)},l.default.prototype.createButton=function(b,_){l.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=b,_&&(D.value=_),v(D,this)},l.default.prototype.createCheckbox=function(){for(var b=arguments.length,_=new Array(b),D=0;D<b;D++)_[D]=arguments[D];l.default._validateParameters("createCheckbox",_);var C=document.createElement("div"),M=document.createElement("input"),E=(M.type="checkbox",document.createElement("label")),S=(E.appendChild(M),C.appendChild(E),v(C,this));return S.checked=function(){var O=S.elt.firstElementChild.getElementsByTagName("input")[0];if(O){if(arguments.length===0)return O.checked;O.checked=!(arguments.length<=0||!arguments[0])}return S},this.value=function(O){return S.value=O,this},_[0]&&(S.value(_[0]),(C=document.createElement("span")).innerHTML=_[0],E.appendChild(C)),_[1]&&(M.checked=!0),S},l.default.prototype.createSelect=function(){for(var b,_=arguments.length,D=new Array(_),C=0;C<_;C++)D[C]=arguments[C];l.default._validateParameters("createSelect",D);var M,E=D[0];return E instanceof l.default.Element&&E.elt instanceof HTMLSelectElement?this.elt=(b=E).elt:E instanceof HTMLSelectElement?(b=v(E,this),this.elt=E):(M=document.createElement("select"),E&&typeof E=="boolean"&&M.setAttribute("multiple","true"),b=v(M,this),this.elt=M),b.option=function(S,O){var j;if(S!==void 0){for(var F,I=0;I<this.elt.length;I+=1)if(this.elt[I].textContent===S){j=I;break}j!==void 0?O===!1?this.elt.remove(j):this.elt[j].value=O:((F=document.createElement("option")).textContent=S,F.value=O===void 0?S:O,this.elt.appendChild(F),this._pInst._elements.push(F))}},b.selected=function(S){if(S!==void 0){for(var O=0;O<this.elt.length;O+=1)this.elt[O].value.toString()===S.toString()&&(this.elt.selectedIndex=O);return this}if(this.elt.getAttribute("multiple")){var j=[],F=!0,I=!1,L=void 0;try{for(var B,k=this.elt.selectedOptions[Symbol.iterator]();!(F=(B=k.next()).done);F=!0){var q=B.value;j.push(q.value)}}catch(G){I=!0,L=G}finally{try{F||k.return==null||k.return()}finally{if(I)throw L}}return j}return this.elt.value},b.disable=function(S){if(typeof S=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===S&&(this.elt[O].disabled=!0,this.elt[O].selected=!1);else this.elt.disabled=!0;return this},b.enable=function(S){if(typeof S=="string")for(var O=0;O<this.elt.length;O++)this.elt[O].value.toString()===S&&(this.elt[O].disabled=!1,this.elt[O].selected=!1);else{this.elt.disabled=!1;for(var j=0;j<this.elt.length;j++)this.elt[j].disabled=!1,this.elt[j].selected=!1}return this},b},l.default.prototype.createRadio=function(){function b(S){return S instanceof HTMLInputElement&&S.type==="radio"}function _(S){return S instanceof HTMLLabelElement}var D,C,M,E=arguments.length<=0?void 0:arguments[0];return E instanceof l.default.Element&&(E.elt instanceof HTMLDivElement||E.elt instanceof HTMLSpanElement)?(D=E,this.elt=E.elt):E instanceof HTMLDivElement||E instanceof HTMLSpanElement?(D=v(E,this),C=this.elt=E,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(M=arguments.length<=1?void 0:arguments[1])):(typeof E=="string"&&(M=E),C=document.createElement("div"),D=v(C,this),this.elt=C),D._name=M||"radioOption",D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(S){return b(S)||_(S)&&b(S.firstElementChild)}).map(function(S){return b(S)?S:S.firstElementChild})},D.option=function(S,O){var j,F,I,L=!0,B=!1,k=void 0;try{for(var q,G=D._getOptionsArray()[Symbol.iterator]();!(L=(q=G.next()).done);L=!0){var V=q.value;if(V.value===S){j=V;break}}}catch(W){B=!0,k=W}finally{try{L||G.return==null||G.return()}finally{if(B)throw k}}return j===void 0&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",S)),j.setAttribute("name",D._name),_(j.parentElement)?F=j.parentElement:(F=document.createElement("label")).insertAdjacentElement("afterbegin",j),F.lastElementChild instanceof HTMLSpanElement?I=F.lastElementChild:(I=document.createElement("span"),j.insertAdjacentElement("afterend",I)),I.innerHTML=O===void 0?S:O,this.elt.appendChild(F),j},D.remove=function(S){var O=!0,j=!1,F=void 0;try{for(var I,L=D._getOptionsArray()[Symbol.iterator]();!(O=(I=L.next()).done);O=!0){var B=I.value;if(B.value===S)return void(_(B.parentElement)?B.parentElement:B).remove()}}catch(k){j=!0,F=k}finally{try{O||L.return==null||L.return()}finally{if(j)throw F}}},D.value=function(){var S="",O=!0,j=!1,F=void 0;try{for(var I,L=D._getOptionsArray()[Symbol.iterator]();!(O=(I=L.next()).done);O=!0){var B=I.value;if(B.checked){S=B.value;break}}}catch(k){j=!0,F=k}finally{try{O||L.return==null||L.return()}finally{if(j)throw F}}return S},D.selected=function(S){var O=null;if(S===void 0){var j=!0,F=!1,I=void 0;try{for(var L,B=D._getOptionsArray()[Symbol.iterator]();!(j=(L=B.next()).done);j=!0){var k=L.value;if(k.checked){O=k;break}}}catch(Q){F=!0,I=Q}finally{try{j||B.return==null||B.return()}finally{if(F)throw I}}}else{D._getOptionsArray().forEach(function(P){P.checked=!1,P.removeAttribute("checked")});var q=!0,F=!1,I=void 0;try{for(var G,V=D._getOptionsArray()[Symbol.iterator]();!(q=(G=V.next()).done);q=!0){var W=G.value;W.value===S&&(W.setAttribute("checked",!0),W.checked=!0,O=W)}}catch(P){F=!0,I=P}finally{try{q||V.return==null||V.return()}finally{if(F)throw I}}}return O},D.disable=function(){var S=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],O=!0,j=!1,F=void 0;try{for(var I,L=D._getOptionsArray()[Symbol.iterator]();!(O=(I=L.next()).done);O=!0)I.value.setAttribute("disabled",S)}catch(B){j=!0,F=B}finally{try{O||L.return==null||L.return()}finally{if(j)throw F}}},D},l.default.prototype.createColorPicker=function(b){l.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",b?b instanceof l.default.Color?_.value=b.toString("#rrggbb"):(l.default.prototype._colorMode="rgb",l.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=l.default.prototype.color(b).toString("#rrggbb")):_.value="#000000",(_=v(_,this)).color=function(){return b&&(b.mode&&(l.default.prototype._colorMode=b.mode),b.maxes&&(l.default.prototype._colorMaxes=b.maxes)),l.default.prototype.color(this.elt.value)},_},l.default.prototype.createInput=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",D=(l.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",b),D.setAttribute("type",_),v(D,this)},l.default.prototype.createFileInput=function(b){var _,D=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(l.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),D&&_.setAttribute("multiple",!0),_.addEventListener("change",function(C){var M=!0,E=!1,S=void 0;try{for(var O,j=C.target.files[Symbol.iterator]();!(M=(O=j.next()).done);M=!0){var F=O.value;l.default.File._load(F,b)}}catch(I){E=!0,S=I}finally{try{M||j.return==null||j.return()}finally{if(E)throw S}}},!1),v(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},l.default.prototype.createVideo=function(b,_){return l.default._validateParameters("createVideo",arguments),g(this,"video",b,_)},l.default.prototype.createAudio=function(b,_){return l.default._validateParameters("createAudio",arguments),g(this,"audio",b,_)},l.default.prototype.VIDEO="video",l.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(b){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(D,C){_.call(navigator,b,D,C)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),l.default.prototype.createCapture=function(){for(var b=arguments.length,_=new Array(b),D=0;D<b;D++)_[D]=arguments[D];if(l.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var C,M=!0,E=!0,S=!1,O=0,j=_;O<j.length;O++){var F=j[O];F===l.default.prototype.VIDEO?E=!1:F===l.default.prototype.AUDIO?M=!1:f(F)==="object"?(F.flipped!==void 0&&(S=F.flipped,delete F.flipped),I=Object.assign({},I,F)):typeof F=="function"&&(C=F)}var I=Object.assign({},{video:M,audio:E},I),L=document.createElement("video"),B=(L.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(I).then(function(k){try{"srcObject"in L?L.srcObject=k:L.src=window.URL.createObjectURL(k)}catch{L.src=k}}).catch(function(k){k.name==="NotFoundError"&&l.default._friendlyError("No webcam found on this device","createCapture"),k.name==="NotAllowedError"&&l.default._friendlyError("Access to the camera was denied","createCapture"),console.error(k)}),v(L,this,!0));return B.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){L.play(),L.width?(B.width=L.width,B.height=L.height,S&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=L.videoWidth,B.height=B.elt.height=L.videoHeight),B.loadedmetadata=!0,C&&C(L.srcObject)}),B.flipped=S,B},l.default.prototype.createElement=function(b,_){return l.default._validateParameters("createElement",arguments),b=document.createElement(b),_!==void 0&&(b.innerHTML=_),v(b,this)},l.default.Element.prototype.addClass=function(b){return this.elt.className?this.hasClass(b)||(this.elt.className=this.elt.className+" "+b):this.elt.className=b,this},l.default.Element.prototype.removeClass=function(b){return this.elt.classList.remove(b),this},l.default.Element.prototype.hasClass=function(b){return this.elt.classList.contains(b)},l.default.Element.prototype.toggleClass=function(b){return this.elt.classList.contains(b)?this.elt.classList.remove(b):this.elt.classList.add(b),this},l.default.Element.prototype.child=function(b){return b===void 0?this.elt.childNodes:(typeof b=="string"?(b[0]==="#"&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof l.default.Element&&(b=b.elt),b instanceof HTMLElement&&this.elt.appendChild(b),this)},l.default.Element.prototype.center=function(b){var _=this.elt.style.display,D=this.elt.style.display==="none",C=this.parent().style.display==="none",M={x:this.elt.offsetLeft,y:this.elt.offsetTop},E=(D&&this.show(),C&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),S=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return b==="both"||b===void 0?this.position(E/2+this.parent().offsetLeft,S/2+this.parent().offsetTop):b==="horizontal"?this.position(E/2+this.parent().offsetLeft,M.y):b==="vertical"&&this.position(M.x,S/2+this.parent().offsetTop),this.style("display",_),D&&this.hide(),C&&this.parent().hide(),this},l.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},l.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},l.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=b,this},l.default.Element.prototype._rotate=function(){var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=b,this},l.default.Element.prototype.style=function(b,_){if((_=_ instanceof l.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(b.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(b);for(var D=b.split(";"),C=0;C<D.length;C++){var M=D[C].split(":");M[0]&&M[1]&&(this.elt.style[M[0].trim()]=M[1].trim())}}else this.elt.style[b]=_,b!=="width"&&b!=="height"&&b!=="left"&&b!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(b).replace(/[^\d.]/g,""),this[b]=Math.round(parseFloat(_,10)));return this},l.default.Element.prototype.attribute=function(b,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(b):(this.elt.setAttribute(b,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(b);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(b,_)},l.default.Element.prototype.removeAttribute=function(b){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(b);return this.elt.removeAttribute(b),this},l.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},l.default.Element.prototype.show=function(){return this.elt.style.display="block",this},l.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},l.default.Element.prototype.size=function(b,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=b,C=_,M=l.default.prototype.AUTO;if(D!==M||C!==M){if(D===M?D=_*this.width/this.height:C===M&&(C=b*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,S={},O=this.elt.getContext("2d");for(E in O)S[E]=O[E];for(E in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",C*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=C+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),S)this.elt.getContext("2d")[E]=S[E]}else this.elt.style.width=D+"px",this.elt.style.height=C+"px",this.elt.width=D,this.elt.height=C;this.width=D,this.height=C,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",C))}return this},l.default.Element.prototype.remove=function(){this instanceof l.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(D){D.stop()}));var b,_=this._pInst._elements.indexOf(this);for(b in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(b,this._events[b]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},l.default.Element.prototype.drop=function(b,_){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(C){C.preventDefault()}),this.elt.addEventListener("dragleave",D)),l.default.Element._attachListener("drop",function(M){M.preventDefault(),typeof _=="function"&&_.call(this,M);var M=M.dataTransfer.files,E=!0,S=!1,O=void 0;try{for(var j,F=M[Symbol.iterator]();!(E=(j=F.next()).done);E=!0){var I=j.value;l.default.File._load(I,b)}}catch(L){S=!0,O=L}finally{try{E||F.return==null||F.return()}finally{if(S)throw O}}},this)):console.log("The File APIs are not fully supported in this browser."),this},l.default.Element.prototype.draggable=function(b){var _,D="ontouchstart"in window,C=0,M=0,E=0,S=0,O=D?"touchend":"mouseup",j=D?"touchmove":"mousemove";function F(L){var B;L=L||window.event,S=D?(B=L.changedTouches,C=E-parseInt(B[0].clientX),M=S-parseInt(B[0].clientY),E=parseInt(B[0].clientX),parseInt(B[0].clientY)):(C=E-parseInt(L.clientX),M=S-parseInt(L.clientY),E=parseInt(L.clientX),parseInt(L.clientY)),b.style.left=b.offsetLeft-C+"px",b.style.top=b.offsetTop-M+"px"}function I(){document.removeEventListener(O,I,!1),document.removeEventListener(j,F,!1)}return b===void 0?_=b=this.elt:b!==this.elt&&b.elt!==this.elt&&(b=b.elt,_=this.elt),_.addEventListener(D?"touchstart":"mousedown",function(L){{var B;L=L||window.event,S=D?(B=L.changedTouches,E=parseInt(B[0].clientX),parseInt(B[0].clientY)):(E=parseInt(L.clientX),parseInt(L.clientY))}return document.addEventListener(O,I,!1),document.addEventListener(j,F,!1),!1},!1),_.style.cursor="move",this};function w(b,_,D,C){p(this,w),this.callback=b,this.time=_,this.id=D,this.val=C}t=function(b){var _=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&m(_,b);var D=y(C);function C(M,E){p(this,C);var S=d(E=D.call(this,M,E));return E.elt.crossOrigin="anonymous",E._prevTime=0,E._cueIDCounter=0,E._cues=[],E.pixels=[],E._pixelsState=d(E),E._pixelDensity=1,E._modified=!1,E._frameOnCanvas=-1,Object.defineProperty(S,"src",{get:function(){var O=S.elt.children[0].src,j=S.elt.src===window.location.href?"":S.elt.src;return O===window.location.href?j:O},set:function(O){for(var j=0;j<S.elt.children.length;j++)S.elt.removeChild(S.elt.children[j]);var F=document.createElement("source");F.src=O,M.appendChild(F),S.elt.src=O,S.modified=!0}}),S._onended=function(){},S.elt.onended=function(){S._onended(S)},E}return c(C,[{key:"play",value:function(){var M;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(M=this.elt.play())&&M.catch&&M.catch(function(E){E.name==="NotAllowedError"?console.error(E):console.error("Media play method encountered an unexpected error",E)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var M=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(M)},{passive:!0,once:!0})}},{key:"autoplay",value:function(M){var E=this,S=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",M),M&&!S&&(M=function(){return E._setupAutoplayFailDetection()},this.elt.readyState===4?M():this.elt.addEventListener("canplay",M,{passive:!0,once:!0})),this}},{key:"volume",value:function(M){if(M===void 0)return this.elt.volume;this.elt.volume=M}},{key:"speed",value:function(M){if(M===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=M:this.presetPlaybackRate=M}},{key:"time",value:function(M){return M===void 0?this.elt.currentTime:(this.elt.currentTime=M,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var M=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&M&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return l.default.Renderer2D.prototype.loadPixels.apply(this,E)}},{key:"updatePixels",value:function(M,E,S,O){return this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.updatePixels.call(this,M,E,S,O)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return l.default.Renderer2D.prototype.get.apply(this,E)}},{key:"_getPixel",value:function(){this.loadPixels();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];return l.default.Renderer2D.prototype._getPixel.apply(this,E)}},{key:"set",value:function(M,E,S){this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.set.call(this,M,E,S),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];l.default.prototype.copy.apply(this,E)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var M=arguments.length,E=new Array(M),S=0;S<M;S++)E[S]=arguments[S];l.default.Image.prototype.mask.apply(this,E)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(M){this._modified=M}},{key:"onended",value:function(M){return this._onended=M,this}},{key:"connect",value:function(M){var E,S;if(typeof l.default.prototype.getAudioContext=="function")E=l.default.prototype.getAudioContext(),S=l.default.soundOut.input;else try{S=(E=M.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=E.createMediaElementSource(this.elt),this.audioSourceNode.connect(S)),M?M.input?this.audioSourceNode.connect(M.input):this.audioSourceNode.connect(M):this.audioSourceNode.connect(S)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(M,j,S){var O=this._cueIDCounter++,j=new w(j,M,O,S);return this._cues.push(j),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),O}},{key:"removeCue",value:function(M){for(var E=0;E<this._cues.length;E++)this._cues[E].id===M&&(console.log(M),this._cues.splice(E,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var M=this.time(),E=0;E<this._cues.length;E++){var S=this._cues[E].time,O=this._cues[E].val;this._prevTime<S&&S<=M&&this._cues[E].callback(O)}this._prevTime=M}}]),C}(l.default.Element),l.default.MediaElement=t,t=function(){function b(_,D){p(this,b),this.file=_,this._pInst=D,D=_.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=_.name,this.size=_.size,this.data=void 0}return c(b,null,[{key:"_createLoader",value:function(_,D){var C=new FileReader;return C.onload=function(M){var E,S=new l.default.File(_);S.file.type==="application/json"?S.data=JSON.parse(M.target.result):S.file.type==="text/xml"?(E=new DOMParser().parseFromString(M.target.result,"text/xml"),S.data=new l.default.XML(E.documentElement)):S.data=M.target.result,D(S)},C}},{key:"_load",value:function(_,D){var C;/^text\//.test(_.type)||_.type==="application/json"?l.default.File._createLoader(_,D).readAsText(_):/^(video|audio)\//.test(_.type)?((C=new l.default.File(_)).data=URL.createObjectURL(_),D(C)):l.default.File._createLoader(_,D).readAsDataURL(_)}}]),b}(),l.default.File=t,t=l.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(f,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(f=f("../core/main"))&&f.__esModule?f:{default:f};a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var l=a.default.prototype.pRotationZ=0,u=0,c=0,m="clockwise",y="clockwise",d="clockwise",h=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),p=30,f=(a.default.prototype.setMoveThreshold=function(v){a.default._validateParameters("setMoveThreshold",arguments),h=v},a.default.prototype.setShakeThreshold=function(v){a.default._validateParameters("setShakeThreshold",arguments),p=v},a.default.prototype._ondeviceorientation=function(v){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(v.beta)),this._setProperty("rotationY",this._fromDegrees(v.gamma)),this._setProperty("rotationZ",this._fromDegrees(v.alpha)),this._handleMotion()},a.default.prototype._ondevicemotion=function(v){this._updatePAccelerations(),this._setProperty("accelerationX",2*v.acceleration.x),this._setProperty("accelerationY",2*v.acceleration.y),this._setProperty("accelerationZ",2*v.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var v,g,w,b,_,D=this._isGlobal?window:this;typeof D.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&D.deviceMoved(),typeof D.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,w=this._toDegrees(this.pRotationX)+180,v=l+180,0<g-w&&g-w<270||g-w<-270?m="clockwise":(g-w<0||270<g-w)&&(m="counter-clockwise"),m!==this.pRotateDirectionX&&(v=g),90<Math.abs(g-v)&&Math.abs(g-v)<270&&(v=g,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=m,l=v-180,w=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,v=u+180,0<w-g&&w-g<270||w-g<-270?y="clockwise":(w-g<0||270<w-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(v=w),90<Math.abs(w-v)&&Math.abs(w-v)<270&&(v=w,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=y,u=v-180,0<(g=this._toDegrees(this.rotationZ))-(w=this._toDegrees(this.pRotationZ))&&g-w<270||g-w<-270?d="clockwise":(g-w<0||270<g-w)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(c=g),90<Math.abs(g-c)&&Math.abs(g-c)<270&&(c=g,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof D.deviceShaken=="function"&&(this.pAccelerationX!==null&&(b=Math.abs(this.accelerationX-this.pAccelerationX),_=Math.abs(this.accelerationY-this.pAccelerationY)),p<b+_&&D.deviceShaken())},a.default);s.default=f},{"../core/main":283}],301:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(l){var u;this._downKeys[l.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",l.which),this._downKeys[l.which]=!0,this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(u=this._isGlobal?window:this).keyPressed!="function"||l.charCode||u.keyPressed(l)===!1&&l.preventDefault())},a.default.prototype._onkeyup=function(l){this._downKeys[l.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),this._setProperty("keyCode",l.which);var u=this._isGlobal?window:this;typeof u.keyReleased=="function"&&u.keyReleased(l)===!1&&l.preventDefault()},a.default.prototype._onkeypress=function(l){var u;l.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",l.which),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(u=this._isGlobal?window:this).keyTyped=="function"&&u.keyTyped(l)===!1&&l.preventDefault())},a.default.prototype._onblur=function(l){this._downKeys={}},a.default.prototype.keyIsDown=function(l){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[l]||!1},a.default.prototype._areDownKeys=function(){for(var l in this._downKeys)if(this._downKeys.hasOwnProperty(l)&&this._downKeys[l]===!0)return!0;return!1},t=a.default,s.default=t},{"../core/main":283}],302:[function(t,i,s){"use strict";function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function l(y){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},c=function(y){if(y&&y.__esModule)return y;if(y===null||l(y)!=="object"&&typeof y!="function")return{default:y};var d=m();if(d&&d.has(y))return d.get(y);var h,p={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in y){var v;Object.prototype.hasOwnProperty.call(y,h)&&((v=f?Object.getOwnPropertyDescriptor(y,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=y[h])}return p.default=y,d&&d.set(y,p),p}(t("../core/constants"));function m(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,m=function(){return y},y)}u.default.prototype.movedX=0,u.default.prototype.movedY=0,u.default.prototype._hasMouseInteracted=!1,u.default.prototype.mouseX=0,u.default.prototype.mouseY=0,u.default.prototype.pmouseX=0,u.default.prototype.pmouseY=0,u.default.prototype.winMouseX=0,u.default.prototype.winMouseY=0,u.default.prototype.pwinMouseX=0,u.default.prototype.pwinMouseY=0,u.default.prototype.mouseButton=0,u.default.prototype.mouseIsPressed=!1,u.default.prototype._updateNextMouseCoords=function(y){var d,h,p,f,v;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(d=this._curElement.elt,h=this.width,p=this.height,(f=y)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),v=d.getBoundingClientRect(),h=d.scrollWidth/h||1,d=d.scrollHeight/p||1,p={x:(f.clientX-v.left)/h,y:(f.clientY-v.top)/d,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",p.x),this._setProperty("mouseY",p.y),this._setProperty("winMouseX",p.winX),this._setProperty("winMouseY",p.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},u.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},u.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",c.CENTER):y.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},u.default.prototype._onmousemove=function(y){var d=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof d.mouseDragged=="function"?d.mouseDragged(y)===!1&&y.preventDefault():typeof d.touchMoved=="function"&&d.touchMoved(y)===!1&&y.preventDefault():typeof d.mouseMoved=="function"&&d.mouseMoved(y)===!1&&y.preventDefault()},u.default.prototype._onmousedown=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof d.mousePressed=="function"?d.mousePressed(y)===!1&&y.preventDefault():typeof d.touchStarted=="function"&&d.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},u.default.prototype._onmouseup=function(y){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof d.mouseReleased=="function"?d.mouseReleased(y)===!1&&y.preventDefault():typeof d.touchEnded=="function"&&d.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},u.default.prototype._ondragend=u.default.prototype._onmouseup,u.default.prototype._ondragover=u.default.prototype._onmousemove,u.default.prototype._onclick=function(y){var d=this._isGlobal?window:this;typeof d.mouseClicked=="function"&&d.mouseClicked(y)===!1&&y.preventDefault()},u.default.prototype._ondblclick=function(y){var d=this._isGlobal?window:this;typeof d.doubleClicked=="function"&&d.doubleClicked(y)===!1&&y.preventDefault()},u.default.prototype._mouseWheelDeltaY=0,u.default.prototype._pmouseWheelDeltaY=0,u.default.prototype._onwheel=function(y){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof d.mouseWheel=="function"&&(y.delta=y.deltaY,d.mouseWheel(y)===!1&&y.preventDefault())},u.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},u.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=u.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var l=[],u=0;u<a.touches.length;u++)l[u]=function(v,f,g,d){var h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,p=v.getBoundingClientRect(),f=v.scrollWidth/f||1,v=v.scrollHeight/g||1,g=d.touches[h]||d.changedTouches[h];return{x:(g.clientX-p.left)/f,y:(g.clientY-p.top)/v,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,a,u);this._setProperty("touches",l)}},t.default.prototype._ontouchstart=function(a){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof l.touchStarted=="function"&&(l.touchStarted(a)===!1&&a.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(a){var l=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof l.touchMoved=="function"?l.touchMoved(a)===!1&&a.preventDefault():typeof l.mouseDragged=="function"&&l.mouseDragged(a)===!1&&a.preventDefault()},t.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var l=this._isGlobal?window:this;typeof l.touchEnded=="function"&&(l.touchEnded(a)===!1&&a.preventDefault(),this.touchend=!0)},t=t.default,s.default=t},{"../core/main":283}],304:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,l,u,c,m={_toPixels:function(y){var d,h;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(h=(d=y.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,h=new Uint8Array(h),d.readPixels(0,0,y.width,y.height,d.RGBA,d.UNSIGNED_BYTE,h),h):void 0},_getARGB:function(y,d){return d*=4,y[3+d]<<24&4278190080|y[d]<<16&16711680|y[1+d]<<8&65280|255&y[2+d]},_setPixels:function(y,d){for(var h,p=0,f=y.length;p<f;p++)y[0+(h=4*p)]=(16711680&d[p])>>>16,y[1+h]=(65280&d[p])>>>8,y[2+h]=255&d[p],y[3+h]=(4278190080&d[p])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,d){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,d)},apply:function(y,v,h){var p=y.getContext("2d"),f=p.getImageData(0,0,y.width,y.height),v=v(f,h);v instanceof ImageData?p.putImageData(v,0,0,0,0,y.width,y.height):p.putImageData(f,0,0,0,0,y.width,y.height)},threshold:function(y){for(var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,h=m._toPixels(y),p=Math.floor(255*d),f=0;f<h.length;f+=4){var v=void 0,v=p<=.2126*h[f]+.7152*h[f+1]+.0722*h[f+2]?255:0;h[f]=h[f+1]=h[f+2]=v}},gray:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4){var p=d[h],f=d[h+1],v=d[h+2];d[h]=d[h+1]=d[h+2]=.2126*p+.7152*f+.0722*v}},opaque:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4)d[h+3]=255;return d},invert:function(y){for(var d=m._toPixels(y),h=0;h<d.length;h+=4)d[h]=255-d[h],d[h+1]=255-d[h+1],d[h+2]=255-d[h+2]},posterize:function(y){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,h=m._toPixels(y);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=d-1,f=0;f<h.length;f+=4){var v=h[f],g=h[f+1],w=h[f+2];h[f]=255*(v*d>>8)/p,h[f+1]=255*(g*d>>8)/p,h[f+2]=255*(w*d>>8)/p}},dilate:function(y){for(var d,h,p,f,v,g,w,b,_,D=m._toPixels(y),C=0,M=D.length?D.length/4:0,E=new Int32Array(M);C<M;)for(h=(d=C)+y.width;C<h;)f=p=m._getARGB(D,C),(_=C-1)<d&&(_=C),h<=(b=C+1)&&(b=C),(v=C-y.width)<0&&(v=0),M<=(g=C+y.width)&&(g=C),v=m._getARGB(D,v),_=m._getARGB(D,_),g=m._getARGB(D,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(w=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(p=_,f=w),f<(w=77*((_=m._getARGB(D,b))>>16&255)+151*(_>>8&255)+28*(255&_))&&(p=_,f=w),f<(b=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(p=v,f=b),f<(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(p=g,f=_),E[C++]=p;m._setPixels(D,E)},erode:function(y){for(var d,h,p,f,v,g,w,b,_,D=m._toPixels(y),C=0,M=D.length?D.length/4:0,E=new Int32Array(M);C<M;)for(h=(d=C)+y.width;C<h;)f=p=m._getARGB(D,C),(_=C-1)<d&&(_=C),h<=(b=C+1)&&(b=C),(v=C-y.width)<0&&(v=0),M<=(g=C+y.width)&&(g=C),v=m._getARGB(D,v),_=m._getARGB(D,_),g=m._getARGB(D,g),(w=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(p=_,f=w),(w=77*((_=m._getARGB(D,b))>>16&255)+151*(_>>8&255)+28*(255&_))<f&&(p=_,f=w),(b=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<f&&(p=v,f=b),(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(p=g,f=_),E[C++]=p;m._setPixels(D,E)},blur:function(y,d){for(var h,p,f,v,g,w,b,_,D,C,M=m._toPixels(y),E=y.width,S=y.height,O=E*S,j=new Int32Array(O),F=0;F<O;F++)j[F]=m._getARGB(M,F);var I,L,B,k,q,G,V,W,Q=new Int32Array(O),ue=new Int32Array(O),P=new Int32Array(O),A=new Int32Array(O),U=0,H=3.5*d|0;if(a!==(H=H<1?1:H<248?H:248)){l=1+(a=H)<<1,u=new Int32Array(l),c=new Array(l);for(var K=0;K<l;K++)c[K]=new Int32Array(256);for(var re=1,ie=H-1;re<H;re++){u[H+re]=u[ie]=G=ie*ie,V=c[H+re],W=c[ie--];for(var ce=0;ce<256;ce++)V[ce]=W[ce]=G*ce}q=u[H]=H*H,V=c[H];for(var se=0;se<256;se++)V[se]=q*se}for(L=0;L<S;L++){for(I=0;I<E;I++){if(v=f=p=g=h=0,(w=I-a)<0)C=-w,w=0;else{if(E<=w)break;C=0}for(B=C;B<l&&!(E<=w);B++){var he=j[w+U];k=c[B],g+=k[(-16777216&he)>>>24],p+=k[(16711680&he)>>16],f+=k[(65280&he)>>8],v+=k[255&he],h+=u[B],w++}Q[b=U+I]=g/h,ue[b]=p/h,P[b]=f/h,A[b]=v/h}U+=E}for(D=(_=-a)*E,L=U=0;L<S;L++){for(I=0;I<E;I++){if(v=f=p=g=h=0,_<0)C=b=-_,w=I;else{if(S<=_)break;C=0,b=_,w=I+D}for(B=C;B<l&&!(S<=b);B++)k=c[B],g+=k[Q[w]],p+=k[ue[w]],f+=k[P[w]],v+=k[A[w]],h+=u[B],b++,w+=E;j[I+U]=g/h<<24|p/h<<16|f/h<<8|v/h}U+=E,D+=E,_++}m._setPixels(M,j)}};s.default=m},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=u(t("../core/main")),l=u(t("omggif"));function u(m){return m&&m.__esModule?m:{default:m}}function c(m){return function(y){if(Array.isArray(y)){for(var d=0,h=new Array(y.length);d<y.length;d++)h[d]=y[d];return h}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(m,y){return a.default._validateParameters("createImage",arguments),new a.default.Image(m,y)},a.default.prototype.saveCanvas=function(){for(var m,y,d,h,p,f,v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];switch(a.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(m=g[0],g.shift()):g[0]instanceof a.default.Element?(m=g[0].elt,g.shift()):g[0]instanceof a.default.Framebuffer?(h=g[0],(p=this.createGraphics(h.width,h.height)).pixelDensity(pixelDensity()),h.loadPixels(),p.loadPixels(),p.pixels.set(h.pixels),p.updatePixels(),m=p.elt,g.shift()):m=this._curElement&&this._curElement.elt,1<=g.length&&(y=g[0]),d=(d=2<=g.length?g[1]:d)||a.default.prototype._checkFileExtension(y,d)[1]||"png"){default:f="image/png";break;case"webp":f="image/webp";break;case"jpeg":case"jpg":f="image/jpeg"}m.toBlob(function(b){a.default.prototype.downloadFile(b,y,d),p&&p.remove()},f)},a.default.prototype.encodeAndDownloadGif=function(m,y){for(var d=m.gifProperties,h=d.loopLimit,p=(h===1?h=null:h===null&&(h=0),new Uint8Array(m.width*m.height*d.numFrames)),f=[],v={},g=0;g<d.numFrames;g++){for(var w=new Set,b=d.frames[g].image.data,_=b.length,D=new Uint32Array(m.width*m.height),C=0,M=0;C<_;C+=4,M++){var E=b[C+0]<<16|b[C+1]<<8|b[C+2]<<0;w.add(E),D[M]=E}var S=c(w).sort().toString();v[S]===void 0?v[S]={freq:1,frames:[g]}:(v[S].freq+=1,v[S].frames.push(g)),f.push(D)}for(var F=[],O=Object.keys(v).sort(function(P,A){return v[A].freq-v[P].freq}),j=O[0].split(",").map(function(P){return parseInt(P)}),F=F.concat(v[j].frames),I=new Set(j),L=1;L<O.length;L++){var B=O[L].split(",").map(function(P){return parseInt(P)}).filter(function(P){return!I.has(P)});if(j.length+B.length<=256){for(var k=0;k<B.length;k++)j.push(B[k]),I.add(B[k]);F=F.concat(v[O[L]].frames)}}F=new Set(F);for(var q={},G=0;G<j.length;G++)q[j[G]]||(q[j[G]]=G);for(var V=1;V<j.length;)V<<=1;j.length=V;for(var h={loop:h,palette:new Uint32Array(j)},W=new l.default.GifWriter(p,m.width,m.height,h),Q={},ue=0;ue<d.numFrames;ue++)(function(A){var U=!F.has(A),H=U?[]:j,K=new Uint8Array(m.width*m.height),re={},ie=new Set,ce=(f[A].forEach(function(pe,ve){U?(re[pe]===void 0&&(re[pe]=H.length,H.push(pe)),K[ve]=re[pe]):K[ve]=q[pe],0<A&&f[A-1][ve]!==pe&&ie.add(pe)}),{}),se=H.filter(function(pe){return!ie.has(pe)});if(0<se.length){var se=se[0],he=(U?re:q)[se];if(0<A){for(var le=0;le<f[A].length;le++)f[A-1][le]===f[A][le]&&(K[le]=he);ce.transparent=he,Q.frameOpts.disposal=1}}if(ce.delay=d.frames[A].delay/10,U){for(var te=1;te<H.length;)te<<=1;H.length=te,ce.palette=new Uint32Array(H)}0<A&&W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:K,frameOpts:ce}})(ue);Q.frameOpts.disposal=1,W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),h=new Blob([p.slice(0,W.end())],{type:"image/gif"}),a.default.prototype.downloadFile(h,y,"gif")},a.default.prototype.saveFrames=function(m,y,d,f,p){a.default._validateParameters("saveFrames",arguments),d=a.default.prototype.constrain(d=d||3,0,15),d*=1e3;var f=a.default.prototype.constrain(f||15,0,22),v=0,g=a.default.prototype._makeFrame,w=this._curElement.elt,b=[],_=setInterval(function(){b.push(g(m+v,y,w)),v++},1e3/f);setTimeout(function(){if(clearInterval(_),p)p(b);else for(var D=0,C=b;D<C.length;D++){var M=C[D];a.default.prototype.downloadFile(M.imageData,M.filename,M.ext)}b=[]},.01+d)},a.default.prototype._makeFrame=function(m,y,p){var h,p=this?this._curElement.elt:p;if(y)switch(y.toLowerCase()){case"png":h="image/png";break;case"jpeg":case"jpg":h="image/jpeg";break;default:h="image/png"}else y="png",h="image/png";var p=(p=p.toDataURL(h)).replace(h,"image/octet-stream"),f={};return f.imageData=p,f.filename=m,f.ext=y,f},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,i,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function l(w){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var u=p(t("../core/main")),c=p(t("../core/helpers")),m=function(w){if(w&&w.__esModule)return w;if(w===null||l(w)!=="object"&&typeof w!="function")return{default:w};var b=h();if(b&&b.has(w))return b.get(w);var _,D={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var M;Object.prototype.hasOwnProperty.call(w,_)&&((M=C?Object.getOwnPropertyDescriptor(w,_):null)&&(M.get||M.set)?Object.defineProperty(D,_,M):D[_]=w[_])}return D.default=w,b&&b.set(w,D),D}(t("../core/constants")),y=p(t("omggif")),d=t("gifenc");function h(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,h=function(){return w},w)}function p(w){return w&&w.__esModule?w:{default:w}}function f(w,b,_,D,C,M,E){try{var S=w[M](E),O=S.value}catch(j){return void _(j)}S.done?b(O):Promise.resolve(O).then(D,C)}function v(w,b,_,D,C,M,E,S,O,j,F){var I,L,B,k,q,G,V,W,Q;return w===m.COVER&&(I=b,B=_,V=M,W=E,G=S,Q=O,L=j,k=F,q=Math.max(V/L,W/k),V/=q,W/=q,q=G,G=Q,I===m.CENTER?q+=(L-V)/2:I===m.RIGHT&&(q+=L-V),B===m.CENTER?G+=(k-W)/2:B===m.BOTTOM&&(G+=k-W),S=(Q={x:q,y:G,w:V,h:W}).x,O=Q.y,j=Q.w,F=Q.h),w===m.CONTAIN&&(I=b,L=_,B=D,k=C,q=M,G=E,V=j,W=F,Q=Math.max(V/q,W/G),V/=Q,W/=Q,Q=B,B=k,I===m.CENTER?Q+=(q-V)/2:I===m.RIGHT&&(Q+=q-V),L===m.CENTER?B+=(G-W)/2:L===m.BOTTOM&&(B+=G-W),D=(w={x:Q,y:B,w:V,h:W}).x,C=w.y,M=w.w,E=w.h),{sx:S,sy:O,sw:j,sh:F,dx:D,dy:C,dw:M,dh:E}}function g(w,b){return 0<w&&w<b?w:b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadImage=function(w,b,_){u.default._validateParameters("loadImage",arguments);var D=new u.default.Image(1,1,this),C=this,M=new Request(w,{method:"GET",mode:"cors"});return fetch(w,M).then(function(E){var S,O=E.headers.get("content-type");O===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),O&&O.includes("image/gif")?E.arrayBuffer().then(function(j){if(j){for(var j=new Uint8Array(j),F=D,I=b,L=_,B=(function(U){C._decrementPreload()}).bind(C),k=new y.default.GifReader(j),q=(F.width=F.canvas.width=k.width,F.height=F.canvas.height=k.height,[]),G=k.numFrames(),V=new Uint8ClampedArray(F.width*F.height*4),W=0;W<G;W++){var Q=k.frameInfo(W),ue=F.drawingContext.getImageData(0,0,F.width,F.height),P=(V=ue.data.slice(),function(U,H){try{H.decodeAndBlitFrameRGBA(U,V)}catch(K){u.default._friendlyFileLoadError(8,F.src),typeof L=="function"?L(K):console.error(K)}}(W,k),new ImageData(V,F.width,F.height)),P=(F.drawingContext.putImageData(P,0,0),Q.delay);P===0&&(P=10),q.push({image:F.drawingContext.getImageData(0,0,F.width,F.height),delay:10*P}),Q.disposal===2?F.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&F.drawingContext.putImageData(ue,0,0,Q.x,Q.y,Q.width,Q.height)}(j=k.loopCount())===null?j=1:j===0&&(j=null),F.drawingContext.putImageData(q[0].image,0,0),1<q.length&&(F.gifProperties={displayIndex:0,loopLimit:j,loopCount:0,frames:q,numFrames:G,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof I=="function"&&I(F),B()}},function(j){typeof _=="function"?(_(j),C._decrementPreload()):console.error(j)}):((S=new Image).onload=function(){D.width=D.canvas.width=S.width,D.height=D.canvas.height=S.height,D.drawingContext.drawImage(S,0,0),D.modified=!0,typeof b=="function"&&b(D),C._decrementPreload()},S.onerror=function(j){u.default._friendlyFileLoadError(0,S.src),typeof _=="function"?(_(j),C._decrementPreload()):console.error(j)},w.indexOf("data:image/")!==0&&(S.crossOrigin="Anonymous"),S.src=w),D.modified=!0}).catch(function(E){u.default._friendlyFileLoadError(0,w),typeof _=="function"?(_(E),C._decrementPreload()):console.error(E)}),D},u.default.prototype.saveGif=function(){w=regeneratorRuntime.mark(function _(D,C){var M,E,S,O,j,F,I,L,B,k,q,G,V,W,Q,ue,P,A,U,H,K,re,ie,ce,se,he,le=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(M=2<le.length&&le[2]!==void 0?le[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof D!="string")throw TypeError("fileName parameter must be a string");te.next=3;break;case 3:if(typeof C!="number")throw TypeError("Duration parameter must be a number");te.next=5;break;case 5:if(E=M&&M.delay||0,S=M&&M.units||"seconds",O=M&&M.silent||!1,j=M&&M.notificationDuration||0,F=M&&M.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");te.next=12;break;case 12:if(S!=="seconds"&&S!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');te.next=14;break;case 14:if(typeof O!="boolean")throw TypeError("Silent parameter must be a boolean");te.next=16;break;case 16:if(typeof j!="number")throw TypeError("Notification duration parameter must be a number");te.next=18;break;case 18:if(typeof F!="string")throw TypeError("Notification ID parameter must be a string");te.next=20;break;case 20:return this._recording=!0,k=this._targetFrameRate,I=(I=1/(k=k!==1/0&&k!==void 0&&k!==0?k:60)*1e3)<20?20:I,B=(L=S==="seconds"?C*k:C)+(k=S==="seconds"?E*k:E),k=k,this.frameCount=k,q=this._pixelDensity,this.pixelDensity(1),G=[],document.getElementById(F)!==null&&document.getElementById(F).remove(),O||((V=this.createP("")).id(F),V.style("font-size","16px"),V.style("font-family","Montserrat"),V.style("background-color","#ffffffa0"),V.style("padding","8px"),V.style("border-radius","10px"),V.position(0,0)),this._renderer instanceof u.default.RendererGL&&(Q=this.drawingContext,W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),te.next=39,Promise.resolve();case 39:if(k<B)return this.redraw(),ce=void 0,ce=this._renderer instanceof u.default.RendererGL?(W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,W),function(pe,ve,Me){for(var xe=parseInt(Me/2),me=4*ve,_e=new Uint8Array(4*ve),Ie=0;Ie<xe;++Ie){var De=Ie*me,Ge=(Me-Ie-1)*me;_e.set(pe.subarray(De,De+me)),pe.copyWithin(De,Ge,Ge+me),pe.set(_e,Ge)}return pe}(W,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,G.push(ce),k++,O||V.html("Saved frame <b>"+G.length.toString()+"</b> out of "+L.toString()),te.next=48,new Promise(function(pe){return setTimeout(pe,0)});te.next=50;break;case 48:te.next=39;break;case 50:O||V.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(q),ue=(0,d.GIFEncoder)(),P=function(pe){for(var ve=new Uint8Array(pe.length*pe[0].length),Me=0;Me<pe.length;Me++)ve.set(pe[Me],Me*pe[0].length);var xe=(0,d.quantize)(ve,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe}(G),A={},U=function(pe){for(var ve=pe.length/4,Me=new Uint8Array(ve),xe=0;xe<ve;xe++){var me=pe[4*xe]<<24|pe[4*xe+1]<<16|pe[4*xe+2]<<8|pe[4*xe+3];A[me]===void 0&&(A[me]=(0,d.nearestColorIndex)(P,pe.slice(4*xe,4*(xe+1)))),Me[xe]=A[me]}return Me},H=P.length-1,K=[],re=0;case 60:if(!(re<G.length)){te.next=71;break}if(ie=U(G[re]),ce=ie.slice(),re===0)ue.writeFrame(ie,this.width,this.height,{palette:P,delay:I,dispose:1});else{for(se=0;se<ie.length;se++)ie[se]===K[se]&&(ie[se]=H);ue.writeFrame(ie,this.width,this.height,{delay:I,transparent:!0,transparentIndex:H,dispose:1})}return K=ce,O||V.html("Rendered frame <b>"+re.toString()+"</b> out of "+L.toString()),te.next=68,new Promise(function(pe){return setTimeout(pe,0)});case 68:re++,te.next=60;break;case 71:ue.finish(),he=ue.bytesView(),he=new Blob([he],{type:"image/gif"}),G=[],this._recording=!1,this.loop(),O||(V.html("Done. Downloading your gif!\u{1F338}"),0<j&&setTimeout(function(){return V.remove()},1e3*j)),u.default.prototype.downloadFile(he,D,"gif");case 80:case"end":return te.stop()}},_,this)});var w,b=function(){var _=this,D=arguments;return new Promise(function(C,M){var E=w.apply(_,D);function S(j){f(E,C,M,S,O,"next",j)}function O(j){f(E,C,M,S,O,"throw",j)}S(void 0)})};return function(_,D){return b.apply(this,arguments)}}(),u.default.prototype.image=function(w,b,_,D,k,q,G,V,Q,j,F,I){u.default._validateParameters("image",arguments);var W=w.width,L=w.height,B=(I=I||m.CENTER,F=F||m.CENTER,w.elt&&(W=W!==void 0?W:w.elt.width,L=L!==void 0?L:w.elt.height),w.elt&&w.elt.videoWidth&&!w.canvas&&(W=W!==void 0?W:w.elt.videoWidth,L=L!==void 0?L:w.elt.videoHeight),D||W),k=k||L,q=q||0,G=G||0,V=g(V!==void 0?V:W,W),W=g(Q!==void 0?Q:L,L),Q=1;w.elt&&!w.canvas&&w.elt.style.width&&(Q=w.elt.videoWidth&&!D?w.elt.videoWidth:w.elt.width,Q/=parseInt(w.elt.style.width,10)),q*=Q,G*=Q,W*=Q,V*=Q,L=v(j,F,I,(L=c.default.modeAdjust(b,_,B,k,this._renderer._imageMode)).x,L.y,L.w,L.h,q,G,V,W),this._renderer.image(w,L.sx,L.sy,L.sw,L.sh,L.dx,L.dy,L.dw,L.dh)},u.default.prototype.tint=function(){for(var w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];u.default._validateParameters("tint",b);var D=this.color.apply(this,b);this._renderer._tint=D.levels},u.default.prototype.noTint=function(){this._renderer._tint=null},u.default.prototype._getTintedImageCanvas=u.default.Renderer2D.prototype._getTintedImageCanvas,u.default.prototype.imageMode=function(w){u.default._validateParameters("imageMode",arguments),w!==m.CORNER&&w!==m.CORNERS&&w!==m.CENTER||(this._renderer._imageMode=w)},t=u.default,s.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=u(t("../core/main")),l=u(t("./filters"));function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){for(var d=0;d<y.length;d++){var h=y[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}a.default.Image=function(){function m(p,f){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,d,h;return y=m,(d=[{key:"pixelDensity",value:function(p){return p!==void 0?(p<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),p=1),this._pixelDensity=p,this.width/=p,this.height/=p,this):this._pixelDensity}},{key:"_animateGif",value:function(g){var f,v=this.gifProperties,g=g._lastRealFrameTime||window.performance.now();v.lastChangeTime===0&&(v.lastChangeTime=g),v.playing&&(v.timeDisplayed=g-v.lastChangeTime,f=v.frames[v.displayIndex].delay,v.timeDisplayed>=f&&(f=Math.floor(v.timeDisplayed/f),v.timeDisplayed=0,v.lastChangeTime=g,v.displayIndex+=f,v.loopCount=Math.floor(v.displayIndex/v.numFrames),v.loopLimit!==null&&v.loopCount>=v.loopLimit?v.playing=!1:(g=v.displayIndex%v.numFrames,this.drawingContext.putImageData(v.frames[g].image,0,0),v.displayIndex=g,this.setModified(!0))))}},{key:"_setProperty",value:function(p,f){this[p]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,f,v,g){a.default.Renderer2D.prototype.updatePixels.call(this,p,f,v,g),this.setModified(!0)}},{key:"get",value:function(p,f,v,g){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return a.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(p,f,v){a.default.Renderer2D.prototype.set.call(this,p,f,v),this.setModified(!0)}},{key:"resize",value:function(p,f){p===0&&f===0?(p=this.canvas.width,f=this.canvas.height):p===0?p=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*p/this.canvas.width),p=Math.floor(p),f=Math.floor(f);var v=document.createElement("canvas");if(v.width=p,v.height=f,this.gifProperties)for(var g=this.gifProperties,w=0;w<g.numFrames;w++){for(var b=this.drawingContext.createImageData(p,f),_=(S=S=E=M=C=void 0,g.frames[w].image),D=b,C=0,M=0;M<D.height;M++)for(var E=0;E<D.width;E++){var S=Math.floor(E*_.width/D.width),S=4*(Math.floor(M*_.height/D.height)*_.width+S);D.data[C++]=_.data[S++],D.data[C++]=_.data[S++],D.data[C++]=_.data[S++],D.data[C++]=_.data[+S]}g.frames[w].image=b}v.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,v.width,v.height),this.canvas.width=this.width=p,this.canvas.height=this.height=f,this.drawingContext.drawImage(v,0,0,p,f,0,0,p,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];a.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(p){var f=this.drawingContext.globalCompositeOperation,v=this._pixelDensity,g=1,w=[p=p===void 0?this:p,0,0,(g=p instanceof a.default.Renderer?p._pInst._pixelDensity:g)*p.width,g*p.height,0,0,v*this.width,v*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var b=0;b<this.gifProperties.frames.length;b++)this.drawingContext.putImageData(this.gifProperties.frames[b].image,0,0),this.copy.apply(this,w),this.gifProperties.frames[b].image=this.drawingContext.getImageData(0,0,v*this.width,v*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,w);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(p,f){l.default.apply(this.canvas,l.default[p],f),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,f){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,p):a.default.prototype.saveCanvas(this.canvas,p,f)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var f;this.gifProperties&&(p<(f=this.gifProperties).numFrames&&0<=p?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=p,this.drawingContext.putImageData(f.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,f){if(this.gifProperties){var v=this.gifProperties;if(f<v.numFrames&&0<=f)v.frames[f].delay=p;else{var g=!0,f=!1,w=void 0;try{for(var b,_=v.frames[Symbol.iterator]();!(g=(b=_.next()).done);g=!0)b.value.delay=p}catch(C){f=!0,w=C}finally{try{g||_.return==null||_.return()}finally{if(f)throw w}}}}}}])&&c(y.prototype,d),h&&c(y,h),m}(),t=a.default.Image,s.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=u(t("../core/main")),l=u(t("./filters"));function u(c){return c&&c.__esModule?c:{default:c}}t("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var c,m=arguments.length,y=new Array(m),d=0;d<m;d++)y[d]=arguments[d];a.default._validateParameters("blend",y),this._renderer?(c=this._renderer).blend.apply(c,y):a.default.Renderer2D.prototype.blend.apply(this,y)},a.default.prototype.copy=function(){for(var c,m,y,d,h,p,f,v,g,w=arguments.length,b=new Array(w),_=0;_<w;_++)b[_]=arguments[_];if(a.default._validateParameters("copy",b),b.length===9)c=b[0],m=b[1],y=b[2],d=b[3],h=b[4],p=b[5],f=b[6],v=b[7],g=b[8];else{if(b.length!==8)throw new Error("Signature not supported");c=this,m=b[0],y=b[1],d=b[2],h=b[3],p=b[4],f=b[5],v=b[6],g=b[7]}a.default.prototype._copyHelper(this,c,m,y,d,h,p,f,v,g)},a.default.prototype._copyHelper=function(c,m,y,d,h,p,f,v,g,w){var b=m.canvas.width/m.width,_=0,D=0;m._renderer&&m._renderer.isP3D&&(_=m.width/2,D=m.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),a.default.RendererGL.prototype.image.call(c._renderer,m,y+_,d+D,h,p,f,v,g,w),c.pop()):c.drawingContext.drawImage(m.canvas,b*(y+_),b*(d+D),b*h,b*p,f,v,g,w)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];a.default._validateParameters("filter",m);var f=(function(){var v,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v])===!1&&(g.useWebGL=!1)),g}).apply(void 0,m),d=f.shader,h=f.operation,p=f.value,f=f.useWebGL;this._renderer.isP3D&&d?a.default.RendererGL.prototype.filter.call(this._renderer,d):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,h,p):((d=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),d.filter.apply(d,m),this.copy(d._renderer,0,0,this.width,this.height,0,0,this.width,this.height),d.clear())):this.canvas!==void 0?l.default.apply(this.canvas,l.default[h],p):l.default.apply(this.elt,l.default[h],p)},a.default.prototype.get=function(c,m,y,d){var h;return a.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},a.default.prototype.loadPixels=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];a.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},a.default.prototype.set=function(c,m,y){this._renderer.set(c,m,y)},a.default.prototype.updatePixels=function(c,m,y,d){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,m,y,d)},t=a.default,s.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=m(t("../core/main")),u=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),c=m(t("file-saver"));function m(p){return p&&p.__esModule?p:{default:p}}function y(p){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}function d(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(p,f){f&&f!==!0&&f!=="true"||(f="");var v="";return(p=p||"untitled")&&p.includes(".")&&(v=p.split(".").pop()),f&&v!==f&&(v=f,p="".concat(p,".").concat(v)),[p,v]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadJSON=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];l.default._validateParameters("loadJSON",f);for(var g,w,b,_=f[0],D={},C="json",M=1;M<f.length;M++){var E=f[M];typeof E=="string"?E!=="jsonp"&&E!=="json"||(C=E):typeof E=="function"?g?w=E:g=E:y(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(C="jsonp",b=E)}var S=this;return this.httpDo(_,"GET",b,C,function(O){for(var j in O)D[j]=O[j];g!==void 0&&g(O),S._decrementPreload()},function(O){if(l.default._friendlyFileLoadError(5,_),!w)throw O;w(O)}),D},l.default.prototype.loadStrings=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];l.default._validateParameters("loadStrings",f);for(var g,w,b=[],_=1;_<f.length;_++){var D=f[_];typeof D=="function"&&(g===void 0?g=D:w===void 0&&(w=D))}var C=this;return l.default.prototype.httpDo.call(this,f[0],"GET","text",function(M){for(var E=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),S=0,O=E.length;S<O;S+=32768)Array.prototype.push.apply(b,E.slice(S,Math.min(S+32768,O)));g!==void 0&&g(b),C._decrementPreload()},function(M){if(l.default._friendlyFileLoadError(3,M),!w)throw M;w(M)}),b},l.default.prototype.loadTable=function(p){var f,v,g,w=[],b=!1,_=p.substring(p.lastIndexOf(".")+1,p.length);_==="csv"?g=",":_==="ssv"?g=";":_==="tsv"&&(g="	");for(var D=1;D<arguments.length;D++)typeof arguments[D]=="function"?f===void 0?f=arguments[D]:v===void 0&&(v=arguments[D]):typeof arguments[D]=="string"&&(w.push(arguments[D]),arguments[D]==="header"&&(b=!0),arguments[D]==="csv"?g=",":arguments[D]==="ssv"?g=";":arguments[D]==="tsv"&&(g="	"));var C=new l.default.Table,M=this;return this.httpDo(p,"GET","table",function(E){for(var S,O,j={},F=0,I=[],L=0,B=null,k=function(){j.currentState=F,j.token=""},q=function(){B.push(j.token),k()},G=function(){j.currentState=4,I.push(B),B=null};;){if((S=E[L++])==null){if(j.escaped)throw new Error("Unclosed quote in file.");if(B){q(),G();break}}if(B===null&&(j.escaped=!1,B=[],k()),j.currentState===F){if(S==='"'){j.escaped=!0,j.currentState=1;continue}j.currentState=1}if(j.currentState===1&&j.escaped)if(S==='"')E[L]==='"'?(j.token+='"',L++):(j.escaped=!1,j.currentState=2);else{if(S==="\r")continue;j.token+=S}else S==="\r"?(E[L]===`
`&&L++,q(),G()):S===`
`?(q(),G()):S===g?q():j.currentState===1&&(j.token+=S)}if(b)C.columns=I.shift();else for(var V=0;V<I[0].length;V++)C.columns[V]="null";for(var W=0;W<I.length;W++)(I[W].length!==1||I[W][0]!=="undefined"&&I[W][0]!=="")&&((O=new l.default.TableRow).arr=I[W],O.obj=function(Q,ue){if((ue=ue||[])===void 0)for(var P=0;P<Q.length;P++)ue[P.toString()]=P;return Object.fromEntries(ue.map(function(A,U){return[A,Q[U]]}))}(I[W],C.columns),C.addRow(O));typeof f=="function"&&f(C),M._decrementPreload()},function(E){l.default._friendlyFileLoadError(2,p),v?v(E):console.error(E)}),C},l.default.prototype.loadXML=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];for(var g,w,b=new l.default.XML,_=1;_<f.length;_++){var D=f[_];typeof D=="function"&&(g===void 0?g=D:w===void 0&&(w=D))}var C=this;return this.httpDo(f[0],"GET","xml",function(M){for(var E in M)b[E]=M[E];g!==void 0&&g(b),C._decrementPreload()},function(M){if(l.default._friendlyFileLoadError(1,M),!w)throw M;w(M)}),b},l.default.prototype.loadBytes=function(p,f,v){var g={},w=this;return this.httpDo(p,"GET","arrayBuffer",function(b){g.bytes=new Uint8Array(b),typeof f=="function"&&f(g),w._decrementPreload()},function(b){if(l.default._friendlyFileLoadError(6,p),!v)throw b;v(b)}),g},l.default.prototype.httpGet=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return l.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),l.default.prototype.httpDo.apply(this,f)},l.default.prototype.httpPost=function(){for(var p=arguments.length,f=new Array(p),v=0;v<p;v++)f[v]=arguments[v];return l.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),l.default.prototype.httpDo.apply(this,f)},l.default.prototype.httpDo=function(){for(var p,f,v,g={},w=0,b="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)w++;var D=arguments.length-w,C=arguments.length<=0?void 0:arguments[0];if(D==2&&typeof C=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")F=new Request(C,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var M,E="GET",S=1;S<arguments.length;S++){var O=S<0||arguments.length<=S?void 0:arguments[S];if(typeof O=="string")O==="GET"||O==="POST"||O==="PUT"||O==="DELETE"?E=O:O==="json"||O==="jsonp"||O==="binary"||O==="arrayBuffer"||O==="xml"||O==="text"||O==="table"?p=O:M=O;else if(typeof O=="number")M=O.toString();else if(y(O)==="object")if(O.hasOwnProperty("jsonpCallback")||O.hasOwnProperty("jsonpCallbackFunction"))for(var j in O)g[j]=O[j];else b=O instanceof l.default.XML?(M=O.serialize(),"application/xml"):(M=JSON.stringify(O),"application/json");else typeof O=="function"&&(f?v=O:f=O)}var D=E==="GET"?new Headers:new Headers({"Content-Type":b}),F=new Request(C,{method:E,mode:"cors",body:M,headers:D})}return(D=(D=(p=p||(C.includes("json")?"json":C.includes("xml")?"xml":"text"))==="jsonp"?(0,u.default)(C,g):fetch(F)).then(function(I){if(!I.ok)throw(L=new Error(I.body)).status=I.status,L.ok=!1,L;var L=0;switch((L=p!=="jsonp"?I.headers.get("content-length"):L)&&64e6<L&&l.default._friendlyFileLoadError(7,C),p){case"json":case"jsonp":return I.json();case"binary":return I.blob();case"arrayBuffer":return I.arrayBuffer();case"xml":return I.text().then(function(B){return B=new DOMParser().parseFromString(B,"text/xml"),new l.default.XML(B.documentElement)});default:return I.text()}})).then(f||function(){}),D.catch(v||console.error),D},window.URL=window.URL||window.webkitURL,l.default.prototype._pWriters=[],l.default.prototype.createWriter=function(p,f){var v,g;for(g in l.default.prototype._pWriters)if(l.default.prototype._pWriters[g].name===p)return v=new l.default.PrintWriter(p+this.millis(),f),l.default.prototype._pWriters.push(v),v;return v=new l.default.PrintWriter(p,f),l.default.prototype._pWriters.push(v),v},l.default.PrintWriter=function(p,f){var v=this;this.name=p,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,w=[];for(g in w.push(this.content),l.default.prototype.writeFile(w,p,f),l.default.prototype._pWriters)l.default.prototype._pWriters[g].name===this.name&&l.default.prototype._pWriters.splice(g,1);v.clear(),v={}}},l.default.prototype.save=function(p,f,v){var g=arguments,w=(this._curElement||this).elt;if(g.length===0)l.default.prototype.saveCanvas(w);else if(g[0]instanceof l.default.Renderer||g[0]instanceof l.default.Graphics)l.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")l.default.prototype.saveCanvas(w,g[0]);else switch(h(g[1],g[2])[1]){case"json":return void l.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void l.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?l.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof l.default.Table?l.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof l.default.Image?l.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof l.default.SoundFile&&l.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},l.default.prototype.saveJSON=function(p,f,v){l.default._validateParameters("saveJSON",arguments),v=v?JSON.stringify(p):JSON.stringify(p,void 0,2),this.saveStrings(v.split(`
`),f,"json")},l.default.prototype.saveJSONObject=l.default.prototype.saveJSON,l.default.prototype.saveJSONArray=l.default.prototype.saveJSON,l.default.prototype.saveStrings=function(p,f,v,g){l.default._validateParameters("saveStrings",arguments);for(var w=this.createWriter(f,v||"txt"),b=0;b<p.length;b++)g?w.write(p[b]+`\r
`):w.write(p[b]+`
`);w.close(),w.clear()},l.default.prototype.saveTable=function(p,f,v){l.default._validateParameters("saveTable",arguments),g=v===void 0?f.substring(f.lastIndexOf(".")+1,f.length):v;var g,w=this.createWriter(f,g),b=p.columns,_=g==="tsv"?"	":",";if(g!=="html"){if(b[0]!=="0"){for(var D=0;D<b.length;D++)D<b.length-1?w.write(b[D]+_):w.write(b[D]);w.write(`
`)}for(var C=0;C<p.rows.length;C++){for(var M=void 0,M=0;M<p.rows[C].arr.length;M++)M<p.rows[C].arr.length-1?g==="csv"&&String(p.rows[C].arr[M]).includes(",")?w.write('"'+p.rows[C].arr[M]+'"'+_):w.write(p.rows[C].arr[M]+_):g==="csv"&&String(p.rows[C].arr[M]).includes(",")?w.write('"'+p.rows[C].arr[M]+'"'):w.write(p.rows[C].arr[M]);w.write(`
`)}}else{if(w.print("<html>"),w.print("<head>"),w.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),w.print("</head>"),w.print("<body>"),w.print("  <table>"),b[0]!=="0"){w.print("    <tr>");for(var E=0;E<b.length;E++){var S=d(b[E]);w.print("      <td>".concat(S)),w.print("      </td>")}w.print("    </tr>")}for(var O=0;O<p.rows.length;O++){w.print("    <tr>");for(var j=0;j<p.columns.length;j++){var F=d(p.rows[O].getString(j));w.print("      <td>".concat(F)),w.print("      </td>")}w.print("    </tr>")}w.print("  </table>"),w.print("</body>"),w.print("</html>")}w.close(),w.clear()},l.default.prototype.writeFile=function(w,f,v){var g="application/octet-stream",w=(l.default.prototype._isSafari()&&(g="text/plain"),new Blob(w,{type:g}));l.default.prototype.downloadFile(w,f,v)},l.default.prototype.downloadFile=function(p,w,b){var g,w=h(w,b),b=w[0];p instanceof Blob?c.default.saveAs(p,b):((g=document.createElement("a")).href=p,g.download=b,g.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},g.style.display="none",document.body.appendChild(g),l.default.prototype._isSafari()&&(p=(p=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(w[1],'"'),alert(p)),g.click())},l.default.prototype._checkFileExtension=h,l.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=l.default,s.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(u,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}a.default.Table=function(){function u(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],h=this,p=u;if(!(h instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=d}var c,m,y;return c=u,(m=[{key:"addRow",value:function(d){if(d=d||new a.default.TableRow,d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d}},{key:"removeRow",value:function(d){this.rows[d].table=null,d=this.rows.splice(d+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(d)}},{key:"getRow",value:function(d){return this.rows[d]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(d,h){if(typeof h=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[h]===d)return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[h]===d)return this.rows[f];return null}},{key:"findRows",value:function(d,h){var p=[];if(typeof h=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[h]===d&&p.push(this.rows[f]);else for(var v=0;v<this.rows.length;v++)this.rows[v].arr[h]===d&&p.push(this.rows[v]);return p}},{key:"matchRow",value:function(d,h){if(typeof h=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[h].match(d))return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[h].match(d))return this.rows[f];return null}},{key:"matchRows",value:function(d,h){var p=[];if(typeof h=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[h].match(d)&&p.push(this.rows[f]);else for(var v=0;v<this.rows.length;v++)this.rows[v].obj[h].match(d)&&p.push(this.rows[v]);return p}},{key:"getColumn",value:function(d){var h=[];if(typeof d=="string")for(var p=0;p<this.rows.length;p++)h.push(this.rows[p].obj[d]);else for(var f=0;f<this.rows.length;f++)h.push(this.rows[f].arr[d]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(d){this.columns.push(d||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(d,h){for(var p=[],f=0;f<d.length;f++)p.push(d.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var v=new RegExp(p.join("|"),"g");if(h===void 0)for(var g=0;g<this.columns.length;g++)for(var w=0;w<this.rows.length;w++){var b=(b=this.rows[w].arr[g]).replace(v,"");this.rows[w].arr[g]=b,this.rows[w].obj[this.columns[g]]=b}else if(typeof h=="string")for(var _=0;_<this.rows.length;_++){var D=(D=this.rows[_].obj[h]).replace(v,""),C=(this.rows[_].obj[h]=D,this.columns.indexOf(h));this.rows[_].arr[C]=D}else for(var M=0;M<this.rows.length;M++){var E=(E=this.rows[M].arr[h]).replace(v,"");this.rows[M].arr[h]=E,this.rows[M].obj[this.columns[h]]=E}}},{key:"trim",value:function(d){var h=new RegExp(" ","g");if(d===void 0)for(var p=0;p<this.columns.length;p++)for(var f=0;f<this.rows.length;f++){var v=(v=this.rows[f].arr[p]).replace(h,"");this.rows[f].arr[p]=v,this.rows[f].obj[this.columns[p]]=v}else if(typeof d=="string")for(var g=0;g<this.rows.length;g++){var w=(w=this.rows[g].obj[d]).replace(h,""),b=(this.rows[g].obj[d]=w,this.columns.indexOf(d));this.rows[g].arr[b]=w}else for(var _=0;_<this.rows.length;_++){var D=(D=this.rows[_].arr[d]).replace(h,"");this.rows[_].arr[d]=D,this.rows[_].obj[this.columns[d]]=D}}},{key:"removeColumn",value:function(f){typeof f=="string"?p=this.columns.indexOf(h=f):h=this.columns[p=f];var h,p,f=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var v=0;v<this.rows.length;v++){var g=this.rows[v].arr,w=g.splice(p+1,g.length);g.pop(),this.rows[v].arr=g.concat(w),delete this.rows[v].obj[h]}}},{key:"set",value:function(d,h,p){this.rows[d].set(h,p)}},{key:"setNum",value:function(d,h,p){this.rows[d].setNum(h,p)}},{key:"setString",value:function(d,h,p){this.rows[d].setString(h,p)}},{key:"get",value:function(d,h){return this.rows[d].get(h)}},{key:"getNum",value:function(d,h){return this.rows[d].getNum(h)}},{key:"getString",value:function(d,h){return this.rows[d].getString(h)}},{key:"getObject",value:function(d){for(var h,p={},f=0;f<this.rows.length;f++)if(h=this.rows[f].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));p[h[d]]=h}else p[f]=this.rows[f].obj;return p}},{key:"getArray",value:function(){for(var d=[],h=0;h<this.rows.length;h++)d.push(this.rows[h].arr);return d}}])&&l(c.prototype,m),y&&l(c,y),u}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,i,s){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(l,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.TableRow=function(){function l(y,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var h=[];y&&(h=y.split(d=d||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var u,c,m;return u=l,(c=[{key:"set",value:function(y,d){if(typeof y=="string"){var h=this.table.columns.indexOf(y);if(!(0<=h))throw new Error('This table has no column named "'.concat(y,'"'));this.obj[y]=d,this.arr[h]=d}else{if(!(y<this.table.columns.length))throw new Error("Column #".concat(y," is out of the range of this table"));this.arr[y]=d,h=this.table.columns[y],this.obj[h]=d}}},{key:"setNum",value:function(y,d){d=parseFloat(d),this.set(y,d)}},{key:"setString",value:function(y,d){d=d.toString(),this.set(y,d)}},{key:"get",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y]}},{key:"getNum",value:function(y){var d=parseFloat(typeof y=="string"?this.obj[y]:this.arr[y]);if(d.toString()==="NaN")throw"Error: ".concat(this.obj[y]," is NaN (Not a Number)");return d}},{key:"getString",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y].toString()}}])&&a(u.prototype,c),m&&a(u,m),l}(),t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c,m){for(var y=0;y<m.length;y++){var d=m[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function u(c){for(var m=[],y=0;y<c.length;y++)m.push(new a.default.XML(c[y]));return m}a.default.XML=function(){function c(h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");h?this.DOM=h:(h=document.implementation.createDocument(null,"doc"),this.DOM=h.createElement("root"))}var m,y,d;return m=c,(y=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(h){var p=this.DOM.innerHTML,f=this.DOM.attributes,v=document.implementation.createDocument(null,"default").createElement(h);v.innerHTML=p;for(var g=0;g<f.length;g++)v.setAttribute(f[g].nodeName,f[g].nodeValue);this.DOM=v}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var h=[],p=0;p<this.DOM.childNodes.length;p++)h.push(this.DOM.childNodes[p].nodeName);return h}},{key:"getChildren",value:function(h){return u(h?this.DOM.getElementsByTagName(h):this.DOM.children)}},{key:"getChild",value:function(h){if(typeof h!="string")return new a.default.XML(this.DOM.children[h]);var p=!0,f=!1,v=void 0;try{for(var g,w=this.DOM.children[Symbol.iterator]();!(p=(g=w.next()).done);p=!0){var b=g.value;if(b.tagName===h)return new a.default.XML(b)}}catch(_){f=!0,v=_}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}}},{key:"addChild",value:function(h){h instanceof a.default.XML&&this.DOM.appendChild(h.DOM)}},{key:"removeChild",value:function(h){var p=-1;if(typeof h=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===h){p=f;break}}else p=h;p!==-1&&this.DOM.removeChild(this.DOM.children[p])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var h=[],p=!0,f=!1,v=void 0;try{for(var g,w=this.DOM.attributes[Symbol.iterator]();!(p=(g=w.next()).done);p=!0){var b=g.value;h.push(b.nodeName)}}catch(_){f=!0,v=_}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}return h}},{key:"hasAttribute",value:function(h){var p={},f=!0,v=!1,g=void 0;try{for(var w,b=this.DOM.attributes[Symbol.iterator]();!(f=(w=b.next()).done);f=!0){var _=w.value;p[_.nodeName]=_.nodeValue}}catch(D){v=!0,g=D}finally{try{f||b.return==null||b.return()}finally{if(v)throw g}}return!!p[h]}},{key:"getNum",value:function(h,p){var f={},v=!0,g=!1,w=void 0;try{for(var b,_=this.DOM.attributes[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var D=b.value;f[D.nodeName]=D.nodeValue}}catch(C){g=!0,w=C}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}return Number(f[h])||p||0}},{key:"getString",value:function(h,p){var f={},v=!0,g=!1,w=void 0;try{for(var b,_=this.DOM.attributes[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var D=b.value;f[D.nodeName]=D.nodeValue}}catch(C){g=!0,w=C}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}return f[h]?String(f[h]):p||null}},{key:"setAttribute",value:function(h,p){this.DOM.setAttribute(h,p)}},{key:"getContent",value:function(h){var p=this.DOM.textContent;return(p=p.replace(/\s\s+/g,","))||h||null}},{key:"setContent",value:function(h){this.DOM.children.length||(this.DOM.textContent=h)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&l(m.prototype,y),d&&l(m,d),c}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(u){return function(c){if(Array.isArray(c)){for(var m=0,y=new Array(c.length);m<c.length;m++)y[m]=c[m];return y}}(u)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(u,c,m){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(u,m),c)},a.default.prototype.dist=function(){for(var u=arguments.length,c=new Array(u),m=0;m<u;m++)c[m]=arguments[m];return a.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(u,c,m){return a.default._validateParameters("lerp",arguments),m*(c-u)+u},a.default.prototype.log=Math.log,a.default.prototype.mag=function(u,c){return a.default._validateParameters("mag",arguments),Math.hypot(u,c)},a.default.prototype.map=function(u,c,m,y,d,h){return a.default._validateParameters("map",arguments),u=(u-c)/(m-c)*(d-y)+y,h?y<d?this.constrain(u,y,d):this.constrain(u,d,y):u},a.default.prototype.max=function(){for(var u=function(d){return Math.max.apply(Math,l(d))},c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return Array.isArray(m[0])?u(m[0]):u(m)},a.default.prototype.min=function(){for(var u=function(d){return Math.min.apply(Math,l(d))},c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return Array.isArray(m[0])?u(m[0]):u(m)},a.default.prototype.norm=function(u,c,m){return a.default._validateParameters("norm",arguments),this.map(u,c,m,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(u,c){return c?(c=Math.pow(10,c),Math.round(u*c)/c):Math.round(u)},a.default.prototype.sq=function(u){return u*u},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(y){a.default._validateParameters("fract",arguments);var c,m=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,m=1),String(y).includes(".")&&!String(y).includes("e")?(c=String(y),c=+("0"+c.slice(c.indexOf("."))),Math.abs(m-c)):y<1?Math.abs(m-y):0)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c,m,y){return(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(d,h,p){var f=[null];return f.push.apply(f,h),h=new(Function.bind.apply(d,f)),p&&u(h,p.prototype),h}).apply(null,arguments)}function u(c,m){return(u=Object.setPrototypeOf||function(y,d){return y.__proto__=d,y})(c,m)}a.default.prototype.createVector=function(c,m,y){return this instanceof a.default?l(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(c,m,y)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function a(d){return .5*(1-Math.cos(d*Math.PI))}var l,u=4095,c=4,m=.5,y=(y.default.prototype.noise=function(d){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(l==null){l=new Array(4096);for(var f=0;f<4096;f++)l[f]=Math.random()}d<0&&(d=-d),h<0&&(h=-h),p<0&&(p=-p);for(var v,g,w=Math.floor(d),b=Math.floor(h),_=Math.floor(p),D=d-w,C=h-b,M=p-_,E=0,S=.5,O=0;O<c;O++){var j=w+(b<<4)+(_<<8),F=a(D),I=a(C),L=l[j&u];L+=F*(l[j+1&u]-L),v=l[j+16&u],L+=I*((v+=F*(l[j+16+1&u]-v))-L),v=l[(j+=256)&u],v+=F*(l[j+1&u]-v),g=l[j+16&u],v+=I*((g+=F*(l[j+16+1&u]-g))-v),E+=(L+=a(M)*(v-L))*S,S*=m,w<<=1,b<<=1,_<<=1,1<=(D*=2)&&(w++,D--),1<=(C*=2)&&(b++,C--),1<=(M*=2)&&(_++,M--)}return E},y.default.prototype.noiseDetail=function(d,h){0<d&&(c=d),0<h&&(m=h)},y.default.prototype.noiseSeed=function(d){f=4294967296;var h,p,f,v={setSeed:function(w){p=h=(w??Math.random()*f)>>>0},getSeed:function(){return h},rand:function(){return(p=(1664525*p+1013904223)%f)/f}};v.setSeed(d),l=new Array(4096);for(var g=0;g<4096;g++)l[g]=v.rand()},y.default);s.default=y},{"../core/main":283}],316:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function l(h){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var p=m();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}function y(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}u.default.Vector=function(){function h(){var _=this,g=h;if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function");var w,b,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],w=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(w=(arguments.length<=0?void 0:arguments[0])||0,b=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=w,this.y=b,this.z=_}var p,f,v;return p=h,v=[{key:"fromAngle",value:function(g){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new u.default.Vector(w*Math.cos(g),w*Math.sin(g),0)}},{key:"fromAngles",value:function(M,D){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=Math.cos(D),D=Math.sin(D),C=Math.cos(M),M=Math.sin(M);return new u.default.Vector(b*M*D,-b*C,b*M*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*c.TWO_PI,w=2*Math.random()-1,_=Math.sqrt(1-w*w),b=_*Math.cos(g),_=_*Math.sin(g);return new u.default.Vector(b,_,w)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),C.add(D),C}},{key:"rem",value:function(g,w){if(g instanceof u.default.Vector&&w instanceof u.default.Vector)return(g=g.copy()).rem(w),g}},{key:"sub",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),C.sub(D),C}},{key:"mult",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),C.mult(D),C}},{key:"rotate",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length===2?C=_.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),C.set(_)),C.rotate(D),C}},{key:"div",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return C?C.set(_):(C=_.copy(),w.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),C.div(D),C}},{key:"dot",value:function(g,w){return g.dot(w)}},{key:"cross",value:function(g,w){return g.cross(w)}},{key:"dist",value:function(g,w){return g.dist(w)}},{key:"lerp",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2],M=w[3];return M?M.set(_):(M=_.copy(),w.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(D,C),M}},{key:"slerp",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2],M=w[3];return M?M.set(_):(M=_.copy(),w.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(D,C),M}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1];return w.length<2?D=_.copy():(D instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),D.set(_)),D.normalize()}},{key:"limit",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),C.set(_)),C.limit(D)}},{key:"setMag",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),C.set(_)),C.setMag(D)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,w){return g.angleBetween(w)}},{key:"reflect",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];return w.length<3?C=_.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),C.set(_)),C.reflect(D)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,w){var b;return g instanceof u.default.Vector?b=g:Array.isArray(g)?b=new u.default.Vector().set(g):u.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),b.equals(w)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,w,b){return g instanceof u.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=w||0,this.z=b||0),this}},{key:"copy",value:function(){return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new u.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,w,b){return g instanceof u.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=w||0,this.z+=b||0),this}},{key:"calculateRemainder2D",value:function(g,w){return g!==0&&(this.x=this.x%g),w!==0&&(this.y=this.y%w),this}},{key:"calculateRemainder3D",value:function(g,w,b){return g!==0&&(this.x=this.x%g),w!==0&&(this.y=this.y%w),b!==0&&(this.z=this.z%b),this}},{key:"rem",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _,D,C,M=w[0],E=w[1],S=w[2];if(M instanceof u.default.Vector){if([M.x,M.y,M.z].every(Number.isFinite))return _=parseFloat(M.x),D=parseFloat(M.y),C=parseFloat(M.z),this.calculateRemainder3D(_,D,C)}else if(Array.isArray(M)){if(M.every(Number.isFinite))return M.length===2?this.calculateRemainder2D(M[0],M[1]):M.length===3?this.calculateRemainder3D(M[0],M[1],M[2]):void 0}else if(w.length===1){if(Number.isFinite(M)&&M!==0)return this.x=this.x%M,this.y=this.y%M,this.z=this.z%M,this}else if(w.length===2){if(w.every(Number.isFinite))return this.calculateRemainder2D(M,E)}else if(w.length===3&&w.every(Number.isFinite))return this.calculateRemainder3D(M,E,S)}},{key:"sub",value:function(g,w,b){return g instanceof u.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=w||0,this.z-=b||0),this}},{key:"mult",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _,D=w[0],C=w[1],M=w[2];return D instanceof u.default.Vector?Number.isFinite(D.x)&&Number.isFinite(D.y)&&Number.isFinite(D.z)&&typeof D.x=="number"&&typeof D.y=="number"&&typeof D.z=="number"?(this.x*=D.x,this.y*=D.y,this.z*=D.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(D)?D.every(function(E){return Number.isFinite(E)})&&D.every(function(E){return typeof E=="number"})?D.length===1?(this.x*=D[0],this.y*=D[0],this.z*=D[0]):D.length===2?(this.x*=D[0],this.y*=D[1]):D.length===3&&(this.x*=D[0],this.y*=D[1],this.z*=D[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=w).every(function(E){return Number.isFinite(E)})&&_.every(function(E){return typeof E=="number"})?(w.length===1&&(this.x*=D,this.y*=D,this.z*=D),w.length===2&&(this.x*=D,this.y*=C),w.length===3&&(this.x*=D,this.y*=C,this.z*=M)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];var _=w[0],D=w[1],C=w[2];if(_ instanceof u.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var M=_.z===0&&this.z===0;if(_.x===0||_.y===0||!M&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,M||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(Number.isFinite)&&_.every(function(E){return typeof E=="number"})){if(_.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(w.every(Number.isFinite)&&w.every(function(E){return typeof E=="number"})){if(w.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;w.length===1&&(this.x/=_,this.y/=_,this.z/=_),w.length===2&&(this.x/=_,this.y/=D),w.length===3&&(this.x/=_,this.y/=D,this.z/=C)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,w=this.y,b=this.z;return g*g+w*w+b*b}},{key:"dot",value:function(g,w,b){return g instanceof u.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(w||0)+this.z*(b||0)}},{key:"cross",value:function(_){var w=this.y*_.z-this.z*_.y,b=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,w,b,_):new u.default.Vector(w,b,_)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var w=this.magSq();return g*g<w&&this.div(Math.sqrt(w)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var w=this.mag();return this.x=w*Math.cos(g),this.y=w*Math.sin(g),this}},{key:"rotate",value:function(w){var w=this.heading()+w,b=(this.isPInst&&(w=this._toRadians(w)),this.mag());return this.x=Math.cos(w)*b,this.y=Math.sin(w)*b,this}},{key:"angleBetween",value:function(g){var w;return this.magSq()*g.magSq()==0?NaN:(w=this.cross(g),g=Math.atan2(w.mag(),this.dot(g))*Math.sign(w.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,w,b,_){return g instanceof u.default.Vector?this.lerp(g.x,g.y,g.z,w):(this.x+=(g-this.x)*_||0,this.y+=(w-this.y)*_||0,this.z+=(b-this.z)*_||0,this)}},{key:"slerp",value:function(g,w){if(w!==0){if(w===1)return this.set(g);var b=this.mag(),_=g.mag();if(b*_==0)this.mult(1-w).add(g.x*w,g.y*w,g.z*w);else{var D=this.cross(g),C=D.mag(),M=Math.atan2(C,this.dot(g));if(0<C)D.x/=C,D.y/=C,D.z/=C;else{if(M<.5*Math.PI)return this.mult(1-w).add(g.x*w,g.y*w,g.z*w),this;this.z===0&&g.z===0?D.set(0,0,1):this.x!==0?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}C=D.cross(this),g=1-w+w*_/b,D=g*Math.cos(w*M),_=g*Math.sin(w*M),this.x=this.x*D+C.x*_,this.y=this.y*D+C.y*_,this.z=this.z*D+C.z*_}}return this}},{key:"reflect",value:function(g){return g=u.default.Vector.normalize(g),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(C,w,b){var _,D,C=C instanceof u.default.Vector?(_=C.x||0,D=C.y||0,C.z||0):Array.isArray(C)?(_=C[0]||0,D=C[1]||0,C[2]||0):(_=C||0,D=w||0,b||0);return this.x===_&&this.y===D&&this.z===C}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(g){return Math.abs(+(g||0))<=Number.EPSILON?0:g}}])&&y(p.prototype,f),v&&y(p,v),h}();var d=u.default.Vector;s.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(m,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(m=m("../core/main"))&&m.__esModule?m:{default:m},l="_lcg_random_state",u=4294967296,c=0,m=(a.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%u,this[y]/u},a.default.prototype._lcgSetSeed=function(y,d){this[y]=(d??Math.random()*u)>>>0},a.default.prototype.randomSeed=function(y){this._lcgSetSeed(l,y),this._gaussian_previous=!1},a.default.prototype.random=function(y,d){var h,p;return a.default._validateParameters("random",arguments),h=this[l]!=null?this._lcg(l):Math.random(),y===void 0?h:d===void 0?Array.isArray(y)?y[Math.floor(h*y.length)]:h*y:(d<y&&(p=y,y=d,d=p),h*(d-y)+y)},a.default.prototype.randomGaussian=function(y){var d,h,p,f,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)d=c,this._gaussian_previous=!1;else{for(;1<=(f=(h=this.random(2)-1)*h+(p=this.random(2)-1)*p););d=h*(f=Math.sqrt(-2*Math.log(f)/f)),c=p*f,this._gaussian_previous=!0}return d*v+(y||0)},a.default);s.default=m},{"../core/main":283}],318:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}u.default.prototype._angleMode=c.RADIANS,u.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))},u.default.prototype.asin=function(d){return this._fromRadians(Math.asin(d))},u.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))},u.default.prototype.atan2=function(d,h){return this._fromRadians(Math.atan2(d,h))},u.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))},u.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))},u.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))},u.default.prototype.degrees=function(d){return d*c.RAD_TO_DEG},u.default.prototype.radians=function(d){return d*c.DEG_TO_RAD},u.default.prototype.angleMode=function(d){if(u.default._validateParameters("angleMode",arguments),d===void 0)return this._angleMode;d!==c.DEGREES&&d!==c.RADIANS||d!==this._angleMode&&(d===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=d)},u.default.prototype._toRadians=function(d){return this._angleMode===c.DEGREES?d*c.DEG_TO_RAD:d},u.default.prototype._toDegrees=function(d){return this._angleMode===c.RADIANS?d*c.RAD_TO_DEG:d},u.default.prototype._fromRadians=function(d){return this._angleMode===c.DEGREES?d*c.RAD_TO_DEG:d},u.default.prototype._fromDegrees=function(d){return this._angleMode===c.RADIANS?d*c.DEG_TO_RAD:d};var y=u.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,i,s){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.textAlign=function(l,u){var c;return a.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},a.default.prototype.textLeading=function(l){var u;return a.default._validateParameters("textLeading",arguments),(u=this._renderer).textLeading.apply(u,arguments)},a.default.prototype.textSize=function(l){var u;return a.default._validateParameters("textSize",arguments),(u=this._renderer).textSize.apply(u,arguments)},a.default.prototype.textStyle=function(l){var u;return a.default._validateParameters("textStyle",arguments),(u=this._renderer).textStyle.apply(u,arguments)},a.default.prototype.textWidth=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];if(u[0]+="",a.default._validateParameters("textWidth",u),u[0].length===0)return 0;for(var m=u[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],d=0;d<m.length;d++)y.push(this._renderer.textWidth(m[d]));return Math.max.apply(Math,y)},a.default.prototype.textAscent=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.default._validateParameters("textAscent",u),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.default._validateParameters("textDescent",u),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(l){return a.default._validateParameters("textWrap",[l]),this._renderer.textWrap(l)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function l(p){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=d(t("../core/constants")),m=d(t("opentype.js"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function d(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var f=y();if(f&&f.has(p))return f.get(p);var v,g,w={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&((g=b?Object.getOwnPropertyDescriptor(p,v):null)&&(g.get||g.set)?Object.defineProperty(w,v,g):w[v]=p[v]);return w.default=p,f&&f.set(p,w),w}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadFont=function(p,f,v){u.default._validateParameters("loadFont",arguments);var g=new u.default.Font(this),w=this;return m.load(p,function(D,C){if(D)return u.default._friendlyFileLoadError(4,p),v!==void 0?v(D):void console.error(D,p);g.font=C,f!==void 0&&f(g),w._decrementPreload();var D=p.split("\\").pop().split("/").pop(),C=D.lastIndexOf("."),M=C<1?null:D.slice(C+1);["ttf","otf","woff","woff2"].includes(M)&&(M=D.slice(0,C!==-1?C:0),(D=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(p,`);
}
`))),document.head.appendChild(D))}),g},u.default.prototype.text=function(p,f,v,g,w){var b;return u.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},u.default.prototype.textFont=function(p,f){if(u.default._validateParameters("textFont",arguments),arguments.length){if(p)return this._renderer._setProperty("_textFont",p),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var h=u.default;s.default=h},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,i,s){"use strict";function a(E){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},u=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var S=c();if(S&&S.has(E))return S.get(E);var O,j={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in E){var I;Object.prototype.hasOwnProperty.call(E,O)&&((I=F?Object.getOwnPropertyDescriptor(E,O):null)&&(I.get||I.set)?Object.defineProperty(j,O,I):j[O]=E[O])}return j.default=E,S&&S.set(E,j),j}(t("../core/constants"));function c(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,c=function(){return E},E)}function m(E){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(E)}function y(E,S){for(var O=0;O<S.length;O++){var j=S[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,j.key,j)}}function d(E,S){var O=E.length;return E[S<0?S%O+O:S%O]}function h(E,S,O,j){var F,I,L;return j?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),I=h.tmpPoint1,L=h.tmpPoint2,I.x=S.x-E.x,I.y=S.y-E.y,L.x=O.x-S.x,L.y=O.y-S.y,F=I.x*L.x+I.y*L.y,I=Math.sqrt(I.x*I.x+I.y*I.y),L=Math.sqrt(L.x*L.x+L.y*L.y),Math.acos(F/(I*L))<j):(S[0]-E[0])*(O[1]-E[1])-(O[0]-E[0])*(S[1]-E[1])==0}function p(A,H,U,K,re,I,L,B,k){var q=1-k,V=Math.pow(q,3),W=Math.pow(q,2),P=k*k,Q=P*k,G=V*A+3*W*k*U+3*q*k*k*re+Q*L,V=V*H+3*W*k*K+3*q*k*k*I+Q*B,W=A+2*k*(U-A)+P*(re-2*U+A),Q=H+2*k*(K-H)+P*(I-2*K+H),ue=U+2*k*(re-U)+P*(L-2*re+U),P=K+2*k*(I-K)+P*(B-2*I+K),A=q*A+k*U,U=q*H+k*K,H=q*re+k*L,K=q*I+k*B,re=90-180*Math.atan2(W-ue,Q-P)/Math.PI;return(ue<W||Q<P)&&(re+=180),{x:G,y:V,m:{x:W,y:Q},n:{x:ue,y:P},start:{x:A,y:U},end:{x:H,y:K},alpha:re}}function f(E,S,O,j,F,I,L,B,k){return k==null?C(E,S,O,j,F,I,L,B):p(E,S,O,j,F,I,L,B,function(q,G,V,W,Q,ue,P,A,U){if(!(U<0||C(q,G,V,W,Q,ue,P,A)<U)){var H,K=.5,re=1-K;for(H=C(q,G,V,W,Q,ue,P,A,re);.01<Math.abs(H-U);)H=C(q,G,V,W,Q,ue,P,A,re+=(H<U?1:-1)*(K/=2));return re}}(E,S,O,j,F,I,L,B,k))}function v(E,S,O){for(var j,F,I,L,B,k=0,q=0,G=(E=function(V,W){function Q(xe,me,_e){var Ie,De;if(!xe)return["C",me.x,me.y,me.x,me.y,me.x,me.y];switch(xe[0]in{T:1,Q:1}||(me.qx=me.qy=null),xe[0]){case"M":me.X=xe[1],me.Y=xe[2];break;case"A":xe=["C"].concat(w.apply(0,[me.x,me.y].concat(xe.slice(1))));break;case"S":De=_e==="C"||_e==="S"?(Ie=2*me.x-me.bx,2*me.y-me.by):(Ie=me.x,me.y),xe=["C",Ie,De].concat(xe.slice(1));break;case"T":_e==="Q"||_e==="T"?(me.qx=2*me.x-me.qx,me.qy=2*me.y-me.qy):(me.qx=me.x,me.qy=me.y),xe=["C"].concat(D(me.x,me.y,me.qx,me.qy,xe[1],xe[2]));break;case"Q":me.qx=xe[1],me.qy=xe[2],xe=["C"].concat(D(me.x,me.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(_(me.x,me.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(_(me.x,me.y,xe[1],me.y));break;case"V":xe=["C"].concat(_(me.x,me.y,me.x,xe[1]));break;case"Z":xe=["C"].concat(_(me.x,me.y,me.X,me.Y))}return xe}function ue(xe,me){if(7<xe[me].length){xe[me].shift();for(var _e=xe[me];_e.length;)ie[me]="A",H&&(ce[me]="A"),xe.splice(me++,0,["C"].concat(_e.splice(0,6)));xe.splice(me,1),A=Math.max(U.length,H&&H.length||0)}}function P(xe,me,_e,Ie,De){xe&&me&&xe[De][0]==="M"&&me[De][0]!=="M"&&(me.splice(De,0,["M",Ie.x,Ie.y]),_e.bx=0,_e.by=0,_e.x=xe[De][1],_e.y=xe[De][2],A=Math.max(U.length,H&&H.length||0))}var A,U=g(V),H=W&&g(W),K={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],ce=[],se="",he="";A=Math.max(U.length,H&&H.length||0);for(var le=0;le<A;le++){(se=U[le]?U[le][0]:se)!=="C"&&(ie[le]=se,le&&(he=ie[le-1])),U[le]=Q(U[le],K,he),ie[le]!=="A"&&se==="C"&&(ie[le]="C"),ue(U,le),H&&((se=H[le]?H[le][0]:se)!=="C"&&(ce[le]=se,le&&(he=ce[le-1])),H[le]=Q(H[le],re,he),ce[le]!=="A"&&se==="C"&&(ce[le]="C"),ue(H,le)),P(U,H,K,re,le),P(H,U,re,K,le);var te=U[le],pe=H&&H[le],ve=te.length,Me=H&&pe.length;K.x=te[ve-2],K.y=te[ve-1],K.bx=parseFloat(te[ve-4])||K.x,K.by=parseFloat(te[ve-3])||K.y,re.bx=H&&(parseFloat(pe[Me-4])||re.x),re.by=H&&(parseFloat(pe[Me-3])||re.y),re.x=H&&pe[Me-2],re.y=H&&pe[Me-1]}return H?[U,H]:U}(E)).length;q<G;q++){if((I=E[q])[0]==="M")j=+I[1],F=+I[2];else{if(S<k+(L=f(j,F,I[1],I[2],I[3],I[4],I[5],I[6]))&&!O)return{x:(B=f(j,F,I[1],I[2],I[3],I[4],I[5],I[6],S-k)).x,y:B.y,alpha:B.alpha};k+=L,j=+I[5],F=+I[6]}I.shift()}return B=(B=O?k:p(j,F,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha?{x:B.x,y:B.y,alpha:B.alpha}:B}function g(E){var S=[],O=0,j=0,F=0,I=0,L=0;if(E){E[0][0]==="M"&&(F=O=+E[0][1],I=j=+E[0][2],L++,S[0]=["M",O,j]);for(var B,k,q=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",G=L,V=E.length;G<V;G++){if(S.push(B=[]),(k=E[G])[0]!==k[0].toUpperCase())switch(B[0]=k[0].toUpperCase(),B[0]){case"A":B[1]=k[1],B[2]=k[2],B[3]=k[3],B[4]=k[4],B[5]=k[5],B[6]=+(k[6]+O),B[7]=+(k[7]+j);break;case"V":B[1]=+k[1]+j;break;case"H":B[1]=+k[1]+O;break;case"R":for(var W,Q=2,ue=(W=[O,j].concat(k.slice(1))).length;Q<ue;Q++)W[Q]=+W[Q]+O,W[++Q]=+W[Q]+j;S.pop(),S=S.concat(b(W,q));break;case"M":F=+k[1]+O,I=+k[2]+j;break;default:for(var P=1,A=k.length;P<A;P++)B[P]=+k[P]+(P%2?O:j)}else if(k[0]==="R")W=[O,j].concat(k.slice(1)),S.pop(),S=S.concat(b(W,q)),B=["R"].concat(k.slice(-2));else for(var U=0,H=k.length;U<H;U++)B[U]=k[U];switch(B[0]){case"Z":O=F,j=I;break;case"H":O=B[1];break;case"V":j=B[1];break;case"M":F=B[B.length-2],I=B[B.length-1];break;default:O=B[B.length-2],j=B[B.length-1]}}}return S}function w(E,S,O,j,H,ie,K,B,k,q){function G(Me,xe,me){return{x:Me*Math.cos(me)-xe*Math.sin(me),y:Me*Math.sin(me)+xe*Math.cos(me)}}var V,A=Math.PI,U=120*A/180,W=A/180*(+H||0),Q=[],ue=(q?(le=q[0],V=q[1],se=q[2],he=q[3]):(E=(re=G(E,S,-W)).x,S=re.y,1<(ue=(P=(E-(B=(re=G(B,k,-W)).x))/2)*P/(O*O)+(re=(S-(k=re.y))/2)*re/(j*j))&&(O*=ue=Math.sqrt(ue),j*=ue),ue=O*O,ce=j*j,se=(ie=(ie===K?-1:1)*Math.sqrt(Math.abs((ue*ce-ue*re*re-ce*P*P)/(ue*re*re+ce*P*P))))*O*re/j+(E+B)/2,he=ie*-j*P/O+(S+k)/2,le=Math.asin(((S-he)/j).toFixed(9)),V=Math.asin(((k-he)/j).toFixed(9)),(le=E<se?A-le:le)<0&&(le=2*A+le),(V=B<se?A-V:V)<0&&(V=2*A+V),K&&V<le&&(le-=2*A),!K&&le<V&&(V-=2*A)),V-le),P=(Math.abs(ue)>U&&(ce=V,re=B,ie=k,V=le+U*(K&&le<V?1:-1),Q=w(B=se+O*Math.cos(V),k=he+j*Math.sin(V),O,j,H,0,K,re,ie,[V,ce,se,he])),ue=V-le,Math.cos(le)),A=Math.sin(le),U=Math.cos(V),H=Math.sin(V),K=Math.tan(ue/4),re=4/3*O*K,ie=4/3*j*K,ce=[E,S],se=[E+re*A,S-ie*P],he=[B+re*H,k-ie*U],le=[B,k];if(se[0]=2*ce[0]-se[0],se[1]=2*ce[1]-se[1],q)return[se,he,le].concat(Q);for(var te=[],pe=0,ve=(Q=[se,he,le].concat(Q).join().split(",")).length;pe<ve;pe++)te[pe]=pe%2?G(Q[pe-1],Q[pe],W).y:G(Q[pe],Q[pe+1],W).x;return te}function b(E,S){for(var O=[],j=0,F=E.length;j<F-2*!S;j+=2){var I=[{x:+E[j-2],y:+E[j-1]},{x:+E[j],y:+E[j+1]},{x:+E[j+2],y:+E[j+3]},{x:+E[j+4],y:+E[j+5]}];S?j?F-4===j?I[3]={x:+E[0],y:+E[1]}:F-2===j&&(I[2]={x:+E[0],y:+E[1]},I[3]={x:+E[2],y:+E[3]}):I[0]={x:+E[F-2],y:+E[F-1]}:F-4===j?I[3]=I[2]:j||(I[0]={x:+E[j],y:+E[j+1]}),O.push(["C",(-I[0].x+6*I[1].x+I[2].x)/6,(-I[0].y+6*I[1].y+I[2].y)/6,(I[1].x+6*I[2].x-I[3].x)/6,(I[1].y+6*I[2].y-I[3].y)/6,I[2].x,I[2].y])}return O}function _(E,S,O,j){return[E,S,O,j,O,j]}function D(E,S,O,j,F,I){return[1/3*E+2/3*O,1/3*S+2/3*j,1/3*F+2/3*O,1/3*I+2/3*j,F,I]}function C(E,S,O,j,F,I,L,B,k){for(var q=(k=1<(k=k??1)?1:k<0?0:k)/2,G=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],V=0,W=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var P=q*G[Q]+q,ue=M(P,E,O,F,L),P=M(P,S,j,I,B);V+=W[Q]*Math.sqrt(ue*ue+P*P)}return q*V}function M(E,S,O,j,F){return E*(E*(-3*S+9*O-9*j+3*F)+6*S-12*O+6*j)-3*S+3*O}l.default.Font=function(){function E(F){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=F,this.cache={},this.font=void 0}var S,O,j;return S=E,(O=[{key:"textBounds",value:function(F){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,k=B&&B.renderer&&B.renderer._pInst||this.parent,q=k._renderer.drawingContext,G=(q.textAlign||u.LEFT,q.textBaseline||u.BASELINE,G||k._renderer._textSize);if(!ie){for(var V=[],W=[],Q=[],ue=(Q[0]=[],[]),P=this._scale(G),A=k._renderer.textLeading(),U=0,H=(this.font.forEachGlyph(F,I,L,G,B,function(he,le,te,pe){var ve=he.getMetrics();he.index===0?Q[U+=1]=[]:(Q[U].push(le+ve.xMin*P),Q[U].push(le+ve.xMax*P),ue.push(te+U*A+-ve.yMin*P),ue.push(te+U*A+-ve.yMax*P))}),0<Q[U].length&&(V[U]=Math.min.apply(null,Q[U]),W[U]=Math.max.apply(null,Q[U])),0),K=0;K<=U;K++){V[K]=Math.min.apply(null,Q[K]),W[K]=Math.max.apply(null,Q[K]);var re=W[K]-V[K];H<re&&(H=re)}var q=Math.min.apply(null,V),ie={x:q,y:L=Math.min.apply(null,ue),h:Math.max.apply(null,ue)-L,w:H,advance:q-I},G=this._handleAlignment(k._renderer,F,ie.x,ie.y,ie.w+ie.advance);ie.x=G.x,ie.y=G.y}return ie}},{key:"textToPoints",value:function(F,I,L,B,k){var q=I,G=[],V=F.split(/\r?\n|\r|\n/g);B=B||this.parent._renderer._textSize;for(var W,Q,ue,P=0;P<V.length;P++){var A=0;I=q;for(var U=(U=V[P]).replace("	","  "),H=this._getGlyphs(U),K=0;K<H.length;K++){if(Q=U,!((ue=H)[W=K].name&&ue[W].name==="space"||Q.length===ue.length&&Q[W]===" "))for(var re=function(he){for(var le,te=[],pe=0;pe<he.length;pe++)he[pe].type==="M"&&(le&&te.push(le),le=[]),le.push(function(ve){var Me=[ve.type];return ve.type==="M"||ve.type==="L"?Me.push(ve.x,ve.y):ve.type==="C"?Me.push(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y):ve.type==="Q"&&Me.push(ve.x1,ve.y1,ve.x,ve.y),Me}(he[pe]));return te.push(le),te}(H[K].getPath(I,L,B).commands),ie=0;ie<re.length;ie++)for(var ce=function(he,le){for(var le=function(me,_e){if(m(me)!=="object")me=_e;else for(var Ie in _e)me[Ie]===void 0&&(me[Ie]=_e[Ie]);return me}(le,{sampleFactor:.1,simplifyThreshold:0}),te=v(he,0,1),pe=te/(te*le.sampleFactor),ve=[],Me=0;Me<te;Me+=pe)ve.push(v(he,Me));return le.simplifyThreshold&&function(xe){for(var me=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,_e=0,Ie=xe.length-1;3<xe.length&&0<=Ie;--Ie)h(d(xe,Ie-1),d(xe,Ie),d(xe,Ie+1),me)&&(xe.splice(Ie%xe.length,1),_e++)}(ve,le.simplifyThreshold),ve}(re[ie],k),se=0;se<ce.length;se++)ce[se].x+=A,G.push(ce[se]);A+=H[K].advanceWidth*this._scale(B)}L+=this.parent._renderer._textLeading}return G}},{key:"_getGlyphs",value:function(F){return this.font.stringToGlyphs(F)}},{key:"_getPath",value:function(F,q,L,B){var k=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer,q=this._handleAlignment(k,F,q,L);return this.font.getPath(F,q.x,q.y,k._textSize,B)}},{key:"_getPathData",value:function(F,I,L,B){var k=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,I,L,B):m(I)==="object"&&(B=I),B&&typeof B.decimals=="number"&&(k=B.decimals),F.toPathData(k)}},{key:"_getSVG",value:function(F,I,L,B){var k=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,I,L,B):m(I)==="object"&&(B=I),B&&(typeof B.decimals=="number"&&(k=B.decimals),typeof B.strokeWidth=="number"&&(F.strokeWidth=B.strokeWidth),B.fill!==void 0&&(F.fill=B.fill),B.stroke!==void 0&&(F.stroke=B.stroke)),F.toSVG(k)}},{key:"_renderPath",value:function(G,W,Q,B){var k=B&&B.renderer||this.parent._renderer,q=k.drawingContext,G=(m(G)==="object"&&G.commands?G:this._getPath(G,W,Q,B)).commands,V=(k._clipping||q.beginPath(),!0),W=!1,Q=void 0;try{for(var ue,P=G[Symbol.iterator]();!(V=(ue=P.next()).done);V=!0){var A=ue.value;A.type==="M"?q.moveTo(A.x,A.y):A.type==="L"?q.lineTo(A.x,A.y):A.type==="C"?q.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?q.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&q.closePath()}}catch(U){W=!0,Q=U}finally{try{V||P.return==null||P.return()}finally{if(W)throw Q}}return k._doStroke&&k._strokeSet&&!k._clipping&&q.stroke(),k._doFill&&!k._clipping&&(k._fillSet||k._setFill(u._DEFAULT_TEXT_FILL),q.fill()),this}},{key:"_textWidth",value:function(F,I){return this.font.getAdvanceWidth(F,I)}},{key:"_textAscent",value:function(F){return this.font.ascender*this._scale(F)}},{key:"_textDescent",value:function(F){return-this.font.descender*this._scale(F)}},{key:"_scale",value:function(F){return 1/this.font.unitsPerEm*(F||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(F,I,L,B,k){var q=F._textSize;switch(k===void 0&&(k=this._textWidth(I,q)),F._textAlign){case u.CENTER:L-=k/2;break;case u.RIGHT:L-=k}switch(F._textBaseline){case u.TOP:B+=this._textAscent(q);break;case u.CENTER:B+=this._textAscent(q)/2;break;case u.BOTTOM:B-=this._textDescent(q)}return{x:L,y:B}}}])&&y(S.prototype,O),j&&y(S,j),E}(),t=l.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,i,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(a,l){return a.push(l),a},t.default.prototype.arrayCopy=function(a,l,u,c,m){var y,d;a=m!==void 0?(d=Math.min(m,a.length),y=c,a.slice(l,d+l)):(d=u!==void 0?(d=u,Math.min(d,a.length)):a.length,u=l,a.slice(y=0,d)),Array.prototype.splice.apply(u,[y,d].concat(a))},t.default.prototype.concat=function(a,l){return a.concat(l)},t.default.prototype.reverse=function(a){return a.reverse()},t.default.prototype.shorten=function(a){return a.pop(),a},t.default.prototype.shuffle=function(a,l){for(var u,c,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),y=(a=l||m?a:a.slice()).length;1<y;)u=this.random(0,1)*y|0,c=a[--y],a[y]=a[u],a[u]=c;return a},t.default.prototype.sort=function(a,c){var u=c?a.slice(0,Math.min(c,a.length)):a,c=c?a.slice(Math.min(c,a.length)):[];return(u=typeof u[0]=="string"?u.sort():u.sort(function(m,y){return m-y})).concat(c)},t.default.prototype.splice=function(a,l,u){return Array.prototype.splice.apply(a,[u,0].concat(l)),a},t.default.prototype.subset=function(a,l,u){return u!==void 0?a.slice(l,l+u):a.slice(l,a.length)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,i,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.float=function(l){return l instanceof Array?l.map(parseFloat):parseFloat(l)},a.default.prototype.int=function(l){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return l===1/0||l==="Infinity"?1/0:l===-1/0||l==="-Infinity"?-1/0:typeof l=="string"?parseInt(l,u):typeof l=="number"?0|l:typeof l=="boolean"?l?1:0:l instanceof Array?l.map(function(c){return a.default.prototype.int(c,u)}):void 0},a.default.prototype.str=function(l){return l instanceof Array?l.map(a.default.prototype.str):String(l)},a.default.prototype.boolean=function(l){return typeof l=="number"?l!==0:typeof l=="string"?l.toLowerCase()==="true":typeof l=="boolean"?l:l instanceof Array?l.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(l){return l=a.default.prototype.int(l,10),typeof l=="number"?(l+128)%256-128:l instanceof Array?l.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(l){return typeof l!="number"||isNaN(l)?l instanceof Array?l.map(a.default.prototype.char):typeof l=="string"?a.default.prototype.char(parseInt(l,10)):void 0:String.fromCharCode(l)},a.default.prototype.unchar=function(l){return typeof l=="string"&&l.length===1?l.charCodeAt(0):l instanceof Array?l.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(l,u){if(u=u??8,l instanceof Array)return l.map(function(m){return a.default.prototype.hex(m,u)});if(l===1/0||l===-1/0)return(l===1/0?"F":"0").repeat(u);if(typeof l=="number"){l<0&&(l=4294967295+l+1);for(var c=Number(l).toString(16).toUpperCase();c.length<u;)c="0".concat(c);return c=c.length>=u?c.substring(c.length-u,c.length):c}},a.default.prototype.unhex=function(l){return l instanceof Array?l.map(a.default.prototype.unhex):parseInt("0x".concat(l),16)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(d=t("../core/main"))&&d.__esModule?d:{default:d};function l(h,p){return function(f){if(Array.isArray(f))return f}(h)||function(f,v){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var g=[],w=!0,b=!1,_=void 0;try{for(var D,C=f[Symbol.iterator]();!(w=(D=C.next()).done)&&(g.push(D.value),!v||g.length!==v);w=!0);}catch(M){b=!0,_=M}finally{try{w||C.return==null||C.return()}finally{if(b)throw _}}return g}}(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(h,p,f){var g=l(h.toString().split("."),2),v=g[0],g=g[1];return f===void 0?(v=v.padStart(p,"0"),g?v+"."+g:v):(v=(h=l(h.toFixed(f).toString().split("."),2))[0],g=h[1],v=v.padStart(p,"0"),g===void 0?v:v+"."+g)}function c(g,p){var f=(g=g.toString()).indexOf("."),v=f!==-1?g.substring(f):"",g=(g=f!==-1?g.substring(0,f):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(p===0)v="";else if(p!==void 0)if(p>v.length)for(var w=p-(v+=f===-1?".":"").length+1,b=0;b<w;b++)v+="0";else v=v.substring(0,p+1);return g+v}function m(h){return 0<parseFloat(h)?"+".concat(h.toString()):h.toString()}function y(h){return 0<=parseFloat(h)?" ".concat(h.toString()):h.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.join=function(h,p){return a.default._validateParameters("join",arguments),h.join(p)},a.default.prototype.match=function(h,p){return a.default._validateParameters("match",arguments),h.match(p)},a.default.prototype.matchAll=function(h,p){a.default._validateParameters("matchAll",arguments);for(var f=new RegExp(p,"g"),v=f.exec(h),g=[];v!==null;)g.push(v),v=f.exec(h);return g},a.default.prototype.nf=function(h,p,f){return a.default._validateParameters("nf",arguments),h instanceof Array?h.map(function(v){return u(v,p,f)}):Object.prototype.toString.call(h)==="[object Arguments]"?h.length===3?this.nf(h[0],h[1],h[2]):h.length===2?this.nf(h[0],h[1]):this.nf(h[0]):u(h,p,f)},a.default.prototype.nfc=function(h,p){return a.default._validateParameters("nfc",arguments),h instanceof Array?h.map(function(f){return c(f,p)}):c(h,p)},a.default.prototype.nfp=function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];a.default._validateParameters("nfp",p);var v=a.default.prototype.nf.apply(this,p);return v instanceof Array?v.map(m):m(v)},a.default.prototype.nfs=function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];a.default._validateParameters("nfs",p);var v=a.default.prototype.nf.apply(this,p);return v instanceof Array?v.map(y):y(v)},a.default.prototype.split=function(h,p){return a.default._validateParameters("split",arguments),h.split(p)},a.default.prototype.splitTokens=function(h,p){var f,v;return a.default._validateParameters("splitTokens",arguments),v=p!==void 0?(v=/\]/g.exec(p=p),(f=/\[/g.exec(p))&&v?(p=p.slice(0,v.index)+p.slice(v.index+1),f=/\[/g.exec(p),p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[\\[".concat(p,"\\]]"),"g")):v?(p=p.slice(0,v.index)+p.slice(v.index+1),new RegExp("[".concat(p,"\\]]"),"g")):f?(p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[".concat(p,"\\[]"),"g")):new RegExp("[".concat(p,"]"),"g")):/\s/g,h.split(v).filter(function(g){return g})},a.default.prototype.trim=function(h){return a.default._validateParameters("trim",arguments),h instanceof Array?h.map(this.trim):h.trim()};var d=a.default;s.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,s.default=t},{"../core/main":283}],326:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function l(h){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var p=m();if(p&&p.has(h))return p.get(h);var f,v={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var w;Object.prototype.hasOwnProperty.call(h,f)&&((w=g?Object.getOwnPropertyDescriptor(h,f):null)&&(w.get||w.set)?Object.defineProperty(v,f,w):v[f]=h[f])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants")));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}u.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},u.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},u.default.prototype.buildGeometry=function(h){return this._renderer.buildGeometry(h)},u.default.prototype.freeGeometry=function(h){this._renderer._freeBuffers(h.gid)},u.default.prototype.plane=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=(this._assert3d("plane"),u.default._validateParameters("plane",arguments),"plane|".concat(v,"|").concat(g));return this._renderer.geometryInHash(w)||((h=new u.default.Geometry(v,g,function(){for(var b,_,D=0;D<=this.detailY;D++)for(var C=D/this.detailY,M=0;M<=this.detailX;M++)b=M/this.detailX,_=new u.default.Vector(b-.5,C-.5,0),this.vertices.push(_),this.uvs.push(b,C)})).computeFaces().computeNormals(),v<=1&&g<=1?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(w,h)),this._renderer.drawBuffersScaled(w,p,f,1),this},u.default.prototype.box=function(h,p,f,v,g){this._assert3d("box"),u.default._validateParameters("box",arguments),h===void 0&&(h=50),p===void 0&&(p=h),f===void 0&&(f=p);var w,b=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,b=(g===void 0&&(g=b?1:4),"box|".concat(v=v===void 0?b?1:4:v,"|").concat(g));return this._renderer.geometryInHash(b)||((w=new u.default.Geometry(v,g,function(){var _=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(D,C){for(var C=4*C,M=0;M<4;M++){var E=D[M],E=new u.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);_.vertices.push(E),_.uvs.push(1&M,(2&M)/2)}_.faces.push([C,1+C,2+C]),_.faces.push([2+C,1+C,3+C])})})).computeNormals(),v<=4&&g<=4?w._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,w)),this._renderer.drawBuffersScaled(b,h,p,f),this},u.default.prototype.sphere=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),u.default._validateParameters("sphere",arguments),this.ellipsoid(h,h,h,p,f),this};function y(h,p,f,v,g,w,b){h=h<=0?1:h,p=p<0?0:p,f=f<=0?h:f,v=v<3?3:v;for(var _,D,C=(w=w===void 0||w)?-2:0,M=(g=g<1?1:g)+((b=b===void 0?p!==0:b)?2:0),E=Math.atan2(h-p,f),S=Math.sin(E),O=Math.cos(E),j=C;j<=M;++j){var F=j/g,I=f*F,L=void 0,L=j<0?(F=I=0,h):g<j?(I=f,F=1,p):h+(p-h)*F;for(j!==-2&&j!==g+2||(L=0),I-=f/2,_=0;_<v;++_){var B=_/(v-1),q=2*Math.PI*B,k=Math.sin(q),q=Math.cos(q),G=(this.vertices.push(new u.default.Vector(k*L,I,q*L)),void 0),G=j<0?new u.default.Vector(0,-1,0):g<j&&p?new u.default.Vector(0,1,0):new u.default.Vector(k*O,S,q*O);this.vertexNormals.push(G),this.uvs.push(B,F)}}var V=0;if(w){for(D=0;D<v;++D)this.faces.push([V+D,V+v+(D+1)%v,V+v+D]);V+=2*v}for(j=0;j<g;++j){for(_=0;_<v;++_){var W=(_+1)%v;this.faces.push([V+_,V+W,V+v+W]),this.faces.push([V+_,V+v+W,V+v+_])}V+=v}if(b)for(V+=v,_=0;_<v;++_)this.faces.push([V+_,V+(_+1)%v,V+v])}u.default.prototype.cylinder=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],_=(this._assert3d("cylinder"),u.default._validateParameters("cylinder",arguments),"cylinder|".concat(v,"|").concat(g,"|").concat(w,"|").concat(b));return this._renderer.geometryInHash(_)||(h=new u.default.Geometry(v,g),y.call(h,1,1,1,v,g,w,b),v<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,h)),this._renderer.drawBuffersScaled(_,p,f,p),this},u.default.prototype.cone=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,w=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=(this._assert3d("cone"),u.default._validateParameters("cone",arguments),"cone|".concat(v,"|").concat(g,"|").concat(w));return this._renderer.geometryInHash(b)||(h=new u.default.Geometry(v,g),y.call(h,1,0,1,v,g,w,!1),v<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,p,f,p),this},u.default.prototype.ellipsoid=function(){var h,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:p,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,w=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,b=(this._assert3d("ellipsoid"),u.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(w));return this._renderer.geometryInHash(b)||((h=new u.default.Geometry(g,w,function(){for(var _=0;_<=this.detailY;_++)for(var D=_/this.detailY,C=Math.PI*D-Math.PI/2,M=Math.cos(C),E=Math.sin(C),S=0;S<=this.detailX;S++){var O=S/this.detailX,F=2*Math.PI*O,j=Math.cos(F),F=Math.sin(F),F=new u.default.Vector(M*F,E,M*j);this.vertices.push(F),this.vertexNormals.push(F),this.uvs.push(O,D)}})).computeFaces(),g<=24&&w<=24?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,p,f,v),this},u.default.prototype.torus=function(h,b,f,v){if(this._assert3d("torus"),u.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(b===void 0)b=10;else if(!b)return;f===void 0&&(f=24),v===void 0&&(v=16);var g,w=(b/h).toPrecision(4),b="torus|".concat(w,"|").concat(f,"|").concat(v);return this._renderer.geometryInHash(b)||((g=new u.default.Geometry(f,v,function(){for(var _=0;_<=this.detailY;_++)for(var D=_/this.detailY,C=2*Math.PI*D,M=Math.cos(C),E=Math.sin(C),S=1+w*M,O=0;O<=this.detailX;O++){var j=O/this.detailX,F=2*Math.PI*j,L=Math.cos(F),F=Math.sin(F),I=new u.default.Vector(S*L,S*F,w*E),L=new u.default.Vector(M*L,M*F,E);this.vertices.push(I),this.vertexNormals.push(L),this.uvs.push(j,D)}})).computeFaces(),f<=24&&v<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,g)),this._renderer.drawBuffersScaled(b,h,h,h),this},u.default.RendererGL.prototype.point=function(h,p){var f=[];return f.push(new u.default.Vector(h,p,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},u.default.RendererGL.prototype.triangle=function(b){var p=b[0],f=b[1],v=b[2],g=b[3],w=b[4],b=b[5],_=(this.geometryInHash("tri")||((_=new u.default.Geometry(1,1,function(){var M=[];M.push(new u.default.Vector(0,0,0)),M.push(new u.default.Vector(1,0,0)),M.push(new u.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uModelMatrix.copy());try{var D=Math.sign(p*g-v*f+v*b-w*g+w*f-p*b),C=new u.default.Matrix([v-p,g-f,0,0,w-p,b-f,0,0,0,0,D,0,p,f,0,1]).mult(this.uModelMatrix);this.uModelMatrix=C,this.drawBuffers("tri")}finally{this.uModelMatrix=_}return this},u.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,c.TWO_PI,c.OPEN,h[4])},u.default.RendererGL.prototype.arc=function(){var h,p=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],v=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],w=arguments.length<=4?void 0:arguments[4],b=arguments.length<=5?void 0:arguments[5],_=arguments.length<=6?void 0:arguments[6],D=(arguments.length<=7?void 0:arguments[7])||25,C=(Math.abs(b-w)>=c.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(w,"|").concat(b,"|").concat(_,"|")).concat(D,"|"),M=(this.geometryInHash(C)||((h=new u.default.Geometry(D,1,function(){if(w.toFixed(10)!==b.toFixed(10)){_!==c.PIE&&_!==void 0||(this.vertices.push(new u.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=D;E++){var O=(b-w)*(E/D)+w,S=.5+Math.cos(O)/2,O=.5+Math.sin(O)/2;this.vertices.push(new u.default.Vector(S,O,0)),this.uvs.push([S,O]),E<D-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(_){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),D<=50?h._edgesToVertices(h):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(C,h)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(v,g,1),this.drawBuffers(C)}finally{this.uModelMatrix=M}return this},u.default.RendererGL.prototype.rect=function(h){var p=h[0],f=h[1],v=h[2],g=h[3];if(h[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,w=h[4]||(_?1:24),b=h[5]||(_?1:16),_="rect|".concat(w,"|").concat(b),D=(this.geometryInHash(_)||((D=new u.default.Geometry(w,b,function(){for(var G=0;G<=this.detailY;G++)for(var V=G/this.detailY,W=0;W<=this.detailX;W++){var Q=W/this.detailX,ue=new u.default.Vector(Q,V,0);this.vertices.push(ue),this.uvs.push(Q,V)}0<w&&0<b&&(this.edges=[[0,w],[w,(w+1)*(b+1)-1],[(w+1)*(b+1)-1,(w+1)*b],[(w+1)*b,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,D)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(v,g,1),this.drawBuffers(_)}finally{this.uModelMatrix=D}}else{var _=h[4],D=h[5]===void 0?_:h[5],C=h[6]===void 0?D:h[6],h=h[7]===void 0?C:h[7],F=v,M=g,O=((F+=p)<p&&(O=p,p=F,F=O),(M+=f)<f&&(O=f,f=M,M=O),Math.min((F-p)/2,(M-f)/2)),E=(O<_&&(_=O),O<D&&(D=O),O<C&&(C=O),O<h&&(h=O),p),S=f,O=F,p=M,j=(this.beginShape(),D!==0?(this.vertex(O-D,S),this.quadraticVertex(O,S,O,S+D)):this.vertex(O,S),C!==0?(this.vertex(O,p-C),this.quadraticVertex(O,p,O-C,p)):this.vertex(O,p),h!==0?(this.vertex(E+h,p),this.quadraticVertex(E,p,E,p-h)):this.vertex(E,p),_!==0?(this.vertex(E,S+_),this.quadraticVertex(E,S,E+_,S)):this.vertex(E,S),!(this.immediateMode.geometry.uvs.length=0)),f=!1,F=void 0;try{for(var I,L=this.immediateMode.geometry.vertices[Symbol.iterator]();!(j=(I=L.next()).done);j=!0){var B=I.value,k=(B.x-E)/v,q=(B.y-S)/g;this.immediateMode.geometry.uvs.push(k,q)}}catch(P){f=!0,F=P}finally{try{j||L.return==null||L.return()}finally{if(f)throw F}}this.endShape(c.CLOSE)}return this},u.default.RendererGL.prototype.quad=function(h,p,f,v,g,w,b,_,D,C,M,E){var S=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,O=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,j="quad|".concat(h,"|").concat(p,"|").concat(f,"|").concat(v,"|").concat(g,"|").concat(w,"|").concat(b,"|").concat(_,"|").concat(D,"|").concat(C,"|").concat(M,"|").concat(E,"|").concat(S,"|").concat(O);if(!this.geometryInHash(j)){var F=new u.default.Geometry(S,O,function(){for(var W=1/(this.detailX-1),Q=1/(this.detailY-1),ue=0;ue<this.detailY;ue++)for(var P=0;P<this.detailX;P++){var A=P*W,U=ue*Q;this.vertices.push(new u.default.Vector((1-A)*((1-U)*h+U*C)+A*((1-U)*v+U*b),(1-A)*((1-U)*p+U*M)+A*((1-U)*g+U*_),(1-A)*((1-U)*f+U*E)+A*((1-U)*w+U*D))),this.uvs.push([A,U])}});F.faces=[];for(var I=0;I<O-1;I++)for(var L=0;L<S-1;L++){var B=L+I*S,k=L+1+(I+1)*S,q=L+(I+1)*S;F.faces.push([B,L+1+I*S,k]),F.faces.push([B,k,q])}F.computeNormals();for(var G=[F.edges.length=0,2,3,1],V=0;V<G.length;V++)F.edges.push([G[V],G[(V+1)%G.length]]);F._edgesToVertices(),this.createBuffers(j,F)}return this.drawBuffers(j),this},u.default.RendererGL.prototype.bezier=function(h,p,f,v,g,w,b,_,D,C,M,E){arguments.length===8&&(M=_,C=b,_=w,b=g,g=v,v=f,f=w=D=E=0);var S=this._pInst._bezierDetail||20;this.beginShape();for(var O=0;O<=S;O++){var j=Math.pow(1-O/S,3),F=O/S*3*Math.pow(1-O/S,2),I=3*Math.pow(O/S,2)*(1-O/S),L=Math.pow(O/S,3);this.vertex(h*j+v*F+b*I+C*L,p*j+g*F+_*I+M*L,f*j+w*F+D*I+E*L)}return this.endShape(),this},u.default.RendererGL.prototype.curve=function(h,p,f,v,g,w,b,_,D,C,M,E){arguments.length===8&&(C=b,M=_,b=g,_=v,g=v=f,f=w=D=E=0);var S=this._pInst._curveDetail;this.beginShape();for(var O=0;O<=S;O++){var j=.5*Math.pow(O/S,3),F=.5*Math.pow(O/S,2),I=O/S*.5;this.vertex(j*(3*v-h-3*b+C)+F*(2*h-5*v+4*b-C)+I*(-h+b)+2*v*.5,j*(3*g-p-3*_+M)+F*(2*p-5*g+4*_-M)+I*(-p+_)+2*g*.5,j*(3*w-f-3*D+E)+F*(2*f-5*w+4*D-E)+I*(-f+D)+2*w*.5)}return this.endShape(),this},u.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},u.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableBezier[S]=this._bezierCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableBezier[S]=this._bezierCoefficients(w);break}M+=C,E-=C,++S}}for(var O=this._lookUpTableBezier.length,j=[],F=0;F<4;F++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[3]=this.curFillColor.slice();var I=[];for(F=0;F<4;F++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[3]=this.curStrokeColor.slice(),D===6){this.isBezier=!0;var b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],L=Math.hypot(b[0]-b[1],_[0]-_[1]),k=Math.hypot(b[1]-b[2],_[1]-_[2]),B=Math.hypot(b[2]-b[3],_[2]-_[3]),k=L+k+B;for(L/=k,B/=k,g=0;g<4;g++)j[1].push(j[0][g]*(1-L)+j[3][g]*L),j[2].push(j[0][g]*B+j[3][g]*(1-B)),I[1].push(I[0][g]*(1-L)+I[3][g]*L),I[2].push(I[0][g]*B+I[3][g]*(1-B));for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[v][F]*j[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[v][F]*I[F][g];h+=b[F]*this._lookUpTableBezier[v][F],p+=_[F]*this._lookUpTableBezier[v][F]}this.vertex(h,p)}this.curFillColor=j[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(D===9){this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],G=Math.hypot(b[0]-b[1],_[0]-_[1],q[0]-q[1]),k=Math.hypot(b[1]-b[2],_[1]-_[2],q[1]-q[2]),V=Math.hypot(b[2]-b[3],_[2]-_[3],q[2]-q[3]),D=G+k+V;for(G/=D,V/=D,g=0;g<4;g++)j[1].push(j[0][g]*(1-G)+j[3][g]*G),j[2].push(j[0][g]*V+j[3][g]*(1-V)),I[1].push(I[0][g]*(1-G)+I[3][g]*G),I[2].push(I[0][g]*V+I[3][g]*(1-V));for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=f=0;F<4;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[v][F]*j[F][g],this.curStrokeColor[g]+=this._lookUpTableBezier[v][F]*I[F][g];h+=b[F]*this._lookUpTableBezier[v][F],p+=_[F]*this._lookUpTableBezier[v][F],f+=q[F]*this._lookUpTableBezier[v][F]}this.vertex(h,p,f)}this.curFillColor=j[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},u.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[S]=this._quadraticCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableQuadratic[S]=this._quadraticCoefficients(w);break}M+=C,E-=C,++S}}for(var O=this._lookUpTableQuadratic.length,j=[],F=0;F<3;F++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[2]=this.curFillColor.slice();var I=[];for(F=0;F<3;F++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[2]=this.curStrokeColor.slice(),D===4){this.isQuadratic=!0;var b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],L=Math.hypot(b[0]-b[1],_[0]-_[1]);for(L/=L+Math.hypot(b[1]-b[2],_[1]-_[2]),g=0;g<4;g++)j[1].push(j[0][g]*(1-L)+j[2][g]*L),I[1].push(I[0][g]*(1-L)+I[2][g]*L);for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[v][F]*j[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[v][F]*I[F][g];h+=b[F]*this._lookUpTableQuadratic[v][F],p+=_[F]*this._lookUpTableQuadratic[v][F]}this.vertex(h,p)}this.curFillColor=j[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(D===6){this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var B=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],k=Math.hypot(b[0]-b[1],_[0]-_[1],B[0]-B[1]);for(k/=k+Math.hypot(b[1]-b[2],_[1]-_[2],B[1]-B[2]),g=0;g<4;g++)j[1].push(j[0][g]*(1-k)+j[2][g]*k),I[1].push(I[0][g]*(1-k)+I[2][g]*k);for(v=0;v<O;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=h=p=f=0;F<3;F++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[v][F]*j[F][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[v][F]*I[F][g];h+=b[F]*this._lookUpTableQuadratic[v][F],p+=_[F]*this._lookUpTableQuadratic[v][F],f+=B[F]*this._lookUpTableQuadratic[v][F]}this.vertex(h,p,f)}this.curFillColor=j[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},u.default.RendererGL.prototype.curveVertex=function(){var h,p,f,v,g,w,b=[],_=[],D=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,M=0,E=1,S=0;M<1;){if(w=parseFloat(M.toFixed(6)),this._lookUpTableBezier[S]=this._bezierCoefficients(w),E.toFixed(6)===C.toFixed(6)){w=parseFloat(E.toFixed(6))+parseFloat(M.toFixed(6)),++S,this._lookUpTableBezier[S]=this._bezierCoefficients(w);break}M+=C,E-=C,++S}}var O=this._lookUpTableBezier.length;if(D===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<O;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],this.vertex(p,f);for(g=0;g<D;g++)this.immediateMode._curveVertex.shift()}}else if(D===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<O;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],v=h[0]*this._lookUpTableBezier[g][0]+h[1]*this._lookUpTableBezier[g][1]+h[2]*this._lookUpTableBezier[g][2]+h[3]*this._lookUpTableBezier[g][3],this.vertex(p,f,v);for(g=0;g<D;g++)this.immediateMode._curveVertex.shift()}},u.default.RendererGL.prototype.image=function(h,E,f,S,g,w,b,_,D){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(c.NORMAL);var C=0,M=(E<=h.width&&(C=E/h.width),1),E=(E+S<=h.width&&(M=(E+S)/h.width),0),S=(f<=h.height&&(E=f/h.height),1);f+g<=h.height&&(S=(f+g)/h.height),this.beginShape(),this.vertex(w,b,0,C,E),this.vertex(w+_,b,0,M,E),this.vertex(w+_,b+D,0,M,S),this.vertex(w,b+D,0,C,S),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var d=u.default;s.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function l(p){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function y(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(p,f){for(var v=0;v<f.length;v++){var g=f[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}var h=function(){function p(w){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");(this.renderer=w)._pInst.push(),this.identityMatrix=new u.default.Matrix,w.uModelMatrix=new u.default.Matrix,this.geometry=new u.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(p.nextGeometryId),p.nextGeometryId++,this.hasTransform=!1}var f,v,g;return f=p,(v=[{key:"transformVertices",value:function(w){var b=this;return this.hasTransform?w.map(function(_){return b.renderer.uModelMatrix.multiplyPoint(_)}):w}},{key:"transformNormals",value:function(w){var b=this;return this.hasTransform?w.map(function(_){return b.renderer.uNMatrix.multiplyVec3(_)}):w}},{key:"addGeometry",value:function(w){for(var b,_=this,D=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(M,E){return M===_.identityMatrix.mat4[E]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),C=((b=this.geometry.vertices).push.apply(b,y(this.transformVertices(w.vertices))),(b=this.geometry.vertexNormals).push.apply(b,y(this.transformNormals(w.vertexNormals))),(b=this.geometry.uvs).push.apply(b,y(w.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,y(w.faces.map(function(M){return M.map(function(E){return E+D})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,y(w.edges.map(function(M){return M.map(function(E){return E+D})}))),y(w.vertexColors));C.length<4*w.vertices.length;)C.push.apply(C,y(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,y(C))}},{key:"addImmediate",value:function(){var w=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,_=[];if(this.renderer._doFill)if(b===c.TRIANGLE_STRIP||b===c.QUAD_STRIP)for(var D=2;D<w.vertices.length;D++)D%2==0?_.push([D,D-1,D-2]):_.push([D,D-2,D-1]);else if(b===c.TRIANGLE_FAN)for(var C=2;C<w.vertices.length;C++)_.push([0,C-1,C]);else for(var M=0;M<w.vertices.length;M+=3)_.push([M,M+1,M+2]);this.addGeometry(Object.assign({},w,{faces:_}))}},{key:"addRetained",value:function(w){this.addGeometry(w.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&d(f.prototype,v),g&&d(f,g),p}();h.nextGeometryId=0,s.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=function(d){if(d&&d.__esModule)return d;if(d===null||m(d)!=="object"&&typeof d!="function")return{default:d};var h=c();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function c(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,c=function(){return d},d)}function m(d){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}l.default.prototype.orbitControl=function(d,h,p,D){var v=this,g=(this._assert3d("orbitControl"),l.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);d===void 0&&(d=1),h===void 0&&(h=d),p===void 0&&(p=1),m(D)!=="object"&&(D={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var M=D.disableTouchActions;this.touchActionsDisabled===!0||M!==void 0&&!M||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var w,b,_,M=D.freeRotation,D=M!==void 0&&M,C=[],M=(this.touches.forEach(function(L){v._renderer.prevTouches.forEach(function(B){L.id===B.id&&(B={x:L.x,y:L.y,px:B.x,py:B.y},C.push(B))})}),this._renderer.prevTouches=this.touches,0),E=0,S=0,O=0,j=0,F=this.height<this.width?this.height:this.width,I=!1;return 0<C.length?(I=0<C[0].x&&C[0].x<this.width&&0<C[0].y&&C[0].y<this.height,C.length===1?(E=-d*((w=C[0]).x-w.px)/F,S=h*(w.y-w.py)/F):(w=C[0],b=C[1],M=-(Math.hypot(w.x-b.x,w.y-b.y)-Math.hypot(w.px-b.px,w.py-b.py))*p*4e-4,O=.5*(w.x+b.x)-.5*(w.px+b.px),j=.5*(w.y+b.y)-.5*(w.py+b.py)),0<this.touches.length?I&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(I=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(M=Math.sign(this._mouseWheelDeltaY)*p,M*=.01,this._mouseWheelDeltaY=0,I&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-d*this.movedX/F,S=h*this.movedY/F):this.mouseButton===this.RIGHT&&(O=this.movedX,j=this.movedY*g.yScale),I&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),M!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=M),.001<Math.abs(this._renderer.zoomVelocity)?(D?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&S===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*S),1e-6<this._renderer.rotateVelocity.magSq()?(D?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),O===0&&j===0||!this._renderer.executeRotateAndMove||(w=2*O/this.width,b=2*-j/this.height,this._renderer.moveVelocity.add(.15*w,.15*b)),1e-6<this._renderer.moveVelocity.magSq()?(p=g._getLocalAxes(),d=g.eyeX-g.centerX,h=g.eyeY-g.centerY,F=g.eyeZ-g.centerZ,I=Math.sqrt(d*d+h*h+F*F),M=new l.default.Vector(g.centerX,g.centerY,g.centerZ),M=g.cameraMatrix.multiplyPoint(M),(M=this._renderer.uPMatrix.multiplyAndNormalizePoint(M)).x-=this._renderer.moveVelocity.x,M.y-=this._renderer.moveVelocity.y,S=(E=this._renderer.uPMatrix.mat4)[15]===0?(_=(E[8]+M.x)/E[0]*I,(E[9]+M.y)/E[5]*I):(_=(M.x-E[12])/E[0],(M.y-E[13])/E[5]),g.setPosition(g.eyeX+_*p.x[0]+S*p.y[0],g.eyeY+_*p.x[1]+S*p.y[1],g.eyeZ+_*p.x[2]+S*p.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},l.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];l.default._validateParameters("debugMode",h);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);h[0]===u.GRID?this.registerMethod("post",this._grid(h[1],h[2],h[3],h[4],h[5])):h[0]===u.AXES?this.registerMethod("post",this._axesIcon(h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid(h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon(h[5],h[6],h[7],h[8])))},l.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)},l.default.prototype._grid=function(d,h,p,f,v){d===void 0&&(d=this.width/2),h===void 0&&(h=Math.round(d/30)<4?4:Math.round(d/30)),p===void 0&&(p=0),f===void 0&&(f=0),v===void 0&&(v=0);var g=d/h,w=d/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var b=0;b<=h;b++)this.beginShape(this.LINES),this.vertex(-w+p,f,b*g-w+v),this.vertex(w+p,f,b*g-w+v),this.endShape();for(var _=0;_<=h;_++)this.beginShape(this.LINES),this.vertex(_*g-w+p,f,-w+v),this.vertex(_*g-w+p,f,w+v),this.endShape();this.pop()}},l.default.prototype._axesIcon=function(d,h,p,f){return d===void 0&&(d=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),p===void 0&&(p=h),f===void 0&&(f=h),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h+d,p,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h,p+d,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,p,f),this.vertex(h,p,f+d),this.endShape(),this.pop()}};var y=l.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,i,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.ambientLight=function(l,u,c,m){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(l,u,c){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},a.default.prototype.directionalLight=function(l,v,f,m,y,d){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),l=l instanceof a.default.Color?l:this.color(l,v,f);var h,p,v=arguments[arguments.length-1],f=typeof v=="number"?(h=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(h=v.x,p=v.y,v.z),v=Math.sqrt(h*h+p*p+f*f);return this._renderer.directionalLightDirections.push(h/v,p/v,f/v),this._renderer.directionalLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(l,f,v,m,y,d){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),l=l instanceof a.default.Color?l:this.color(l,f,v);var h,p,f=arguments[arguments.length-1],v=typeof f=="number"?(h=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(h=f.x,p=f.y,f.z);return this._renderer.pointLightPositions.push(h,p,v),this._renderer.pointLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(l){this._renderer.activeImageLight=l,this._renderer._enableLighting=!0},a.default.prototype.panorama=function(l){this.filter(this._renderer._getSphereMapping(l))},a.default.prototype.lights=function(){this._assert3d("lights");var l=this.color("rgb(128,128,128)");return this.ambientLight(l),this.directionalLight(l,0,0,-1),this},a.default.prototype.lightFalloff=function(l,u,c){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),l<0&&(l=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),l===0&&u===0&&c===0&&(l=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=l,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=c,this},a.default.prototype.spotLight=function(l,u,c,m,y,d,h,p,f,v,g){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var w,b,_,D=arguments.length;switch(D){case 11:case 10:w=this.color(l,u,c),b=new a.default.Vector(m,y,d),_=new a.default.Vector(h,p,f);break;case 9:l instanceof a.default.Color?(w=l,b=new a.default.Vector(u,c,m),_=new a.default.Vector(y,d,h),v=p,g=f):m instanceof a.default.Vector?(w=this.color(l,u,c),b=m,_=new a.default.Vector(y,d,h),v=p,g=f):h instanceof a.default.Vector?(w=this.color(l,u,c),b=new a.default.Vector(m,y,d),_=h,v=p,g=f):(w=this.color(l,u,c),b=new a.default.Vector(m,y,d),_=new a.default.Vector(h,p,f));break;case 8:v=(_=l instanceof a.default.Color?(w=l,b=new a.default.Vector(u,c,m),new a.default.Vector(y,d,h)):m instanceof a.default.Vector?(w=this.color(l,u,c),b=m,new a.default.Vector(y,d,h)):(w=this.color(l,u,c),b=new a.default.Vector(m,y,d),h),p);break;case 7:l instanceof a.default.Color&&u instanceof a.default.Vector?(w=l,b=u,_=new a.default.Vector(c,m,y),v=d,g=h):l instanceof a.default.Color&&y instanceof a.default.Vector?(w=l,b=new a.default.Vector(u,c,m),_=y,v=d,g=h):m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(l,u,c),b=m,_=y,v=d,g=h):_=l instanceof a.default.Color?(w=l,b=new a.default.Vector(u,c,m),new a.default.Vector(y,d,h)):m instanceof a.default.Vector?(w=this.color(l,u,c),b=m,new a.default.Vector(y,d,h)):(w=this.color(l,u,c),b=new a.default.Vector(m,y,d),h);break;case 6:m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(l,u,c),b=m,_=y,v=d):l instanceof a.default.Color&&y instanceof a.default.Vector?(w=l,b=new a.default.Vector(u,c,m),_=y,v=d):l instanceof a.default.Color&&u instanceof a.default.Vector&&(w=l,b=u,_=new a.default.Vector(c,m,y),v=d);break;case 5:l instanceof a.default.Color&&u instanceof a.default.Vector&&c instanceof a.default.Vector?(w=l,b=u,_=c,v=m,g=y):m instanceof a.default.Vector&&y instanceof a.default.Vector?(w=this.color(l,u,c),b=m,_=y):l instanceof a.default.Color&&y instanceof a.default.Vector?(w=l,b=new a.default.Vector(u,c,m),_=y):l instanceof a.default.Color&&u instanceof a.default.Vector&&(w=l,b=u,_=new a.default.Vector(c,m,y));break;case 4:w=l,b=u,_=c,v=m;break;case 3:w=l,b=u,_=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(b.x,b.y,b.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),v===void 0&&(v=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),v=this._renderer._pInst._toRadians(v),this._renderer.spotLightAngle.push(Math.cos(v)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.default._validateParameters("noLights",u),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,i,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var l=(d=t("../core/main"))&&d.__esModule?d:{default:d};function u(h){return function(p){if(Array.isArray(p)){for(var f=0,v=new Array(p.length);f<p.length;f++)v[f]=p[f];return v}}(h)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(h,p,f,v,g,w,b){try{var _=h[w](b),D=_.value}catch(C){return void f(C)}_.done?p(D):Promise.resolve(D).then(v,g)}function m(h){return function(){var p=this,f=arguments;return new Promise(function(v,g){var w=h.apply(p,f);function b(D){c(w,v,g,b,_,"next",D)}function _(D){c(w,v,g,b,_,"throw",D)}b(void 0)})}}function y(h){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(h)}t("./p5.Geometry"),l.default.prototype.loadModel=function(h,p){l.default._validateParameters("loadModel",arguments);var f,v,g=!1,w=!1,b=!1,_=h.slice(-4),D=(p&&y(p)==="object"?(g=p.normalize||!1,f=p.successCallback,v=p.failureCallback,_=p.fileType||_,w=p.flipU||!1,b=p.flipV||!1):typeof p=="boolean"?(g=p,f=arguments[2],v=arguments[3],arguments[4]!==void 0&&(_=arguments[4])):(f=typeof p=="function"?p:void 0,v=arguments[2],arguments[3]!==void 0&&(_=arguments[3])),new l.default.Geometry),C=(D.gid="".concat(h,"|").concat(g),this);function M(){return(M=m(regeneratorRuntime.mark(function S(O){var j,F,I,L;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:for(j=[],F=0;F<O.length;F++)(I=O[F].match(/^mtllib (.+)/))&&function(){var k="",q=I[1],G=h.split("/");k=1<G.length?(G.pop(),G.join("/")+"/"+q):q,j.push(function(){return E.apply(this,arguments)}(k).then(function(V){return V?(W=C,Q=k,new Promise(function(ue,P){var A=null,U={};W.loadStrings(Q,function(H){for(var K=0;K<H.length;++K){var re,ie=H[K].trim().split(/\s+/);ie[0]==="newmtl"?(re=ie[1],U[A=re]={}):ie[0]==="Kd"?U[A].diffuseColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="Ka"?U[A].ambientColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="Ks"?U[A].specularColor=[parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])]:ie[0]==="map_Kd"&&(U[A].texturePath=ie[1])}ue(U)},P)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(k)),{});var W,Q}).catch(function(V){return console.warn("Error loading MTL file: ".concat(k),V),{}}))}();return B.prev=2,B.next=5,Promise.all(j);case 5:return L=B.sent,L=Object.assign.apply(Object,[{}].concat(u(L))),B.abrupt("return",L);case 10:return B.prev=10,B.t0=B.catch(2),B.abrupt("return",{});case 13:case"end":return B.stop()}},S,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark(function S(O){var j;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,fetch(O,{method:"HEAD"});case 3:return j=F.sent,F.abrupt("return",j.ok);case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",!1);case 10:case"end":return F.stop()}},S,null,[[0,7]])}))).apply(this,arguments)}return _.match(/\.stl$/i)?this.httpDo(h,"GET","arrayBuffer",function(S){(function(O,j){if(function(F){for(var I=new DataView(F),L=[115,111,108,105,100],B=0;B<5;B++)if(function(k,q,G){for(var V=0,W=k.length;V<W;V++)if(k[V]!==q.getUint8(G+V,!1))return;return 1}(L,I,B))return;return 1}(j))(function(F,I){for(var L,B,k,q,G,V,W,Q=new DataView(I),ue=Q.getUint32(80,!0),P=!1,A=0;A<70;A++)Q.getUint32(A,!1)===1129270351&&Q.getUint8(A+4)===82&&Q.getUint8(A+5)===61&&(P=!0,q=[],G=Q.getUint8(A+6)/255,V=Q.getUint8(A+7)/255,W=Q.getUint8(A+8)/255);for(var U=0;U<ue;U++){for(var H,K=84+50*U,re=Q.getFloat32(K,!0),ie=Q.getFloat32(4+K,!0),ce=Q.getFloat32(8+K,!0),se=(P&&(H=Q.getUint16(48+K,!0),k=32768&H?(L=G,B=V,W):(L=(31&H)/31,B=(H>>5&31)/31,(H>>10&31)/31)),new l.default.Vector(re,ie,ce)),he=1;he<=3;he++){var le=K+12*he,le=new l.default.Vector(Q.getFloat32(le,!0),Q.getFloat32(4+le,!0),Q.getFloat32(8+le,!0));F.vertices.push(le),F.vertexNormals.push(se),P&&q.push(L,B,k)}F.faces.push([3*U,3*U+1,3*U+2]),F.uvs.push([0,0],[0,0],[0,0])}})(O,j);else{if(j=new DataView(j),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");j=new TextDecoder("utf-8").decode(j).split(`
`),function(F,I){for(var L,B,k="",q=[],G=0;G<I.length;++G){for(var V=I[G].trim(),W=V.split(" "),Q=0;Q<W.length;++Q)W[Q]===""&&W.splice(Q,1);if(W.length!==0)switch(k){case"":if(W[0]!=="solid")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "solid"'));k="solid";break;case"solid":if(W[0]!=="facet"||W[1]!=="normal")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "facet normal"'));L=new l.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),F.vertexNormals.push(L,L,L),k="facet normal";break;case"facet normal":if(W[0]!=="outer"||W[1]!=="loop")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "outer loop"'));k="vertex";break;case"vertex":if(W[0]==="vertex")B=new l.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])),F.vertices.push(B),F.uvs.push([0,0]),q.push(F.vertices.indexOf(B));else{if(W[0]!=="endloop")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "vertex" or "endloop"'));F.faces.push(q),q=[],k="endloop"}break;case"endloop":if(W[0]!=="endfacet")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "endfacet"'));k="endfacet";break;case"endfacet":if(W[0]!=="endsolid"){if(W[0]!=="facet"||W[1]!=="normal")return console.error(V),console.error('Invalid state "'.concat(W[0],'", should be "endsolid" or "facet normal"'));L=new l.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),F.vertexNormals.push(L,L,L),k="facet normal"}break;default:console.error('Invalid state "'.concat(k,'"'))}}}(O,j)}})(D,S),g&&D.normalize(),w&&D.flipU(),b&&D.flipV(),C._decrementPreload(),typeof f=="function"&&f(D)},v):_.match(/\.obj$/i)?this.loadStrings(h,function(){var S=m(regeneratorRuntime.mark(function O(j){var F;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,function(){return M.apply(this,arguments)}(j);case 3:F=I.sent,function(L,B){for(var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},q={v:[],vt:[],vn:[]},G={},V=null,W=new Set,Q=!1,ue=!1,P=0;P<B.length;++P){var A=B[P].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="usemtl")V=A[1];else if(A[0]==="v"||A[0]==="vn"){var U=new l.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));q[A[0]].push(U)}else if(A[0]==="vt")U=[parseFloat(A[1]),1-parseFloat(A[2])],q[A[0]].push(U);else if(A[0]==="f")for(var H=3;H<A.length;++H){for(var K=[],re=[1,H-1,H],ie=0;ie<re.length;++ie){for(var ce,se=A[re[ie]],he=se.split("/"),le=0;le<he.length;le++)he[le]=parseInt(he[le])-1;G[se]||(G[se]={}),G[se][V]===void 0?(ce=L.vertices.length,L.vertices.push(q.v[he[0]].copy()),L.uvs.push(q.vt[he[1]]?q.vt[he[1]].slice():[0,0]),L.vertexNormals.push(q.vn[he[2]]?q.vn[he[2]].copy():new l.default.Vector),G[se][V]=ce,K.push(ce),V&&k[V]&&k[V].diffuseColor&&W.add(q.v[he[0]])):K.push(G[se][V])}if(K[0]!==K[1]&&K[0]!==K[2]&&K[1]!==K[2])if(L.faces.push(K),V&&k[V]&&k[V].diffuseColor){Q=Q=!0;for(var te=k[V].diffuseColor,pe=0;pe<K.length;pe++)L.vertexColors.push(te[0]),L.vertexColors.push(te[1]),L.vertexColors.push(te[2])}else ue=!0}}}if(L.vertexNormals.length===0&&L.computeNormals(),Q===ue)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(D,j,F),I.next=11;break;case 7:return I.prev=7,I.t0=I.catch(0),v?v(I.t0):l.default._friendlyError("Error during parsing: "+I.t0.message),I.abrupt("return");case 11:return I.prev=11,g&&D.normalize(),w&&D.flipU(),b&&D.flipV(),C._decrementPreload(),typeof f=="function"&&f(D),I.finish(11);case 18:case"end":return I.stop()}},O,null,[[0,7,11,18]])}));return function(O){return S.apply(this,arguments)}}(),v):(l.default._friendlyFileLoadError(3,h),v?v():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),D},l.default.prototype.model=function(h){this._assert3d("model"),l.default._validateParameters("model",arguments),0<h.vertices.length&&(this._renderer.geometryInHash(h.gid)||(h.edges.length===0&&h._makeTriangleEdges(),h._edgesToVertices(),this._renderer.createBuffers(h.gid,h)),this._renderer.drawBuffers(h.gid))};var d=l.default;s.default=d},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}t("./p5.Texture"),u.default.prototype.loadShader=function(d,h,p,f){u.default._validateParameters("loadShader",arguments),f=f||console.error;function v(){w._decrementPreload(),p&&p(g)}var g=new u.default.Shader,w=this,b=!1,_=!1;return this.loadStrings(d,function(D){g._vertSrc=D.join(`
`),_=!0,b&&v()},f),this.loadStrings(h,function(D){g._fragSrc=D.join(`
`),b=!0,_&&v()},f),g},u.default.prototype.createShader=function(d,h){return u.default._validateParameters("createShader",arguments),new u.default.Shader(this._renderer,d,h)},u.default.prototype.createFilterShader=function(d){u.default._validateParameters("createFilterShader",arguments);var h=d.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,h=new u.default.Shader(this._renderer,h,d);return this._renderer.GL?h.ensureCompiledOnContext(this):h.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),h},u.default.prototype.shader=function(d){return this._assert3d("shader"),u.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),this},u.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},u.default.prototype.texture=function(d){return this._assert3d("texture"),u.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.textureMode=function(d){d!==c.IMAGE&&d!==c.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=d},u.default.prototype.textureWrap=function(d){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,p=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=h,!0),f=!1,v=void 0;try{for(var g,w=this._renderer.textures.values()[Symbol.iterator]();!(p=(g=w.next()).done);p=!0)g.value.setWrapMode(d,h)}catch(b){f=!0,v=b}finally{try{p||w.return==null||w.return()}finally{if(f)throw v}}},u.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u.default._validateParameters("normalMaterial",h),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},u.default.prototype.ambientMaterial=function(d,h,p){this._assert3d("ambientMaterial"),u.default._validateParameters("ambientMaterial",arguments);var f=u.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.emissiveMaterial=function(d,h,p,f){this._assert3d("emissiveMaterial"),u.default._validateParameters("emissiveMaterial",arguments);var v=u.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=v._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.specularMaterial=function(d,h,p,f){this._assert3d("specularMaterial"),u.default._validateParameters("specularMaterial",arguments);var v=u.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=v._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.shininess=function(d){return this._assert3d("shininess"),u.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=d<1?1:d,this},u.default.prototype.metalness=function(d){return this._assert3d("metalness"),d=1-Math.exp(-d/100),this._renderer._useMetalness=d,this},u.default.RendererGL.prototype._applyColorBlend=function(d,v){var p=this.GL,f=this.drawMode===c.TEXTURE,v=v||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==c.BLEND||d[d.length-1]<1||this._isErasing;return v!==this._isBlending&&(v||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?p.enable(p.BLEND):p.disable(p.BLEND),p.depthMask(!0),this._isBlending=v),this._applyBlendMode(),d},u.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case c.BLEND:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.ADD:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE);break;case c.REMOVE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case c.REPLACE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO);break;case c.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=u.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,i,s){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(u,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}a.default.prototype.camera=function(){var u;this._assert3d("camera");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("camera",m),(u=this._renderer._curCamera).camera.apply(u,m),this},a.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("perspective",m),(u=this._renderer._curCamera).perspective.apply(u,m),this},a.default.prototype.linePerspective=function(u){if(a.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof a.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(u===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=u},a.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("ortho",m),(u=this._renderer._curCamera).ortho.apply(u,m),this},a.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return a.default._validateParameters("frustum",m),(u=this._renderer._curCamera).frustum.apply(u,m),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new a.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},a.default.Camera=function(){function u(d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=d,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var c,m,y;return c=u,(m=[{key:"perspective",value:function(v,h,p,f){this.cameraType=0<arguments.length?"custom":"default",v===void 0?(v=this.defaultCameraFOV,this.cameraFOV=v):this.cameraFOV=this._renderer._pInst._toRadians(v),h===void 0&&(h=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=p,this.cameraFar=f,this.projMatrix=a.default.Matrix.identity();var v=1/Math.tan(this.cameraFOV/2),g=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(v/h,0,0,0,0,-v*this.yScale,0,0,0,0,(f+p)*g,-1,0,0,2*f*p*g,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(E,M,p,f,v,g){var S=this.fbo||this._renderer,S=(E===void 0&&(E=-S.width/2),M===void 0&&(M=+S.width/2),p===void 0&&(p=-S.height/2),f===void 0&&(f=+S.height/2),v===void 0&&(v=0),g===void 0&&(g=Math.max(S.width,S.height)+800),this.cameraNear=v,M-E),w=f-p,b=(this.cameraFar=g)-v,_=2/S,D=2/w*this.yScale,C=-2/b,M=-(M+E)/S,E=-(f+p)/w,S=-(g+v)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-D,0,0,0,0,C,0,M,E,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(E,M,p,f,v,g){E===void 0&&(E=.05*-this._renderer.width),M===void 0&&(M=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),v===void 0&&(v=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),this.cameraNear=v;var S=M-E,w=f-p,b=(this.cameraFar=g)-v,_=2*v/S,D=2*v/w*this.yScale,C=-2*g*v/b,M=(M+E)/S,E=(f+p)/w,S=-(g+v)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-D,0,0,M,E,S,-1,0,0,C,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(_,h,p,f){var v=this.centerX,g=this.centerY,w=this.centerZ,b=(v-=this.eyeX,g-=this.eyeY,w-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),_=(b.rotate(this._renderer._pInst._toRadians(_),h,p,f),[v*b.mat4[0]+g*b.mat4[4]+w*b.mat4[8],v*b.mat4[1]+g*b.mat4[5]+w*b.mat4[9],v*b.mat4[2]+g*b.mat4[6]+w*b.mat4[10]]);_[0]+=this.eyeX,_[1]+=this.eyeY,_[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,_[0],_[1],_[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(p){var h=this._getLocalAxes(),p=a.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(p),h.z[0],h.z[1],h.z[2]).rotateVector(new a.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"pan",value:function(d){var h=this._getLocalAxes();this._rotateView(d,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(d){var h=this._getLocalAxes();this._rotateView(d,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(d,h,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,h,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(d,h,p,f,v,g,w,b,_){return d===void 0&&(d=this.defaultEyeX,h=this.defaultEyeY,p=this.defaultEyeZ,f=d,v=h,b=1,_=w=g=0),this.eyeX=d,this.eyeY=h,this.eyeZ=p,f!==void 0&&(this.centerX=f,this.centerY=v,this.centerZ=g),w!==void 0&&(this.upX=w,this.upY=b,this.upZ=_),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),v=-d,this.cameraMatrix.translate([v,-h,-p]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(f,v,p){var g=this._getLocalAxes(),f=[g.x[0]*f,g.x[1]*f,g.x[2]*f],v=[g.y[0]*v,g.y[1]*v,g.y[2]*v],g=[g.z[0]*p,g.z[1]*p,g.z[2]*p];this.camera(this.eyeX+f[0]+v[0]+g[0],this.eyeY+f[1]+v[1]+g[1],this.eyeZ+f[2]+v[2]+g[2],this.centerX+f[0]+v[0]+g[0],this.centerY+f[1]+v[1]+g[1],this.centerZ+f[2]+v[2]+g[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(d,h,p){var f=d-this.eyeX,v=h-this.eyeY,g=p-this.eyeZ;this.camera(d,h,p,this.centerX+f,this.centerY+v,this.centerZ+g,this.upX,this.upY,this.upZ)}},{key:"set",value:function(d){for(var h=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];h<p.length;h++){var f=p[h];this[f]=d[f]}this.cameraMatrix=d.cameraMatrix.copy(),this.projMatrix=d.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(d,h,p){var f,v,g,w,b,_,D,C,M,E,S,O,j,F,I,L,B,k;p===0?this.set(d):p===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=d.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/d.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=d.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/d.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),w=new a.default.Vector(d.eyeX,d.eyeY,d.eyeZ),b=new a.default.Vector(h.eyeX,h.eyeY,h.eyeZ),L=new a.default.Vector(d.centerX,d.centerY,d.centerZ),k=new a.default.Vector(h.centerX,h.centerY,h.centerZ),g=a.default.Vector.dist(w,L),f=a.default.Vector.dist(b,k),f=g*Math.pow(f/g,p),g=a.default.Vector.sub(w,b),v=1,1e-6<(B=(F=w.copy().sub(b).sub(L).add(k)).magSq())&&(v=a.default.Vector.dot(g,F)/B,v=Math.max(0,Math.min(v,1))),g=a.default.Vector.lerp(a.default.Vector.lerp(w,L,v),a.default.Vector.lerp(b,k,v),p),F=d.cameraMatrix.createSubMatrix3x3(),B=h.cameraMatrix.createSubMatrix3x3(),w=F.row(2),L=B.row(2),b=F.row(1),k=B.row(1),d=new a.default.Vector,h=new a.default.Vector,_=new a.default.Vector,D=new a.default.Vector,1-(C=.5*((F=(B=B.mult3x3(F.copy().transpose3x3())).diagonal())[0]+F[1]+F[2]-1))<1e-7?(d.set(a.default.Vector.lerp(w,L,p)).normalize(),_.set(d).mult(v*f).add(g),D.set(d).mult((v-1)*f).add(g),h.set(a.default.Vector.lerp(b,k,p)).normalize()):(L=1/(1-C),k=Math.max(F[0],F[1],F[2]),O=B.mat3[1]+B.mat3[3],j=B.mat3[2]+B.mat3[6],I=B.mat3[5]+B.mat3[7],k=k===F[0]?(E=.5*O*(L/=M=Math.sqrt((F[0]-C)*L)),S=.5*j*L,.5*(B.mat3[7]-B.mat3[5])/M):k===F[1]?(S=.5*I*(L/=E=Math.sqrt((F[1]-C)*L)),M=.5*O*L,.5*(B.mat3[2]-B.mat3[6])/E):(M=.5*j*(L/=S=Math.sqrt((F[2]-C)*L)),E=.5*I*L,.5*(B.mat3[3]-B.mat3[1])/S),O=p*Math.atan2(k,C),j=Math.cos(O),F=Math.sin(O),(k=new a.default.Matrix("mat3",[j+(I=1-j)*M*M,I*(L=M*E)+F*S,I*(B=S*M)-F*E,I*L-F*S,j+I*E*E,I*(p=E*S)+F*M,I*B+F*E,I*p-F*M,j+I*S*S])).multiplyVec3(w,d),_.set(d).mult(v*f).add(g),D.set(d).mult((v-1)*f).add(g),k.multiplyVec3(b,h)),this.camera(_.x,_.y,_.z,D.x,D.y,D.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var d=new a.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.upX=this.upX,d.upY=this.upY,d.upZ=this.upZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d.yScale=this.yScale,d}},{key:"_getLocalAxes",value:function(){var d=this.eyeX-this.centerX,h=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,w=Math.sqrt(d*d+h*h+p*p),w=(w!==0&&(d/=w,h/=w,p/=w),this.upX),f=(b=this.upY)*p-(_=this.upZ)*h,v=-w*p+_*d,g=w*h-b*d,w=h*g-p*v,b=-d*g+p*f,_=d*v-h*f,D=Math.sqrt(f*f+v*v+g*g),D=(D!==0&&(f/=D,v/=D,g/=D),Math.sqrt(w*w+b*b+_*_));return D!==0&&(w/=D,b/=D,_/=D),{x:[f,v,g],y:[w,b,_],z:[d,h,p]}}},{key:"_orbit",value:function(d,D,_){var v=this.eyeX-this.centerX,g=this.eyeY-this.centerY,w=this.eyeZ-this.centerZ,f=Math.hypot(v,g,w),v=new a.default.Vector(v,g,w).normalize(),g=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),w=a.default.Vector.cross(g,v).normalize(),b=a.default.Vector.cross(w,g),_=((f=(f*=Math.pow(10,_))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(v,g))))+D),D=d;(_<=0||_>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),g.mult(Math.cos(_)),b.mult(Math.cos(D)*Math.sin(_)),w.mult(Math.sin(D)*Math.sin(_)),v.set(g).add(b).add(w),this.eyeX=f*v.x+this.centerX,this.eyeY=f*v.y+this.centerY,this.eyeZ=f*v.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(_,D,M){var v=this.eyeX-this.centerX,g=this.eyeY-this.centerY,w=this.eyeZ-this.centerZ,f=Math.hypot(v,g,w),v=new a.default.Vector(v,g,w).normalize(),g=new a.default.Vector(this.upX,this.upY,this.upZ),w=a.default.Vector.cross(g,v).normalize(),b=a.default.Vector.cross(v,w),E=Math.atan2(D,_),E=(b.mult(Math.sin(E)),w.mult(Math.cos(E)).add(b),Math.sqrt(_*_+D*D)),b=a.default.Vector.cross(v,w),_=((f=(f*=Math.pow(10,M))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(E)),D=Math.sin(E),M=g.dot(v),E=g.dot(w),C=M*_+E*D,M=-M*D+E*_,E=g.dot(b);g.x=C*v.x+M*w.x+E*b.x,g.y=C*v.y+M*w.y+E*b.y,g.z=C*v.z+M*w.z+E*b.z,w.mult(-D),v.mult(_).add(w).mult(f),this.camera(v.x+this.centerX,v.y+this.centerY,v.z+this.centerZ,this.centerX,this.centerY,this.centerZ,g.x,g.y,g.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&l(c.prototype,m),y&&l(c,y),u}(),a.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix),this._renderer.uViewMatrix.set(u.cameraMatrix)},t=a.default.Camera,s.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,i,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(l,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.DataArray=function(){function l(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,d=this,h=l;if(!(d instanceof h))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(y),this.initialLength=y}var u,c,m;return u=l,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var y;this.length<this.data.length/2&&(y=1<<Math.ceil(Math.log2(this.length)),(y=new Float32Array(y)).set(this.data.subarray(0,this.length),0),this.data=y)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];this.ensureLength(this.length+d.length),this.data.set(d,this.length),this.length+=d.length}},{key:"slice",value:function(y,d){return this.data.slice(y,Math.min(d,this.length))}},{key:"subArray",value:function(y,d){return this.data.subarray(y,Math.min(d,this.length))}},{key:"ensureLength",value:function(y){for(;this.data.length<y;){var d=new Float32Array(2*this.data.length);d.set(this.data,0),this.data=d}}}])&&a(u.prototype,c),m&&a(u,m),l}(),t=t.default.DataArray,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(S,i,s){"use strict";function a(O){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(O)}function l(O){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(j){return a(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":a(j)})(O)}S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.get-own-property-descriptor"),S("core-js/modules/es.object.get-prototype-of"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.reflect.construct"),S("core-js/modules/es.reflect.get"),S("core-js/modules/es.regexp.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint8-clamped-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.weak-map"),S("core-js/modules/web.dom-collections.iterator"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.get-prototype-of"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint8-clamped-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(E=S("../core/main"))&&E.__esModule?E:{default:E},c=function(O){if(O&&O.__esModule)return O;if(O===null||l(O)!=="object"&&typeof O!="function")return{default:O};var j=d();if(j&&j.has(O))return j.get(O);var F,I={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in O){var B;Object.prototype.hasOwnProperty.call(O,F)&&((B=L?Object.getOwnPropertyDescriptor(O,F):null)&&(B.get||B.set)?Object.defineProperty(I,F,B):I[F]=O[F])}return I.default=O,j&&j.set(O,I),I}(S("../core/constants")),m=S("./p5.Texture"),y=S("./p5.RendererGL");function d(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,d=function(){return O},O)}function h(O,j){return function(F){if(Array.isArray(F))return F}(O)||function(F,I){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]"){var L=[],B=!0,k=!1,q=void 0;try{for(var G,V=F[Symbol.iterator]();!(B=(G=V.next()).done)&&(L.push(G.value),!I||L.length!==I);B=!0);}catch(W){k=!0,q=W}finally{try{B||V.return==null||V.return()}finally{if(k)throw q}}return L}}(O,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(O,j,F){return j in O?Object.defineProperty(O,j,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[j]=F,O}function f(O,j){if(!(O instanceof j))throw new TypeError("Cannot call a class as a function")}function v(O,j){for(var F=0;F<j.length;F++){var I=j[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,I.key,I)}}function g(O,j,F){j&&v(O.prototype,j),F&&v(O,F)}function w(O,j,F){return(w=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,L,B){var k=function(q,G){for(;!Object.prototype.hasOwnProperty.call(q,G)&&(q=D(q))!==null;);return q}(k,L);if(k)return(k=Object.getOwnPropertyDescriptor(k,L)).get?k.get.call(B):k.value})(O,j,F||O)}function b(O,j){return(b=Object.setPrototypeOf||function(F,I){return F.__proto__=I,F})(O,j)}function _(O){return function(){var j,F=D(O),F=(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=D(this).constructor,Reflect.construct(F,arguments,j)):F.apply(this,arguments),this);if(!j||l(j)!=="object"&&typeof j!="function"){if(F!==void 0)return F;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(O)}var C=function(O){var j=I;if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(O&&O.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),O&&b(j,O);var F=_(I);function I(L){var B;return f(this,I),(B=F.call(this,L.target._renderer)).fbo=L,B.yScale=-1,B}return g(I,[{key:"_computeCameraDefaultSettings",value:function(){w(D(I.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),I}(u.default.Camera),M=(u.default.FramebufferCamera=C,function(){function O(j,F){f(this,O),this.framebuffer=j,this.property=F}return g(O,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),O}()),E=(u.default.FramebufferTexture=M,function(){function O(j){var F=this,I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},L=(f(this,O),this.target=j,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=I.format||c.UNSIGNED_BYTE,this.channels=I.channels||(j._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=I.depth===void 0||I.depth,this.depthFormat=I.depthFormat||c.FLOAT,this.textureFiltering=I.textureFiltering||c.LINEAR,I.antialias===void 0?this.antialiasSamples=j._renderer._pInst._glAttributes.antialias?2:0:typeof I.antialias=="number"?this.antialiasSamples=I.antialias:this.antialiasSamples=I.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&j.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=I.density||j.pixelDensity(),j._renderer.GL);if(this.gl=L,I.width&&I.height?(B=j._renderer._adjustDimensions(I.width,I.height),this.width=B.adjustedWidth,this.height=B.adjustedHeight,this._autoSized=!1):(I.width===void 0!=(I.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=j.width,this.height=j.height,this._autoSized=!0),this._checkIfFormatsAvailable(),I.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(I.stencil===void 0||I.stencil),this.framebuffer=L.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=L.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var B=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=B,this.draw(function(){return F.target.clear()})}return g(O,[{key:"resize",value:function(j,F){this._autoSized=!1;var I=this.target._renderer._adjustDimensions(j,F);j=I.adjustedWidth,F=I.adjustedHeight,this.width=j,this.height=F,this._handleResize()}},{key:"pixelDensity",value:function(j){if(!j)return this.density;this._autoSized=!1,this.density=j,this._handleResize()}},{key:"autoSized",value:function(j){if(j===void 0)return this._autoSized;this._autoSized=j,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var j=this.gl,j=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!j.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));j.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!j.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),j.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var j=this.gl,F=(this._updateSize(),j.getParameter(j.TEXTURE_BINDING_2D)),I=j.getParameter(j.FRAMEBUFFER_BINDING),L=j.createTexture();if(!L)throw new Error("Unable to create color texture");j.bindTexture(j.TEXTURE_2D,L);var B=this._glColorFormat();if(j.texImage2D(j.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),this.colorTexture=L,j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,L,0),this.useDepth){var L=j.createTexture();if(!L)throw new Error("Unable to create depth texture");var k=this._glDepthFormat();j.bindTexture(j.TEXTURE_2D,L),j.texImage2D(j.TEXTURE_2D,0,k.internalFormat,this.width*this.density,this.height*this.density,0,k.format,k.type,null),j.framebufferTexture2D(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.TEXTURE_2D,L,0),this.depthTexture=L}this.antialias&&(this.colorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.colorRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(k=this._glDepthFormat(),this.depthRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.depthRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),k.internalFormat,this.width*this.density,this.height*this.density)),j.bindFramebuffer(j.FRAMEBUFFER,this.aaFramebuffer),j.framebufferRenderbuffer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&j.framebufferRenderbuffer(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),L=j.NEAREST,this.depthP5Texture=new u.default.Texture(this.target._renderer,this.depth,{minFilter:L,magFilter:L}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),B=this.textureFiltering===c.LINEAR?j.LINEAR:j.NEAREST,this.colorP5Texture=new u.default.Texture(this.target._renderer,this.color,{minFilter:B,magFilter:B}),this.target._renderer.textures.set(this.color,this.colorP5Texture),j.bindTexture(j.TEXTURE_2D,F),j.bindFramebuffer(j.FRAMEBUFFER,I)}},{key:"_glColorFormat",value:function(){var j,F,I=this.gl,L=this.format===c.FLOAT?I.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?I.HALF_FLOAT:I.getExtension("OES_texture_half_float").HALF_FLOAT_OES:I.UNSIGNED_BYTE,B=this.channels===c.RGBA?I.RGBA:I.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(p(F={},I.FLOAT,p({},I.RGBA,I.RGBA32F)),p(F,I.HALF_FLOAT,p({},I.RGBA,I.RGBA16F)),p(F,I.UNSIGNED_BYTE,(p(j={},I.RGBA,I.RGBA8),p(j,I.RGB,I.RGB8),j)),F[L][B]):this.format===c.HALF_FLOAT?I.RGBA:B,format:B,type:L}}},{key:"_glDepthFormat",value:function(){var I=this.gl,j=this.useStencil?this.depthFormat===c.FLOAT?I.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?I.UNSIGNED_INT_24_8:I.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?I.FLOAT:I.UNSIGNED_INT,F=this.useStencil?I.DEPTH_STENCIL:I.DEPTH_COMPONENT,I=this.useStencil?this.depthFormat===c.FLOAT?I.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?I.DEPTH24_STENCIL8:I.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?I.DEPTH_COMPONENT32F:I.DEPTH_COMPONENT24:I.DEPTH_COMPONENT;return{internalFormat:I,format:F,type:j}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var L=this.color,j=this.depth,F=this.colorRenderbuffer,I=this.depthRenderbuffer,L=(this._deleteTexture(L),j&&this._deleteTexture(j),this.gl);F&&L.deleteRenderbuffer(F),I&&L.deleteRenderbuffer(I),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var j=new C(this);return j._computeCameraDefaultSettings(),j._setDefaultCamera(),this.target._renderer._curCamera=j}},{key:"_deleteTexture",value:function(j){this.gl.deleteTexture(j.rawTexture()),this.target._renderer.textures.delete(j)}},{key:"remove",value:function(){var j=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),j.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&j.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&j.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&j.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var j=this.gl,F=(j.bindFramebuffer(j.READ_FRAMEBUFFER,this.aaFramebuffer),j.bindFramebuffer(j.DRAW_FRAMEBUFFER,this.framebuffer),[[j.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&F.push([j.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var I=0,L=F;I<L.length;I++){var k=h(L[I],2),B=k[0],k=k[1];j.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,B,k)}}}},{key:"end",value:function(){var j=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(j.bindFramebuffer(j.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(j){this.begin(),j(),this.end()}},{key:"loadPixels",value:function(){var j=this.gl,F=this.target._renderer.activeFramebuffer(),I=(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,j,this.framebuffer,0,0,this.width*this.density,this.height*this.density,I.format,I.type),F?j.bindFramebuffer(j.FRAMEBUFFER,F._framebufferToBind()):j.bindFramebuffer(j.FRAMEBUFFER,null)}},{key:"get",value:function(j,F,I,L){u.default._validateParameters("p5.Framebuffer.get",arguments);var B=this._glColorFormat();if(j===void 0&&F===void 0)F=j=0,I=this.width,L=this.height;else if(I===void 0&&L===void 0)return(j<0||F<0||j>=this.width||F>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),j=this.target.constrain(j,0,this.width-1),F=this.target.constrain(F,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,j*this.density,F*this.density,B.format,B.type);j=this.target.constrain(j,0,this.width-1),F=this.target.constrain(F,0,this.height-1),I=this.target.constrain(I,1,this.width-j),L=this.target.constrain(L,1,this.height-F);for(var k=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,j*this.density,F*this.density,I*this.density,L*this.density,B.format,B.type),q=new Uint8ClampedArray(I*L*this.density*this.density*4),G=(q.fill(255),B.type===this.gl.RGB?3:4),V=0;V<L*this.density;V++)for(var W=0;W<I*this.density;W++)for(var Q=0;Q<4;Q++){var ue,P=4*(V*I*this.density+W)+Q;Q<G&&(ue=G==4?P:(V*I*this.density+W)*G+Q,q[P]=k[ue])}return j=new u.default.Image(I*this.density,L*this.density),j.imageData=j.canvas.getContext("2d").createImageData(j.width,j.height),j.imageData.data.set(q),j.pixels=j.imageData.data,j.updatePixels(),this.density!==1&&j.resize(I,L),j}},{key:"updatePixels",value:function(){var j=this.gl,F=(this.colorP5Texture.bindTexture(),this._glColorFormat()),I=F.format===j.RGBA?4:3,I=this.width*this.height*this.density*this.density*I,L=F.type===j.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof L)||this.pixels.length!==I)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");j.texImage2D(j.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,this.pixels),this.colorP5Texture.unbindTexture(),L=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),this.end()):(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),L?j.bindFramebuffer(j.FRAMEBUFFER,L._framebufferToBind()):j.bindFramebuffer(j.FRAMEBUFFER,null))}}]),O}()),S=u.default.Framebuffer=E;s.default=S},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,i,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(f)}function l(f){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(p=t("../core/main"))&&p.__esModule?p:{default:p},c=function(f){if(f&&f.__esModule)return f;if(f===null||l(f)!=="object"&&typeof f!="function")return{default:f};var v=m();if(v&&v.has(f))return v.get(f);var g,w={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var _;Object.prototype.hasOwnProperty.call(f,g)&&((_=b?Object.getOwnPropertyDescriptor(f,g):null)&&(_.get||_.set)?Object.defineProperty(w,g,_):w[g]=f[g])}return w.default=f,v&&v.set(f,w),w}(t("../core/constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=function(){return f},f)}function y(f){return function(v){if(Array.isArray(v)){for(var g=0,w=new Array(v.length);g<v.length;g++)w[g]=v[g];return w}}(f)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(f,v){return function(g){if(Array.isArray(g))return g}(f)||function(g,w){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var b=[],_=!0,D=!1,C=void 0;try{for(var M,E=g[Symbol.iterator]();!(_=(M=E.next()).done)&&(b.push(M.value),!w||b.length!==w);_=!0);}catch(S){D=!0,C=S}finally{try{_||E.return==null||E.return()}finally{if(D)throw C}}return b}}(f,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(f,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.default.Geometry=function(){function f(b,_,D){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new u.default.DataArray,this.lineTangentsIn=new u.default.DataArray,this.lineTangentsOut=new u.default.DataArray,this.lineSides=new u.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new u.default.DataArray,this.detailX=b!==void 0?b:1,this.detailY=_!==void 0?_:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,D instanceof Function&&D.call(this)}var v,g,w;return v=f,(g=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var b=new u.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),_=new u.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),D=0;D<this.vertices.length;D++){var C=this.vertices[D];b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),b.z=Math.min(b.z,C.z),_.x=Math.max(_.x,C.x),_.y=Math.max(_.y,C.y),_.z=Math.max(_.z,C.z)}var M=new u.default.Vector(_.x-b.x,_.y-b.y,_.z-b.z),E=new u.default.Vector((b.x+_.x)/2,(b.y+_.y)/2,(b.z+_.z)/2);this.boundingBoxCache={min:b,max:_,size:M,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var b=0;b<this.vertexColors.length;b+=4)if(this.vertexColors[b+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var b=0;b<this.lineVertexColors.length;b+=4)if(this.lineVertexColors[b+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var b=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",D="";if(this.vertices.forEach(function(E){D+="v ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.uvs&&0<this.uvs.length)for(var C=0;C<this.uvs.length;C+=2)D+="vt ".concat(this.uvs[C]," ").concat(this.uvs[C+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(E){D+="vn ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.faces.forEach(function(E){var S="f";E.forEach(function(O){S=S+" "+(O+1),(0<b.vertexNormals.length||0<b.uvs.length)&&(S+="/",0<b.uvs.length&&(S+=O+1),S+="/",0<b.vertexNormals.length&&(S+=O+1))}),D+=S+`
`});var M=new Blob([D],{type:"text/plain"});u.default.prototype.downloadFile(M,_,"obj")}},{key:"saveStl",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,_=_!==void 0&&_,D=b.substring(0,b.lastIndexOf(".")),C=[],M=!0,E=!1,S=void 0;try{for(var O,j=this.faces[Symbol.iterator]();!(M=(O=j.next()).done);M=!0){var F=O.value,I=u.default.Vector.sub(this.vertices[F[1]],this.vertices[F[0]]),L=u.default.Vector.sub(this.vertices[F[2]],this.vertices[F[0]]),B=I.y*L.z-I.z*L.y,k=I.z*L.x-I.x*L.z,q=I.x*L.y-I.y*L.x;C.push(new u.default.Vector(B,k,q).normalize())}}catch(_e){E=!0,S=_e}finally{try{M||j.return==null||j.return()}finally{if(E)throw S}}if(_){var G,V=80,E=2*this.faces.length+3*this.faces.length*4*4+80+4,S=new ArrayBuffer(E);(G=new DataView(S)).setUint32(V,this.faces.length,!0),V+=4;for(var W=0,Q=Object.entries(this.faces);W<Q.length;W++){var ue=d(Q[W],2),A=ue[0],ue=ue[1],A=C[A],P=(G.setFloat32(V,A.x,!0),V+=4,G.setFloat32(V,A.y,!0),V+=4,G.setFloat32(V,A.z,!0),V+=4,!0),A=!1,U=void 0;try{for(var H,K=ue[Symbol.iterator]();!(P=(H=K.next()).done);P=!0){var re=H.value,ie=this.vertices[re];G.setFloat32(V,ie.x,!0),V+=4,G.setFloat32(V,ie.y,!0),V+=4,G.setFloat32(V,ie.z,!0),V+=4}}catch(De){A=!0,U=De}finally{try{P||K.return==null||K.return()}finally{if(A)throw U}}G.setUint16(V,0,!0),V+=2}}else{G="solid "+D+`
`;for(var ce=0,se=Object.entries(this.faces);ce<se.length;ce++){var he=d(se[ce],2),te=he[0],he=he[1],te=C[te],le=(G=G+(" facet norm "+te.x+" "+te.y+" "+te.z+`
`)+`  outer loop
`,!0),te=!1,pe=void 0;try{for(var ve,Me=he[Symbol.iterator]();!(le=(ve=Me.next()).done);le=!0){var xe=ve.value,me=this.vertices[xe];G+="   vertex "+me.x+" "+me.y+" "+me.z+`
`}}catch(_e){te=!0,pe=_e}finally{try{le||Me.return==null||Me.return()}finally{if(te)throw pe}}G=G+`  endloop
 endfacet
`}G+="endsolid "+D+`
`}_=new Blob([G],{type:"text/plain"}),u.default.prototype.downloadFile(_,b,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(b,_){return _%2==0?1-b:b})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(b,_){return _%2==0?b:1-b})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var b,_,D,C=this.detailX+1,M=0;M<this.detailY;M++)for(var E=0;E<this.detailX;E++)_=(M+1)*C+E+1,this.faces.push([M*C+E,b=M*C+E+1,D=(M+1)*C+E]),this.faces.push([D,b,_]);return this}},{key:"_getFaceNormal",value:function(_){var _=this.faces[_],D=this.vertices[_[0]],M=this.vertices[_[1]],_=this.vertices[_[2]],M=u.default.Vector.sub(M,D),_=u.default.Vector.sub(_,D),D=u.default.Vector.cross(M,_),C=u.default.Vector.mag(D),M=C/(u.default.Vector.mag(M)*u.default.Vector.mag(_));return M===0||isNaN(M)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),D):(1<M&&(M=1),D.mult(Math.asin(M)/C))}},{key:"computeNormals",value:function(){var b,_=this,D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,C=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,M=this.vertexNormals,E=this.vertices,S=this.faces;if(D===c.SMOOTH){for(var O={},j=[],F=Math.pow(10,C===void 0?3:C),I=function(G){return Math.round(G*F)/F},L=function(G){return"".concat(I(G.x),",").concat(I(G.y),",").concat(I(G.z))},B=0;B<E.length;B++){var k=E[B],q=L(k);O[q]===void 0&&(O[q]=j.length,j.push(k))}S.forEach(function(G){for(var V=0;V<3;++V){var W=G[V],W=E[W],W=L(W);G[V]=O[W]}}),this.edges.forEach(function(G){for(var V=0;V<2;++V){var W=G[V],W=E[W],W=L(W);G[V]=O[W]}}),this.vertices=E=j}for(b=M.length=0;b<E.length;++b)M.push(new u.default.Vector);for(S.forEach(function(G,V){for(var W=_._getFaceNormal(V),Q=0;Q<3;++Q){var ue=G[Q];M[ue].add(W)}}),b=0;b<E.length;++b)M[b].normalize();return this}},{key:"averageNormals",value:function(){for(var b=0;b<=this.detailY;b++){var _=this.detailX+1,D=u.default.Vector.add(this.vertexNormals[b*_],this.vertexNormals[b*_+this.detailX]),D=u.default.Vector.div(D,2);this.vertexNormals[b*_]=D,this.vertexNormals[b*_+this.detailX]=D}return this}},{key:"averagePoleNormals",value:function(){for(var b=new u.default.Vector(0,0,0),_=0;_<this.detailX;_++)b.add(this.vertexNormals[_]);for(var b=u.default.Vector.div(b,this.detailX),D=0;D<this.detailX;D++)this.vertexNormals[D]=b;b=new u.default.Vector(0,0,0);for(var C=this.vertices.length-1;C>this.vertices.length-1-this.detailX;C--)b.add(this.vertexNormals[C]);b=u.default.Vector.div(b,this.detailX);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)this.vertexNormals[M]=b;return this}},{key:"_makeTriangleEdges",value:function(){for(var b=this.edges.length=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var b,_=new Map,D=new Set,C=0;C<this.edges.length;C++){var M,E=this.edges[C-1],S=this.edges[C],O=this.vertices[S[0]],j=this.vertices[S[1]],F=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[0],4*(S[0]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],L=j.copy().sub(O).normalize(),B=0<L.magSq();B&&this._addSegment(O,j,F,I,L),0<C&&E[1]===S[0]?D.has(S[0])||(D.add(S[0]),_.delete(S[0]),b&&B&&L.dot(b)<1-1e-8&&this._addJoin(O,b,L,F)):(B&&!D.has(S[0])&&((M=_.get(S[0]))?(this._addJoin(O,M.dir,L,F),_.delete(S[0]),D.add(S[0])):_.set(S[0],{point:O,dir:L.copy().mult(-1),color:F})),b&&!D.has(E[1])&&((M=_.get(E[1]))?(this._addJoin(this.vertices[E[1]],b,M.dir.copy().mult(-1),F),_.delete(E[1]),D.add(E[1])):_.set(E[1],{point:this.vertices[E[1]],dir:b,color:F}),b=void 0)),C!==this.edges.length-1||D.has(S[1])||((O=_.get(S[1]))?(this._addJoin(j,L,O.dir.copy().mult(-1),I),_.delete(S[1]),D.add(S[1])):_.set(S[1],{point:j,dir:L,color:I})),B&&(b=L)}var k=!0,q=!1,G=void 0;try{for(var V,W=_.values()[Symbol.iterator]();!(k=(V=W.next()).done);k=!0){var Q=V.value,ue=Q.point,P=Q.dir,A=Q.color;this._addCap(ue,P,A)}}catch(U){q=!0,G=U}finally{try{k||W.return==null||W.return()}finally{if(q)throw G}}return this}},{key:"_addSegment",value:function(E,S,D,C,M){var E=E.array(),S=S.array(),O=M.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var j=0,F=[this.lineTangentsIn,this.lineTangentsOut];j<F.length;j++)for(var I=F[j],L=0;L<6;L++)I.push.apply(I,y(O));return(M=this.lineVertices).push.apply(M,y(E).concat(y(S),y(E),y(S),y(S),y(E))),(M=this.lineVertexColors).push.apply(M,y(D).concat(y(C),y(D),y(C),y(C),y(D))),this}},{key:"_addCap",value:function(b,_,D){for(var C,M=b.array(),E=_.array(),S=[0,0,0],O=0;O<6;O++)(C=this.lineVertices).push.apply(C,y(M)),(C=this.lineTangentsIn).push.apply(C,y(E)),(C=this.lineTangentsOut).push.apply(C,S),(C=this.lineVertexColors).push.apply(C,y(D));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(b,_,D,C){for(var M,E=b.array(),S=_.array(),O=D.array(),j=0;j<12;j++)(M=this.lineVertices).push.apply(M,y(E)),(M=this.lineTangentsIn).push.apply(M,y(S)),(M=this.lineTangentsOut).push.apply(M,y(O)),(M=this.lineVertexColors).push.apply(M,y(C));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),_=this.vertices[0].copy(),D=0;D<this.vertices.length;D++)b.x=Math.max(b.x,this.vertices[D].x),_.x=Math.min(_.x,this.vertices[D].x),b.y=Math.max(b.y,this.vertices[D].y),_.y=Math.min(_.y,this.vertices[D].y),b.z=Math.max(b.z,this.vertices[D].z),_.z=Math.min(_.z,this.vertices[D].z);for(var C=u.default.Vector.lerp(b,_,.5),M=u.default.Vector.sub(b,_),E=200/Math.max(Math.max(M.x,M.y),M.z),S=0;S<this.vertices.length;S++)this.vertices[S].sub(C),this.vertices[S].mult(E)}return this}}])&&h(v.prototype,g),w&&h(v,w),f}();var p=u.default.Geometry;s.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(m,i,s){"use strict";m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(m=m("../core/main"))&&m.__esModule?m:{default:m};function l(y,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}var u=Array,c=function(y){return Array.isArray(y)},m=(typeof Float32Array<"u"&&(u=Float32Array,c=function(y){return Array.isArray(y)||y instanceof Float32Array}),a.default.Matrix=function(){function y(){var f=this,v=y;if(f instanceof v)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof a.default&&(this.p5=(v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var d,h,p;return d=y,p=[{key:"identity",value:function(f){return new a.default.Matrix(f)}}],(h=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(f){var v=arguments;if(f instanceof a.default.Matrix?v=f.mat4:c(f)&&(v=f),v.length!==16)a.default._friendlyError("Expected 16 values but received ".concat(v.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=v[g];return this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var v,g,w,b,_,D;return f instanceof a.default.Matrix?(v=f.mat4[1],g=f.mat4[2],w=f.mat4[3],b=f.mat4[6],_=f.mat4[7],D=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=v,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=w,this.mat4[13]=_,this.mat4[14]=D,this.mat4[15]=f.mat4[15]):c(f)&&(v=f[1],g=f[2],w=f[3],b=f[6],_=f[7],D=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=v,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=w,this.mat4[13]=_,this.mat4[14]=D,this.mat4[15]=f[15]),this}},{key:"invert",value:function(k){k instanceof a.default.Matrix?(v=k.mat4[0],g=k.mat4[1],w=k.mat4[2],b=k.mat4[3],_=k.mat4[4],D=k.mat4[5],C=k.mat4[6],M=k.mat4[7],E=k.mat4[8],S=k.mat4[9],O=k.mat4[10],j=k.mat4[11],F=k.mat4[12],I=k.mat4[13],L=k.mat4[14],B=k.mat4[15]):c(k)&&(v=k[0],g=k[1],w=k[2],b=k[3],_=k[4],D=k[5],C=k[6],M=k[7],E=k[8],S=k[9],O=k[10],j=k[11],F=k[12],I=k[13],L=k[14],B=k[15]);var v,g,w,b,_,D,C,M,E,S,O,j,F,I,L,B,k=v*D-g*_,q=v*C-w*_,G=v*M-b*_,V=g*C-w*D,W=g*M-b*D,Q=w*M-b*C,ue=E*I-S*F,P=E*L-O*F,A=E*B-j*F,U=S*L-O*I,H=S*B-j*I,K=O*B-j*L,re=k*K-q*H+G*U+V*A-W*P+Q*ue;return re?(this.mat4[0]=(D*K-C*H+M*U)*(re=1/re),this.mat4[1]=(w*H-g*K-b*U)*re,this.mat4[2]=(I*Q-L*W+B*V)*re,this.mat4[3]=(O*W-S*Q-j*V)*re,this.mat4[4]=(C*A-_*K-M*P)*re,this.mat4[5]=(v*K-w*A+b*P)*re,this.mat4[6]=(L*G-F*Q-B*q)*re,this.mat4[7]=(E*Q-O*G+j*q)*re,this.mat4[8]=(_*H-D*A+M*ue)*re,this.mat4[9]=(g*A-v*H-b*ue)*re,this.mat4[10]=(F*W-I*G+B*k)*re,this.mat4[11]=(S*G-E*W-j*k)*re,this.mat4[12]=(D*P-_*U-C*ue)*re,this.mat4[13]=(v*U-g*P+w*ue)*re,this.mat4[14]=(I*q-F*V-L*k)*re,this.mat4[15]=(E*V-S*q+O*k)*re,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],v=this.mat3[1],g=this.mat3[2],w=this.mat3[3],b=this.mat3[4],_=this.mat3[5],D=this.mat3[6],C=this.mat3[7],M=this.mat3[8],E=M*b-_*C,S=-M*w+_*D,O=C*w-b*D,j=f*E+v*S+g*O;return j?(this.mat3[0]=E*(j=1/j),this.mat3[1]=(-M*v+g*C)*j,this.mat3[2]=(_*v-g*b)*j,this.mat3[3]=S*j,this.mat3[4]=(M*f-g*D)*j,this.mat3[5]=(-_*f+g*w)*j,this.mat3[6]=O*j,this.mat3[7]=(-C*f+v*D)*j,this.mat3[8]=(b*f-v*w)*j,this):null}},{key:"transpose3x3",value:function(f){var v=(f=f===void 0?this.mat3:f)[1],g=f[2],w=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=v,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=g,this.mat3[7]=w,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var v=0;v<9;v++)this.mat3[v]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],v=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],w=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],b=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],_=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],D=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],C=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],M=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],S=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-v*S+g*E+w*M-b*C+_*D}},{key:"mult",value:function(g){var v;if(g===this||g===this.mat4)v=this.copy().mat4;else if(g instanceof a.default.Matrix)v=g.mat4;else if(c(g))v=g;else{if(arguments.length!==16)return;v=arguments}var g=this.mat4[0],w=this.mat4[1],b=this.mat4[2],_=this.mat4[3];return this.mat4[0]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[1]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[2]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[3]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[4],w=this.mat4[5],b=this.mat4[6],_=this.mat4[7],this.mat4[4]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[5]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[6]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[7]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[8],w=this.mat4[9],b=this.mat4[10],_=this.mat4[11],this.mat4[8]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[9]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[10]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[11]=g*v[3]+w*v[7]+b*v[11]+_*v[15],g=this.mat4[12],w=this.mat4[13],b=this.mat4[14],_=this.mat4[15],this.mat4[12]=g*v[0]+w*v[4]+b*v[8]+_*v[12],this.mat4[13]=g*v[1]+w*v[5]+b*v[9]+_*v[13],this.mat4[14]=g*v[2]+w*v[6]+b*v[10]+_*v[14],this.mat4[15]=g*v[3]+w*v[7]+b*v[11]+_*v[15],this}},{key:"apply",value:function(g){var v;if(g===this||g===this.mat4)v=this.copy().mat4;else if(g instanceof a.default.Matrix)v=g.mat4;else if(c(g))v=g;else{if(arguments.length!==16)return;v=arguments}var g=this.mat4,w=g[0],b=g[4],_=g[8],D=g[12],w=(g[0]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[4]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[8]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[12]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[1]),b=g[5],_=g[9],D=g[13],w=(g[1]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[5]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[9]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[13]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[2]),b=g[6],_=g[10],D=g[14],w=(g[2]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[6]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[10]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[14]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,g[3]),b=g[7],_=g[11],D=g[15];return g[3]=v[0]*w+v[1]*b+v[2]*_+v[3]*D,g[7]=v[4]*w+v[5]*b+v[6]*_+v[7]*D,g[11]=v[8]*w+v[9]*b+v[10]*_+v[11]*D,g[15]=v[12]*w+v[13]*b+v[14]*_+v[15]*D,this}},{key:"scale",value:function(f,v,g){return f instanceof a.default.Vector?(v=f.y,g=f.z,f=f.x):f instanceof Array&&(v=f[1],g=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=v,this.mat4[5]*=v,this.mat4[6]*=v,this.mat4[7]*=v,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(k,H,U,w){H instanceof a.default.Vector?(U=H.y,w=H.z,H=H.x):H instanceof Array&&(U=H[1],w=H[2],H=H[0]);var b=Math.sqrt(H*H+U*U+w*w),b=(H*=1/b,U*=1/b,w*=1/b,this.mat4[0]),_=this.mat4[1],D=this.mat4[2],C=this.mat4[3],M=this.mat4[4],E=this.mat4[5],S=this.mat4[6],O=this.mat4[7],j=this.mat4[8],F=this.mat4[9],I=this.mat4[10],L=this.mat4[11],B=Math.sin(k),k=Math.cos(k),q=1-k,G=H*H*q+k,V=U*H*q+w*B,W=w*H*q-U*B,Q=H*U*q-w*B,ue=U*U*q+k,P=w*U*q+H*B,A=H*w*q+U*B,U=U*w*q-H*B,H=w*w*q+k;return this.mat4[0]=b*G+M*V+j*W,this.mat4[1]=_*G+E*V+F*W,this.mat4[2]=D*G+S*V+I*W,this.mat4[3]=C*G+O*V+L*W,this.mat4[4]=b*Q+M*ue+j*P,this.mat4[5]=_*Q+E*ue+F*P,this.mat4[6]=D*Q+S*ue+I*P,this.mat4[7]=C*Q+O*ue+L*P,this.mat4[8]=b*A+M*U+j*H,this.mat4[9]=_*A+E*U+F*H,this.mat4[10]=D*A+S*U+I*H,this.mat4[11]=C*A+O*U+L*H,this}},{key:"translate",value:function(w){var v=w[0],g=w[1],w=w[2]||0;this.mat4[12]+=this.mat4[0]*v+this.mat4[4]*g+this.mat4[8]*w,this.mat4[13]+=this.mat4[1]*v+this.mat4[5]*g+this.mat4[9]*w,this.mat4[14]+=this.mat4[2]*v+this.mat4[6]*g+this.mat4[10]*w,this.mat4[15]+=this.mat4[3]*v+this.mat4[7]*g+this.mat4[11]*w}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(b,v,g,w){var b=1/Math.tan(b/2),_=1/(g-w);return this.mat4[0]=b/v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(w+g)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*w*g*_,this.mat4[15]=0,this}},{key:"ortho",value:function(f,v,g,w,b,_){var D=1/(f-v),C=1/(g-w),M=1/(b-_);return this.mat4[0]=-2*D,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*C,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*M,this.mat4[11]=0,this.mat4[12]=(f+v)*D,this.mat4[13]=(w+g)*C,this.mat4[14]=(_+b)*M,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,v,g,w){var b=new Array(4),_=this.mat4;return b[0]=_[0]*f+_[4]*v+_[8]*g+_[12]*w,b[1]=_[1]*f+_[5]*v+_[9]*g+_[13]*w,b[2]=_[2]*f+_[6]*v+_[10]*g+_[14]*w,b[3]=_[3]*f+_[7]*v+_[11]*g+_[15]*w,b}},{key:"multiplyPoint",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,1);return new a.default.Vector(w[0],w[1],w[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,1);return w[0]/=w[3],w[1]/=w[3],w[2]/=w[3],new a.default.Vector(w[0],w[1],w[2])}},{key:"multiplyDirection",value:function(g){var w=g.x,v=g.y,g=g.z,w=this.multiplyVec4(w,v,g,0);return new a.default.Vector(w[0],w[1],w[2])}},{key:"mult3x3",value:function(g){var v;if(g===this||g===this.mat3)v=this.copy().mat3;else if(g instanceof a.default.Matrix)v=g.mat3;else if(c(g))v=g;else{if(arguments.length!==9)return;v=arguments}var g=this.mat3[0],w=this.mat3[1],b=this.mat3[2];return this.mat3[0]=g*v[0]+w*v[3]+b*v[6],this.mat3[1]=g*v[1]+w*v[4]+b*v[7],this.mat3[2]=g*v[2]+w*v[5]+b*v[8],g=this.mat3[3],w=this.mat3[4],b=this.mat3[5],this.mat3[3]=g*v[0]+w*v[3]+b*v[6],this.mat3[4]=g*v[1]+w*v[4]+b*v[7],this.mat3[5]=g*v[2]+w*v[5]+b*v[8],g=this.mat3[6],w=this.mat3[7],b=this.mat3[8],this.mat3[6]=g*v[0]+w*v[3]+b*v[6],this.mat3[7]=g*v[1]+w*v[4]+b*v[7],this.mat3[8]=g*v[2]+w*v[5]+b*v[8],this}},{key:"column",value:function(f){return new a.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new a.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,v){return(v=v===void 0?f.copy():v).x=this.row(0).dot(f),v.y=this.row(1).dot(f),v.z=this.row(2).dot(f),v}},{key:"createSubMatrix3x3",value:function(){var f=new a.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&l(d.prototype,h),p&&l(d,p),y}(),a.default.Matrix);s.default=m},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,i,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(u,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}a.default.Quat=function(){function u(d,h,p,f){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.w=d,this.vec=new a.default.Vector(h,p,f)}var c,m,y;return c=u,y=[{key:"fromAxisAngle",value:function(d,g,p,f){var v=Math.cos(d/2),g=new a.default.Vector(g,p,f).normalize().mult(Math.sin(d/2));return new a.default.Quat(v,g.x,g.y,g.z)}}],(m=[{key:"conjugate",value:function(){return new a.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(d){return new a.default.Quat(this.w*d.w-this.vec.x*d.vec.x-this.vec.y*d.vec.y-this.vec.z-d.vec.z,this.w*d.vec.x+this.vec.x*d.w+this.vec.y*d.vec.z-this.vec.z*d.vec.y,this.w*d.vec.y-this.vec.x*d.vec.z+this.vec.y*d.w+this.vec.z*d.vec.x,this.w*d.vec.z+this.vec.x*d.vec.y-this.vec.y*d.vec.x+this.vec.z*d.w)}},{key:"rotateVector",value:function(d){return new a.default.Vector.mult(d,this.w*this.w-this.vec.dot(this.vec)).add(a.default.Vector.mult(this.vec,2*d.dot(this.vec))).add(a.default.Vector.mult(this.vec,2*this.w).cross(d)).clampToZero()}},{key:"rotateBy",value:function(d){return d.multiply(this).multiply(d.conjugate()).vec.clampToZero()}}])&&l(c.prototype,m),y&&l(c,y),u}(),t=a.default.Quat,s.default=t},{"../core/main":283}],338:[function(t,i,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(l,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.RenderBuffer=function(){function l(y,d,h,p,f,v){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.size=y,this.src=d,this.dst=h,this.attr=p,this._renderer=f,this.map=v}var u,c,m;return u=l,(c=[{key:"_prepareBuffer",value:function(y,d){var h,p,f,w=d.attributes,v=this._renderer.GL,g=y.model||y,w=w[this.attr];w&&(h=y[this.dst],0<(p=g[this.src]).length?((f=!h)&&(y[this.dst]=h=v.createBuffer()),v.bindBuffer(v.ARRAY_BUFFER,h),!f&&g.dirtyFlags[this.src]===!1||(f=(y=this.map)?y(p):p,this._renderer._bindBuffer(h,v.ARRAY_BUFFER,f),g.dirtyFlags[this.src]=!1),d.enableAttrib(w,this.size)):(y=w.location)!==-1&&this._renderer.registerEnabled.has(y)&&(v.disableVertexAttribArray(y),this._renderer.registerEnabled.delete(y)))}}])&&a(u.prototype,c),m&&a(u,m),l}(),t=t.default.RenderBuffer,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,i,s){"use strict";function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function l(p){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var v,g={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=w?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=p[v])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function y(p){return function(f){if(Array.isArray(f)){for(var v=0,g=new Array(f.length);v<f.length;v++)g[v]=f[v];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),u.default.RendererGL.prototype.beginShape=function(p){return this.immediateMode.shapeMode=p!==void 0?p:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(u.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},u.default.RendererGL.prototype.vertex=function(p,f){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var v in d){var g=d[v],v=this.immediateMode.geometry[v];v.push.apply(v,y(v.slice(v.length-3*g,v.length-2*g)).concat(y(v.slice(v.length-g,v.length))))}var w,b,_=w=b=0,D=(arguments.length===3?_=arguments[2]:arguments.length===4?(w=arguments[2],b=arguments[3]):arguments.length===5&&(_=arguments[2],w=arguments[3],b=arguments[4]),new u.default.Vector(p,f,_)),D=(this.immediateMode.geometry.vertices.push(D),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),D=(this.immediateMode.geometry.vertexColors.push(D[0],D[1],D[2],D[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(D[0],D[1],D[2],D[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(w/=this._tex.width,b/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(w,b),this.immediateMode._bezierVertex[0]=p,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=_,this.immediateMode._quadraticVertex[0]=p,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=_,this},u.default.RendererGL.prototype.normal=function(p,f,v){return p instanceof u.default.Vector?this._currentNormal=p:this._currentNormal=new u.default.Vector(p,f,v),this},u.default.RendererGL.prototype.endShape=function(p,f,v,g,w,b){var _,D=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode,c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),_=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,_=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!_&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(D),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},u.default.RendererGL.prototype._processVertices=function(p){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,p=p===c.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,p),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===c.TESS,p=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||p)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},u.default.RendererGL.prototype._calculateEdges=function(p,f,v){var g=[],w=0,b=this.immediateMode.contourIndices.slice(),_=0;switch(p){case c.TRIANGLE_STRIP:for(w=0;w<f.length-2;w++)g.push([w,w+1]),g.push([w,w+2]);g.push([w,w+1]);break;case c.TRIANGLE_FAN:for(w=1;w<f.length-1;w++)g.push([0,w]),g.push([w,w+1]);g.push([0,f.length-1]);break;case c.TRIANGLES:for(w=0;w<f.length-2;w+=3)g.push([w,w+1]),g.push([w+1,w+2]),g.push([w+2,w]);break;case c.LINES:for(w=0;w<f.length-1;w+=2)g.push([w,w+1]);break;case c.QUADS:for(w=0;w<f.length-5;w+=6)g.push([w,w+1]),g.push([w+1,w+2]),g.push([w+3,w+5]),g.push([w+4,w+5]);break;case c.QUAD_STRIP:for(w=0;w<f.length-2;w+=2)g.push([w,w+1]),g.push([w,w+2]),g.push([w+1,w+3]);g.push([w,w+1]);break;default:for(w=0;w<f.length;w++)w+1<f.length&&w+1!==b[0]?g.push([w,w+1]):((v||_)&&g.push([w,_]),0<b.length&&(_=b.shift()))}return p!==c.TESS&&v&&g.push([f.length-1,0]),g},u.default.RendererGL.prototype._tesselateShape=function(){for(var p=this,f=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),v=0;v<this.immediateMode.geometry.vertices.length;v++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===v&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[v].x,this.immediateMode.geometry.vertices[v].y,this.immediateMode.geometry.vertices[v].z,this.immediateMode.geometry.uvs[2*v],this.immediateMode.geometry.uvs[2*v+1],this.immediateMode.geometry.vertexColors[4*v],this.immediateMode.geometry.vertexColors[4*v+1],this.immediateMode.geometry.vertexColors[4*v+2],this.immediateMode.geometry.vertexColors[4*v+3],this.immediateMode.geometry.vertexNormals[v].x,this.immediateMode.geometry.vertexNormals[v].y,this.immediateMode.geometry.vertexNormals[v].z);for(var g,w=this._triangulate(f),b=this.immediateMode.geometry.vertices,_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),D=0,C=w.length;D<C;D+=u.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,y(w.slice(D+5,D+9))),this.normal.apply(this,y(w.slice(D+9,D+12))),this.vertex.apply(this,y(w.slice(D,D+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(M){return M.map(function(E){if(!g.has(E)){var S=b[E],O=p.immediateMode.geometry.vertices.findIndex(function(q){return S.x===q.x&&S.y===q.y&&S.z===q.z});if(O===-1){for(var j=1/0,F=0,I=0;I<p.immediateMode.geometry.vertices.length;I++){var B=p.immediateMode.geometry.vertices[I],k=S.x-B.x,L=S.y-B.y,B=S.z-B.z,k=k*k+L*L+B*B;k<j&&(j=k,F=I)}O=F}g.set(E,O)}return g.get(E)})})),this.immediateMode.geometry.vertexColors=_},u.default.RendererGL.prototype._drawImmediateFill=function(){var p,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,v=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,p=this._getImmediateFillShader(),this._setFillUniforms(p),!0),w=!1,b=void 0;try{for(var _,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(_=D.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,p)}catch(C){w=!0,b=C}finally{try{g||D.return==null||D.return()}finally{if(w)throw b}}if(p.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)v.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{v.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}p.unbindShader()},u.default.RendererGL.prototype._drawImmediateStroke=function(){var p=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),v=(this._setStrokeUniforms(f),!0),g=!1,w=void 0;try{for(var b,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)b.value._prepareBuffer(this.immediateMode.geometry,f)}catch(D){g=!0,w=D}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),p.drawArrays(p.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},u.default.RendererGL);s.default=h},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,i,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var h=m();if(h&&h.has(d))return h.get(d);var p,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in d){var g;Object.prototype.hasOwnProperty.call(d,p)&&((g=v?Object.getOwnPropertyDescriptor(d,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=d[p])}return f.default=d,h&&h.set(d,f),f}(t("../core/constants")));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}u.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")},u.default.RendererGL.prototype._initBufferDefaults=function(d){var h;return this._freeBuffers(d),1e3<Object.keys(this.retainedMode.geometry).length&&(h=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(h)),this.retainedMode.geometry[d]={}},u.default.RendererGL.prototype._freeBuffers=function(d){var h,p=this.retainedMode.geometry[d];function f(v){var g=!0,w=!1,b=void 0;try{for(var _,D=v[Symbol.iterator]();!(g=(_=D.next()).done);g=!0){var C=_.value;p[C.dst]&&(h.deleteBuffer(p[C.dst]),p[C.dst]=null)}}catch(M){w=!0,b=M}finally{try{g||D.return==null||D.return()}finally{if(w)throw b}}}p&&(delete this.retainedMode.geometry[d],h=this.GL,p.indexBuffer&&h.deleteBuffer(p.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},u.default.RendererGL.prototype.createBuffers=function(w,h){var p,f,v,g=this.GL,w=this._initBufferDefaults(w),b=(w.model=h,w.indexBuffer);return h.faces.length?(b=b||(w.indexBuffer=g.createBuffer()),v=(f=(p=u.default.RendererGL.prototype._flatten(h.faces)).some(function(_){return 65535<_}))?Uint32Array:Uint16Array,this._bindBuffer(b,g.ELEMENT_ARRAY_BUFFER,p,v),w.indexBufferType=f?g.UNSIGNED_INT:g.UNSIGNED_SHORT,w.vertexCount=3*h.faces.length):(b&&(g.deleteBuffer(b),w.indexBuffer=null),w.vertexCount=h.vertices?h.vertices.length:0),w.lineVertexCount=h.lineVertices?h.lineVertices.length/3:0,w},u.default.RendererGL.prototype.drawBuffers=function(d){var h=this.GL,p=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<p.model.vertexColors.length;var f=this._getRetainedFillShader(),v=(this._setFillUniforms(f),!0),g=!1,w=void 0;try{for(var b,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)b.value._prepareBuffer(p,f)}catch(S){g=!0,w=S}finally{try{v||_.return==null||_.return()}finally{if(g)throw w}}f.disableRemainingAttributes(),p.indexBuffer&&this._bindBuffer(p.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,p.model.hasFillTransparency()),this._drawElements(h.TRIANGLES,d),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<p.lineVertexCount){this._useLineColor=0<p.model.vertexStrokeColors.length;var D=this._getRetainedStrokeShader(),C=(this._setStrokeUniforms(D),!0),g=!1,w=void 0;try{for(var M,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(C=(M=E.next()).done);C=!0)M.value._prepareBuffer(p,D)}catch(j){g=!0,w=j}finally{try{C||E.return==null||E.return()}finally{if(g)throw w}}D.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,p.model.hasStrokeTransparency()),this._drawArrays(h.TRIANGLES,d),D.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(p),this},u.default.RendererGL.prototype.drawBuffersScaled=function(d,h,p,f){var v=this.uModelMatrix.copy();try{this.uModelMatrix.scale(h,p,f),this.drawBuffers(d)}finally{this.uModelMatrix=v}},u.default.RendererGL.prototype._drawArrays=function(d,h){return this.GL.drawArrays(d,0,this.retainedMode.geometry[h].lineVertexCount),this},u.default.RendererGL.prototype._drawElements=function(d,p){var p=this.retainedMode.geometry[p],f=this.GL;if(p.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&p.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else f.drawArrays(d||f.TRIANGLES,0,p.vertexCount)},u.default.RendererGL.prototype._drawPoints=function(d,h){var p=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(h,p.ARRAY_BUFFER,this._vToNArray(d),Float32Array,p.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),p.drawArrays(p.Points,0,d.length),f.unbindShader()};var y=u.default.RendererGL;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(I,i,s){"use strict";function a(V){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(V)}function l(V){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(W){return a(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":a(W)})(V)}I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.get-own-property-descriptor"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.reflect.construct"),I("core-js/modules/es.reflect.get"),I("core-js/modules/es.regexp.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/es.weak-map"),I("core-js/modules/web.dom-collections.iterator"),I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.readPixelsWebGL=q,s.readPixelWebGL=G,s.default=void 0;var u=p(I("../core/main")),c=function(V){if(V&&V.__esModule)return V;if(V===null||l(V)!=="object"&&typeof V!="function")return{default:V};var W=h();if(W&&W.has(V))return W.get(V);var Q,ue={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in V){var A;Object.prototype.hasOwnProperty.call(V,Q)&&((A=P?Object.getOwnPropertyDescriptor(V,Q):null)&&(A.get||A.set)?Object.defineProperty(ue,Q,A):ue[Q]=V[Q])}return ue.default=V,W&&W.set(V,ue),ue}(I("../core/constants")),m=p(I("./GeometryBuilder")),y=p(I("libtess")),d=(I("./p5.Shader"),I("./p5.Camera"),I("../core/p5.Renderer"),I("./p5.Matrix"),I("./p5.Framebuffer"),I("path"),I("./p5.Texture"));function h(){var V;return typeof WeakMap!="function"?null:(V=new WeakMap,h=function(){return V},V)}function p(V){return V&&V.__esModule?V:{default:V}}function f(V){return function(W){if(Array.isArray(W)){for(var Q=0,ue=new Array(W.length);Q<W.length;Q++)ue[Q]=W[Q];return ue}}(V)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(V)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(V,W){for(var Q=0;Q<W.length;Q++){var ue=W[Q];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(V,ue.key,ue)}}function g(V,W,Q){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,P,A){var U=function(H,K){for(;!Object.prototype.hasOwnProperty.call(H,K)&&(H=D(H))!==null;);return H}(U,P);if(U)return(U=Object.getOwnPropertyDescriptor(U,P)).get?U.get.call(A):U.value})(V,W,Q||V)}function w(V,W){return(w=Object.setPrototypeOf||function(Q,ue){return Q.__proto__=ue,Q})(V,W)}function b(V){return function(){var W,Q,ue=D(V);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=D(this).constructor,Reflect.construct(ue,arguments,W)):ue.apply(this,arguments),ue=this,!(Q=W)||l(Q)!=="object"&&typeof Q!="function"?_(ue):Q}}function _(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function D(V){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(V)}function C(V,W,Q){W in V?Object.defineProperty(V,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):V[W]=Q}function M(V,W){F+="#define STROKE_CAP_".concat(V," ").concat(W,`
`),O[c[V]]=W}function E(V,W){F+="#define STROKE_JOIN_".concat(V," ").concat(W,`
`),j[c[V]]=W}var S,O={},j={},F="",I=(M("ROUND",0),M("PROJECT",1),M("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),L={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:I+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:I+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:F+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // This prevents popping effects due to half of
  // the line disappearing behind the geometry faces.
  
  float zOffset = mix(-0.00045, -1., facingCamera);
  posp.z -= zOffset;
  posqIn.z -= zOffset;
  posqOut.z -= zOffset;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:F+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},B=L.sphereMappingFrag;for(S in L)L[S]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+L[S];C(I={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),C(I,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(I,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(I,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),C(I,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),C(I,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),C(I,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),C(I,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var k=I;function q(V,W,ce,ue,P,A,U,H,K,re){var ie=W.getParameter(W.FRAMEBUFFER_BINDING),ce=(W.bindFramebuffer(W.FRAMEBUFFER,ce),H===W.RGBA?4:3),se=A*U*ce,he=K===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(V instanceof he&&V.length===se||(V=new he(se)),W.readPixels(ue,re?re-P-U:P,A,U,H,K,V),W.bindFramebuffer(W.FRAMEBUFFER,ie),re)for(var le=Math.floor(U/2),te=new he(A*ce),pe=0;pe<le;pe++){var ve=pe*A*4,Me=(U-pe-1)*A*4;te.set(V.subarray(ve,ve+4*A)),V.copyWithin(ve,Me,Me+4*A),V.set(te,Me)}return V}function G(V,K,Q,ue,P,A,U){var H=V.getParameter(V.FRAMEBUFFER_BINDING),K=(V.bindFramebuffer(V.FRAMEBUFFER,K),P===V.RGBA?4:3),K=new(A===V.UNSIGNED_BYTE?Uint8Array:Float32Array)(K);return V.readPixels(Q,U?U-ue-1:ue,1,1,P,A,K),V.bindFramebuffer(V.FRAMEBUFFER,H),Array.from(K)}u.default.prototype.setAttributes=function(V,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[V]!==W&&(this._glAttributes[V]=W,Q=!1)):V instanceof Object&&this._glAttributes!==V&&(this._glAttributes=V,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var ue in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ue))return void u.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},u.default.RendererGL=function(V){var W=P;if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(V&&V.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),V&&w(W,V);var Q,ue=b(P);function P(A,U,H,K){if(this instanceof P)return(A=ue.call(this,A,U,H))._setAttributeDefaults(U),A._initContext(),A.isP3D=!0,A.geometryBuilder=void 0,A.GL=A.drawingContext,A._pInst._setProperty("drawingContext",A.drawingContext),A._isErasing=!1,A._clipDepths=[],A._isClipApplied=!1,A._stencilTestOn=!1,A._enableLighting=!1,A.ambientLightColors=[],A.mixedAmbientLight=[],A.mixedSpecularColor=[],A.specularColors=[1,1,1],A.directionalLightDirections=[],A.directionalLightDiffuseColors=[],A.directionalLightSpecularColors=[],A.pointLightPositions=[],A.pointLightDiffuseColors=[],A.pointLightSpecularColors=[],A.spotLightPositions=[],A.spotLightDirections=[],A.spotLightDiffuseColors=[],A.spotLightSpecularColors=[],A.spotLightAngle=[],A.spotLightConc=[],A.activeImageLight=null,A.diffusedTextures=new Map,A.specularTextures=new Map,A.drawMode=c.FILL,A.curFillColor=A._cachedFillStyle=[1,1,1,1],A.curAmbientColor=A._cachedFillStyle=[1,1,1,1],A.curSpecularColor=A._cachedFillStyle=[0,0,0,0],A.curEmissiveColor=A._cachedFillStyle=[0,0,0,0],A.curStrokeColor=A._cachedStrokeStyle=[0,0,0,1],A.curBlendMode=c.BLEND,A.preEraseBlend=void 0,A._cachedBlendMode=void 0,A.webglVersion===c.WEBGL2?A.blendExt=A.GL:A.blendExt=A.GL.getExtension("EXT_blend_minmax"),A._isBlending=!1,A._hasSetAmbient=!1,A._useSpecularMaterial=!1,A._useEmissiveMaterial=!1,A._useNormalMaterial=!1,A._useShininess=1,A._useMetalness=0,A._useLineColor=!1,A._useVertexColor=!1,A.registerEnabled=new Set,A._tint=[255,255,255,255],A.constantAttenuation=1,A.linearAttenuation=0,A.quadraticAttenuation=0,A.uModelMatrix=new u.default.Matrix,A.uViewMatrix=new u.default.Matrix,A.uMVMatrix=new u.default.Matrix,A.uPMatrix=new u.default.Matrix,A.uNMatrix=new u.default.Matrix("mat3"),A.curMatrix=new u.default.Matrix("mat3"),A._currentNormal=new u.default.Vector(0,0,1),A._curCamera=new u.default.Camera(_(A)),A._curCamera._computeCameraDefaultSettings(),A._curCamera._setDefaultCamera(),A.filterCamera=new u.default.Camera(_(A)),A.filterCamera._computeCameraDefaultSettings(),A.filterCamera._setDefaultCamera(),A.prevTouches=[],A.zoomVelocity=0,A.rotateVelocity=new u.default.Vector(0,0),A.moveVelocity=new u.default.Vector(0,0),A.executeZoom=!1,A.executeRotateAndMove=!1,A.specularShader=void 0,A.sphereMapping=void 0,A.diffusedShader=void 0,A._defaultLightShader=void 0,A._defaultImmediateModeShader=void 0,A._defaultNormalShader=void 0,A._defaultColorShader=void 0,A._defaultPointShader=void 0,A.userFillShader=void 0,A.userStrokeShader=void 0,A.userPointShader=void 0,A.retainedMode={geometry:{},buffers:{stroke:[new u.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(A)),new u.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(A)),new u.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(A)),new u.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(A)),new u.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(A))],fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(A),A._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(A)),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(A)),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)],text:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)]}},A.immediateMode={geometry:new u.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(A),A._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(A)),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(A)),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)],stroke:[new u.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(A)),new u.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(A)),new u.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(A)),new u.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(A)),new u.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(A))],point:A.GL.createBuffer()}},A.pointSize=5,A.curStrokeWeight=1,A.curStrokeCap=c.ROUND,A.curStrokeJoin=c.ROUND,A.textures=new Map,A.framebuffers=new Set,A.activeFramebuffers=[],A.filterShader=void 0,A.filterLayer=void 0,A.filterLayerTemp=void 0,A.defaultFilterShaders={},A.textureMode=c.IMAGE,A.textureWrapX=c.CLAMP,A.textureWrapY=c.CLAMP,A._tex=null,A._curveTightness=6,A._lookUpTableBezier=[],A._lookUpTableQuadratic=[],A._lutBezierDetail=0,A._lutQuadraticDetail=0,A.isProcessingVertices=!1,A._tessy=A._initTessy(),A.fontInfos={},A._curShader=void 0,A;throw new TypeError("Cannot call a class as a function")}return W=P,(V=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var A;if(this.geometryBuilder)return A=this.geometryBuilder.finish(),this.geometryBuilder=void 0,A;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(A){return this.beginGeometry(),A(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(A){var U={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};A._glAttributes===null?A._glAttributes=U:A._glAttributes=Object.assign(U,A._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var A=this.drawingContext;A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.viewport(0,0,A.drawingBufferWidth,A.drawingBufferHeight),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var A=this.drawingContext;return A.getParameter(A.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(A,U){this._maxTextureSize||(this._maxTextureSize=this._getParam());var K=this._maxTextureSize,K=(u.default.prototype._maxAllowedPixelDimensions,Math.floor(K/this.pixelDensity())),H=Math.min(A,K),K=Math.min(U,K);return H===A&&K===U||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat(K,".")),{adjustedWidth:H,adjustedHeight:K}}},{key:"_resetContext",value:function(A,U){var H,K=this.width,re=this.height,ce=this.canvas.id,ie=this._pInst instanceof u.default.Graphics,ce=(ie?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),u.default.Element.call(H,H.canvas,H._pInst),H.width=K,H.height=re):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=ce,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new u.default.RendererGL(this._pInst.canvas,this._pInst,!ie));this._pInst._setProperty("_renderer",ce),ce.resize(K,re),ce._applyDefaults(),ie||this._pInst._elements.push(ce),typeof U=="function"&&setTimeout(function(){U.apply(window._renderer,A)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var K=(K=this._pInst).color.apply(K,arguments),A=K.levels[0]/255,U=K.levels[1]/255,H=K.levels[2]/255,K=K.levels[3]/255;this.clear(A,U,H,K)}},{key:"fill",value:function(A,U,H,K){var re=u.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=re._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(A,U,H,K){var re=u.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=re._array}},{key:"strokeCap",value:function(A){this.curStrokeCap=A}},{key:"strokeJoin",value:function(A){this.curStrokeJoin=A}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(A,U){A.width===U.width&&A.height===U.height||A.resize(U.width,U.height),A.pixelDensity()!==U.pixelDensity()&&A.pixelDensity(U.pixelDensity())}},{key:"filter",value:function(){var A,U,H=this,K=this.getFilterLayer(),re=void 0,ie=void 0,ce=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ie=arguments.length<=0?void 0:arguments[0],C(A={},c.BLUR,3),C(A,c.POSTERIZE,4),C(A,c.THRESHOLD,.5),re=ie in(A=A)&&(arguments.length<=1?void 0:arguments[1])===void 0?A[ie]:arguments.length<=1?void 0:arguments[1],ie in this.defaultFilterShaders||(this.defaultFilterShaders[ie]=new u.default.Shader(K._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,k[ie])),this.filterShader=this.defaultFilterShaders[ie]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),se=(this.matchSize(K,ce),K.draw(function(){return H._pInst.clear()}),[1/(ce.width*ce.pixelDensity()),1/(ce.height*ce.pixelDensity())]);ie===c.BLUR?(U=this.getFilterLayerTemp(),this.matchSize(U,ce),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",se),this.filterShader.setUniform("canvasSize",[ce.width,ce.height]),this.filterShader.setUniform("radius",Math.max(1,re)),U.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",ce),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),K.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",U),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),this._pInst.pop()):K.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(c.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",ce),H.filterShader.setUniform("texelSize",se),H.filterShader.setUniform("canvasSize",[ce.width,ce.height]),H.filterShader.setUniform("filterParameter",re),H._pInst.noLights(),H._pInst.plane(ce.width,ce.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),ce.filterCamera._resize(),this._pInst.setCamera(ce.filterCamera),this._pInst.resetMatrix(),this._pInst.image(K,-ce.width/2,-ce.height/2,ce.width,ce.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(A){return A?this._pInst.pixelDensity(A):this._pInst.pixelDensity()}},{key:"blendMode",value:function(A){A===c.DARKEST||A===c.LIGHTEST||A===c.ADD||A===c.BLEND||A===c.SUBTRACT||A===c.SCREEN||A===c.EXCLUSION||A===c.REPLACE||A===c.MULTIPLY||A===c.REMOVE?this.curBlendMode=A:A!==c.BURN&&A!==c.OVERLAY&&A!==c.HARD_LIGHT&&A!==c.SOFT_LIGHT&&A!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(A,U){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,A/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,U/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},A=(g(D(P.prototype),"beginClip",this).call(this,A),this.drawTarget()._isClipApplied=!0,this.GL);A.clearStencil(0),A.clear(A.STENCIL_BUFFER_BIT),A.enable(A.STENCIL_TEST),this._stencilTestOn=!0,A.stencilFunc(A.ALWAYS,1,255),A.stencilOp(A.KEEP,A.KEEP,A.REPLACE),A.disable(A.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var A=this.GL;A.stencilOp(A.KEEP,A.KEEP,A.KEEP),A.stencilFunc(this._clipInvert?A.EQUAL:A.NOTEQUAL,0,255),A.enable(A.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(D(P.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(A){this.curStrokeWeight!==A&&(this.pointSize=A,this.curStrokeWeight=A)}},{key:"_getPixel",value:function(A,U){var H=this.GL;return G(H,null,A,U,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var A,U,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(A=this._pInst._pixelDensity,U=this.GL,H._setProperty("pixels",q(H.pixels,U,null,0,0,this.width*A,this.height*A,U.RGBA,U.UNSIGNED_BYTE,this.height*A)))}},{key:"updatePixels",value:function(){var A=this._getTempFramebuffer();A.pixels=this._pixelsState.pixels,A.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(A,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(A){return this.retainedMode.geometry[A]!==void 0}},{key:"viewport",value:function(A,U){this._viewport=[0,0,A,U],this.GL.viewport(0,0,A,U)}},{key:"resize",value:function(re,K){u.default.Renderer.prototype.resize.call(this,re,K),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var re=this._pixelsState,H=(re.pixels!==void 0&&re._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),K=!1,re=void 0;try{for(var ie,ce=this.framebuffers[Symbol.iterator]();!(H=(ie=ce.next()).done);H=!0)ie.value._canvasSizeChanged()}catch(se){K=!0,re=se}finally{try{H||ce.return==null||ce.return()}finally{if(K)throw re}}}},{key:"clear",value:function(){var A=(arguments.length<=0?void 0:arguments[0])||0,U=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,K=(arguments.length<=3?void 0:arguments[3])||0,re=this.activeFramebuffer();re&&re.format===c.UNSIGNED_BYTE&&!re.antialias&&K===0&&(K=1e-10),this.GL.clearColor(A*K,U*K,H*K,K),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(A,U,H,K,re,ie){arguments.length===16?u.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([A,U,0,0,H,K,0,0,0,0,1,0,re,ie,0,1])}},{key:"translate",value:function(A,U,H){return A instanceof u.default.Vector&&(H=A.z,U=A.y,A=A.x),this.uModelMatrix.translate([A,U,H]),this}},{key:"scale",value:function(A,U,H){return this.uModelMatrix.scale(A,U,H),this}},{key:"rotate",value:function(A,U){return U===void 0?this.rotateZ(A):(u.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(A){return this.rotate(A,1,0,0),this}},{key:"rotateY",value:function(A){return this.rotate(A,0,1,0),this}},{key:"rotateZ",value:function(A){return this.rotate(A,0,0,1),this}},{key:"push",value:function(){var A=u.default.Renderer.prototype.push.apply(this),U=A.properties;return U.uModelMatrix=this.uModelMatrix.copy(),U.uViewMatrix=this.uViewMatrix.copy(),U.uPMatrix=this.uPMatrix.copy(),U._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),U.ambientLightColors=this.ambientLightColors.slice(),U.specularColors=this.specularColors.slice(),U.directionalLightDirections=this.directionalLightDirections.slice(),U.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),U.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),U.pointLightPositions=this.pointLightPositions.slice(),U.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),U.pointLightSpecularColors=this.pointLightSpecularColors.slice(),U.spotLightPositions=this.spotLightPositions.slice(),U.spotLightDirections=this.spotLightDirections.slice(),U.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),U.spotLightSpecularColors=this.spotLightSpecularColors.slice(),U.spotLightAngle=this.spotLightAngle.slice(),U.spotLightConc=this.spotLightConc.slice(),U.userFillShader=this.userFillShader,U.userStrokeShader=this.userStrokeShader,U.userPointShader=this.userPointShader,U.pointSize=this.pointSize,U.curStrokeWeight=this.curStrokeWeight,U.curStrokeColor=this.curStrokeColor,U.curFillColor=this.curFillColor,U.curAmbientColor=this.curAmbientColor,U.curSpecularColor=this.curSpecularColor,U.curEmissiveColor=this.curEmissiveColor,U._hasSetAmbient=this._hasSetAmbient,U._useSpecularMaterial=this._useSpecularMaterial,U._useEmissiveMaterial=this._useEmissiveMaterial,U._useShininess=this._useShininess,U._useMetalness=this._useMetalness,U.constantAttenuation=this.constantAttenuation,U.linearAttenuation=this.linearAttenuation,U.quadraticAttenuation=this.quadraticAttenuation,U._enableLighting=this._enableLighting,U._useNormalMaterial=this._useNormalMaterial,U._tex=this._tex,U.drawMode=this.drawMode,U._currentNormal=this._currentNormal,U.curBlendMode=this.curBlendMode,U.activeImageLight=this.activeImageLight,A}},{key:"pop",value:function(){var A;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var U=arguments.length,H=new Array(U),K=0;K<U;K++)H[K]=arguments[K];(A=g(D(P.prototype),"pop",this)).call.apply(A,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var A=this.drawTarget();A._isClipApplied!==this._stencilTestOn&&(A._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var A=this.userStrokeShader;return A&&A.isStrokeShader()?A:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(A){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(B)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",A),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var A=this.userFillShader;if(this._useNormalMaterial&&(!A||!A.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!A||!A.isLightShader())return this._getLightShader()}else if(this._tex){if(!A||!A.isTextureShader())return this._getLightShader()}else if(!A)return this._getImmediateModeShader();return A}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var A=this.userFillShader;if(this._enableLighting){if(!A||!A.isLightShader())return this._getLightShader()}else if(this._tex){if(!A||!A.isTextureShader())return this._getLightShader()}else if(!A)return this._getColorShader();return A}},{key:"_getImmediatePointShader",value:function(){var A=this.userPointShader;return A&&A.isPointShader()?A:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+L.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+L.phongFrag):this._defaultLightShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+L.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+L.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(A,U){var H="";return this.webglVersion===c.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),A==="vert"?H+=`#define VERTEX_SHADER
`:A==="frag"&&(H+=`#define FRAGMENT_SHADER
`),U&&(H+="precision ".concat(U,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var A;return this._emptyTexture||((A=new u.default.Image(1,1)).set(0,0,255),this._emptyTexture=new u.default.Texture(this,A)),this._emptyTexture}},{key:"getTexture",value:function(A){A instanceof u.default.Framebuffer&&(A=A.color);var U=this.textures.get(A);return U||(U=new u.default.Texture(this,A),this.textures.set(A,U),U)}},{key:"getDiffusedTexture",value:function(A){var U,H,K=this;return this.diffusedTextures.get(A)!=null?this.diffusedTextures.get(A):(U=Math.floor(A.height/A.width*200),H=this._pInst.createFramebuffer({width:200,height:U,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(L.imageLightVert,L.imageLightDiffusedFrag)),H.draw(function(){K._pInst.shader(K.diffusedShader),K.diffusedShader.setUniform("environmentMap",A),K._pInst.noStroke(),K._pInst.rectMode(c.CENTER),K._pInst.noLights(),K._pInst.rect(0,0,200,U)}),this.diffusedTextures.set(A,H),H)}},{key:"getSpecularTexture",value:function(A){var U=this;if(this.specularTextures.get(A)!=null)return this.specularTextures.get(A);for(var H,K=[],re=this._pInst.createFramebuffer({width:512,height:512,density:1}),ie=Math.log(512)/Math.log(2),ce=(this.specularShader||(this.specularShader=this._pInst.createShader(L.imageLightVert,L.imageLightSpecularFrag)),512);1<=ce;ce/=2)(function(se){re.resize(se,se);var he=1-Math.log(se)/Math.log(2)/ie;re.draw(function(){U._pInst.shader(U.specularShader),U._pInst.clear(),U.specularShader.setUniform("environmentMap",A),U.specularShader.setUniform("roughness",he),U._pInst.noStroke(),U._pInst.noLights(),U._pInst.plane(se,se)}),K.push(re.get().drawingContext.getImageData(0,0,se,se))})(ce);return re.remove(),H=new d.MipmapTexture(this,K,{}),this.specularTextures.set(A,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(A){return new u.default.Framebuffer(this,A)}},{key:"_setStrokeUniforms",value:function(A){A.bindShader(),A.setUniform("uUseLineColor",this._useLineColor),A.setUniform("uMaterialColor",this.curStrokeColor),A.setUniform("uStrokeWeight",this.curStrokeWeight),A.setUniform("uStrokeCap",O[this.curStrokeCap]),A.setUniform("uStrokeJoin",j[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(A){var U=this,H=(A.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(K,re){return U.curFillColor[re]*U._useMetalness+K*(1-U._useMetalness)})),A.setUniform("uUseVertexColor",this._useVertexColor),A.setUniform("uMaterialColor",this.curFillColor),A.setUniform("isTexture",!!this._tex),this._tex&&A.setUniform("uSampler",this._tex),A.setUniform("uTint",this._tint),A.setUniform("uHasSetAmbient",this._hasSetAmbient),A.setUniform("uAmbientMatColor",this.curAmbientColor),A.setUniform("uSpecularMatColor",this.mixedSpecularColor),A.setUniform("uEmissiveMatColor",this.curEmissiveColor),A.setUniform("uSpecular",this._useSpecularMaterial),A.setUniform("uEmissive",this._useEmissiveMaterial),A.setUniform("uShininess",this._useShininess),A.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(A),A.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(A.setUniform("uPointLightCount",H),A.setUniform("uPointLightLocation",this.pointLightPositions),A.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),A.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(A.setUniform("uDirectionalLightCount",H),A.setUniform("uLightingDirection",this.directionalLightDirections),A.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),A.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(K){return K-=U._useMetalness,Math.max(0,K)})),A.setUniform("uAmbientLightCount",H),A.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);A.setUniform("uSpotLightCount",H),A.setUniform("uSpotLightAngle",this.spotLightAngle),A.setUniform("uSpotLightConc",this.spotLightConc),A.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),A.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),A.setUniform("uSpotLightLocation",this.spotLightPositions),A.setUniform("uSpotLightDirection",this.spotLightDirections),A.setUniform("uConstantAttenuation",this.constantAttenuation),A.setUniform("uLinearAttenuation",this.linearAttenuation),A.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),A.bindTextures()}},{key:"_setImageLightUniforms",value:function(A){var U,H;A.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(U=this.getDiffusedTexture(this.activeImageLight),A.setUniform("environmentMapDiffused",U),U=this.getSpecularTexture(this.activeImageLight),H=20/this._useShininess,A.setUniform("levelOfDetail",8*H),A.setUniform("environmentMapSpecular",U))}},{key:"_setPointUniforms",value:function(A){A.bindShader(),A.setUniform("uMaterialColor",this.curStrokeColor),A.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(A,U,H,K,re){U=U||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(U,A),H!==void 0&&((A=H)instanceof u.default.DataArray?A=H.dataArray():A instanceof(K||Float32Array)||(A=new(K||Float32Array)(A)),this.GL.bufferData(U,A,re||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(A,U){return A.length===U.length&&A.every(function(H,K){return H===U[K]})}},{key:"_isTypedArray",value:function(A){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(U){return A instanceof U})}},{key:"_flatten",value:function(A){return A.flat()}},{key:"_vToNArray",value:function(A){return A.flatMap(function(U){return[U.x,U.y,U.z]})}},{key:"_bezierCoefficients",value:function(A){var U=A*A,H=1-A,K=H*H;return[K*H,3*K*A,3*H*U,U*A]}},{key:"_quadraticCoefficients",value:function(A){var U=1-A;return[U*U,2*U*A,A*A]}},{key:"_bezierToCatmull",value:function(A){return[A[1],A[1]+(A[2]-A[0])/this._curveTightness,A[2]-(A[3]-A[1])/this._curveTightness,A[2]]}},{key:"_initTessy",value:function(){var A=new y.default.GluTesselator;return A.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(U,H){var K=!0,re=!1,ie=void 0;try{for(var ce,se=U[Symbol.iterator]();!(K=(ce=se.next()).done);K=!0){var he=ce.value;H.push(he)}}catch(le){re=!0,ie=le}finally{try{K||se.return==null||se.return()}finally{if(re)throw ie}}}),A.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(U){U!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(U))}),A.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(U){console.log("error callback"),console.log("error number: ".concat(U))}),A.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(U,H,K){for(var re=new Array(u.default.RendererGL.prototype.tessyVertexSize).fill(0),ie=0;ie<K.length;ie++)for(var ce=0;ce<re.length;ce++)K[ie]!==0&&H[ie]&&(re[ce]+=H[ie][ce]*K[ie]);return re}),A.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(U){}),A.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),A}},{key:"_triangulate",value:function(A){var U=A[0]?A[0][2]:void 0,H=!0,K=!0,he=!1,te=void 0;try{for(var re,ie=A[Symbol.iterator]();!(K=(re=ie.next()).done);K=!0)for(var ce=re.value,se=0;se<ce.length;se+=u.default.RendererGL.prototype.tessyVertexSize)if(ce[se+2]!==U){H=!1;break}}catch(Ie){he=!0,te=Ie}finally{try{K||ie.return==null||ie.return()}finally{if(he)throw te}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var he=[],le=(this._tessy.gluTessBeginPolygon(he),!0),te=!1,pe=void 0;try{for(var ve,Me=A[Symbol.iterator]();!(le=(ve=Me.next()).done);le=!0){var xe=ve.value;this._tessy.gluTessBeginContour();for(var me=0;me<xe.length;me+=u.default.RendererGL.prototype.tessyVertexSize){var _e=xe.slice(me,me+u.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(_e,_e)}this._tessy.gluTessEndContour()}}catch(Ie){te=!0,pe=Ie}finally{try{le||Me.return==null||Me.return()}finally{if(te)throw pe}}return this._tessy.gluTessEndPolygon(),he}}])&&v(W.prototype,V),Q&&v(W,Q),P}(u.default.Renderer),u.default.prototype._assert3d=function(V){if(!this._renderer.isP3D)throw new Error("".concat(V,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},u.default.RendererGL.prototype.tessyVertexSize=12,I=u.default.RendererGL,s.default=I},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,i,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(u,c){for(var m=0;m<c.length;m++){var y=c[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}a.default.Shader=function(){function u(d,h,p){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=d,this._vertSrc=h,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var c,m,y;return c=u,(m=[{key:"init",value:function(){if(this._glProgram===0){var d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this._vertSrc),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return a.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(d.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this._fragSrc),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return a.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(d.getShaderInfoLog(this._fragShader))),null;this._glProgram=d.createProgram(),d.attachShader(this._glProgram,this._vertShader),d.attachShader(this._glProgram,this._fragShader),d.linkProgram(this._glProgram),d.getProgramParameter(this._glProgram,d.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(d){var h=new a.default.Shader(d._renderer,this._vertSrc,this._fragSrc);return h.ensureCompiledOnContext(d),h}},{key:"ensureCompiledOnContext",value:function(d){if(this._glProgram!==0&&this._renderer!==d._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=d._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var d=this._renderer.GL,h=d.getProgramParameter(this._glProgram,d.ACTIVE_ATTRIBUTES),p=0;p<h;++p){var f=d.getActiveAttrib(this._glProgram,p),v=f.name,g=d.getAttribLocation(this._glProgram,v),w={};w.name=v,w.location=g,w.index=p,w.type=f.type,w.size=f.size,this.attributes[v]=w}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var d=this._renderer.GL,h=d.getProgramParameter(this._glProgram,d.ACTIVE_UNIFORMS),p=0,f=0;f<h;++f){var v=d.getActiveUniform(this._glProgram,f),g={},w=(g.location=d.getUniformLocation(this._glProgram,v.name),g.size=v.size,v.name);1<v.size&&(w=w.substring(0,w.indexOf("[0]"))),g.name=w,g.type=v.type,g._cachedData=void 0,g.type===d.SAMPLER_2D&&(g.samplerIndex=p,p++,this.samplers.push(g)),g.isArray=1<v.size||g.type===d.FLOAT_MAT3||g.type===d.FLOAT_MAT4||g.type===d.FLOAT_VEC2||g.type===d.FLOAT_VEC3||g.type===d.FLOAT_VEC4||g.type===d.INT_VEC2||g.type===d.INT_VEC4||g.type===d.INT_VEC3,this.uniforms[w]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var d=this._renderer.GL,h=!0,p=!1,f=void 0;try{for(var v,g=this.samplers[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var w=v.value,b=w.texture;b===void 0&&(b=this._renderer._getEmptyTexture()),d.activeTexture(d.TEXTURE0+w.samplerIndex),b.bindTexture(),b.update(),d.uniform1i(w.location,w.samplerIndex)}}catch(_){p=!0,f=_}finally{try{h||g.return==null||g.return()}finally{if(p)throw f}}}},{key:"updateTextures",value:function(){var d=!0,h=!1,p=void 0;try{for(var f,v=this.samplers[Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value.texture;g&&g.update()}}catch(w){h=!0,p=w}finally{try{d||v.return==null||v.return()}finally{if(h)throw p}}}},{key:"unbindTextures",value:function(){var d=!0,h=!1,p=void 0;try{for(var f,v=this.samplers[Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(w){h=!0,p=w}finally{try{d||v.return==null||v.return()}finally{if(h)throw p}}}},{key:"_setMatrixUniforms",value:function(){var d=this._renderer.uModelMatrix,h=this._renderer.uViewMatrix,p=this._renderer.uPMatrix,f=d.copy().mult(h),v=(this._renderer.uMVMatrix=f).copy();v.mult(p),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",p.mat4),this.setUniform("uModelMatrix",d.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",v.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var d=this._renderer.GL;return this._renderer._curShader!==this&&(d.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(d,h){var p=this.uniforms[d];if(p){var f=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,h))return;p._cachedData=h.slice(0)}else{if(p._cachedData&&p._cachedData===h)return;Array.isArray(h)?p._cachedData=h.slice(0):p._cachedData=h}var v=p.location;switch(this.useProgram(),p.type){case f.BOOL:h===!0?f.uniform1i(v,1):f.uniform1i(v,0);break;case f.INT:1<p.size?h.length&&f.uniform1iv(v,h):f.uniform1i(v,h);break;case f.FLOAT:1<p.size?h.length&&f.uniform1fv(v,h):f.uniform1f(v,h);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(v,!1,h);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(v,!1,h);break;case f.FLOAT_VEC2:1<p.size?h.length&&f.uniform2fv(v,h):f.uniform2f(v,h[0],h[1]);break;case f.FLOAT_VEC3:1<p.size?h.length&&f.uniform3fv(v,h):f.uniform3f(v,h[0],h[1],h[2]);break;case f.FLOAT_VEC4:1<p.size?h.length&&f.uniform4fv(v,h):f.uniform4f(v,h[0],h[1],h[2],h[3]);break;case f.INT_VEC2:1<p.size?h.length&&f.uniform2iv(v,h):f.uniform2i(v,h[0],h[1]);break;case f.INT_VEC3:1<p.size?h.length&&f.uniform3iv(v,h):f.uniform3i(v,h[0],h[1],h[2]);break;case f.INT_VEC4:1<p.size?h.length&&f.uniform4iv(v,h):f.uniform4i(v,h[0],h[1],h[2],h[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+p.samplerIndex),p.texture=h instanceof a.default.Texture?h:this._renderer.getTexture(h),f.uniform1i(v,p.samplerIndex),p.texture.src.gifProperties&&p.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(d){return d!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(d,h,p,f,v,g){var w;return d&&(d=d.location)!==-1&&(w=this._renderer.GL,this._renderer.registerEnabled.has(d)||(w.enableVertexAttribArray(d),this._renderer.registerEnabled.add(d)),this._renderer.GL.vertexAttribPointer(d,h,p||w.FLOAT,f||!1,v||0,g||0)),this}},{key:"disableRemainingAttributes",value:function(){var d=this,h=!0,p=!1,f=void 0;try{for(var v,g=this._renderer.registerEnabled.values()[Symbol.iterator]();!(h=(v=g.next()).done);h=!0)(function(){var w=v.value;Object.keys(d.attributes).some(function(b){return d.attributes[b].location===w})||(d._renderer.GL.disableVertexAttribArray(w),d._renderer.registerEnabled.delete(w))})()}catch(w){p=!0,f=w}finally{try{h||g.return==null||g.return()}finally{if(p)throw f}}}}])&&l(c.prototype,m),y&&l(c,y),u}(),t=a.default.Shader,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function l(b){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.checkWebGLCapabilities=w,s.default=s.MipmapTexture=void 0;var u=(g=t("../core/main"))&&g.__esModule?g:{default:g},c=function(b){if(b&&b.__esModule)return b;if(b===null||l(b)!=="object"&&typeof b!="function")return{default:b};var _=m();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(t("../core/constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function y(b,_){return(y=Object.setPrototypeOf||function(D,C){return D.__proto__=C,D})(b,_)}function d(b){return function(){var _,D=h(b),D=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(D,arguments,_)):D.apply(this,arguments),this);if(!_||l(_)!=="object"&&typeof _!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function h(b){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(b)}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function v(b,_,D){_&&f(b.prototype,_),D&&f(b,D)}u.default.Texture=function(){function b(S,D,E){p(this,b),this._renderer=S;var M=this._renderer.GL,E=(E=E||{},this.src=D,this.glTex=void 0,this.glTarget=M.TEXTURE_2D,this.glFormat=E.format||M.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||M.LINEAR,this.glMagFilter=E.magFilter||M.LINEAR,this.glWrapS=E.wrapS||M.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||M.CLAMP_TO_EDGE,this.glDataType=E.dataType||M.UNSIGNED_BYTE,w(S)),S=(this.glFormat!==M.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=M.FLOAT),this.glFormat!==M.HALF_FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.glFormat!==M.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=M.UNSIGNED_BYTE),this.glFormat!==M.FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.isSrcMediaElement=u.default.MediaElement!==void 0&&D instanceof u.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=u.default.Element!==void 0&&D instanceof u.default.Element&&!(D instanceof u.default.Graphics)&&!(D instanceof u.default.Renderer),this.isSrcP5Image=D instanceof u.default.Image,this.isSrcP5Graphics=D instanceof u.default.Graphics,this.isSrcP5Renderer=D instanceof u.default.Renderer,this.isImageData=typeof ImageData<"u"&&D instanceof ImageData,this.isFramebufferTexture=D instanceof u.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=S.width,this.height=S.height,this.init(S),this}return v(b,[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?_=this.src.elt:this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var D,C=this._renderer.GL;this.isFramebufferTexture||(this.glTex=C.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(D=new Uint8Array([1,1,1,1]),C.texImage2D(this.glTarget,0,C.RGBA,1,1,0,this.glFormat,this.glDataType,D)):C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,D,C,M=this.src;return M.width!==0&&M.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),D=!1,C=this._renderer.GL,_.width!==this.width||_.height!==this.height?(D=!0,this.width=_.width||M.width,this.height=_.height||M.height,this.isSrcP5Image?M.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&M.setModified(!0)):this.isSrcP5Image?M.isModified()&&M.setModified(!(D=!0)):this.isSrcMediaElement?M.isModified()?M.setModified(!(D=!0)):M.loadedmetadata&&this._videoPrevUpdateTime!==M.time()&&(this._videoPrevUpdateTime=M.time(),D=!0):this.isImageData?M._dirty&&(D=!(M._dirty=!1)):D=!0,D&&(this.bindTexture(),C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),D)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,D){var C=this._renderer.GL;this.glMinFilter=this.glFilter(_),this.glMagFilter=this.glFilter(D),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(_){var D=this._renderer.GL;return _===c.NEAREST?D.NEAREST:D.LINEAR}},{key:"setWrapMode",value:function(_,D){function C(O){return(O&O-1)==0}var M=this._renderer.GL,S=this._getTextureDataFromSource(),S=S.naturalWidth&&S.naturalHeight?(E=S.naturalWidth,S.naturalHeight):(E=this.width,this.height),E=C(E),S=C(S);_===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapS=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):_===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapS=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):this.glWrapS=M.CLAMP_TO_EDGE,D===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapT=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):D===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||E&&S?this.glWrapT=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):this.glWrapT=M.CLAMP_TO_EDGE,this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,this.glWrapS),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),b}();var g=function(b){var _=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),b&&y(_,b);var D=d(C);function C(M,E,S){return p(this,C),E=(M=D.call(this,M,E,S))._renderer.GL,M.glMinFilter===E.LINEAR&&(M.glMinFilter=E.LINEAR_MIPMAP_LINEAR),M}return v(C,[{key:"glFilter",value:function(M){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(M){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var S=0;S<M.length;S++)E.texImage2D(this.glTarget,S,this.glFormat,this.glFormat,this.glDataType,M[S]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),C}(u.default.Texture);function w(M){var _=M.GL,M=M.webglVersion,D=M===c.WEBGL2?_.getExtension("EXT_color_buffer_float")&&_.getExtension("EXT_float_blend"):_.getExtension("OES_texture_float"),C=D&&_.getExtension("OES_texture_float_linear"),M=M===c.WEBGL2?_.getExtension("EXT_color_buffer_float"):_.getExtension("OES_texture_half_float");return{float:D,floatLinear:C,halfFloat:M,halfFloatLinear:M&&_.getExtension("OES_texture_half_float_linear")}}s.MipmapTexture=g,t=u.default.Texture,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,i,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function l(b){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var u,c=(u=t("../core/main"))&&u.__esModule?u:{default:u},m=function(b){if(b&&b.__esModule)return b;if(b===null||l(b)!=="object"&&typeof b!="function")return{default:b};var _=y();if(_&&_.has(b))return _.get(b);var D,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in b){var E;Object.prototype.hasOwnProperty.call(b,D)&&((E=M?Object.getOwnPropertyDescriptor(b,D):null)&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=b[D])}return C.default=b,_&&_.set(b,C),C}(t("../core/constants"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function d(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function h(b,_){for(var D=0;D<_.length;D++){var C=_[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function p(b,_,D){_&&h(b.prototype,_),D&&h(b,D)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(b){return this._isOpenType()?this._textFont._textWidth(b,this._textSize):0};var f=function(){function b(_,D){d(this,b),this.width=_,this.height=D,this.infos=[]}return p(b,[{key:"findImage",value:function(_){var D,C,M=this.width*this.height;if(M<_)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var S=this.infos[E];if(S.index+_<M){C=(D=S).imageData;break}}if(!D){try{C=new ImageData(this.width,this.height)}catch{var O=document.getElementsByTagName("canvas")[0],j=!O,F=(O||((O=document.createElement("canvas")).style.display="none",document.body.appendChild(O)),O.getContext("2d"));F&&(C=F.createImageData(this.width,this.height)),j&&document.body.removeChild(O)}this.infos.push(D={index:0,imageData:C})}return F=D.index,D.index+=_,C._dirty=!0,{imageData:C,index:F}}}]),b}();function v(S,_,D,C,M){var E=S.imageData.data,S=4*S.index++;E[S++]=_,E[S++]=D,E[S++]=C,E[+S]=M}var g=Math.sqrt(3),w=function(){function b(_){d(this,b),this.font=_,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return p(b,[{key:"getGlyphInfo",value:function(_){var D=this.glyphInfos[_.index];if(!D){var C=_.getBoundingBox(),M=C.x1,E=C.y1,S=C.x2-M,O=C.y2-E,j=_.path.commands;if(S==0||O==0||!j.length)return this.glyphInfos[_.index]={};for(var F=[],I=[],L=[],B=8;0<=B;--B)L.push([]);for(B=8;0<=B;--B)I.push([]);var k,q,G,V,W=function(){function Pe(He,Ye,Xe,Ce){d(this,Pe),this.p0=He,this.c0=Ye,this.c1=Xe,this.p1=Ce}return p(Pe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(oe){var Ye=c.default.Vector.lerp(this.p0,this.c0,oe),Ce=c.default.Vector.lerp(this.c0,this.c1,oe),Xe=c.default.Vector.lerp(Ye,Ce,oe),Ce=(this.c1=c.default.Vector.lerp(this.c1,this.p1,oe),this.c0=c.default.Vector.lerp(Ce,this.c1,oe),c.default.Vector.lerp(Xe,this.c0,oe)),oe=new Pe(this.p0,Ye,Xe,Ce);return this.p0=Ce,oe}},{key:"splitInflections",value:function(){var He=c.default.Vector.sub(this.c0,this.p0),Ye=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),He),Xe=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),He),c.default.Vector.mult(Ye,2)),Ce=[],oe=Ye.x*Xe.y-Ye.y*Xe.x;return oe!==0&&0<=(He=(Xe=He.x*Xe.y-He.y*Xe.x)*Xe-4*oe*(He.x*Ye.y-He.y*Ye.x))&&(oe<0&&(oe=-oe,Xe=-Xe),He=(-Xe+(Ye=Math.sqrt(He)))/(2*oe),0<(Xe=(-Xe-Ye)/(2*oe))&&Xe<1&&(Ce.push(this.split(Xe)),He=1-(1-He)/(1-Xe)),0<He&&He<1&&Ce.push(this.split(He))),Ce.push(this),Ce}}]),Pe}(),Q=!0,ue=!1,P=void 0;try{for(var A,U=j[Symbol.iterator]();!(Q=(A=U.next()).done);Q=!0){var H=A.value,K=(H.x-M)/S,re=(H.y-E)/O;if(!De(k,q,K,re)){switch(H.type){case"M":G=K,V=re;break;case"L":Ie(k,q,K,re);break;case"Q":var ie=(H.x1-M)/S,ce=(H.y1-E)/O;me([k,K,ie],[q,re,ce],{x:k,y:q,cx:ie,cy:ce});break;case"Z":De(k,q,G,V)?F.push({x:k,y:q}):(Ie(k,q,G,V),F.push({x:G,y:V}));break;case"C":for(var se=function(J,ye,Se,Xe,Ce,oe,ae,X){var J=new W(new c.default.Vector(J,ye),new c.default.Vector(Se,Xe),new c.default.Vector(Ce,oe),new c.default.Vector(ae,X)).splitInflections(),Y=[],ee=30/g,ge=!0,ye=!1,Se=void 0;try{for(var Te,Be=J[Symbol.iterator]();!(ge=(Te=Be.next()).done);ge=!0){for(var ze=Te.value,Ze=[],dt=void 0;!(.125<=(dt=ee/ze.quadError()));){var ut=Math.pow(dt,.3333333333333333),it=ze.split(ut),ft=ze.split(1-ut/(1-ut));Y.push(it),Ze.push(ze),ze=ft}dt<1&&Y.push(ze.split(.5)),Y.push(ze),Array.prototype.push.apply(Y,Ze.reverse())}}catch(ht){ye=!0,Se=ht}finally{try{ge||Be.return==null||Be.return()}finally{if(ye)throw Se}}return Y}(k,q,(H.x1-M)/S,(H.y1-E)/O,(H.x2-M)/S,(H.y2-E)/O,K,re),he=0;he<se.length;he++){var le=se[he].toQuadratic();me([le.x,le.x1,le.cx],[le.y,le.y1,le.cy],le)}break;default:throw new Error("unknown command type: ".concat(H.type))}k=K,q=re}}}catch(Pe){ue=!0,P=Pe}finally{try{Q||U.return==null||U.return()}finally{if(ue)throw P}}for(var te=F.length,pe=this.strokeImageInfos.findImage(te),ve=pe.index,Me=0;Me<te;++Me){var xe=F[Me];v(pe,_e(xe.x),_e(xe.y),_e(xe.cx),_e(xe.cy))}(D=this.glyphInfos[_.index]={glyph:_,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:pe,strokes:F,colInfo:Ge(L,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ge(I,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D;function me(Pe,He,Ye){var Xe=F.length;function Ce(Y,ee,ge){for(var ye=Y.length;0<ye--;){var Se=Y[ye];Se<ee&&(ee=Se),ge<Se&&(ge=Se)}return{min:ee,max:ge}}F.push(Ye);for(var Ye=Ce(Pe,1,0),Pe=Math.max(Math.floor(9*Ye.min-.5),0),oe=Math.min(Math.ceil(9*Ye.max+.5),9),ae=Pe;ae<oe;++ae)L[ae].push(Xe);for(var Ye=Ce(He,1,0),Pe=Math.max(Math.floor(9*Ye.min-.5),0),X=Math.min(Math.ceil(9*Ye.max+.5),9),J=Pe;J<X;++J)I[J].push(Xe)}function _e(Pe){return(Pe=(Ye=255)*Pe)<(He=0)?He:Ye<Pe?Ye:Pe;var He,Ye}function Ie(Pe,He,Ye,Xe){me([Pe,Ye],[He,Xe],{x:Pe,y:He,cx:(Pe+Ye)/2,cy:(He+Xe)/2})}function De(Pe,He,Ye,Xe){return Math.abs(Ye-Pe)<1e-5&&Math.abs(Xe-He)<1e-5}function Ge(Pe,He,Ye){for(var Xe=Pe.length,Ce=He.findImage(Xe),He=Ce.index,oe=0,ae=0;ae<Xe;++ae)oe+=Pe[ae].length;for(var X=Ye.findImage(oe),J=0;J<Xe;++J){var Y=Pe[J],ee=Y.length,ge=X.index;v(Ce,ge>>7,127&ge,ee>>7,127&ee);for(var ye=0;ye<ee;++ye){var Se=Y[ye]+ve;v(X,Se>>7,127&Se,0,0)}}return{cellImageInfo:X,dimOffset:He,dimImageInfo:Ce}}}}]),b}();c.default.RendererGL.prototype._renderText=function(b,_,D,C,M){if(this._textFont&&typeof this._textFont!="string"){if(!(M<=C)&&this._doFill){if(this._isOpenType()){b.push();var M=this._doStroke,E=this.drawMode,S=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),O=(O=this._textFont._fontInfo)||(this._textFont._fontInfo=new w(S)),D=this._textFont._handleAlignment(this,_,D,C),C=this._textSize/S.unitsPerEm,j=(this.translate(D.x,D.y,0),this.scale(C,C,1),this.GL),D=!this._defaultFontShader,F=this._getFontShader(),I=(F.init(),F.bindShader(),D&&(F.setUniform("uGridImageSize",[64,64]),F.setUniform("uCellsImageSize",[64,64]),F.setUniform("uStrokeImageSize",[64,64]),F.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),L=(I||((C=this._textGeom=new c.default.Geometry(1,1,function(){for(var he=0;he<=1;he++)for(var le=0;le<=1;le++)this.vertices.push(new c.default.Vector(le,he,0)),this.uvs.push(le,he)})).computeFaces().computeNormals(),I=this.createBuffers("glyph",C)),!0),D=!1,C=void 0;try{for(var B,k=this.retainedMode.buffers.text[Symbol.iterator]();!(L=(B=k.next()).done);L=!0)B.value._prepareBuffer(I,F)}catch(he){D=!0,C=he}finally{try{L||k.return==null||k.return()}finally{if(D)throw C}}this._bindBuffer(I.indexBuffer,j.ELEMENT_ARRAY_BUFFER),F.setUniform("uMaterialColor",this.curFillColor),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var q=0,G=null,V=S.stringToGlyphs(_),W=!0,Q=!1,ue=void 0;try{for(var P,A=V[Symbol.iterator]();!(W=(P=A.next()).done);W=!0){var U,H,K=P.value,re=(G&&(q+=S.getKerningValue(G,K)),O.getGlyphInfo(K));re.uGlyphRect&&(U=re.rowInfo,H=re.colInfo,F.setUniform("uSamplerStrokes",re.strokeImageInfo.imageData),F.setUniform("uSamplerRowStrokes",U.cellImageInfo.imageData),F.setUniform("uSamplerRows",U.dimImageInfo.imageData),F.setUniform("uSamplerColStrokes",H.cellImageInfo.imageData),F.setUniform("uSamplerCols",H.dimImageInfo.imageData),F.setUniform("uGridOffset",re.uGridOffset),F.setUniform("uGlyphRect",re.uGlyphRect),F.setUniform("uGlyphOffset",q),F.bindTextures(),j.drawElements(j.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),q+=K.advanceWidth,G=K}}catch(he){Q=!0,ue=he}finally{try{W||A.return==null||A.return()}finally{if(Q)throw ue}}}finally{F.unbindShader(),this._doStroke=M,this.drawMode=E,j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return b}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});var Nh=null;var Ih=1,Db=Symbol("SIGNAL");function rr(n){let r=Nh;return Nh=n,r}function Sb(){return Nh}var Oh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function G2(n){if(!(Lh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ih)){if(!n.producerMustRecompute(n)&&!kh(n)){n.dirty=!1,n.lastCleanEpoch=Ih;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ih}}function Fh(n){return n&&(n.nextProducerIndex=0),rr(n)}function Eb(n,r){if(rr(r),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Lh(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)Ph(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function kh(n){Bh(n);for(let r=0;r<n.producerNode.length;r++){let o=n.producerNode[r],t=n.producerLastReadVersion[r];if(t!==o.version||(G2(o),t!==o.version))return!0}return!1}function Rh(n){if(Bh(n),Lh(n))for(let r=0;r<n.producerNode.length;r++)Ph(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ph(n,r){if(H2(n),n.liveConsumerNode.length===1&&q2(n))for(let t=0;t<n.producerNode.length;t++)Ph(n.producerNode[t],n.producerIndexOfThis[t]);let o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){let t=n.liveConsumerIndexOfThis[r],i=n.liveConsumerNode[r];Bh(i),i.producerIndexOfThis[t]=r}}function Lh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function H2(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function q2(n){return n.producerNode!==void 0}function W2(){throw new Error}var $2=W2;function Cb(n){$2=n}function _t(n){return typeof n=="function"}function Qs(n){let o=n(t=>{Error.call(t),t.stack=new Error().stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}var Yl=Qs(n=>function(o){n(this),this.message=o?`${o.length} errors occurred during unsubscription:
${o.map((t,i)=>`${i+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=o});function us(n,r){if(n){let o=n.indexOf(r);0<=o&&n.splice(o,1)}}var Sr=class n{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(let s of o)s.remove(this);else o.remove(this);let{initialTeardown:t}=this;if(_t(t))try{t()}catch(s){r=s instanceof Yl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Mb(s)}catch(a){r=r??[],a instanceof Yl?r=[...r,...a.errors]:r.push(a)}}if(r)throw new Yl(r)}}add(r){var o;if(r&&r!==this)if(this.closed)Mb(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(o=this._finalizers)!==null&&o!==void 0?o:[]).push(r)}}_hasParent(r){let{_parentage:o}=this;return o===r||Array.isArray(o)&&o.includes(r)}_addParent(r){let{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(r),o):o?[o,r]:r}_removeParent(r){let{_parentage:o}=this;o===r?this._parentage=null:Array.isArray(o)&&us(o,r)}remove(r){let{_finalizers:o}=this;o&&us(o,r),r instanceof n&&r._removeParent(this)}};Sr.EMPTY=(()=>{let n=new Sr;return n.closed=!0,n})();var Uh=Sr.EMPTY;function Xl(n){return n instanceof Sr||n&&"closed"in n&&_t(n.remove)&&_t(n.add)&&_t(n.unsubscribe)}function Mb(n){_t(n)?n():n.unsubscribe()}var ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ks={setTimeout(n,r,...o){let{delegate:t}=Ks;return t?.setTimeout?t.setTimeout(n,r,...o):setTimeout(n,r,...o)},clearTimeout(n){let{delegate:r}=Ks;return(r?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zl(n){Ks.setTimeout(()=>{let{onUnhandledError:r}=ho;if(r)r(n);else throw n})}function xu(){}var Tb=Vh("C",void 0,void 0);function Ab(n){return Vh("E",void 0,n)}function jb(n){return Vh("N",n,void 0)}function Vh(n,r,o){return{kind:n,value:r,error:o}}var ls=null;function Js(n){if(ho.useDeprecatedSynchronousErrorHandling){let r=!ls;if(r&&(ls={errorThrown:!1,error:null}),n(),r){let{errorThrown:o,error:t}=ls;if(ls=null,o)throw t}}else n()}function Ib(n){ho.useDeprecatedSynchronousErrorHandling&&ls&&(ls.errorThrown=!0,ls.error=n)}var cs=class extends Sr{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,Xl(r)&&r.add(this)):this.destination=Z2}static create(r,o,t){return new ea(r,o,t)}next(r){this.isStopped?Gh(jb(r),this):this._next(r)}error(r){this.isStopped?Gh(Ab(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Gh(Tb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Y2=Function.prototype.bind;function zh(n,r){return Y2.call(n,r)}var Hh=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:o}=this;if(o.next)try{o.next(r)}catch(t){Ql(t)}}error(r){let{partialObserver:o}=this;if(o.error)try{o.error(r)}catch(t){Ql(t)}else Ql(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(o){Ql(o)}}},ea=class extends cs{constructor(r,o,t){super();let i;if(_t(r)||!r)i={next:r??void 0,error:o??void 0,complete:t??void 0};else{let s;this&&ho.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&zh(r.next,s),error:r.error&&zh(r.error,s),complete:r.complete&&zh(r.complete,s)}):i=r}this.destination=new Hh(i)}};function Ql(n){ho.useDeprecatedSynchronousErrorHandling?Ib(n):Zl(n)}function X2(n){throw n}function Gh(n,r){let{onStoppedNotification:o}=ho;o&&Ks.setTimeout(()=>o(n,r))}var Z2={closed:!0,next:xu,error:X2,complete:xu};var ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ln(n){return n}function qh(...n){return Wh(n)}function Wh(n){return n.length===0?Ln:n.length===1?n[0]:function(o){return n.reduce((t,i)=>i(t),o)}}var ir=(()=>{class n{constructor(o){o&&(this._subscribe=o)}lift(o){let t=new n;return t.source=this,t.operator=o,t}subscribe(o,t,i){let s=K2(o)?o:new ea(o,t,i);return Js(()=>{let{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(o){try{return this._subscribe(o)}catch(t){o.error(t)}}forEach(o,t){return t=Nb(t),new t((i,s)=>{let a=new ea({next:l=>{try{o(l)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(o){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(o)}[ta](){return this}pipe(...o){return Wh(o)(this)}toPromise(o){return o=Nb(o),new o((t,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>t(s))})}}return n.create=r=>new n(r),n})();function Nb(n){var r;return(r=n??ho.Promise)!==null&&r!==void 0?r:Promise}function Q2(n){return n&&_t(n.next)&&_t(n.error)&&_t(n.complete)}function K2(n){return n&&n instanceof cs||Q2(n)&&Xl(n)}function $h(n){return _t(n?.lift)}function Xt(n){return r=>{if($h(r))return r.lift(function(o){try{return n(o,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zt(n,r,o,t,i){return new Yh(n,r,o,t,i)}var Yh=class extends cs{constructor(r,o,t,i,s,a){super(r),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=o?function(l){try{o(l)}catch(u){r.error(u)}}:super._next,this._error=i?function(l){try{i(l)}catch(u){r.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(l){r.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:o}=this;super.unsubscribe(),!o&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function ra(){return Xt((n,r)=>{let o=null;n._refCount++;let t=Zt(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){o=null;return}let i=n._connection,s=o;o=null,i&&(!s||i===s)&&i.unsubscribe(),r.unsubscribe()});n.subscribe(t),t.closed||(o=n.connect())})}var na=class extends ir{constructor(r,o){super(),this.source=r,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,$h(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Sr;let o=this.getSubject();r.add(this.source.subscribe(Zt(o,void 0,()=>{this._teardown(),o.complete()},t=>{this._teardown(),o.error(t)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Sr.EMPTY)}return r}refCount(){return ra()(this)}};var oa={schedule(n){let r=requestAnimationFrame,o=cancelAnimationFrame,{delegate:t}=oa;t&&(r=t.requestAnimationFrame,o=t.cancelAnimationFrame);let i=r(s=>{o=void 0,n(s)});return new Sr(()=>o?.(i))},requestAnimationFrame(...n){let{delegate:r}=oa;return(r?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:r}=oa;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Ob=Qs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rn=(()=>{class n extends ir{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){let t=new Kl(this,this);return t.operator=o,t}_throwIfClosed(){if(this.closed)throw new Ob}next(o){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(o)}})}error(o){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;let{observers:t}=this;for(;t.length;)t.shift().error(o)}})}complete(){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){let{hasError:t,isStopped:i,observers:s}=this;return t||i?Uh:(this.currentObservers=null,s.push(o),new Sr(()=>{this.currentObservers=null,us(s,o)}))}_checkFinalizedStatuses(o){let{hasError:t,thrownError:i,isStopped:s}=this;t?o.error(i):s&&o.complete()}asObservable(){let o=new ir;return o.source=this,o}}return n.create=(r,o)=>new Kl(r,o),n})(),Kl=class extends rn{constructor(r,o){super(),this.destination=r,this.source=o}next(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.next)===null||t===void 0||t.call(o,r)}error(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.error)===null||t===void 0||t.call(o,r)}complete(){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||o===void 0||o.call(r)}_subscribe(r){var o,t;return(t=(o=this.source)===null||o===void 0?void 0:o.subscribe(r))!==null&&t!==void 0?t:Uh}};var cn=class extends rn{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let o=super._subscribe(r);return!o.closed&&r.next(this._value),o}getValue(){let{hasError:r,thrownError:o,_value:t}=this;if(r)throw o;return this._throwIfClosed(),t}next(r){super.next(this._value=r)}};var Xh={now(){return(Xh.delegate||Date).now()},delegate:void 0};var Jl=class extends Sr{constructor(r,o){super()}schedule(r,o=0){return this}};var Du={setInterval(n,r,...o){let{delegate:t}=Du;return t?.setInterval?t.setInterval(n,r,...o):setInterval(n,r,...o)},clearInterval(n){let{delegate:r}=Du;return(r?.clearInterval||clearInterval)(n)},delegate:void 0};var ec=class extends Jl{constructor(r,o){super(r,o),this.scheduler=r,this.work=o,this.pending=!1}schedule(r,o=0){var t;if(this.closed)return this;this.state=r;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,o)),this.pending=!0,this.delay=o,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(s,this.id,o),this}requestAsyncId(r,o,t=0){return Du.setInterval(r.flush.bind(r,this),t)}recycleAsyncId(r,o,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return o;o!=null&&Du.clearInterval(o)}execute(r,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(r,o);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,o){let t=!1,i;try{this.work(r)}catch(s){t=!0,i=s||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:r,scheduler:o}=this,{actions:t}=o;this.work=this.state=this.scheduler=null,this.pending=!1,us(t,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,super.unsubscribe()}}};var ia=class n{constructor(r,o=n.now){this.schedulerActionCtor=r,this.now=o}schedule(r,o=0,t){return new this.schedulerActionCtor(this,r).schedule(t,o)}};ia.now=Xh.now;var tc=class extends ia{constructor(r,o=ia.now){super(r,o),this.actions=[],this._active=!1}flush(r){let{actions:o}=this;if(this._active){o.push(r);return}let t;this._active=!0;do if(t=r.execute(r.state,r.delay))break;while(r=o.shift());if(this._active=!1,t){for(;r=o.shift();)r.unsubscribe();throw t}}};var rc=class extends ec{constructor(r,o){super(r,o),this.scheduler=r,this.work=o}requestAsyncId(r,o,t=0){return t!==null&&t>0?super.requestAsyncId(r,o,t):(r.actions.push(this),r._scheduled||(r._scheduled=oa.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,o,t=0){var i;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(r,o,t);let{actions:s}=r;o!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==o&&(oa.cancelAnimationFrame(o),r._scheduled=void 0)}};var nc=class extends tc{flush(r){this._active=!0;let o=this._scheduled;this._scheduled=void 0;let{actions:t}=this,i;r=r||t.shift();do if(i=r.execute(r.state,r.delay))break;while((r=t[0])&&r.id===o&&t.shift());if(this._active=!1,i){for(;(r=t[0])&&r.id===o&&t.shift();)r.unsubscribe();throw i}}};var Zh=new nc(rc);var En=new ir(n=>n.complete());function Fb(n){return n&&_t(n.schedule)}function Qh(n){return n[n.length-1]}function kb(n){return _t(Qh(n))?n.pop():void 0}function No(n){return Fb(Qh(n))?n.pop():void 0}function Rb(n,r){return typeof Qh(n)=="number"?n.pop():r}function Lb(n,r,o,t){function i(s){return s instanceof o?s:new o(function(a){a(s)})}return new(o||(o=Promise))(function(s,a){function l(m){try{c(t.next(m))}catch(y){a(y)}}function u(m){try{c(t.throw(m))}catch(y){a(y)}}function c(m){m.done?s(m.value):i(m.value).then(l,u)}c((t=t.apply(n,r||[])).next())})}function Pb(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],t=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ds(n){return this instanceof ds?(this.v=n,this):new ds(n)}function Bb(n,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o.apply(n,r||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(p){return Promise.resolve(p).then(h,y)}}function l(h,p){t[h]&&(i[h]=function(f){return new Promise(function(v,g){s.push([h,f,v,g])>1||u(h,f)})},p&&(i[h]=p(i[h])))}function u(h,p){try{c(t[h](p))}catch(f){d(s[0][3],f)}}function c(h){h.value instanceof ds?Promise.resolve(h.value.v).then(m,y):d(s[0][2],h)}function m(h){u("next",h)}function y(h){u("throw",h)}function d(h,p){h(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Ub(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],o;return r?r.call(n):(n=typeof Pb=="function"?Pb(n):n[Symbol.iterator](),o={},t("next"),t("throw"),t("return"),o[Symbol.asyncIterator]=function(){return this},o);function t(s){o[s]=n[s]&&function(a){return new Promise(function(l,u){a=n[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(c){s({value:c,done:l})},a)}}var sa=n=>n&&typeof n.length=="number"&&typeof n!="function";function oc(n){return _t(n?.then)}function ic(n){return _t(n[ta])}function sc(n){return Symbol.asyncIterator&&_t(n?.[Symbol.asyncIterator])}function ac(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function J2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uc=J2();function lc(n){return _t(n?.[uc])}function cc(n){return Bb(this,arguments,function*(){let o=n.getReader();try{for(;;){let{value:t,done:i}=yield ds(o.read());if(i)return yield ds(void 0);yield yield ds(t)}}finally{o.releaseLock()}})}function dc(n){return _t(n?.getReader)}function Rr(n){if(n instanceof ir)return n;if(n!=null){if(ic(n))return eM(n);if(sa(n))return tM(n);if(oc(n))return rM(n);if(sc(n))return Vb(n);if(lc(n))return nM(n);if(dc(n))return oM(n)}throw ac(n)}function eM(n){return new ir(r=>{let o=n[ta]();if(_t(o.subscribe))return o.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tM(n){return new ir(r=>{for(let o=0;o<n.length&&!r.closed;o++)r.next(n[o]);r.complete()})}function rM(n){return new ir(r=>{n.then(o=>{r.closed||(r.next(o),r.complete())},o=>r.error(o)).then(null,Zl)})}function nM(n){return new ir(r=>{for(let o of n)if(r.next(o),r.closed)return;r.complete()})}function Vb(n){return new ir(r=>{iM(n,r).catch(o=>r.error(o))})}function oM(n){return Vb(cc(n))}function iM(n,r){var o,t,i,s;return Lb(this,void 0,void 0,function*(){try{for(o=Ub(n);t=yield o.next(),!t.done;){let a=t.value;if(r.next(a),r.closed)return}}catch(a){i={error:a}}finally{try{t&&!t.done&&(s=o.return)&&(yield s.call(o))}finally{if(i)throw i.error}}r.complete()})}function jn(n,r,o,t=0,i=!1){let s=r.schedule(function(){o(),i?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(s),!i)return s}function fc(n,r=0){return Xt((o,t)=>{o.subscribe(Zt(t,i=>jn(t,n,()=>t.next(i),r),()=>jn(t,n,()=>t.complete(),r),i=>jn(t,n,()=>t.error(i),r)))})}function hc(n,r=0){return Xt((o,t)=>{t.add(n.schedule(()=>o.subscribe(t),r))})}function zb(n,r){return Rr(n).pipe(hc(r),fc(r))}function Gb(n,r){return Rr(n).pipe(hc(r),fc(r))}function Hb(n,r){return new ir(o=>{let t=0;return r.schedule(function(){t===n.length?o.complete():(o.next(n[t++]),o.closed||this.schedule())})})}function qb(n,r){return new ir(o=>{let t;return jn(o,r,()=>{t=n[uc](),jn(o,r,()=>{let i,s;try{({value:i,done:s}=t.next())}catch(a){o.error(a);return}s?o.complete():o.next(i)},0,!0)}),()=>_t(t?.return)&&t.return()})}function pc(n,r){if(!n)throw new Error("Iterable cannot be null");return new ir(o=>{jn(o,r,()=>{let t=n[Symbol.asyncIterator]();jn(o,r,()=>{t.next().then(i=>{i.done?o.complete():o.next(i.value)})},0,!0)})})}function Wb(n,r){return pc(cc(n),r)}function $b(n,r){if(n!=null){if(ic(n))return zb(n,r);if(sa(n))return Hb(n,r);if(oc(n))return Gb(n,r);if(sc(n))return pc(n,r);if(lc(n))return qb(n,r);if(dc(n))return Wb(n,r)}throw ac(n)}function Er(n,r){return r?$b(n,r):Rr(n)}function Dt(...n){let r=No(n);return Er(n,r)}function aa(n,r){let o=_t(n)?n:()=>n,t=i=>i.error(o());return new ir(r?i=>r.schedule(t,0,i):t)}function Kh(n){return!!n&&(n instanceof ir||_t(n.lift)&&_t(n.subscribe))}var oi=Qs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $t(n,r){return Xt((o,t)=>{let i=0;o.subscribe(Zt(t,s=>{t.next(n.call(r,s,i++))}))})}var{isArray:sM}=Array;function aM(n,r){return sM(r)?n(...r):n(r)}function mc(n){return $t(r=>aM(n,r))}var{isArray:uM}=Array,{getPrototypeOf:lM,prototype:cM,keys:dM}=Object;function Yb(n){if(n.length===1){let r=n[0];if(uM(r))return{args:r,keys:null};if(fM(r)){let o=dM(r);return{args:o.map(t=>r[t]),keys:o}}}return{args:n,keys:null}}function fM(n){return n&&typeof n=="object"&&lM(n)===cM}function Xb(n,r){return n.reduce((o,t,i)=>(o[t]=r[i],o),{})}function Su(...n){let r=No(n),o=kb(n),{args:t,keys:i}=Yb(n);if(t.length===0)return Er([],r);let s=new ir(hM(t,r,i?a=>Xb(i,a):Ln));return o?s.pipe(mc(o)):s}function hM(n,r,o=Ln){return t=>{Zb(r,()=>{let{length:i}=n,s=new Array(i),a=i,l=i;for(let u=0;u<i;u++)Zb(r,()=>{let c=Er(n[u],r),m=!1;c.subscribe(Zt(t,y=>{s[u]=y,m||(m=!0,l--),l||t.next(o(s.slice()))},()=>{--a||t.complete()}))},t)},t)}}function Zb(n,r,o){n?jn(o,n,r):r()}function Qb(n,r,o,t,i,s,a,l){let u=[],c=0,m=0,y=!1,d=()=>{y&&!u.length&&!c&&r.complete()},h=f=>c<t?p(f):u.push(f),p=f=>{s&&r.next(f),c++;let v=!1;Rr(o(f,m++)).subscribe(Zt(r,g=>{i?.(g),s?h(g):r.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<t;){let g=u.shift();a?jn(r,a,()=>p(g)):p(g)}d()}catch(g){r.error(g)}}))};return n.subscribe(Zt(r,h,()=>{y=!0,d()})),()=>{l?.()}}function Pr(n,r,o=1/0){return _t(r)?Pr((t,i)=>$t((s,a)=>r(t,s,i,a))(Rr(n(t,i))),o):(typeof r=="number"&&(o=r),Xt((t,i)=>Qb(t,i,n,o)))}function Oo(n=1/0){return Pr(Ln,n)}function Kb(){return Oo(1)}function ua(...n){return Kb()(Er(n,No(n)))}function gc(n){return new ir(r=>{Rr(n()).subscribe(r)})}var pM=["addListener","removeListener"],mM=["addEventListener","removeEventListener"],gM=["on","off"];function la(n,r,o,t){if(_t(o)&&(t=o,o=void 0),t)return la(n,r,o).pipe(mc(t));let[i,s]=bM(n)?mM.map(a=>l=>n[a](r,l,o)):yM(n)?pM.map(Jb(n,r)):vM(n)?gM.map(Jb(n,r)):[];if(!i&&sa(n))return Pr(a=>la(a,r,o))(Rr(n));if(!i)throw new TypeError("Invalid event target");return new ir(a=>{let l=(...u)=>a.next(1<u.length?u:u[0]);return i(l),()=>s(l)})}function Jb(n,r){return o=>t=>n[o](r,t)}function yM(n){return _t(n.addListener)&&_t(n.removeListener)}function vM(n){return _t(n.on)&&_t(n.off)}function bM(n){return _t(n.addEventListener)&&_t(n.removeEventListener)}function Jh(...n){let r=No(n),o=Rb(n,1/0),t=n;return t.length?t.length===1?Rr(t[0]):Oo(o)(Er(t,r)):En}function Xn(n,r){return Xt((o,t)=>{let i=0;o.subscribe(Zt(t,s=>n.call(r,s,i++)&&t.next(s)))})}function Ai(n){return Xt((r,o)=>{let t=null,i=!1,s;t=r.subscribe(Zt(o,void 0,void 0,a=>{s=Rr(n(a,Ai(n)(r))),t?(t.unsubscribe(),t=null,s.subscribe(o)):i=!0})),i&&(t.unsubscribe(),t=null,s.subscribe(o))})}function e1(n,r,o,t,i){return(s,a)=>{let l=o,u=r,c=0;s.subscribe(Zt(a,m=>{let y=c++;u=l?n(u,m,y):(l=!0,m),t&&a.next(u)},i&&(()=>{l&&a.next(u),a.complete()})))}}function fs(n,r){return _t(r)?Pr(n,r,1):Pr(n,1)}function ji(n){return Xt((r,o)=>{let t=!1;r.subscribe(Zt(o,i=>{t=!0,o.next(i)},()=>{t||o.next(n),o.complete()}))})}function po(n){return n<=0?()=>En:Xt((r,o)=>{let t=0;r.subscribe(Zt(o,i=>{++t<=n&&(o.next(i),n<=t&&o.complete())}))})}function ep(n){return $t(()=>n)}function yc(n=wM){return Xt((r,o)=>{let t=!1;r.subscribe(Zt(o,i=>{t=!0,o.next(i)},()=>t?o.complete():o.error(n())))})}function wM(){return new oi}function Eu(n){return Xt((r,o)=>{try{r.subscribe(o)}finally{o.add(n)}})}function Fo(n,r){let o=arguments.length>=2;return t=>t.pipe(n?Xn((i,s)=>n(i,s,t)):Ln,po(1),o?ji(r):yc(()=>new oi))}function ca(n){return n<=0?()=>En:Xt((r,o)=>{let t=[];r.subscribe(Zt(o,i=>{t.push(i),n<t.length&&t.shift()},()=>{for(let i of t)o.next(i);o.complete()},void 0,()=>{t=null}))})}function tp(n,r){let o=arguments.length>=2;return t=>t.pipe(n?Xn((i,s)=>n(i,s,t)):Ln,ca(1),o?ji(r):yc(()=>new oi))}function rp(n,r){return Xt(e1(n,r,arguments.length>=2,!0))}function np(...n){let r=No(n);return Xt((o,t)=>{(r?ua(n,o,r):ua(n,o)).subscribe(t)})}function Zn(n,r){return Xt((o,t)=>{let i=null,s=0,a=!1,l=()=>a&&!i&&t.complete();o.subscribe(Zt(t,u=>{i?.unsubscribe();let c=0,m=s++;Rr(n(u,m)).subscribe(i=Zt(t,y=>t.next(r?r(u,y,m,c++):y),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function op(n){return Xt((r,o)=>{Rr(n).subscribe(Zt(o,()=>o.complete(),xu)),!o.closed&&r.subscribe(o)})}function dn(n,r,o){let t=_t(n)||r||o?{next:n,error:r,complete:o}:n;return t?Xt((i,s)=>{var a;(a=t.subscribe)===null||a===void 0||a.call(t);let l=!0;i.subscribe(Zt(s,u=>{var c;(c=t.next)===null||c===void 0||c.call(t,u),s.next(u)},()=>{var u;l=!1,(u=t.complete)===null||u===void 0||u.call(t),s.complete()},u=>{var c;l=!1,(c=t.error)===null||c===void 0||c.call(t,u),s.error(u)},()=>{var u,c;l&&((u=t.unsubscribe)===null||u===void 0||u.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):Ln}var L1="https://g.co/ng/security#xss",Qe=class extends Error{constructor(r,o){super(pm(r,o)),this.code=r}};function pm(n,r){return`${`NG0${Math.abs(n)}`}${r?": "+r:""}`}function Pu(n){return{toString:n}.toString()}var vc="__parameters__";function _M(n){return function(...o){if(n){let t=n(...o);for(let i in t)this[i]=t[i]}}}function B1(n,r,o){return Pu(()=>{let t=_M(r);function i(...s){if(this instanceof i)return t.apply(this,s),this;let a=new i(...s);return l.annotation=a,l;function l(u,c,m){let y=u.hasOwnProperty(vc)?u[vc]:Object.defineProperty(u,vc,{value:[]})[vc];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(a),u}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vo=globalThis;function pr(n){for(let r in n)if(n[r]===pr)return r;throw Error("Could not find renamed property on target object.")}function Cn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Cn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let r=n.toString();if(r==null)return""+r;let o=r.indexOf(`
`);return o===-1?r:r.substring(0,o)}function gp(n,r){return n==null||n===""?r===null?"":r:r==null||r===""?n:n+" "+r}var xM=pr({__forward_ref__:pr});function U1(n){return n.__forward_ref__=U1,n.toString=function(){return Cn(this())},n}function Kn(n){return V1(n)?n():n}function V1(n){return typeof n=="function"&&n.hasOwnProperty(xM)&&n.__forward_ref__===U1}function tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kc(n){return t1(n,G1)||t1(n,H1)}function z1(n){return Kc(n)!==null}function t1(n,r){return n.hasOwnProperty(r)?n[r]:null}function DM(n){let r=n&&(n[G1]||n[H1]);return r||null}function r1(n){return n&&(n.hasOwnProperty(n1)||n.hasOwnProperty(SM))?n[n1]:null}var G1=pr({\u0275prov:pr}),n1=pr({\u0275inj:pr}),H1=pr({ngInjectableDef:pr}),SM=pr({ngInjectorDef:pr}),wt=class{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof o=="number"?this.__NG_ELEMENT_ID__=o:o!==void 0&&(this.\u0275prov=tt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q1(n){return n&&!!n.\u0275providers}var EM=pr({\u0275cmp:pr}),CM=pr({\u0275dir:pr}),MM=pr({\u0275pipe:pr}),TM=pr({\u0275mod:pr}),Tc=pr({\u0275fac:pr}),Mu=pr({__NG_ELEMENT_ID__:pr}),o1=pr({__NG_ENV_ID__:pr});function Jc(n){return typeof n=="string"?n:n==null?"":String(n)}function AM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jc(n)}function jM(n,r){let o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Qe(-200,n)}function mm(n,r){throw new Qe(-201,!1)}var Ft=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ft||{}),yp;function W1(){return yp}function Qn(n){let r=yp;return yp=n,r}function $1(n,r,o){let t=Kc(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(o&Ft.Optional)return null;if(r!==void 0)return r;mm(n,"Injector")}var IM={},Au=IM,vp="__NG_DI_FLAG__",Ac="ngTempTokenPath",NM="ngTokenPath",OM=/\n/gm,FM="\u0275",i1="__source",ma;function kM(){return ma}function Ii(n){let r=ma;return ma=n,r}function RM(n,r=Ft.Default){if(ma===void 0)throw new Qe(-203,!1);return ma===null?$1(n,void 0,r):ma.get(n,r&Ft.Optional?null:void 0,r)}function st(n,r=Ft.Default){return(W1()||RM)(Kn(n),r)}function Je(n,r=Ft.Default){return st(n,ed(r))}function ed(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bp(n){let r=[];for(let o=0;o<n.length;o++){let t=Kn(n[o]);if(Array.isArray(t)){if(t.length===0)throw new Qe(900,!1);let i,s=Ft.Default;for(let a=0;a<t.length;a++){let l=t[a],u=PM(l);typeof u=="number"?u===-1?i=l.token:s|=u:i=l}r.push(st(i,s))}else r.push(st(t))}return r}function Y1(n,r){return n[vp]=r,n.prototype[vp]=r,n}function PM(n){return n[vp]}function LM(n,r,o,t){let i=n[Ac];throw r[i1]&&i.unshift(r[i1]),n.message=BM(`
`+n.message,i,o,t),n[NM]=i,n[Ac]=null,n}function BM(n,r,o,t=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FM?n.slice(2):n;let i=Cn(r);if(Array.isArray(r))i=r.map(Cn).join(" -> ");else if(typeof r=="object"){let s=[];for(let a in r)if(r.hasOwnProperty(a)){let l=r[a];s.push(a+":"+(typeof l=="string"?JSON.stringify(l):Cn(l)))}i=`{${s.join(", ")}}`}return`${o}${t?"("+t+")":""}[${i}]: ${n.replace(OM,`
  `)}`}var Lu=Y1(B1("Optional"),8);var td=Y1(B1("SkipSelf"),4);function ya(n,r){let o=n.hasOwnProperty(Tc);return o?n[Tc]:null}function UM(n,r,o){if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=r[t];if(o&&(i=o(i),s=o(s)),s!==i)return!1}return!0}function VM(n){return n.flat(Number.POSITIVE_INFINITY)}function gm(n,r){n.forEach(o=>Array.isArray(o)?gm(o,r):r(o))}function X1(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function jc(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function zM(n,r){let o=[];for(let t=0;t<n;t++)o.push(r);return o}function GM(n,r,o,t){let i=n.length;if(i==r)n.push(o,t);else if(i===1)n.push(t,n[0]),n[0]=o;else{for(i--,n.push(n[i-1],n[i]);i>r;){let s=i-2;n[i]=n[s],i--}n[r]=o,n[r+1]=t}}function ym(n,r,o){let t=Bu(n,r);return t>=0?n[t|1]=o:(t=~t,GM(n,t,r,o)),t}function ip(n,r){let o=Bu(n,r);if(o>=0)return n[o|1]}function Bu(n,r){return HM(n,r,1)}function HM(n,r,o){let t=0,i=n.length>>o;for(;i!==t;){let s=t+(i-t>>1),a=n[s<<o];if(r===a)return s<<o;a>r?i=s:t=s+1}return~(i<<o)}var ju={},Bn=[],va=new wt(""),Z1=new wt("",-1),Q1=new wt(""),Ic=class{get(r,o=Au){if(o===Au){let t=new Error(`NullInjectorError: No provider for ${Cn(r)}!`);throw t.name="NullInjectorError",t}return o}},K1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(K1||{}),Po=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Po||{}),Fi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fi||{});function qM(n,r,o){let t=n.length;for(;;){let i=n.indexOf(r,o);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=r.length;if(i+s===t||n.charCodeAt(i+s)<=32)return i}o=i+1}}function wp(n,r,o){let t=0;for(;t<o.length;){let i=o[t];if(typeof i=="number"){if(i!==0)break;t++;let s=o[t++],a=o[t++],l=o[t++];n.setAttribute(r,a,l,s)}else{let s=i,a=o[++t];WM(s)?n.setProperty(r,s,a):n.setAttribute(r,s,a),t++}}return t}function J1(n){return n===3||n===4||n===6}function WM(n){return n.charCodeAt(0)===64}function vm(n,r){if(!(r===null||r.length===0))if(n===null||n.length===0)n=r.slice();else{let o=-1;for(let t=0;t<r.length;t++){let i=r[t];typeof i=="number"?o=i:o===0||(o===-1||o===2?s1(n,o,i,null,r[++t]):s1(n,o,i,null,null))}}return n}function s1(n,r,o,t,i){let s=0,a=n.length;if(r===-1)a=-1;else for(;s<n.length;){let l=n[s++];if(typeof l=="number"){if(l===r){a=-1;break}else if(l>r){a=s-1;break}}}for(;s<n.length;){let l=n[s];if(typeof l=="number")break;if(l===o){if(t===null){i!==null&&(n[s+1]=i);return}else if(t===n[s+1]){n[s+2]=i;return}}s++,t!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,r),s=a+1),n.splice(s++,0,o),t!==null&&n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}var ew="ng-template";function $M(n,r,o,t){let i=0;if(t){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&qM(r[i+1].toLowerCase(),o,0)!==-1)return!0}else if(bm(n))return!1;if(i=r.indexOf(1,i),i>-1){let s;for(;++i<r.length&&typeof(s=r[i])=="string";)if(s.toLowerCase()===o)return!0}return!1}function bm(n){return n.type===4&&n.value!==ew}function YM(n,r,o){let t=n.type===4&&!o?ew:n.value;return r===t}function XM(n,r,o){let t=4,i=n.attrs,s=i!==null?KM(i):0,a=!1;for(let l=0;l<r.length;l++){let u=r[l];if(typeof u=="number"){if(!a&&!mo(t)&&!mo(u))return!1;if(a&&mo(u))continue;a=!1,t=u|t&1;continue}if(!a)if(t&4){if(t=2|t&1,u!==""&&!YM(n,u,o)||u===""&&r.length===1){if(mo(t))return!1;a=!0}}else if(t&8){if(i===null||!$M(n,i,u,o)){if(mo(t))return!1;a=!0}}else{let c=r[++l],m=ZM(u,i,bm(n),o);if(m===-1){if(mo(t))return!1;a=!0;continue}if(c!==""){let y;if(m>s?y="":y=i[m+1].toLowerCase(),t&2&&c!==y){if(mo(t))return!1;a=!0}}}}return mo(t)||a}function mo(n){return(n&1)===0}function ZM(n,r,o,t){if(r===null)return-1;let i=0;if(t||!o){let s=!1;for(;i<r.length;){let a=r[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let l=r[++i];for(;typeof l=="string";)l=r[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return JM(r,n)}function tw(n,r,o=!1){for(let t=0;t<r.length;t++)if(XM(n,r[t],o))return!0;return!1}function QM(n){let r=n.attrs;if(r!=null){let o=r.indexOf(5);if(!(o&1))return r[o+1]}return null}function KM(n){for(let r=0;r<n.length;r++){let o=n[r];if(J1(o))return r}return n.length}function JM(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){let t=n[o];if(typeof t=="number")return-1;if(t===r)return o;o++}return-1}function eT(n,r){e:for(let o=0;o<r.length;o++){let t=r[o];if(n.length===t.length){for(let i=0;i<n.length;i++)if(n[i]!==t[i])continue e;return!0}}return!1}function a1(n,r){return n?":not("+r.trim()+")":r}function tT(n){let r=n[0],o=1,t=2,i="",s=!1;for(;o<n.length;){let a=n[o];if(typeof a=="string")if(t&2){let l=n[++o];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else t&8?i+="."+a:t&4&&(i+=" "+a);else i!==""&&!mo(a)&&(r+=a1(s,i),i=""),t=a,s=s||!mo(t);o++}return i!==""&&(r+=a1(s,i)),r}function rT(n){return n.map(tT).join(",")}function nT(n){let r=[],o=[],t=1,i=2;for(;t<n.length;){let s=n[t];if(typeof s=="string")i===2?s!==""&&r.push(s,n[++t]):i===8&&o.push(s);else{if(!mo(i))break;i=s}t++}return{attrs:r,classes:o}}function lr(n){return Pu(()=>{let r=sw(n),o=hr(nt({},r),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===K1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Po.Emulated,styles:n.styles||Bn,_:null,schemas:n.schemas||null,tView:null,id:""});aw(o);let t=n.dependencies;return o.directiveDefs=l1(t,!1),o.pipeDefs=l1(t,!0),o.id=sT(o),o})}function oT(n){return ki(n)||rw(n)}function iT(n){return n!==null}function Hr(n){return Pu(()=>({type:n.type,bootstrap:n.bootstrap||Bn,declarations:n.declarations||Bn,imports:n.imports||Bn,exports:n.exports||Bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function u1(n,r){if(n==null)return ju;let o={};for(let t in n)if(n.hasOwnProperty(t)){let i=n[t],s,a,l=Fi.None;Array.isArray(i)?(l=i[0],s=i[1],a=i[2]??s):(s=i,a=i),r?(o[s]=l!==Fi.None?[t,l]:t,r[s]=a):o[s]=t}return o}function ro(n){return Pu(()=>{let r=sw(n);return aw(r),r})}function ki(n){return n[EM]||null}function rw(n){return n[CM]||null}function nw(n){return n[MM]||null}function ow(n){let r=ki(n)||rw(n)||nw(n);return r!==null?r.standalone:!1}function iw(n,r){let o=n[TM]||null;if(!o&&r===!0)throw new Error(`Type ${Cn(n)} does not have '\u0275mod' property.`);return o}function sw(n){let r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||ju,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:u1(n.inputs,r),outputs:u1(n.outputs),debugInfo:null}}function aw(n){n.features?.forEach(r=>r(n))}function l1(n,r){if(!n)return null;let o=r?nw:oT;return()=>(typeof n=="function"?n():n).map(t=>o(t)).filter(iT)}function sT(n){let r=0,o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of o)r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function aT(...n){return{\u0275providers:uw(!0,n),\u0275fromNgModule:!0}}function uw(n,...r){let o=[],t=new Set,i,s=a=>{o.push(a)};return gm(r,a=>{let l=a;_p(l,s,[],t)&&(i||=[],i.push(l))}),i!==void 0&&lw(i,s),o}function lw(n,r){for(let o=0;o<n.length;o++){let{ngModule:t,providers:i}=n[o];wm(i,s=>{r(s,t)})}}function _p(n,r,o,t){if(n=Kn(n),!n)return!1;let i=null,s=r1(n),a=!s&&ki(n);if(!s&&!a){let u=n.ngModule;if(s=r1(u),s)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=n}let l=t.has(i);if(a){if(l)return!1;if(t.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of u)_p(c,r,o,t)}}else if(s){if(s.imports!=null&&!l){t.add(i);let c;try{gm(s.imports,m=>{_p(m,r,o,t)&&(c||=[],c.push(m))})}finally{}c!==void 0&&lw(c,r)}if(!l){let c=ya(i)||(()=>new i);r({provide:i,useFactory:c,deps:Bn},i),r({provide:Q1,useValue:i,multi:!0},i),r({provide:va,useValue:()=>st(i),multi:!0},i)}let u=s.providers;if(u!=null&&!l){let c=n;wm(u,m=>{r(m,c)})}}else return!1;return i!==n&&n.providers!==void 0}function wm(n,r){for(let o of n)q1(o)&&(o=o.\u0275providers),Array.isArray(o)?wm(o,r):r(o)}var uT=pr({provide:String,useValue:pr});function cw(n){return n!==null&&typeof n=="object"&&uT in n}function lT(n){return!!(n&&n.useExisting)}function cT(n){return!!(n&&n.useFactory)}function xp(n){return typeof n=="function"}var rd=new wt(""),Dc={},dT={},sp;function _m(){return sp===void 0&&(sp=new Ic),sp}var Vn=class{},Iu=class extends Vn{get destroyed(){return this._destroyed}constructor(r,o,t,i){super(),this.parent=o,this.source=t,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sp(r,a=>this.processProvider(a)),this.records.set(Z1,da(void 0,this)),i.has("environment")&&this.records.set(Vn,da(void 0,this));let s=this.records.get(rd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Q1,Bn,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=rr(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let o=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of o)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rr(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let o=Ii(this),t=Qn(void 0),i;try{return r()}finally{Ii(o),Qn(t)}}get(r,o=Au,t=Ft.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(o1))return r[o1](this);t=ed(t);let i,s=Ii(this),a=Qn(void 0);try{if(!(t&Ft.SkipSelf)){let u=this.records.get(r);if(u===void 0){let c=yT(r)&&Kc(r);c&&this.injectableDefInScope(c)?u=da(Dp(r),Dc):u=null,this.records.set(r,u)}if(u!=null)return this.hydrate(r,u)}let l=t&Ft.Self?_m():this.parent;return o=t&Ft.Optional&&o===Au?null:o,l.get(r,o)}catch(l){if(l.name==="NullInjectorError"){if((l[Ac]=l[Ac]||[]).unshift(Cn(r)),s)throw l;return LM(l,r,"R3InjectorError",this.source)}else throw l}finally{Qn(a),Ii(s)}}resolveInjectorInitializers(){let r=rr(null),o=Ii(this),t=Qn(void 0),i;try{let s=this.get(va,Bn,Ft.Self);for(let a of s)a()}finally{Ii(o),Qn(t),rr(r)}}toString(){let r=[],o=this.records;for(let t of o.keys())r.push(Cn(t));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(r){r=Kn(r);let o=xp(r)?r:Kn(r&&r.provide),t=hT(r);if(!xp(r)&&r.multi===!0){let i=this.records.get(o);i||(i=da(void 0,Dc,!0),i.factory=()=>bp(i.multi),this.records.set(o,i)),o=r,i.multi.push(r)}this.records.set(o,t)}hydrate(r,o){let t=rr(null);try{return o.value===Dc&&(o.value=dT,o.value=o.factory()),typeof o.value=="object"&&o.value&&gT(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{rr(t)}}injectableDefInScope(r){if(!r.providedIn)return!1;let o=Kn(r.providedIn);return typeof o=="string"?o==="any"||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){let o=this._onDestroyHooks.indexOf(r);o!==-1&&this._onDestroyHooks.splice(o,1)}};function Dp(n){let r=Kc(n),o=r!==null?r.factory:ya(n);if(o!==null)return o;if(n instanceof wt)throw new Qe(204,!1);if(n instanceof Function)return fT(n);throw new Qe(204,!1)}function fT(n){if(n.length>0)throw new Qe(204,!1);let o=DM(n);return o!==null?()=>o.factory(n):()=>new n}function hT(n){if(cw(n))return da(void 0,n.useValue);{let r=pT(n);return da(r,Dc)}}function pT(n,r,o){let t;if(xp(n)){let i=Kn(n);return ya(i)||Dp(i)}else if(cw(n))t=()=>Kn(n.useValue);else if(cT(n))t=()=>n.useFactory(...bp(n.deps||[]));else if(lT(n))t=()=>st(Kn(n.useExisting));else{let i=Kn(n&&(n.useClass||n.provide));if(mT(n))t=()=>new i(...bp(n.deps));else return ya(i)||Dp(i)}return t}function da(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function mT(n){return!!n.deps}function gT(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yT(n){return typeof n=="function"||typeof n=="object"&&n instanceof wt}function Sp(n,r){for(let o of n)Array.isArray(o)?Sp(o,r):o&&q1(o)?Sp(o.\u0275providers,r):r(o)}function Vo(n,r){n instanceof Iu&&n.assertNotDestroyed();let o,t=Ii(n),i=Qn(void 0);try{return r()}finally{Ii(t),Qn(i)}}function dw(){return W1()!==void 0||kM()!=null}function vT(n){if(!dw())throw new Qe(-203,!1)}function bT(n){let r=vo.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function wT(n){return typeof n=="function"}var ui=0,kt=1,Ct=2,wn=3,yo=4,In=5,Nu=6,Nc=7,bo=8,ba=9,Lo=10,zr=11,Ou=12,c1=13,Ca=14,eo=15,gs=16,fa=17,ii=18,nd=19,fw=20,Ni=21,ap=22,Jn=23,wo=25,hw=1;var ys=7,Oc=8,wa=9,Un=10,Fc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fc||{});function Oi(n){return Array.isArray(n)&&typeof n[hw]=="object"}function li(n){return Array.isArray(n)&&n[hw]===!0}function xm(n){return(n.flags&4)!==0}function od(n){return n.componentOffset>-1}function id(n){return(n.flags&1)===1}function Uu(n){return!!n.template}function Ep(n){return(n[Ct]&512)!==0}var Cp=class{constructor(r,o,t){this.previousValue=r,this.currentValue=o,this.firstChange=t}isFirstChange(){return this.firstChange}};function pw(n,r,o,t){r!==null?r.applyValueToInputSignal(r,t):n[o]=t}function zo(){return mw}function mw(n){return n.type.prototype.ngOnChanges&&(n.setInput=xT),_T}zo.ngInherit=!0;function _T(){let n=yw(this),r=n?.current;if(r){let o=n.previous;if(o===ju)n.previous=r;else for(let t in r)o[t]=r[t];n.current=null,this.ngOnChanges(r)}}function xT(n,r,o,t,i){let s=this.declaredInputs[t],a=yw(n)||DT(n,{previous:ju,current:null}),l=a.current||(a.current={}),u=a.previous,c=u[s];l[s]=new Cp(c&&c.currentValue,o,u===ju),pw(n,r,i,o)}var gw="__ngSimpleChanges__";function yw(n){return n[gw]||null}function DT(n,r){return n[gw]=r}var d1=null;var ko=function(n,r,o){d1?.(n,r,o)},ST="svg",ET="math";function Bo(n){for(;Array.isArray(n);)n=n[ui];return n}function vw(n,r){return Bo(r[n])}function no(n,r){return Bo(r[n.index])}function bw(n,r){return n.data[r]}function Bi(n,r){let o=r[n];return Oi(o)?o:o[ui]}function CT(n){return(n[Ct]&4)===4}function Dm(n){return(n[Ct]&128)===128}function MT(n){return li(n[wn])}function _a(n,r){return r==null?null:n[r]}function ww(n){n[fa]=0}function _w(n){n[Ct]&1024||(n[Ct]|=1024,Dm(n)&&ad(n))}function TT(n,r){for(;n>0;)r=r[Ca],n--;return r}function sd(n){return!!(n[Ct]&9216||n[Jn]?.dirty)}function Mp(n){n[Lo].changeDetectionScheduler?.notify(8),n[Ct]&64&&(n[Ct]|=1024),sd(n)&&ad(n)}function ad(n){n[Lo].changeDetectionScheduler?.notify(0);let r=vs(n);for(;r!==null&&!(r[Ct]&8192||(r[Ct]|=8192,!Dm(r)));)r=vs(r)}function xw(n,r){if((n[Ct]&256)===256)throw new Qe(911,!1);n[Ni]===null&&(n[Ni]=[]),n[Ni].push(r)}function AT(n,r){if(n[Ni]===null)return;let o=n[Ni].indexOf(r);o!==-1&&n[Ni].splice(o,1)}function vs(n){let r=n[wn];return li(r)?r[wn]:r}var Lt={lFrame:Nw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dw=!1;function jT(){return Lt.lFrame.elementDepthCount}function IT(){Lt.lFrame.elementDepthCount++}function NT(){Lt.lFrame.elementDepthCount--}function Sw(){return Lt.bindingsEnabled}function Ew(){return Lt.skipHydrationRootTNode!==null}function OT(n){return Lt.skipHydrationRootTNode===n}function FT(){Lt.skipHydrationRootTNode=null}function nr(){return Lt.lFrame.lView}function _n(){return Lt.lFrame.tView}function xs(n){return Lt.lFrame.contextLView=n,n[bo]}function Ds(n){return Lt.lFrame.contextLView=null,n}function Mn(){let n=Cw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Cw(){return Lt.lFrame.currentTNode}function kT(){let n=Lt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Ss(n,r){let o=Lt.lFrame;o.currentTNode=n,o.isParent=r}function Sm(){return Lt.lFrame.isParent}function Em(){Lt.lFrame.isParent=!1}function Mw(){return Dw}function f1(n){Dw=n}function RT(){let n=Lt.lFrame,r=n.bindingRootIndex;return r===-1&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function PT(n){return Lt.lFrame.bindingIndex=n}function Cm(){return Lt.lFrame.bindingIndex++}function Tw(n){let r=Lt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function LT(){return Lt.lFrame.inI18n}function BT(n,r){let o=Lt.lFrame;o.bindingIndex=o.bindingRootIndex=n,Tp(r)}function UT(){return Lt.lFrame.currentDirectiveIndex}function Tp(n){Lt.lFrame.currentDirectiveIndex=n}function VT(n){let r=Lt.lFrame.currentDirectiveIndex;return r===-1?null:n[r]}function Aw(){return Lt.lFrame.currentQueryIndex}function Mm(n){Lt.lFrame.currentQueryIndex=n}function zT(n){let r=n[kt];return r.type===2?r.declTNode:r.type===1?n[In]:null}function jw(n,r,o){if(o&Ft.SkipSelf){let i=r,s=n;for(;i=i.parent,i===null&&!(o&Ft.Host);)if(i=zT(s),i===null||(s=s[Ca],i.type&10))break;if(i===null)return!1;r=i,n=s}let t=Lt.lFrame=Iw();return t.currentTNode=r,t.lView=n,!0}function Tm(n){let r=Iw(),o=n[kt];Lt.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Iw(){let n=Lt.lFrame,r=n===null?null:n.child;return r===null?Nw(n):r}function Nw(n){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=r),r}function Ow(){let n=Lt.lFrame;return Lt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Fw=Ow;function Am(){let n=Ow();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function GT(n){return(Lt.lFrame.contextLView=TT(n,Lt.lFrame.contextLView))[bo]}function Es(){return Lt.lFrame.selectedIndex}function bs(n){Lt.lFrame.selectedIndex=n}function jm(){let n=Lt.lFrame;return bw(n.tView,n.selectedIndex)}function HT(){return Lt.lFrame.currentNamespace}var kw=!0;function ud(){return kw}function ld(n){kw=n}function qT(n,r,o){let{ngOnChanges:t,ngOnInit:i,ngDoCheck:s}=r.type.prototype;if(t){let a=mw(r);(o.preOrderHooks??=[]).push(n,a),(o.preOrderCheckHooks??=[]).push(n,a)}i&&(o.preOrderHooks??=[]).push(0-n,i),s&&((o.preOrderHooks??=[]).push(n,s),(o.preOrderCheckHooks??=[]).push(n,s))}function cd(n,r){for(let o=r.directiveStart,t=r.directiveEnd;o<t;o++){let s=n.data[o].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:m}=s;a&&(n.contentHooks??=[]).push(-o,a),l&&((n.contentHooks??=[]).push(o,l),(n.contentCheckHooks??=[]).push(o,l)),u&&(n.viewHooks??=[]).push(-o,u),c&&((n.viewHooks??=[]).push(o,c),(n.viewCheckHooks??=[]).push(o,c)),m!=null&&(n.destroyHooks??=[]).push(o,m)}}function Sc(n,r,o){Rw(n,r,3,o)}function Ec(n,r,o,t){(n[Ct]&3)===o&&Rw(n,r,o,t)}function up(n,r){let o=n[Ct];(o&3)===r&&(o&=16383,o+=1,n[Ct]=o)}function Rw(n,r,o,t){let i=t!==void 0?n[fa]&65535:0,s=t??-1,a=r.length-1,l=0;for(let u=i;u<a;u++)if(typeof r[u+1]=="number"){if(l=r[u],t!=null&&l>=t)break}else r[u]<0&&(n[fa]+=65536),(l<s||s==-1)&&(WT(n,o,r,u),n[fa]=(n[fa]&4294901760)+u+2),u++}function h1(n,r){ko(4,n,r);let o=rr(null);try{r.call(n)}finally{rr(o),ko(5,n,r)}}function WT(n,r,o,t){let i=o[t]<0,s=o[t+1],a=i?-o[t]:o[t],l=n[a];i?n[Ct]>>14<n[fa]>>16&&(n[Ct]&3)===r&&(n[Ct]+=16384,h1(l,s)):h1(l,s)}var ga=-1,Fu=class{constructor(r,o,t){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=t}};function $T(n){return n instanceof Fu}function YT(n){return(n.flags&8)!==0}function XT(n){return(n.flags&16)!==0}var lp={},Ap=class{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,t){t=ed(t);let i=this.injector.get(r,lp,t);return i!==lp||o===lp?i:this.parentInjector.get(r,o,t)}};function Pw(n){return n!==ga}function kc(n){return n&32767}function ZT(n){return n>>16}function Rc(n,r){let o=ZT(n),t=r;for(;o>0;)t=t[Ca],o--;return t}var jp=!0;function p1(n){let r=jp;return jp=n,r}var QT=256,Lw=QT-1,Bw=5,KT=0,Ro={};function JT(n,r,o){let t;typeof o=="string"?t=o.charCodeAt(0)||0:o.hasOwnProperty(Mu)&&(t=o[Mu]),t==null&&(t=o[Mu]=KT++);let i=t&Lw,s=1<<i;r.data[n+(i>>Bw)]|=s}function Uw(n,r){let o=Vw(n,r);if(o!==-1)return o;let t=r[kt];t.firstCreatePass&&(n.injectorIndex=r.length,cp(t.data,n),cp(r,null),cp(t.blueprint,null));let i=Im(n,r),s=n.injectorIndex;if(Pw(i)){let a=kc(i),l=Rc(i,r),u=l[kt].data;for(let c=0;c<8;c++)r[s+c]=l[a+c]|u[a+c]}return r[s+8]=i,s}function cp(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Vw(n,r){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||r[n.injectorIndex+8]===null?-1:n.injectorIndex}function Im(n,r){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let o=0,t=null,i=r;for(;i!==null;){if(t=Ww(i),t===null)return ga;if(o++,i=i[Ca],t.injectorIndex!==-1)return t.injectorIndex|o<<16}return ga}function eA(n,r,o){JT(n,r,o)}function tA(n,r){if(r==="class")return n.classes;if(r==="style")return n.styles;let o=n.attrs;if(o){let t=o.length,i=0;for(;i<t;){let s=o[i];if(J1(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<t&&typeof o[i]=="string";)i++;else{if(s===r)return o[i+1];i=i+2}}}return null}function zw(n,r,o){if(o&Ft.Optional||n!==void 0)return n;mm(r,"NodeInjector")}function Gw(n,r,o,t){if(o&Ft.Optional&&t===void 0&&(t=null),!(o&(Ft.Self|Ft.Host))){let i=n[ba],s=Qn(void 0);try{return i?i.get(r,t,o&Ft.Optional):$1(r,t,o&Ft.Optional)}finally{Qn(s)}}return zw(t,r,o)}function Hw(n,r,o,t=Ft.Default,i){if(n!==null){if(r[Ct]&2048&&!(t&Ft.Self)){let a=iA(n,r,o,t,Ro);if(a!==Ro)return a}let s=qw(n,r,o,t,Ro);if(s!==Ro)return s}return Gw(r,o,t,i)}function qw(n,r,o,t,i){let s=nA(o);if(typeof s=="function"){if(!jw(r,n,t))return t&Ft.Host?zw(i,o,t):Gw(r,o,t,i);try{let a;if(a=s(t),a==null&&!(t&Ft.Optional))mm(o);else return a}finally{Fw()}}else if(typeof s=="number"){let a=null,l=Vw(n,r),u=ga,c=t&Ft.Host?r[eo][In]:null;for((l===-1||t&Ft.SkipSelf)&&(u=l===-1?Im(n,r):r[l+8],u===ga||!g1(t,!1)?l=-1:(a=r[kt],l=kc(u),r=Rc(u,r)));l!==-1;){let m=r[kt];if(m1(s,l,m.data)){let y=rA(l,r,o,a,t,c);if(y!==Ro)return y}u=r[l+8],u!==ga&&g1(t,r[kt].data[l+8]===c)&&m1(s,l,r)?(a=m,l=kc(u),r=Rc(u,r)):l=-1}}return i}function rA(n,r,o,t,i,s){let a=r[kt],l=a.data[n+8],u=t==null?od(l)&&jp:t!=a&&(l.type&3)!==0,c=i&Ft.Host&&s===l,m=Cc(l,a,o,u,c);return m!==null?xa(r,a,m,l):Ro}function Cc(n,r,o,t,i){let s=n.providerIndexes,a=r.data,l=s&1048575,u=n.directiveStart,c=n.directiveEnd,m=s>>20,y=t?l:l+m,d=i?l+m:c;for(let h=y;h<d;h++){let p=a[h];if(h<u&&o===p||h>=u&&p.type===o)return h}if(i){let h=a[u];if(h&&Uu(h)&&h.type===o)return u}return null}function xa(n,r,o,t){let i=n[o],s=r.data;if($T(i)){let a=i;a.resolving&&jM(AM(s[o]));let l=p1(a.canSeeViewProviders);a.resolving=!0;let u,c=a.injectImpl?Qn(a.injectImpl):null,m=jw(n,t,Ft.Default);try{i=n[o]=a.factory(void 0,s,n,t),r.firstCreatePass&&o>=t.directiveStart&&qT(o,s[o],r)}finally{c!==null&&Qn(c),p1(l),a.resolving=!1,Fw()}}return i}function nA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let r=n.hasOwnProperty(Mu)?n[Mu]:void 0;return typeof r=="number"?r>=0?r&Lw:oA:r}function m1(n,r,o){let t=1<<n;return!!(o[r+(n>>Bw)]&t)}function g1(n,r){return!(n&Ft.Self)&&!(n&Ft.Host&&r)}var ms=class{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,t){return Hw(this._tNode,this._lView,r,ed(t),o)}};function oA(){return new ms(Mn(),nr())}function Nm(n){return Pu(()=>{let r=n.prototype.constructor,o=r[Tc]||Ip(r),t=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==t;){let s=i[Tc]||Ip(i);if(s&&s!==o)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ip(n){return V1(n)?()=>{let r=Ip(Kn(n));return r&&r()}:ya(n)}function iA(n,r,o,t,i){let s=n,a=r;for(;s!==null&&a!==null&&a[Ct]&2048&&!(a[Ct]&512);){let l=qw(s,a,o,t|Ft.Self,Ro);if(l!==Ro)return l;let u=s.parent;if(!u){let c=a[fw];if(c){let m=c.get(o,Ro,t);if(m!==Ro)return m}u=Ww(a),a=a[Ca]}s=u}return i}function Ww(n){let r=n[kt],o=r.type;return o===2?r.declTNode:o===1?n[In]:null}function Om(n){return tA(Mn(),n)}function y1(n,r=null,o=null,t){let i=$w(n,r,o,t);return i.resolveInjectorInitializers(),i}function $w(n,r=null,o=null,t,i=new Set){let s=[o||Bn,aT(n)];return t=t||(typeof n=="object"?void 0:Cn(n)),new Iu(s,r||_m(),t||null,i)}var hs=class hs{static create(r,o){if(Array.isArray(r))return y1({name:""},o,r,"");{let t=r.name??"";return y1({name:t},r.parent,r.providers,t)}}};hs.THROW_IF_NOT_FOUND=Au,hs.NULL=new Ic,hs.\u0275prov=tt({token:hs,providedIn:"any",factory:()=>st(Z1)}),hs.__NG_ELEMENT_ID__=-1;var fn=hs;var sA=new wt("");sA.__NG_ELEMENT_ID__=n=>{let r=Mn();if(r===null)throw new Qe(204,!1);if(r.type&2)return r.value;if(n&Ft.Optional)return null;throw new Qe(204,!1)};var aA="ngOriginalError";function dp(n){return n[aA]}var Yw=!0,Fm=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=uA,r.__NG_ENV_ID__=t=>t;let n=r;return n})(),Np=class extends Fm{constructor(r){super(),this._lView=r}onDestroy(r){return xw(this._lView,r),()=>AT(this._lView,r)}};function uA(){return new Np(nr())}var Ma=(()=>{let r=class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new cn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})();var Op=class extends rn{constructor(r=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,dw()&&(this.destroyRef=Je(Fm,{optional:!0})??void 0,this.pendingTasks=Je(Ma,{optional:!0})??void 0)}emit(r){let o=rr(null);try{super.next(r)}finally{rr(o)}}subscribe(r,o,t){let i=r,s=o||(()=>null),a=t;if(r&&typeof r=="object"){let u=r;i=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let l=super.subscribe({next:i,error:s,complete:a});return r instanceof Sr&&r.add(l),l}wrapInTimeout(r){return o=>{let t=this.pendingTasks?.add();setTimeout(()=>{r(o),t!==void 0&&this.pendingTasks?.remove(t)})}}},er=Op;function Pc(...n){}function Xw(n){let r,o;function t(){n=Pc;try{o!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(o),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{n(),t()}),typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(()=>{n(),t()})),()=>t()}function v1(n){return queueMicrotask(()=>n()),()=>{n=Pc}}var km="isAngularZone",Lc=km+"_ID",lA=0,Gt=class n{constructor(r){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1);let{enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Yw}=r;if(typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&t,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,fA(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(km)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Qe(909,!1)}run(r,o,t){return this._inner.run(r,o,t)}runTask(r,o,t,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,r,cA,Pc,Pc);try{return s.runTask(a,o,t)}finally{s.cancelTask(a)}}runGuarded(r,o,t){return this._inner.runGuarded(r,o,t)}runOutsideAngular(r){return this._outer.run(r)}},cA={};function Rm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function r(){Xw(()=>{n.callbackScheduled=!1,Fp(n),n.isCheckStableRunning=!0,Rm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{r()}):n._outer.run(()=>{r()}),Fp(n)}function fA(n){let r=()=>{dA(n)},o=lA++;n._inner=n._inner.fork({name:"angular",properties:{[km]:!0,[Lc]:o,[Lc+o]:!0},onInvokeTask:(t,i,s,a,l,u)=>{if(hA(u))return t.invokeTask(s,a,l,u);try{return b1(n),t.invokeTask(s,a,l,u)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&r(),w1(n)}},onInvoke:(t,i,s,a,l,u,c)=>{try{return b1(n),t.invoke(s,a,l,u,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!pA(u)&&r(),w1(n)}},onHasTask:(t,i,s,a)=>{t.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,Fp(n),Rm(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,i,s,a)=>(t.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function Fp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function b1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function w1(n){n._nesting--,Rm(n)}var Bc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(r,o,t){return r.apply(o,t)}runGuarded(r,o,t){return r.apply(o,t)}runOutsideAngular(r){return r()}runTask(r,o,t,i){return r.apply(o,t)}};function hA(n){return Zw(n,"__ignore_ng_zone__")}function pA(n){return Zw(n,"__scheduler_tick__")}function Zw(n,r){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[r]===!0}function mA(n="zone.js",r){return n==="noop"?new Bc:n==="zone.js"?new Gt(r):n}var si=class{constructor(){this._console=console}handleError(r){let o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&dp(r);for(;o&&dp(o);)o=dp(o);return o||null}},gA=new wt("",{providedIn:"root",factory:()=>{let n=Je(Gt),r=Je(si);return o=>n.runOutsideAngular(()=>r.handleError(o))}});function yA(){return Ta(Mn(),nr())}function Ta(n,r){return new Lr(no(n,r))}var Lr=(()=>{let r=class r{constructor(t){this.nativeElement=t}};r.__NG_ELEMENT_ID__=yA;let n=r;return n})();function vA(n){return n instanceof Lr?n.nativeElement:n}function bA(){return this._results[Symbol.iterator]()}var kp=class n{get changes(){return this._changes??=new er}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let o=n.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=bA)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;let t=VM(r);(this._changesDetected=!UM(this._results,t,o))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Qw(n){return(n.flags&128)===128}var Kw=new Map,wA=0;function _A(){return wA++}function xA(n){Kw.set(n[nd],n)}function Rp(n){Kw.delete(n[nd])}var _1="__ngContext__";function Ri(n,r){Oi(r)?(n[_1]=r[nd],xA(r)):n[_1]=r}function Jw(n){return t_(n[Ou])}function e_(n){return t_(n[yo])}function t_(n){for(;n!==null&&!li(n);)n=n[yo];return n}var Pp;function r_(n){Pp=n}function DA(){if(Pp!==void 0)return Pp;if(typeof document<"u")return document;throw new Qe(210,!1)}var dd=new wt("",{providedIn:"root",factory:()=>SA}),SA="ng",Pm=new wt(""),Nn=new wt("",{providedIn:"platform",factory:()=>"unknown"});var Lm=new wt(""),Bm=new wt("",{providedIn:"root",factory:()=>DA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EA="h",CA="b";var MA=()=>null;function Um(n,r,o=!1){return MA(n,r,o)}var n_=!1,TA=new wt("",{providedIn:"root",factory:()=>n_});var bc;function AA(){if(bc===void 0&&(bc=null,vo.trustedTypes))try{bc=vo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bc}function x1(n){return AA()?.createScriptURL(n)||n}var Uc=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${L1})`}};function Aa(n){return n instanceof Uc?n.changingThisBreaksApplicationSecurity:n}function Vm(n,r){let o=jA(n);if(o!=null&&o!==r){if(o==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${L1})`)}return o===r}function jA(n){return n instanceof Uc&&n.getTypeName()||null}var IA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function o_(n){return n=String(n),n.match(IA)?n:"unsafe:"+n}var fd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(fd||{});function ja(n){let r=s_();return r?r.sanitize(fd.URL,n)||"":Vm(n,"URL")?Aa(n):o_(Jc(n))}function NA(n){let r=s_();if(r)return x1(r.sanitize(fd.RESOURCE_URL,n)||"");if(Vm(n,"ResourceURL"))return x1(Aa(n));throw new Qe(904,!1)}function OA(n,r){return r==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||r==="href"&&(n==="base"||n==="link")?NA:ja}function i_(n,r,o){return OA(r,o)(n)}function s_(){let n=nr();return n&&n[Lo].sanitizer}var FA=/^>|^->|<!--|-->|--!>|<!-$/g,kA=/(<|>)/g,RA="\u200B$1\u200B";function PA(n){return n.replace(FA,r=>r.replace(kA,RA))}function zm(n){return n.ownerDocument.defaultView}function a_(n){return n instanceof Function?n():n}function LA(n){return(n??Je(fn)).get(Nn)==="browser"}var Uo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Uo||{}),BA;function Gm(n,r){return BA(n,r)}function ha(n,r,o,t,i){if(t!=null){let s,a=!1;li(t)?s=t:Oi(t)&&(a=!0,t=t[ui]);let l=Bo(t);n===0&&o!==null?i==null?h_(r,o,l):Vc(r,o,l,i||null,!0):n===1&&o!==null?Vc(r,o,l,i||null,!0):n===2?JA(r,l,a):n===3&&r.destroyNode(l),s!=null&&tj(r,n,s,o,i)}}function UA(n,r){return n.createText(r)}function VA(n,r,o){n.setValue(r,o)}function zA(n,r){return n.createComment(PA(r))}function u_(n,r,o){return n.createElement(r,o)}function GA(n,r){l_(n,r),r[ui]=null,r[In]=null}function HA(n,r,o,t,i,s){t[ui]=i,t[In]=r,pd(n,t,o,1,i,s)}function l_(n,r){r[Lo].changeDetectionScheduler?.notify(9),pd(n,r,r[zr],2,null,null)}function qA(n){let r=n[Ou];if(!r)return fp(n[kt],n);for(;r;){let o=null;if(Oi(r))o=r[Ou];else{let t=r[Un];t&&(o=t)}if(!o){for(;r&&!r[yo]&&r!==n;)Oi(r)&&fp(r[kt],r),r=r[wn];r===null&&(r=n),Oi(r)&&fp(r[kt],r),o=r&&r[yo]}r=o}}function WA(n,r,o,t){let i=Un+t,s=o.length;t>0&&(o[i-1][yo]=r),t<s-Un?(r[yo]=o[i],X1(o,Un+t,r)):(o.push(r),r[yo]=null),r[wn]=o;let a=r[gs];a!==null&&o!==a&&c_(a,r);let l=r[ii];l!==null&&l.insertView(n),Mp(r),r[Ct]|=128}function c_(n,r){let o=n[wa],t=r[wn];if(Oi(t))n[Ct]|=Fc.HasTransplantedViews;else{let i=t[wn][eo];r[eo]!==i&&(n[Ct]|=Fc.HasTransplantedViews)}o===null?n[wa]=[r]:o.push(r)}function Hm(n,r){let o=n[wa],t=o.indexOf(r);o.splice(t,1)}function Lp(n,r){if(n.length<=Un)return;let o=Un+r,t=n[o];if(t){let i=t[gs];i!==null&&i!==n&&Hm(i,t),r>0&&(n[o-1][yo]=t[yo]);let s=jc(n,Un+r);GA(t[kt],t);let a=s[ii];a!==null&&a.detachView(s[kt]),t[wn]=null,t[yo]=null,t[Ct]&=-129}return t}function d_(n,r){if(!(r[Ct]&256)){let o=r[zr];o.destroyNode&&pd(n,r,o,3,null,null),qA(r)}}function fp(n,r){if(r[Ct]&256)return;let o=rr(null);try{r[Ct]&=-129,r[Ct]|=256,r[Jn]&&Rh(r[Jn]),YA(n,r),$A(n,r),r[kt].type===1&&r[zr].destroy();let t=r[gs];if(t!==null&&li(r[wn])){t!==r[wn]&&Hm(t,r);let i=r[ii];i!==null&&i.detachView(n)}Rp(r)}finally{rr(o)}}function $A(n,r){let o=n.cleanup,t=r[Nc];if(o!==null)for(let s=0;s<o.length-1;s+=2)if(typeof o[s]=="string"){let a=o[s+3];a>=0?t[a]():t[-a].unsubscribe(),s+=2}else{let a=t[o[s+1]];o[s].call(a)}t!==null&&(r[Nc]=null);let i=r[Ni];if(i!==null){r[Ni]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function YA(n,r){let o;if(n!=null&&(o=n.destroyHooks)!=null)for(let t=0;t<o.length;t+=2){let i=r[o[t]];if(!(i instanceof Fu)){let s=o[t+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let l=i[s[a]],u=s[a+1];ko(4,l,u);try{u.call(l)}finally{ko(5,l,u)}}else{ko(4,i,s);try{s.call(i)}finally{ko(5,i,s)}}}}}function f_(n,r,o){return XA(n,r.parent,o)}function XA(n,r,o){let t=r;for(;t!==null&&t.type&168;)r=t,t=r.parent;if(t===null)return o[ui];{let{componentOffset:i}=t;if(i>-1){let{encapsulation:s}=n.data[t.directiveStart+i];if(s===Po.None||s===Po.Emulated)return null}return no(t,o)}}function Vc(n,r,o,t,i){n.insertBefore(r,o,t,i)}function h_(n,r,o){n.appendChild(r,o)}function D1(n,r,o,t,i){t!==null?Vc(n,r,o,t,i):h_(n,r,o)}function p_(n,r){return n.parentNode(r)}function ZA(n,r){return n.nextSibling(r)}function m_(n,r,o){return KA(n,r,o)}function QA(n,r,o){return n.type&40?no(n,o):null}var KA=QA,S1;function hd(n,r,o,t){let i=f_(n,t,r),s=r[zr],a=t.parent||r[In],l=m_(a,t,r);if(i!=null)if(Array.isArray(o))for(let u=0;u<o.length;u++)D1(s,i,o[u],l,!1);else D1(s,i,o,l,!1);S1!==void 0&&S1(s,t,r,o,i)}function Cu(n,r){if(r!==null){let o=r.type;if(o&3)return no(r,n);if(o&4)return Bp(-1,n[r.index]);if(o&8){let t=r.child;if(t!==null)return Cu(n,t);{let i=n[r.index];return li(i)?Bp(-1,i):Bo(i)}}else{if(o&128)return Cu(n,r.next);if(o&32)return Gm(r,n)()||Bo(n[r.index]);{let t=g_(n,r);if(t!==null){if(Array.isArray(t))return t[0];let i=vs(n[eo]);return Cu(i,t)}else return Cu(n,r.next)}}}return null}function g_(n,r){if(r!==null){let t=n[eo][In],i=r.projection;return t.projection[i]}return null}function Bp(n,r){let o=Un+n+1;if(o<r.length){let t=r[o],i=t[kt].firstChild;if(i!==null)return Cu(t,i)}return r[ys]}function JA(n,r,o){n.removeChild(null,r,o)}function qm(n,r,o,t,i,s,a){for(;o!=null;){if(o.type===128){o=o.next;continue}let l=t[o.index],u=o.type;if(a&&r===0&&(l&&Ri(Bo(l),t),o.flags|=2),(o.flags&32)!==32)if(u&8)qm(n,r,o.child,t,i,s,!1),ha(r,n,i,l,s);else if(u&32){let c=Gm(o,t),m;for(;m=c();)ha(r,n,i,m,s);ha(r,n,i,l,s)}else u&16?y_(n,r,t,o,i,s):ha(r,n,i,l,s);o=a?o.projectionNext:o.next}}function pd(n,r,o,t,i,s){qm(o,t,n.firstChild,r,i,s,!1)}function ej(n,r,o){let t=r[zr],i=f_(n,o,r),s=o.parent||r[In],a=m_(s,o,r);y_(t,0,r,o,i,a)}function y_(n,r,o,t,i,s){let a=o[eo],u=a[In].projection[t.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let m=u[c];ha(r,n,i,m,s)}else{let c=u,m=a[wn];Qw(t)&&(c.flags|=128),qm(n,r,c,m,i,s,!0)}}function tj(n,r,o,t,i){let s=o[ys],a=Bo(o);s!==a&&ha(r,n,t,s,i);for(let l=Un;l<o.length;l++){let u=o[l];pd(u[kt],u,n,r,t,s)}}function rj(n,r,o,t,i){if(r)i?n.addClass(o,t):n.removeClass(o,t);else{let s=t.indexOf("-")===-1?void 0:Uo.DashCase;i==null?n.removeStyle(o,t,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Uo.Important),n.setStyle(o,t,i,s))}}function nj(n,r,o){n.setAttribute(r,"style",o)}function v_(n,r,o){o===""?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function b_(n,r,o){let{mergedAttrs:t,classes:i,styles:s}=o;t!==null&&wp(n,r,t),i!==null&&v_(n,r,i),s!==null&&nj(n,r,s)}var Go={};function Vt(n=1){w_(_n(),nr(),Es()+n,!1)}function w_(n,r,o,t){if(!t)if((r[Ct]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Sc(r,s,o)}else{let s=n.preOrderHooks;s!==null&&Ec(r,s,0,o)}bs(o)}function bt(n,r=Ft.Default){let o=nr();if(o===null)return st(n,r);let t=Mn();return Hw(t,o,Kn(n),r)}function __(){let n="invalid";throw new Error(n)}function x_(n,r,o,t,i,s){let a=rr(null);try{let l=null;i&Fi.SignalBased&&(l=r[t][Db]),l!==null&&l.transformFn!==void 0&&(s=l.transformFn(s)),i&Fi.HasDecoratorInputTransform&&(s=n.inputTransforms[t].call(r,s)),n.setInput!==null?n.setInput(r,l,s,o,t):pw(r,l,t,s)}finally{rr(a)}}function oj(n,r){let o=n.hostBindingOpCodes;if(o!==null)try{for(let t=0;t<o.length;t++){let i=o[t];if(i<0)bs(~i);else{let s=i,a=o[++t],l=o[++t];BT(a,s);let u=r[s];l(2,u)}}}finally{bs(-1)}}function md(n,r,o,t,i,s,a,l,u,c,m){let y=r.blueprint.slice();return y[ui]=i,y[Ct]=t|4|128|8|64,(c!==null||n&&n[Ct]&2048)&&(y[Ct]|=2048),ww(y),y[wn]=y[Ca]=n,y[bo]=o,y[Lo]=a||n&&n[Lo],y[zr]=l||n&&n[zr],y[ba]=u||n&&n[ba]||null,y[In]=s,y[nd]=_A(),y[Nu]=m,y[fw]=c,y[eo]=r.type==2?n[eo]:y,y}function Ia(n,r,o,t,i){let s=n.data[r];if(s===null)s=ij(n,r,o,t,i),LT()&&(s.flags|=32);else if(s.type&64){s.type=o,s.value=t,s.attrs=i;let a=kT();s.injectorIndex=a===null?-1:a.injectorIndex}return Ss(s,!0),s}function ij(n,r,o,t,i){let s=Cw(),a=Sm(),l=a?s:s&&s.parent,u=n.data[r]=dj(n,l,o,r,t,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(a?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function D_(n,r,o,t){if(o===0)return-1;let i=r.length;for(let s=0;s<o;s++)r.push(t),n.blueprint.push(t),n.data.push(null);return i}function S_(n,r,o,t,i){let s=Es(),a=t&2;try{bs(-1),a&&r.length>wo&&w_(n,r,wo,!1),ko(a?2:0,i),o(t,i)}finally{bs(s),ko(a?3:1,i)}}function Wm(n,r,o){if(xm(r)){let t=rr(null);try{let i=r.directiveStart,s=r.directiveEnd;for(let a=i;a<s;a++){let l=n.data[a];if(l.contentQueries){let u=o[a];l.contentQueries(1,u,a)}}}finally{rr(t)}}}function $m(n,r,o){Sw()&&(yj(n,r,o,no(o,r)),(o.flags&64)===64&&T_(n,r,o))}function Ym(n,r,o=no){let t=r.localNames;if(t!==null){let i=r.index+1;for(let s=0;s<t.length;s+=2){let a=t[s+1],l=a===-1?o(r,n):n[a];n[i++]=l}}}function E_(n){let r=n.tView;return r===null||r.incompleteFirstPass?n.tView=Xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Xm(n,r,o,t,i,s,a,l,u,c,m){let y=wo+t,d=y+i,h=sj(y,d),p=typeof c=="function"?c():c;return h[kt]={type:n,blueprint:h,template:o,queries:null,viewQuery:l,declTNode:r,data:h.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:m}}function sj(n,r){let o=[];for(let t=0;t<r;t++)o.push(t<n?null:Go);return o}function aj(n,r,o,t){let s=t.get(TA,n_)||o===Po.ShadowDom,a=n.selectRootElement(r,s);return uj(a),a}function uj(n){lj(n)}var lj=()=>null;function cj(n,r,o,t){let i=I_(r);i.push(o),n.firstCreatePass&&N_(n).push(t,i.length-1)}function dj(n,r,o,t,i,s){let a=r?r.injectorIndex:-1,l=0;return Ew()&&(l|=128),{type:o,index:t,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function E1(n,r,o,t,i){for(let s in r){if(!r.hasOwnProperty(s))continue;let a=r[s];if(a===void 0)continue;t??={};let l,u=Fi.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}n===0?C1(t,o,c,l,u):C1(t,o,c,l)}return t}function C1(n,r,o,t,i){let s;n.hasOwnProperty(o)?(s=n[o]).push(r,t):s=n[o]=[r,t],i!==void 0&&s.push(i)}function fj(n,r,o){let t=r.directiveStart,i=r.directiveEnd,s=n.data,a=r.attrs,l=[],u=null,c=null;for(let m=t;m<i;m++){let y=s[m],d=o?o.get(y):null,h=d?d.inputs:null,p=d?d.outputs:null;u=E1(0,y.inputs,m,u,h),c=E1(1,y.outputs,m,c,p);let f=u!==null&&a!==null&&!bm(r)?Tj(u,m,a):null;l.push(f)}u!==null&&(u.hasOwnProperty("class")&&(r.flags|=8),u.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=l,r.inputs=u,r.outputs=c}function hj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function C_(n,r,o,t,i,s,a,l){let u=no(r,o),c=r.inputs,m;!l&&c!=null&&(m=c[t])?(Qm(n,o,m,t,i),od(r)&&pj(o,r.index)):r.type&3?(t=hj(t),i=a!=null?a(i,r.value||"",t):i,s.setProperty(u,t,i)):r.type&12}function pj(n,r){let o=Bi(r,n);o[Ct]&16||(o[Ct]|=64)}function Zm(n,r,o,t){if(Sw()){let i=t===null?null:{"":-1},s=bj(n,o),a,l;s===null?a=l=null:[a,l]=s,a!==null&&M_(n,r,o,a,i,l),i&&wj(o,t,i)}o.mergedAttrs=vm(o.mergedAttrs,o.attrs)}function M_(n,r,o,t,i,s){for(let c=0;c<t.length;c++)eA(Uw(o,r),n,t[c].type);xj(o,n.data.length,t.length);for(let c=0;c<t.length;c++){let m=t[c];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,u=D_(n,r,t.length,null);for(let c=0;c<t.length;c++){let m=t[c];o.mergedAttrs=vm(o.mergedAttrs,m.hostAttrs),Dj(n,o,r,u,m),_j(u,m,i),m.contentQueries!==null&&(o.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(o.flags|=64);let y=m.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),a=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),l=!0),u++}fj(n,o,s)}function mj(n,r,o,t,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let l=~r.index;gj(a)!=l&&a.push(l),a.push(o,t,s)}}function gj(n){let r=n.length;for(;r>0;){let o=n[--r];if(typeof o=="number"&&o<0)return o}return 0}function yj(n,r,o,t){let i=o.directiveStart,s=o.directiveEnd;od(o)&&Sj(r,o,n.data[i+o.componentOffset]),n.firstCreatePass||Uw(o,r),Ri(t,r);let a=o.initialInputs;for(let l=i;l<s;l++){let u=n.data[l],c=xa(r,n,l,o);if(Ri(c,r),a!==null&&Mj(r,l-i,c,u,o,a),Uu(u)){let m=Bi(o.index,r);m[bo]=xa(r,n,l,o)}}}function T_(n,r,o){let t=o.directiveStart,i=o.directiveEnd,s=o.index,a=UT();try{bs(s);for(let l=t;l<i;l++){let u=n.data[l],c=r[l];Tp(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vj(u,c)}}finally{bs(-1),Tp(a)}}function vj(n,r){n.hostBindings!==null&&n.hostBindings(1,r)}function bj(n,r){let o=n.directiveRegistry,t=null,i=null;if(o)for(let s=0;s<o.length;s++){let a=o[s];if(tw(r,a.selectors,!1))if(t||(t=[]),Uu(a))if(a.findHostDirectiveDefs!==null){let l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),t.unshift(...l,a);let u=l.length;Up(n,r,u)}else t.unshift(a),Up(n,r,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,t,i),t.push(a)}return t===null?null:[t,i]}function Up(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function wj(n,r,o){if(r){let t=n.localNames=[];for(let i=0;i<r.length;i+=2){let s=o[r[i+1]];if(s==null)throw new Qe(-301,!1);t.push(r[i],s)}}}function _j(n,r,o){if(o){if(r.exportAs)for(let t=0;t<r.exportAs.length;t++)o[r.exportAs[t]]=n;Uu(r)&&(o[""]=n)}}function xj(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Dj(n,r,o,t,i){n.data[t]=i;let s=i.factory||(i.factory=ya(i.type,!0)),a=new Fu(s,Uu(i),bt);n.blueprint[t]=a,o[t]=a,mj(n,r,t,D_(n,o,i.hostVars,Go),i)}function Sj(n,r,o){let t=no(r,n),i=E_(o),s=n[Lo].rendererFactory,a=16;o.signals?a=4096:o.onPush&&(a=64);let l=gd(n,md(n,i,null,a,t,r,null,s.createRenderer(t,o),null,null,null));n[r.index]=l}function Ej(n,r,o,t,i,s){let a=no(n,r);Cj(r[zr],a,s,n.value,o,t,i)}function Cj(n,r,o,t,i,s,a){if(s==null)n.removeAttribute(r,i,o);else{let l=a==null?Jc(s):a(s,t||"",i);n.setAttribute(r,i,l,o)}}function Mj(n,r,o,t,i,s){let a=s[r];if(a!==null)for(let l=0;l<a.length;){let u=a[l++],c=a[l++],m=a[l++],y=a[l++];x_(t,o,u,c,m,y)}}function Tj(n,r,o){let t=null,i=0;for(;i<o.length;){let s=o[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){t===null&&(t=[]);let a=n[s];for(let l=0;l<a.length;l+=3)if(a[l]===r){t.push(s,a[l+1],a[l+2],o[i+1]);break}}i+=2}return t}function A_(n,r,o,t){return[n,!0,0,r,null,t,null,o,null,null]}function j_(n,r){let o=n.contentQueries;if(o!==null){let t=rr(null);try{for(let i=0;i<o.length;i+=2){let s=o[i],a=o[i+1];if(a!==-1){let l=n.data[a];Mm(s),l.contentQueries(2,r[a],a)}}}finally{rr(t)}}}function gd(n,r){return n[Ou]?n[c1][yo]=r:n[Ou]=r,n[c1]=r,r}function Vp(n,r,o){Mm(0);let t=rr(null);try{r(n,o)}finally{rr(t)}}function I_(n){return n[Nc]??=[]}function N_(n){return n.cleanup??=[]}function O_(n,r){let o=n[ba],t=o?o.get(si,null):null;t&&t.handleError(r)}function Qm(n,r,o,t,i){for(let s=0;s<o.length;){let a=o[s++],l=o[s++],u=o[s++],c=r[a],m=n.data[a];x_(m,c,t,l,u,i)}}function Aj(n,r,o){let t=vw(r,n);VA(n[zr],t,o)}function jj(n,r){let o=Bi(r,n),t=o[kt];Ij(t,o);let i=o[ui];i!==null&&o[Nu]===null&&(o[Nu]=Um(i,o[ba])),Km(t,o,o[bo])}function Ij(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}function Km(n,r,o){Tm(r);try{let t=n.viewQuery;t!==null&&Vp(1,t,o);let i=n.template;i!==null&&S_(n,r,i,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),r[ii]?.finishViewCreation(n),n.staticContentQueries&&j_(n,r),n.staticViewQueries&&Vp(2,n.viewQuery,o);let s=n.components;s!==null&&Nj(r,s)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{r[Ct]&=-5,Am()}}function Nj(n,r){for(let o=0;o<r.length;o++)jj(n,r[o])}function F_(n,r,o,t){let i=rr(null);try{let s=r.tView,l=n[Ct]&4096?4096:16,u=md(n,s,o,l,null,r,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),c=n[r.index];u[gs]=c;let m=n[ii];return m!==null&&(u[ii]=m.createEmbeddedView(s)),Km(s,u,o),u}finally{rr(i)}}function zp(n,r){return!r||r.firstChild===null||Qw(n)}function k_(n,r,o,t=!0){let i=r[kt];if(WA(i,r,n,o),t){let a=Bp(o,n),l=r[zr],u=p_(l,n[ys]);u!==null&&HA(i,n[In],l,r,u,a)}let s=r[Nu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function zc(n,r,o,t,i=!1){for(;o!==null;){if(o.type===128){o=i?o.projectionNext:o.next;continue}let s=r[o.index];s!==null&&t.push(Bo(s)),li(s)&&Oj(s,t);let a=o.type;if(a&8)zc(n,r,o.child,t);else if(a&32){let l=Gm(o,r),u;for(;u=l();)t.push(u)}else if(a&16){let l=g_(r,o);if(Array.isArray(l))t.push(...l);else{let u=vs(r[eo]);zc(u[kt],u,l,t,!0)}}o=i?o.projectionNext:o.next}return t}function Oj(n,r){for(let o=Un;o<n.length;o++){let t=n[o],i=t[kt].firstChild;i!==null&&zc(t[kt],t,i,r)}n[ys]!==n[ui]&&r.push(n[ys])}var R_=[];function Fj(n){return n[Jn]??kj(n)}function kj(n){let r=R_.pop()??Object.create(Pj);return r.lView=n,r}function Rj(n){n.lView[Jn]!==n&&(n.lView=null,R_.push(n))}var Pj=hr(nt({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ad(n.lView)},consumerOnSignalRead(){this.lView[Jn]=this}});function Lj(n){let r=n[Jn]??Object.create(Bj);return r.lView=n,r}var Bj=hr(nt({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let r=vs(n.lView);for(;r&&!P_(r[kt]);)r=vs(r);r&&_w(r)},consumerOnSignalRead(){this.lView[Jn]=this}});function P_(n){return n.type!==2}var Uj=100;function L_(n,r=!0,o=0){let t=n[Lo],i=t.rendererFactory,s=!1;s||i.begin?.();try{Vj(n,o)}catch(a){throw r&&O_(n,a),a}finally{s||(i.end?.(),t.inlineEffectRunner?.flush())}}function Vj(n,r){let o=Mw();try{f1(!0),Gp(n,r);let t=0;for(;sd(n);){if(t===Uj)throw new Qe(103,!1);t++,Gp(n,1)}}finally{f1(o)}}function zj(n,r,o,t){let i=r[Ct];if((i&256)===256)return;let s=!1,a=!1;!s&&r[Lo].inlineEffectRunner?.flush(),Tm(r);let l=!0,u=null,c=null;s||(P_(n)?(c=Fj(r),u=Fh(c)):Sb()===null?(l=!1,c=Lj(r),u=Fh(c)):r[Jn]&&(Rh(r[Jn]),r[Jn]=null));try{ww(r),PT(n.bindingStartIndex),o!==null&&S_(n,r,o,2,t);let m=(i&3)===3;if(!s)if(m){let h=n.preOrderCheckHooks;h!==null&&Sc(r,h,null)}else{let h=n.preOrderHooks;h!==null&&Ec(r,h,0,null),up(r,0)}if(a||Gj(r),B_(r,0),n.contentQueries!==null&&j_(n,r),!s)if(m){let h=n.contentCheckHooks;h!==null&&Sc(r,h)}else{let h=n.contentHooks;h!==null&&Ec(r,h,1),up(r,1)}oj(n,r);let y=n.components;y!==null&&V_(r,y,0);let d=n.viewQuery;if(d!==null&&Vp(2,d,t),!s)if(m){let h=n.viewCheckHooks;h!==null&&Sc(r,h)}else{let h=n.viewHooks;h!==null&&Ec(r,h,2),up(r,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),r[ap]){for(let h of r[ap])h();r[ap]=null}s||(r[Ct]&=-73)}catch(m){throw s||ad(r),m}finally{c!==null&&(Eb(c,u),l&&Rj(c)),Am()}}function B_(n,r){for(let o=Jw(n);o!==null;o=e_(o))for(let t=Un;t<o.length;t++){let i=o[t];U_(i,r)}}function Gj(n){for(let r=Jw(n);r!==null;r=e_(r)){if(!(r[Ct]&Fc.HasTransplantedViews))continue;let o=r[wa];for(let t=0;t<o.length;t++){let i=o[t];_w(i)}}}function Hj(n,r,o){let t=Bi(r,n);U_(t,o)}function U_(n,r){Dm(n)&&Gp(n,r)}function Gp(n,r){let t=n[kt],i=n[Ct],s=n[Jn],a=!!(r===0&&i&16);if(a||=!!(i&64&&r===0),a||=!!(i&1024),a||=!!(s?.dirty&&kh(s)),a||=!1,s&&(s.dirty=!1),n[Ct]&=-9217,a)zj(t,n,t.template,n[bo]);else if(i&8192){B_(n,1);let l=t.components;l!==null&&V_(n,l,1)}}function V_(n,r,o){for(let t=0;t<r.length;t++)Hj(n,r[t],o)}function Jm(n,r){let o=Mw()?64:1088;for(n[Lo].changeDetectionScheduler?.notify(r);n;){n[Ct]|=o;let t=vs(n);if(Ep(n)&&!t)return n;n=t}return null}var ws=class{get rootNodes(){let r=this._lView,o=r[kt];return zc(o,r,o.firstChild,[])}constructor(r,o,t=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bo]}set context(r){this._lView[bo]=r}get destroyed(){return(this._lView[Ct]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[wn];if(li(r)){let o=r[Oc],t=o?o.indexOf(this):-1;t>-1&&(Lp(r,t),jc(o,t))}this._attachedToViewContainer=!1}d_(this._lView[kt],this._lView)}onDestroy(r){xw(this._lView,r)}markForCheck(){Jm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ct]&=-129}reattach(){Mp(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,L_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=Ep(this._lView),o=this._lView[gs];o!==null&&!r&&Hm(o,this._lView),l_(this._lView[kt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=r;let o=Ep(this._lView),t=this._lView[gs];t!==null&&!o&&c_(t,this._lView),Mp(this._lView)}},ai=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=$j;let n=r;return n})(),qj=ai,Wj=class extends qj{constructor(r,o,t){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,t){let i=F_(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:t});return new ws(i)}};function $j(){return eg(Mn(),nr())}function eg(n,r){return n.type&4?new Wj(r,n,Ta(n,r)):null}var p7=new RegExp(`^(\\d+)*(${CA}|${EA})*(.*)`);var Yj=()=>null;function Hp(n,r){return Yj(n,r)}var Da=class{},z_=new wt("",{providedIn:"root",factory:()=>!1});var G_=new wt(""),H_=new wt(""),qp=class{},Gc=class{};function Xj(n){let r=Error(`No component factory found for ${Cn(n)}.`);return r[Zj]=n,r}var Zj="ngComponent";var Wp=class{resolveComponentFactory(r){throw Xj(r)}},hg=class hg{};hg.NULL=new Wp;var Pi=hg,to=class{},Ho=(()=>{let r=class r{constructor(){this.destroyNode=null}};r.__NG_ELEMENT_ID__=()=>Qj();let n=r;return n})();function Qj(){let n=nr(),r=Mn(),o=Bi(r.index,n);return(Oi(o)?o:n)[zr]}var Kj=(()=>{let r=class r{};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>null});let n=r;return n})();function Hc(n,r,o){let t=o?n.styles:null,i=o?n.classes:null,s=0;if(r!==null)for(let a=0;a<r.length;a++){let l=r[a];if(typeof l=="number")s=l;else if(s==1)i=gp(i,l);else if(s==2){let u=l,c=r[++a];t=gp(t,u+": "+c+";")}}o?n.styles=t:n.stylesWithoutHost=t,o?n.classes=i:n.classesWithoutHost=i}var qc=class extends Pi{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let o=ki(r);return new Sa(o,this.ngModule)}};function M1(n,r){let o=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,l=s?i[1]:Fi.None;r?o.push({propName:a,templateName:t,isSignal:(l&Fi.SignalBased)!==0}):o.push({propName:a,templateName:t})}return o}function Jj(n){let r=n.toLowerCase();return r==="svg"?ST:r==="math"?ET:null}var Sa=class extends Gc{get inputs(){let r=this.componentDef,o=r.inputTransforms,t=M1(r.inputs,!0);if(o!==null)for(let i of t)o.hasOwnProperty(i.propName)&&(i.transform=o[i.propName]);return t}get outputs(){return M1(this.componentDef.outputs,!1)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=rT(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,t,i){let s=rr(null);try{i=i||this.ngModule;let a=i instanceof Vn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new Ap(r,a):r,u=l.get(to,null);if(u===null)throw new Qe(407,!1);let c=l.get(Kj,null),m=l.get(Da,null),y={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:m},d=u.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=t?aj(d,t,this.componentDef.encapsulation,l):u_(d,h,Jj(h)),f=512;this.componentDef.signals?f|=4096:this.componentDef.onPush||(f|=16);let v=null;p!==null&&(v=Um(p,l,!0));let g=Xm(0,null,null,1,0,null,null,null,null,null,null),w=md(null,g,null,f,null,null,y,d,l,null,v);Tm(w);let b,_,D=null;try{let C=this.componentDef,M,E=null;C.findHostDirectiveDefs?(M=[],E=new Map,C.findHostDirectiveDefs(C,M,E),M.push(C)):M=[C];let S=eI(w,p);D=tI(S,p,C,M,w,y,d),_=bw(g,wo),p&&oI(d,C,p,t),o!==void 0&&iI(_,this.ngContentSelectors,o),b=nI(D,C,M,E,w,[sI]),Km(g,w,null)}catch(C){throw D!==null&&Rp(D),Rp(w),C}finally{Am()}return new $p(this.componentType,b,Ta(_,w),w,_)}finally{rr(s)}}},$p=class extends qp{constructor(r,o,t,i,s){super(),this.location=t,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ws(i,void 0,!1),this.componentType=r}setInput(r,o){let t=this._tNode.inputs,i;if(t!==null&&(i=t[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;let s=this._rootLView;Qm(s[kt],s,i,r,o),this.previousInputValues.set(r,o);let a=Bi(this._tNode.index,s);Jm(a,1)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function eI(n,r){let o=n[kt],t=wo;return n[t]=r,Ia(o,t,2,"#host",null)}function tI(n,r,o,t,i,s,a){let l=i[kt];rI(t,n,r,a);let u=null;r!==null&&(u=Um(r,i[ba]));let c=s.rendererFactory.createRenderer(r,o),m=16;o.signals?m=4096:o.onPush&&(m=64);let y=md(i,E_(o),null,m,i[n.index],n,s,c,null,null,u);return l.firstCreatePass&&Up(l,n,t.length-1),gd(i,y),i[n.index]=y}function rI(n,r,o,t){for(let i of n)r.mergedAttrs=vm(r.mergedAttrs,i.hostAttrs);r.mergedAttrs!==null&&(Hc(r,r.mergedAttrs,!0),o!==null&&b_(t,o,r))}function nI(n,r,o,t,i,s){let a=Mn(),l=i[kt],u=no(a,i);M_(l,i,a,o,null,t);for(let m=0;m<o.length;m++){let y=a.directiveStart+m,d=xa(i,l,y,a);Ri(d,i)}T_(l,i,a),u&&Ri(u,i);let c=xa(i,l,a.directiveStart+a.componentOffset,a);if(n[bo]=i[bo]=c,s!==null)for(let m of s)m(c,r);return Wm(l,a,i),c}function oI(n,r,o,t){if(t)wp(n,o,["ng-version","18.2.2"]);else{let{attrs:i,classes:s}=nT(r.selectors[0]);i&&wp(n,o,i),s&&s.length>0&&v_(n,o,s.join(" "))}}function iI(n,r,o){let t=n.projection=[];for(let i=0;i<r.length;i++){let s=o[i];t.push(s!=null?Array.from(s):null)}}function sI(){let n=Mn();cd(nr()[kt],n)}var ci=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=aI;let n=r;return n})();function aI(){let n=Mn();return W_(n,nr())}var uI=ci,q_=class extends uI{constructor(r,o,t){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=t}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){let r=Im(this._hostTNode,this._hostLView);if(Pw(r)){let o=Rc(r,this._hostLView),t=kc(r),i=o[kt].data[t+8];return new ms(i,o)}else return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let o=T1(this._lContainer);return o!==null&&o[r]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(r,o,t){let i,s;typeof t=="number"?i=t:t!=null&&(i=t.index,s=t.injector);let a=Hp(this._lContainer,r.ssrId),l=r.createEmbeddedViewImpl(o||{},s,a);return this.insertImpl(l,i,zp(this._hostTNode,a)),l}createComponent(r,o,t,i,s){let a=r&&!wT(r),l;if(a)l=o;else{let p=o||{};l=p.index,t=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let u=a?r:new Sa(ki(r)),c=t||this.parentInjector;if(!s&&u.ngModule==null){let f=(a?c:this.parentInjector).get(Vn,null);f&&(s=f)}let m=ki(u.componentType??{}),y=Hp(this._lContainer,m?.id??null),d=y?.firstChild??null,h=u.create(c,i,d,s);return this.insertImpl(h.hostView,l,zp(this._hostTNode,y)),h}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,t){let i=r._lView;if(MT(i)){let l=this.indexOf(r);if(l!==-1)this.detach(l);else{let u=i[wn],c=new q_(u,u[In],u[wn]);c.detach(c.indexOf(r))}}let s=this._adjustIndex(o),a=this._lContainer;return k_(a,i,s,t),r.attachToViewContainerRef(),X1(hp(a),s,r),r}move(r,o){return this.insert(r,o)}indexOf(r){let o=T1(this._lContainer);return o!==null?o.indexOf(r):-1}remove(r){let o=this._adjustIndex(r,-1),t=Lp(this._lContainer,o);t&&(jc(hp(this._lContainer),o),d_(t[kt],t))}detach(r){let o=this._adjustIndex(r,-1),t=Lp(this._lContainer,o);return t&&jc(hp(this._lContainer),o)!=null?new ws(t):null}_adjustIndex(r,o=0){return r??this.length+o}};function T1(n){return n[Oc]}function hp(n){return n[Oc]||(n[Oc]=[])}function W_(n,r){let o,t=r[n.index];return li(t)?o=t:(o=A_(t,r,null,n),r[n.index]=o,gd(r,o)),cI(o,r,n,t),new q_(o,n,r)}function lI(n,r){let o=n[zr],t=o.createComment(""),i=no(r,n),s=p_(o,i);return Vc(o,s,t,ZA(o,i),!1),t}var cI=hI,dI=()=>!1;function fI(n,r,o){return dI(n,r,o)}function hI(n,r,o,t){if(n[ys])return;let i;o.type&8?i=Bo(t):i=lI(r,o),n[ys]=i}var Yp=class n{constructor(r){this.queryList=r,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xp=class n{constructor(r=[]){this.queries=r}createEmbeddedView(r){let o=r.queries;if(o!==null){let t=r.contentQueries!==null?r.contentQueries[0]:o.length,i=[];for(let s=0;s<t;s++){let a=o.getByIndex(s),l=this.queries[a.indexInDeclarationView];i.push(l.clone())}return new n(i)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)tg(r,o).matches!==null&&this.queries[o].setDirty()}},Zp=class{constructor(r,o,t=null){this.flags=o,this.read=t,typeof r=="string"?this.predicate=_I(r):this.predicate=r}},Qp=class n{constructor(r=[]){this.queries=r}elementStart(r,o){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let t=0;t<this.length;t++){let i=o!==null?o.length:0,s=this.getByIndex(t).embeddedTView(r,i);s&&(s.indexInDeclarationView=t,o!==null?o.push(s):o=[s])}return o!==null?new n(o):null}template(r,o){for(let t=0;t<this.queries.length;t++)this.queries[t].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},Kp=class n{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new n(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let o=this._declarationNodeIndex,t=r.parent;for(;t!==null&&t.type&8&&t.index!==o;)t=t.parent;return o===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(r,o){let t=this.metadata.predicate;if(Array.isArray(t))for(let i=0;i<t.length;i++){let s=t[i];this.matchTNodeWithReadOption(r,o,pI(o,s)),this.matchTNodeWithReadOption(r,o,Cc(o,r,s,!1,!1))}else t===ai?o.type&4&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Cc(o,r,t,!1,!1))}matchTNodeWithReadOption(r,o,t){if(t!==null){let i=this.metadata.read;if(i!==null)if(i===Lr||i===ci||i===ai&&o.type&4)this.addMatch(o.index,-2);else{let s=Cc(o,r,i,!1,!1);s!==null&&this.addMatch(o.index,s)}else this.addMatch(o.index,t)}}addMatch(r,o){this.matches===null?this.matches=[r,o]:this.matches.push(r,o)}};function pI(n,r){let o=n.localNames;if(o!==null){for(let t=0;t<o.length;t+=2)if(o[t]===r)return o[t+1]}return null}function mI(n,r){return n.type&11?Ta(n,r):n.type&4?eg(n,r):null}function gI(n,r,o,t){return o===-1?mI(r,n):o===-2?yI(n,r,t):xa(n,n[kt],o,r)}function yI(n,r,o){if(o===Lr)return Ta(r,n);if(o===ai)return eg(r,n);if(o===ci)return W_(r,n)}function $_(n,r,o,t){let i=r[ii].queries[t];if(i.matches===null){let s=n.data,a=o.matches,l=[];for(let u=0;a!==null&&u<a.length;u+=2){let c=a[u];if(c<0)l.push(null);else{let m=s[c];l.push(gI(r,m,a[u+1],o.metadata.read))}}i.matches=l}return i.matches}function Jp(n,r,o,t){let i=n.queries.getByIndex(o),s=i.matches;if(s!==null){let a=$_(n,r,i,o);for(let l=0;l<s.length;l+=2){let u=s[l];if(u>0)t.push(a[l/2]);else{let c=s[l+1],m=r[-u];for(let y=Un;y<m.length;y++){let d=m[y];d[gs]===d[wn]&&Jp(d[kt],d,c,t)}if(m[wa]!==null){let y=m[wa];for(let d=0;d<y.length;d++){let h=y[d];Jp(h[kt],h,c,t)}}}}}return t}function vI(n,r){return n[ii].queries[r].queryList}function bI(n,r,o){let t=new kp((o&4)===4);return cj(n,r,t,t.destroy),(r[ii]??=new Xp).queries.push(new Yp(t))-1}function wI(n,r,o,t){let i=_n();if(i.firstCreatePass){let s=Mn();xI(i,new Zp(r,o,t),s.index),DI(i,n),(o&2)===2&&(i.staticContentQueries=!0)}return bI(i,nr(),o)}function _I(n){return n.split(",").map(r=>r.trim())}function xI(n,r,o){n.queries===null&&(n.queries=new Qp),n.queries.track(new Kp(r,o))}function DI(n,r){let o=n.contentQueries||(n.contentQueries=[]),t=o.length?o[o.length-1]:-1;r!==t&&o.push(n.queries.length-1,r)}function tg(n,r){return n.queries.getByIndex(r)}function SI(n,r){let o=n[kt],t=tg(o,r);return t.crossesNgTemplate?Jp(o,n,r,[]):$_(o,n,t,r)}var A1=new Set;function yd(n){A1.has(n)||(A1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function EI(n){let r=[],o=new Map;function t(i){let s=o.get(i);if(!s){let a=n(i);o.set(i,s=a.then(AI))}return s}return Wc.forEach((i,s)=>{let a=[];i.templateUrl&&a.push(t(i.templateUrl).then(c=>{i.template=c}));let l=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=l,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,m=i.styleUrls;i.styleUrls.forEach((y,d)=>{l.push(""),a.push(t(y).then(h=>{l[c+d]=h,m.splice(m.indexOf(y),1),m.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&a.push(t(i.styleUrl).then(c=>{l.push(c),i.styleUrl=void 0}));let u=Promise.all(a).then(()=>jI(s));r.push(u)}),MI(),Promise.all(r).then(()=>{})}var Wc=new Map,CI=new Set;function MI(){let n=Wc;return Wc=new Map,n}function TI(){return Wc.size===0}function AI(n){return typeof n=="string"?n:n.text()}function jI(n){CI.delete(n)}function rg(n){let r=n.inputConfig,o={};for(let t in r)if(r.hasOwnProperty(t)){let i=r[t];Array.isArray(i)&&i[3]&&(o[t]=i[3])}n.inputTransforms=o}var Li=class{},ku=class{};var $c=class extends Li{constructor(r,o,t,i=!0){super(),this.ngModuleType=r,this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qc(this);let s=iw(r);this._bootstrapComponents=a_(s.bootstrap),this._r3Injector=$w(r,o,[{provide:Li,useValue:this},{provide:Pi,useValue:this.componentFactoryResolver},...t],Cn(r),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},Yc=class extends ku{constructor(r){super(),this.moduleType=r}create(r){return new $c(this.moduleType,r,[])}};function II(n,r,o){return new $c(n,r,o,!1)}var em=class extends Li{constructor(r){super(),this.componentFactoryResolver=new qc(this),this.instance=null;let o=new Iu([...r.providers,{provide:Li,useValue:this},{provide:Pi,useValue:this.componentFactoryResolver}],r.parent||_m(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function vd(n,r,o=null){return new em({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}function Y_(n){return ng(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function NI(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{let o=n[Symbol.iterator](),t;for(;!(t=o.next()).done;)r(t.value)}}function ng(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function OI(n,r,o){return n[r]=o}function Na(n,r,o){let t=n[r];return Object.is(t,o)?!1:(n[r]=o,!0)}function FI(n){return(n.flags&32)===32}function kI(n,r,o,t,i,s,a,l,u){let c=r.consts,m=Ia(r,n,4,a||null,l||null);Zm(r,o,m,_a(c,u)),cd(r,m);let y=m.tView=Xm(2,m,t,i,s,r.directiveRegistry,r.pipeRegistry,null,r.schemas,c,null);return r.queries!==null&&(r.queries.template(r,m),y.queries=r.queries.embeddedTView(m)),m}function X_(n,r,o,t,i,s,a,l,u,c){let m=o+wo,y=r.firstCreatePass?kI(m,r,n,t,i,s,a,l,u):r.data[m];Ss(y,!1);let d=RI(r,n,y,o);ud()&&hd(r,n,d,y),Ri(d,n);let h=A_(d,n,d,y);return n[m]=h,gd(n,h),fI(h,y,n),id(y)&&$m(r,n,y),u!=null&&Ym(n,y,c),y}function hn(n,r,o,t,i,s,a,l){let u=nr(),c=_n(),m=_a(c.consts,s);return X_(u,c,n,r,o,t,i,m,a,l),hn}var RI=PI;function PI(n,r,o,t){return ld(!0),r[zr].createComment("")}var pa=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(pa||{}),Z_=(()=>{let r=class r{constructor(){this.impl=null}execute(){this.impl?.execute()}};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})(),ps=class ps{constructor(){this.ngZone=Je(Gt),this.scheduler=Je(Da),this.errorHandler=Je(si,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let r of ps.PHASES)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(t){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(6))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}};ps.PHASES=[pa.EarlyRead,pa.Write,pa.MixedReadWrite,pa.Read],ps.\u0275prov=tt({token:ps,providedIn:"root",factory:()=>new ps});var tm=ps,rm=class{constructor(r,o,t,i){this.impl=r,this.hooks=o,this.once=t,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function og(n,r){!r?.injector&&vT(og);let o=r?.injector??Je(fn);return LA(o)?(yd("NgAfterNextRender"),BI(n,o,r,!0)):UI}function LI(n,r){if(n instanceof Function){let o=[void 0,void 0,void 0,void 0];return o[r]=n,o}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function BI(n,r,o,t){let i=r.get(Z_);i.impl??=r.get(tm);let s=o?.phase??pa.MixedReadWrite,a=new rm(i.impl,LI(n,s),t,r.get(Fm));return i.impl.register(a),a}var UI={destroy(){}};function _o(n,r,o,t){let i=nr(),s=Cm();if(Na(i,s,r)){let a=_n(),l=jm();Ej(l,i,n,r,o,t)}return _o}function Q_(n,r,o,t){return Na(n,Cm(),o)?r+Jc(o)+t:Go}function wc(n,r){return n<<17|r<<2}function _s(n){return n>>17&32767}function VI(n){return(n&2)==2}function zI(n,r){return n&131071|r<<17}function nm(n){return n|2}function Ea(n){return(n&131068)>>2}function pp(n,r){return n&-131069|r<<2}function GI(n){return(n&1)===1}function om(n){return n|1}function HI(n,r,o,t,i,s){let a=s?r.classBindings:r.styleBindings,l=_s(a),u=Ea(a);n[t]=o;let c=!1,m;if(Array.isArray(o)){let y=o;m=y[1],(m===null||Bu(y,m)>0)&&(c=!0)}else m=o;if(i)if(u!==0){let d=_s(n[l+1]);n[t+1]=wc(d,l),d!==0&&(n[d+1]=pp(n[d+1],t)),n[l+1]=zI(n[l+1],t)}else n[t+1]=wc(l,0),l!==0&&(n[l+1]=pp(n[l+1],t)),l=t;else n[t+1]=wc(u,0),l===0?l=t:n[u+1]=pp(n[u+1],t),u=t;c&&(n[t+1]=nm(n[t+1])),j1(n,m,t,!0),j1(n,m,t,!1),qI(r,m,n,t,s),a=wc(l,u),s?r.classBindings=a:r.styleBindings=a}function qI(n,r,o,t,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof r=="string"&&Bu(s,r)>=0&&(o[t+1]=om(o[t+1]))}function j1(n,r,o,t){let i=n[o+1],s=r===null,a=t?_s(i):Ea(i),l=!1;for(;a!==0&&(l===!1||s);){let u=n[a],c=n[a+1];WI(u,r)&&(l=!0,n[a+1]=t?om(c):nm(c)),a=t?_s(c):Ea(c)}l&&(n[o+1]=t?nm(i):om(i))}function WI(n,r){return n===null||r==null||(Array.isArray(n)?n[1]:n)===r?!0:Array.isArray(n)&&typeof r=="string"?Bu(n,r)>=0:!1}var go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $I(n){return n.substring(go.key,go.keyEnd)}function YI(n){return XI(n),K_(n,J_(n,0,go.textEnd))}function K_(n,r){let o=go.textEnd;return o===r?-1:(r=go.keyEnd=ZI(n,go.key=r,o),J_(n,r,o))}function XI(n){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=n.length}function J_(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function ZI(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}function Nr(n,r,o){let t=nr(),i=Cm();if(Na(t,i,r)){let s=_n(),a=jm();C_(s,a,t,n,r,t[zr],o,!1)}return Nr}function im(n,r,o,t,i){let s=r.inputs,a=i?"class":"style";Qm(n,o,s[a],a,t)}function Ui(n,r,o){return tx(n,r,o,!1),Ui}function di(n,r){return tx(n,r,null,!0),di}function ex(n){KI(oN,QI,n,!0)}function QI(n,r){for(let o=YI(r);o>=0;o=K_(r,o))ym(n,$I(r),!0)}function tx(n,r,o,t){let i=nr(),s=_n(),a=Tw(2);if(s.firstUpdatePass&&nx(s,n,a,t),r!==Go&&Na(i,a,r)){let l=s.data[Es()];ox(s,l,i,i[zr],n,i[a+1]=sN(r,o),t,a)}}function KI(n,r,o,t){let i=_n(),s=Tw(2);i.firstUpdatePass&&nx(i,null,s,t);let a=nr();if(o!==Go&&Na(a,s,o)){let l=i.data[Es()];if(ix(l,t)&&!rx(i,s)){let u=t?l.classesWithoutHost:l.stylesWithoutHost;u!==null&&(o=gp(u,o||"")),im(i,l,a,o,t)}else iN(i,l,a,a[zr],a[s+1],a[s+1]=nN(n,r,o),t,s)}}function rx(n,r){return r>=n.expandoStartIndex}function nx(n,r,o,t){let i=n.data;if(i[o+1]===null){let s=i[Es()],a=rx(n,o);ix(s,t)&&r===null&&!a&&(r=!1),r=JI(i,s,r,t),HI(i,s,r,o,a,t)}}function JI(n,r,o,t){let i=VT(n),s=t?r.residualClasses:r.residualStyles;if(i===null)(t?r.classBindings:r.styleBindings)===0&&(o=mp(null,n,r,o,t),o=Ru(o,r.attrs,t),s=null);else{let a=r.directiveStylingLast;if(a===-1||n[a]!==i)if(o=mp(i,n,r,o,t),s===null){let u=eN(n,r,t);u!==void 0&&Array.isArray(u)&&(u=mp(null,n,r,u[1],t),u=Ru(u,r.attrs,t),tN(n,r,t,u))}else s=rN(n,r,t)}return s!==void 0&&(t?r.residualClasses=s:r.residualStyles=s),o}function eN(n,r,o){let t=o?r.classBindings:r.styleBindings;if(Ea(t)!==0)return n[_s(t)]}function tN(n,r,o,t){let i=o?r.classBindings:r.styleBindings;n[_s(i)]=t}function rN(n,r,o){let t,i=r.directiveEnd;for(let s=1+r.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;t=Ru(t,a,o)}return Ru(t,r.attrs,o)}function mp(n,r,o,t,i){let s=null,a=o.directiveEnd,l=o.directiveStylingLast;for(l===-1?l=o.directiveStart:l++;l<a&&(s=r[l],t=Ru(t,s.hostAttrs,i),s!==n);)l++;return n!==null&&(o.directiveStylingLast=l),t}function Ru(n,r,o){let t=o?1:2,i=-1;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];typeof a=="number"?i=a:i===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ym(n,a,o?!0:r[++s]))}return n===void 0?null:n}function nN(n,r,o){if(o==null||o==="")return Bn;let t=[],i=Aa(o);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(t,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(t,s,i[s]);else typeof i=="string"&&r(t,i);return t}function oN(n,r,o){let t=String(r);t!==""&&!t.includes(" ")&&ym(n,t,o)}function iN(n,r,o,t,i,s,a,l){i===Go&&(i=Bn);let u=0,c=0,m=0<i.length?i[0]:null,y=0<s.length?s[0]:null;for(;m!==null||y!==null;){let d=u<i.length?i[u+1]:void 0,h=c<s.length?s[c+1]:void 0,p=null,f;m===y?(u+=2,c+=2,d!==h&&(p=y,f=h)):y===null||m!==null&&m<y?(u+=2,p=m):(c+=2,p=y,f=h),p!==null&&ox(n,r,o,t,p,f,a,l),m=u<i.length?i[u]:null,y=c<s.length?s[c]:null}}function ox(n,r,o,t,i,s,a,l){if(!(r.type&3))return;let u=n.data,c=u[l+1],m=GI(c)?I1(u,r,o,i,Ea(c),a):void 0;if(!Xc(m)){Xc(s)||VI(c)&&(s=I1(u,null,o,i,l,a));let y=vw(Es(),o);rj(t,a,y,i,s)}}function I1(n,r,o,t,i,s){let a=r===null,l;for(;i>0;){let u=n[i],c=Array.isArray(u),m=c?u[1]:u,y=m===null,d=o[i+1];d===Go&&(d=y?Bn:void 0);let h=y?ip(d,t):m===t?d:void 0;if(c&&!Xc(h)&&(h=ip(u,t)),Xc(h)&&(l=h,a))return l;let p=n[i+1];i=a?_s(p):Ea(p)}if(r!==null){let u=s?r.residualClasses:r.residualStyles;u!=null&&(l=ip(u,t))}return l}function Xc(n){return n!==void 0}function sN(n,r){return n==null||n===""||(typeof r=="string"?n=n+r:typeof n=="object"&&(n=Cn(Aa(n)))),n}function ix(n,r){return(n.flags&(r?8:16))!==0}function aN(n,r,o,t,i,s){let a=r.consts,l=_a(a,i),u=Ia(r,n,2,t,l);return Zm(r,o,u,_a(a,s)),u.attrs!==null&&Hc(u,u.attrs,!1),u.mergedAttrs!==null&&Hc(u,u.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,u),u}function at(n,r,o,t){let i=nr(),s=_n(),a=wo+n,l=i[zr],u=s.firstCreatePass?aN(a,s,i,r,o,t):s.data[a],c=uN(s,i,u,l,r,n);i[a]=c;let m=id(u);return Ss(u,!0),b_(l,c,u),!FI(u)&&ud()&&hd(s,i,c,u),jT()===0&&Ri(c,i),IT(),m&&($m(s,i,u),Wm(s,u,i)),t!==null&&Ym(i,u),at}function lt(){let n=Mn();Sm()?Em():(n=n.parent,Ss(n,!1));let r=n;OT(r)&&FT(),NT();let o=_n();return o.firstCreatePass&&(cd(o,n),xm(n)&&o.queries.elementEnd(n)),r.classesWithoutHost!=null&&YT(r)&&im(o,r,nr(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&XT(r)&&im(o,r,nr(),r.stylesWithoutHost,!1),lt}function mr(n,r,o,t){return at(n,r,o,t),lt(),mr}var uN=(n,r,o,t,i,s)=>(ld(!0),u_(t,i,HT()));function lN(n,r,o,t,i){let s=r.consts,a=_a(s,t),l=Ia(r,n,8,"ng-container",a);a!==null&&Hc(l,a,!0);let u=_a(s,i);return Zm(r,o,l,u),r.queries!==null&&r.queries.elementStart(r,l),l}function bd(n,r,o){let t=nr(),i=_n(),s=n+wo,a=i.firstCreatePass?lN(s,i,t,r,o):i.data[s];Ss(a,!0);let l=cN(i,t,a,n);return t[s]=l,ud()&&hd(i,t,l,a),Ri(l,t),id(a)&&($m(i,t,a),Wm(i,a,t)),o!=null&&Ym(t,a),bd}function wd(){let n=Mn(),r=_n();return Sm()?Em():(n=n.parent,Ss(n,!1)),r.firstCreatePass&&(cd(r,n),xm(n)&&r.queries.elementEnd(n)),wd}var cN=(n,r,o,t)=>(ld(!0),zA(r[zr],""));function Cs(){return nr()}var Zc="en-US";var dN=Zc;function fN(n){typeof n=="string"&&(dN=n.toLowerCase().replace(/_/g,"-"))}var hN=(n,r,o)=>{};function pn(n,r,o,t){let i=nr(),s=_n(),a=Mn();return mN(s,i,i[zr],a,n,r,t),pn}function pN(n,r,o,t){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===o&&i[s+1]===t){let l=r[Nc],u=i[s+2];return l.length>u?l[u]:null}typeof a=="string"&&(s+=2)}return null}function mN(n,r,o,t,i,s,a){let l=id(t),c=n.firstCreatePass&&N_(n),m=r[bo],y=I_(r),d=!0;if(t.type&3||a){let f=no(t,r),v=a?a(f):f,g=y.length,w=a?_=>a(Bo(_[t.index])):t.index,b=null;if(!a&&l&&(b=pN(n,r,i,t.index)),b!==null){let _=b.__ngLastListenerFn__||b;_.__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,d=!1}else{s=O1(t,r,m,s),hN(f,i,s);let _=o.listen(v,i,s);y.push(s,_),c&&c.push(i,w,g,g+1)}}else s=O1(t,r,m,s);let h=t.outputs,p;if(d&&h!==null&&(p=h[i])){let f=p.length;if(f)for(let v=0;v<f;v+=2){let g=p[v],w=p[v+1],D=r[g][w].subscribe(s),C=y.length;y.push(s,D),c&&c.push(i,t.index,C,-(C+1))}}}function N1(n,r,o,t){let i=rr(null);try{return ko(6,r,o),o(t)!==!1}catch(s){return O_(n,s),!1}finally{ko(7,r,o),rr(i)}}function O1(n,r,o,t){return function i(s){if(s===Function)return t;let a=n.componentOffset>-1?Bi(n.index,r):r;Jm(a,5);let l=N1(r,o,t,s),u=i.__ngNextListenerFn__;for(;u;)l=N1(r,o,u,s)&&l,u=u.__ngNextListenerFn__;return l}}function oo(n=1){return GT(n)}function gN(n,r){let o=null,t=QM(n);for(let i=0;i<r.length;i++){let s=r[i];if(s==="*"){o=i;continue}if(t===null?tw(n,s,!0):eT(t,s))return i}return o}function Vu(n){let r=nr()[eo][In];if(!r.projection){let o=n?n.length:1,t=r.projection=zM(o,null),i=t.slice(),s=r.child;for(;s!==null;){if(s.type!==128){let a=n?gN(s,n):0;a!==null&&(i[a]?i[a].projectionNext=s:t[a]=s,i[a]=s)}s=s.next}}}function zu(n,r=0,o,t,i,s){let a=nr(),l=_n(),u=t?n+1:null;u!==null&&X_(a,l,u,t,i,s,null,o);let c=Ia(l,wo+n,16,null,o||null);c.projection===null&&(c.projection=r),Em();let y=!a[Nu]||Ew();a[eo][In].projection[c.projection]===null&&u!==null?yN(a,l,u):y&&(c.flags&32)!==32&&ej(l,a,c)}function yN(n,r,o){let t=wo+o,i=r.data[t],s=n[t],a=Hp(s,i.tView.ssrId),l=F_(n,i,void 0,{dehydratedView:a});k_(s,l,0,zp(i,a))}function Oa(n,r,o){return sx(n,"",r,"",o),Oa}function sx(n,r,o,t,i){let s=nr(),a=Q_(s,r,o,t);if(a!==Go){let l=_n(),u=jm();C_(l,u,s,n,a,s[zr],i,!1)}return sx}function ax(n,r,o,t){wI(n,r,o,t)}function ux(n){let r=nr(),o=_n(),t=Aw();Mm(t+1);let i=tg(o,t);if(n.dirty&&CT(r)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=SI(r,t);n.reset(s,vA),n.notifyOnChanges()}return!0}return!1}function lx(){return vI(nr(),Aw())}function Tt(n,r=""){let o=nr(),t=_n(),i=n+wo,s=t.firstCreatePass?Ia(t,i,1,r,null):t.data[i],a=vN(t,o,s,r,n);o[i]=a,ud()&&hd(t,o,a,s),Ss(s,!1)}var vN=(n,r,o,t,i)=>(ld(!0),UA(r[zr],t));function Tn(n){return _d("",n,""),Tn}function _d(n,r,o){let t=nr(),i=Q_(t,n,r,o);return i!==Go&&Aj(t,Es(),i),_d}var bN=(()=>{let r=class r{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=uw(!1,t.type),s=i.length>0?vd([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}};r.\u0275prov=tt({token:r,providedIn:"environment",factory:()=>new r(st(Vn))});let n=r;return n})();function cx(n){yd("NgStandalone"),n.getStandaloneInjector=r=>r.get(bN).getOrCreateStandaloneInjector(n)}function dx(n,r,o,t){return _N(nr(),RT(),n,r,o,t)}function wN(n,r){let o=n[r];return o===Go?void 0:o}function _N(n,r,o,t,i,s){let a=r+o;return Na(n,a,i)?OI(n,a+1,s?t.call(s,i):t(i)):wN(n,a+1)}var _c=null;function xN(n){_c!==null&&(n.defaultEncapsulation!==_c.defaultEncapsulation||n.preserveWhitespaces!==_c.preserveWhitespaces)||(_c=n)}var xd=(()=>{let r=class r{log(t){console.log(t)}warn(t){console.warn(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();var ig=new wt(""),Gu=new wt(""),Dd=(()=>{let r=class r{constructor(t,i,s){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sg||(DN(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),t()},i)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}};r.\u0275fac=function(i){return new(i||r)(st(Gt),st(Sd),st(Gu))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),Sd=(()=>{let r=class r{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return sg?.findTestabilityInTree(this,t,i)??null}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();function DN(n){sg=n}var sg;function Hu(n){return!!n&&typeof n.then=="function"}function fx(n){return!!n&&typeof n.subscribe=="function"}var Ed=new wt(""),hx=(()=>{let r=class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Je(Ed,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let s of this.appInits){let a=s();if(Hu(a))t.push(a);else if(fx(a)){let l=new Promise((u,c)=>{a.subscribe({complete:u,error:c})});t.push(l)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),t.length===0&&i(),this.initialized=!0}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),ag=new wt("");function SN(){Cb(()=>{throw new Qe(600,!1)})}function EN(n){return n.isBoundToModule}var CN=10;function MN(n,r,o){try{let t=o();return Hu(t)?t.catch(i=>{throw r.runOutsideAngular(()=>n.handleError(i)),i}):t}catch(t){throw r.runOutsideAngular(()=>n.handleError(t)),t}}function px(n,r){return Array.isArray(r)?r.reduce(px,n):nt(nt({},n),r)}var qo=(()=>{let r=class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(gA),this.afterRenderManager=Je(Z_),this.zonelessEnabled=Je(z_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rn,this.afterTick=new rn,this.componentTypes=[],this.components=[],this.isStable=Je(Ma).hasPendingTasks.pipe($t(t=>!t)),this._injector=Je(Vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let s=t instanceof Gc;if(!this._injector.get(hx).done){let h=!s&&ow(t),p=!1;throw new Qe(405,p)}let l;s?l=t:l=this._injector.get(Pi).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=EN(l)?void 0:this._injector.get(Li),c=i||l.selector,m=l.create(fn.NULL,[],c,u),y=m.location.nativeElement,d=m.injector.get(ig,null);return d?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Mc(this.components,m),d?.unregisterApplication(y)}),this._loadComponent(m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Qe(101,!1);let t=rr(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,rr(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(to,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<CN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)TN(s,a,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>sd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Mc(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(ag,[]);[...this._bootstrapListeners,...i].forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Qe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function Mc(n,r){let o=n.indexOf(r);o>-1&&n.splice(o,1)}function TN(n,r,o,t){if(!o&&!sd(n))return;L_(n,r,o&&!t?0:1)}var sm=class{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}},Cd=(()=>{let r=class r{compileModuleSync(t){return new Yc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),s=iw(t),a=a_(s.declarations).reduce((l,u)=>{let c=ki(u);return c&&l.push(new Sa(c)),l},[]);return new sm(i,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),AN=new wt("");function jN(n,r,o){let t=new Yc(o);return Promise.resolve(t)}function F1(n){for(let r=n.length-1;r>=0;r--)if(n[r]!==void 0)return n[r]}var IN=(()=>{let r=class r{constructor(){this.zone=Je(Gt),this.changeDetectionScheduler=Je(Da),this.applicationRef=Je(qo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function NN({ngZoneFactory:n,ignoreChangesOutsideZone:r,scheduleInRootZone:o}){return n??=()=>new Gt(hr(nt({},mx()),{scheduleInRootZone:o})),[{provide:Gt,useFactory:n},{provide:va,multi:!0,useFactory:()=>{let t=Je(IN,{optional:!0});return()=>t.initialize()}},{provide:va,multi:!0,useFactory:()=>{let t=Je(ON);return()=>{t.initialize()}}},r===!0?{provide:G_,useValue:!0}:[],{provide:H_,useValue:o??Yw}]}function mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ON=(()=>{let r=class r{constructor(){this.subscription=new Sr,this.initialized=!1,this.zone=Je(Gt),this.pendingTasks=Je(Ma)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Gt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var FN=(()=>{let r=class r{constructor(){this.appRef=Je(qo),this.taskService=Je(Ma),this.ngZone=Je(Gt),this.zonelessEnabled=Je(z_),this.disableScheduling=Je(G_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Sr,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Je(H_,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?v1:Xw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,v1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function kN(){return typeof $localize<"u"&&$localize.locale||Zc}var ug=new wt("",{providedIn:"root",factory:()=>Je(ug,Ft.Optional|Ft.SkipSelf)||kN()});var lg=new wt("");function xc(n){return!!n.platformInjector}function RN(n){let r=xc(n)?n.r3Injector:n.moduleRef.injector,o=r.get(Gt);return o.run(()=>{xc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let t=r.get(si,null),i;if(o.runOutsideAngular(()=>{i=o.onError.subscribe({next:s=>{t.handleError(s)}})}),xc(n)){let s=()=>r.destroy(),a=n.platformInjector.get(lg);a.add(s),r.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else n.moduleRef.onDestroy(()=>{Mc(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return MN(t,o,()=>{let s=r.get(hx);return s.runInitializers(),s.donePromise.then(()=>{let a=r.get(ug,Zc);if(fN(a||Zc),xc(n)){let l=r.get(qo);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return PN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function PN(n,r){let o=n.injector.get(qo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(t=>o.bootstrap(t));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(o);else throw new Qe(-403,!1);r.push(n)}var gx=(()=>{let r=class r{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let s=i?.scheduleInRootZone,a=()=>mA(i?.ngZone,hr(nt({},mx({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),l=i?.ignoreChangesOutsideZone,u=[NN({ngZoneFactory:a,ignoreChangesOutsideZone:l}),{provide:Da,useExisting:FN}],c=II(t.moduleType,this.injector,u);return RN({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(t,i=[]){let s=px({},i);return jN(this.injector,s,t).then(a=>this.bootstrapModuleFactory(a,s))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(lg,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};r.\u0275fac=function(i){return new(i||r)(st(fn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),Tu=null,yx=new wt("");function LN(n){if(Tu&&!Tu.get(yx,!1))throw new Qe(400,!1);SN(),Tu=n;let r=n.get(gx);return VN(n),r}function cg(n,r,o=[]){let t=`Platform: ${r}`,i=new wt(t);return(s=[])=>{let a=vx();if(!a||a.injector.get(yx,!1)){let l=[...o,...s,{provide:i,useValue:!0}];n?n(l):LN(BN(l,t))}return UN(i)}}function BN(n=[],r){return fn.create({name:r,providers:[{provide:rd,useValue:"platform"},{provide:lg,useValue:new Set([()=>Tu=null])},...n]})}function UN(n){let r=vx();if(!r)throw new Qe(401,!1);return r}function vx(){return Tu?.get(gx)??null}function VN(n){n.get(Pm,null)?.forEach(o=>o())}var Fa=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=zN;let n=r;return n})();function zN(n){return GN(Mn(),nr(),(n&16)===16)}function GN(n,r,o){if(od(n)&&!o){let t=Bi(n.index,r);return new ws(t,t)}else if(n.type&175){let t=r[eo];return new ws(t,r)}return null}var am=class{constructor(){}supports(r){return Y_(r)}create(r){return new um(r)}},HN=(n,r)=>r,um=class{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||HN}forEachItem(r){let o;for(o=this._itHead;o!==null;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,t=this._removalsHead,i=0,s=null;for(;o||t;){let a=!t||o&&o.currentIndex<k1(t,i,s)?o:t,l=k1(a,i,s),u=a.currentIndex;if(a===t)i--,t=t._nextRemoved;else if(o=o._next,a.previousIndex==null)i++;else{s||(s=[]);let c=l-i,m=u-i;if(c!=m){for(let d=0;d<c;d++){let h=d<s.length?s[d]:s[d]=0,p=h+d;m<=p&&p<c&&(s[d]=h+1)}let y=a.previousIndex;s[y]=m-c}}l!==u&&r(a,l,u)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;o!==null;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;o!==null;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;o!==null;o=o._nextIdentityChange)r(o)}diff(r){if(r==null&&(r=[]),!Y_(r))throw new Qe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._itHead,t=!1,i,s,a;if(Array.isArray(r)){this.length=r.length;for(let l=0;l<this.length;l++)s=r[l],a=this._trackByFn(l,s),o===null||!Object.is(o.trackById,a)?(o=this._mismatch(o,s,a,l),t=!0):(t&&(o=this._verifyReinsertion(o,s,a,l)),Object.is(o.item,s)||this._addIdentityChange(o,s)),o=o._next}else i=0,NI(r,l=>{a=this._trackByFn(i,l),o===null||!Object.is(o.trackById,a)?(o=this._mismatch(o,l,a,i),t=!0):(t&&(o=this._verifyReinsertion(o,l,a,i)),Object.is(o.item,l)||this._addIdentityChange(o,l)),o=o._next,i++}),this.length=i;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,t,i){let s;return r===null?s=this._itTail:(s=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),r!==null?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,s,i)):(r=this._linkedRecords===null?null:this._linkedRecords.get(t,i),r!==null?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,s,i)):r=this._addAfter(new lm(o,t),s,i)),r}_verifyReinsertion(r,o,t,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return s!==null?r=this._reinsertAfter(s,r._prev,i):r.currentIndex!=i&&(r.currentIndex=i,this._addToMoves(r,i)),r}_truncate(r){for(;r!==null;){let o=r._next;this._addToRemovals(this._unlink(r)),r=o}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let i=r._prevRemoved,s=r._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(r,o,t),this._addToMoves(r,t),r}_moveAfter(r,o,t){return this._unlink(r),this._insertAfter(r,o,t),this._addToMoves(r,t),r}_addAfter(r,o,t){return this._insertAfter(r,o,t),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,o,t){let i=o===null?this._itHead:o._next;return r._next=i,r._prev=o,i===null?this._itTail=r:i._prev=r,o===null?this._itHead=r:o._next=r,this._linkedRecords===null&&(this._linkedRecords=new Qc),this._linkedRecords.put(r),r.currentIndex=t,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let o=r._prev,t=r._next;return o===null?this._itHead=t:o._next=t,t===null?this._itTail=o:t._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qc),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}},lm=class{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cm=class{constructor(){this._head=null,this._tail=null}add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let t;for(t=this._head;t!==null;t=t._nextDup)if((o===null||o<=t.currentIndex)&&Object.is(t.trackById,r))return t;return null}remove(r){let o=r._prevDup,t=r._nextDup;return o===null?this._head=t:o._nextDup=t,t===null?this._tail=o:t._prevDup=o,this._head===null}},Qc=class{constructor(){this.map=new Map}put(r){let o=r.trackById,t=this.map.get(o);t||(t=new cm,this.map.set(o,t)),t.add(r)}get(r,o){let t=r,i=this.map.get(t);return i?i.get(r,o):null}remove(r){let o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function k1(n,r,o){let t=n.previousIndex;if(t===null)return t;let i=0;return o&&t<o.length&&(i=o[t]),t+r+i}var dm=class{constructor(){}supports(r){return r instanceof Map||ng(r)}create(){return new fm}},fm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(r){let o;for(o=this._mapHead;o!==null;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;o!==null;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;o!==null;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)r(o)}diff(r){if(!r)r=new Map;else if(!(r instanceof Map||ng(r)))throw new Qe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(t,i)=>{if(o&&o.key===i)this._maybeAddToChanges(o,t),this._appendAfter=o,o=o._next;else{let s=this._getOrCreateRecordForKey(i,t);o=this._insertBeforeOrAppend(o,s)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let t=o;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){let t=r._prev;return o._next=r,o._prev=t,r._prev=o,t&&(t._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){let i=this._records.get(r);this._maybeAddToChanges(i,o);let s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}let t=new hm(r);return this._records.set(r,t),t.currentValue=o,this._addToAdditions(t),t}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(t=>o(r[t],t))}},hm=class{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function R1(){return new dg([new am])}var dg=(()=>{let r=class r{constructor(t){this.factories=t}static create(t,i){if(i!=null){let s=i.factories.slice();t=t.concat(s)}return new r(t)}static extend(t){return{provide:r,useFactory:i=>r.create(t,i||R1()),deps:[[r,new td,new Lu]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i!=null)return i;throw new Qe(901,!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:R1});let n=r;return n})();function P1(){return new fg([new dm])}var fg=(()=>{let r=class r{constructor(t){this.factories=t}static create(t,i){if(i){let s=i.factories.slice();t=t.concat(s)}return new r(t)}static extend(t){return{provide:r,useFactory:i=>r.create(t,i||P1()),deps:[[r,new td,new Lu]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i)return i;throw new Qe(901,!1)}};r.\u0275prov=tt({token:r,providedIn:"root",factory:P1});let n=r;return n})();var bx=cg(null,"core",[]),wx=(()=>{let r=class r{constructor(t){}};r.\u0275fac=function(i){return new(i||r)(st(qo))},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({});let n=r;return n})();var _x=new wt("");function qu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function xx(n){let r=ki(n);if(!r)return null;let o=new Sa(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var Tx=null;function Ms(){return Tx}function Ax(n){Tx??=n}var Md=class{};var Br=new wt(""),vg=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(qN),providedIn:"platform"});let n=r;return n})(),jx=new wt(""),qN=(()=>{let r=class r extends vg{constructor(){super(),this._doc=Je(Br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ms().getBaseHref(this._doc)}onPopState(t){let i=Ms().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Ms().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>new r,providedIn:"platform"});let n=r;return n})();function bg(n,r){if(n.length==0)return r;if(r.length==0)return n;let o=0;return n.endsWith("/")&&o++,r.startsWith("/")&&o++,o==2?n+r.substring(1):o==1?n+r:n+"/"+r}function Dx(n){let r=n.match(/#|\?|$/),o=r&&r.index||n.length,t=o-(n[o-1]==="/"?1:0);return n.slice(0,t)+n.slice(o)}function fi(n){return n&&n[0]!=="?"?"?"+n:n}var hi=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(wg),providedIn:"root"});let n=r;return n})(),Ix=new wt(""),wg=(()=>{let r=class r extends hi{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Je(Br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bg(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+fi(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,a){let l=this.prepareExternalUrl(s+fi(a));this._platformLocation.pushState(t,i,l)}replaceState(t,i,s,a){let l=this.prepareExternalUrl(s+fi(a));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};r.\u0275fac=function(i){return new(i||r)(st(vg),st(Ix,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Nx=(()=>{let r=class r extends hi{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=bg(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,a){let l=this.prepareExternalUrl(s+fi(a));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,s,a){let l=this.prepareExternalUrl(s+fi(a));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};r.\u0275fac=function(i){return new(i||r)(st(vg),st(Ix,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),ka=(()=>{let r=class r{constructor(t){this._subject=new er,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=YN(Dx(Sx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+fi(i))}normalize(t){return r.stripTrailingSlash($N(this._basePath,Sx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}};r.normalizeQueryParams=fi,r.joinWithSlash=bg,r.stripTrailingSlash=Dx,r.\u0275fac=function(i){return new(i||r)(st(hi))},r.\u0275prov=tt({token:r,factory:()=>WN(),providedIn:"root"});let n=r;return n})();function WN(){return new ka(st(hi))}function $N(n,r){if(!n||!r.startsWith(n))return r;let o=r.substring(n.length);return o===""||["/",";","?","#"].includes(o[0])?o:r}function Sx(n){return n.replace(/\/index.html$/,"")}function YN(n){if(new RegExp("^(https?:)?//").test(n)){let[,o]=n.split(/\/\/[^\/]+/);return o}return n}function Ox(n,r){r=encodeURIComponent(r);for(let o of n.split(";")){let t=o.indexOf("="),[i,s]=t==-1?[o,""]:[o.slice(0,t),o.slice(t+1)];if(i.trim()===r)return decodeURIComponent(s)}return null}var pg=class{constructor(r,o,t,i){this.$implicit=r,this.ngForOf=o,this.index=t,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},io=(()=>{let r=class r{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((s,a,l)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new pg(s.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)i.remove(a===null?void 0:a);else if(a!==null){let u=i.get(a);i.move(u,l),Ex(u,s)}});for(let s=0,a=i.length;s<a;s++){let u=i.get(s).context;u.index=s,u.count=a,u.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{let a=i.get(s.currentIndex);Ex(a,s)})}static ngTemplateContextGuard(t,i){return!0}};r.\u0275fac=function(i){return new(i||r)(bt(ci),bt(ai),bt(dg))},r.\u0275dir=ro({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=r;return n})();function Ex(n,r){n.context.$implicit=r.item}var Fx=(()=>{let r=class r{constructor(t,i){this._viewContainer=t,this._context=new mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}};r.\u0275fac=function(i){return new(i||r)(bt(ci),bt(ai))},r.\u0275dir=ro({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=r;return n})(),mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Cx(n,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Cn(r)}'.`)}var kx=(()=>{let r=class r{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[s,a]=t.split("."),l=s.indexOf("-")===-1?void 0:Uo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,a?`${i}${a}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,s,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};r.\u0275fac=function(i){return new(i||r)(bt(Lr),bt(fg),bt(Ho))},r.\u0275dir=ro({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=r;return n})();var Ra=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({});let n=r;return n})(),_g="browser",XN="server";function Ts(n){return n===_g}function xg(n){return n===XN}var Rx=(()=>{let r=class r{};r.\u0275prov=tt({token:r,providedIn:"root",factory:()=>Ts(Je(Nn))?new gg(Je(Br),window):new yg});let n=r;return n})(),gg=class{constructor(r,o){this.document=r,this.window=o,this.offset=()=>[0,0]}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){let o=ZN(this.document,r);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){let o=r.getBoundingClientRect(),t=o.left+this.window.pageXOffset,i=o.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],i-s[1])}};function ZN(n,r){let o=n.getElementById(r)||n.getElementsByName(r)[0];if(o)return o;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=t.currentNode;for(;i;){let s=i.shadowRoot;if(s){let a=s.getElementById(r)||s.querySelector(`[name="${r}"]`);if(a)return a}i=t.nextNode()}}return null}var yg=class{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}},Td=class{};var Eg=class extends Md{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cg=class n extends Eg{static makeCurrent(){Ax(new n)}onAndCancel(r,o,t){return r.addEventListener(o,t),()=>{r.removeEventListener(o,t)}}dispatchEvent(r,o){r.dispatchEvent(o)}remove(r){r.remove()}createElement(r,o){return o=o||this.getDefaultDocument(),o.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,o){return o==="window"?window:o==="document"?r:o==="body"?r.body:null}getBaseHref(r){let o=KN();return o==null?null:JN(o)}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ox(document.cookie,r)}},Wu=null;function KN(){return Wu=Wu||document.querySelector("base"),Wu?Wu.getAttribute("href"):null}function JN(n){return new URL(n,document.baseURI).pathname}var Mg=class{addToWindow(r){vo.getAngularTestability=(t,i=!0)=>{let s=r.findTestabilityInTree(t,i);if(s==null)throw new Qe(5103,!1);return s},vo.getAllAngularTestabilities=()=>r.getAllTestabilities(),vo.getAllAngularRootElements=()=>r.getAllRootElements();let o=t=>{let i=vo.getAllAngularTestabilities(),s=i.length,a=function(){s--,s==0&&t()};i.forEach(l=>{l.whenStable(a)})};vo.frameworkStabilizers||(vo.frameworkStabilizers=[]),vo.frameworkStabilizers.push(o)}findTestabilityInTree(r,o,t){if(o==null)return null;let i=r.getTestability(o);return i??(t?Ms().isShadowRoot(o)?this.findTestabilityInTree(r,o.host,!0):this.findTestabilityInTree(r,o.parentElement,!0):null)}},eO=(()=>{let r=class r{build(){return new XMLHttpRequest}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),Ad=new wt(""),Bx=(()=>{let r=class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(a=>a.supports(t)),!i)throw new Qe(5101,!1);return this._eventNameToPlugin.set(t,i),i}};r.\u0275fac=function(i){return new(i||r)(st(Ad),st(Gt))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),$u=class{constructor(r){this._doc=r}},Dg="ng-app-id",Ux=(()=>{let r=class r{constructor(t,i,s,a={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xg(a),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Dg}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){let s=this.styleRef;if(s.has(t)){let a=s.get(t);return a.usage+=i,a.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===t)return s.delete(i),a.removeAttribute(Dg),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Dg,this.appId),t.appendChild(l),l}}addStyleToHost(t,i){let s=this.getStyleElement(t,i),a=this.styleRef,l=a.get(i)?.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};r.\u0275fac=function(i){return new(i||r)(st(Br),st(dd),st(Bm,8),st(Nn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),Sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ag=/%COMP%/g,Vx="%COMP%",tO=`_nghost-${Vx}`,rO=`_ngcontent-${Vx}`,nO=!0,oO=new wt("",{providedIn:"root",factory:()=>nO});function iO(n){return rO.replace(Ag,n)}function sO(n){return tO.replace(Ag,n)}function zx(n,r){return r.map(o=>o.replace(Ag,n))}var jd=(()=>{let r=class r{constructor(t,i,s,a,l,u,c,m=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=u,this.ngZone=c,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=xg(u),this.defaultRenderer=new Yu(t,l,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Po.ShadowDom&&(i=hr(nt({},i),{encapsulation:Po.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof Id?s.applyToHost(t):s instanceof Xu&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let l=this.doc,u=this.ngZone,c=this.eventManager,m=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Po.Emulated:a=new Id(c,m,i,this.appId,y,l,u,d);break;case Po.ShadowDom:return new Tg(c,m,t,i,l,u,this.nonce,d);default:a=new Xu(c,m,i,y,l,u,d);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};r.\u0275fac=function(i){return new(i||r)(st(Bx),st(Ux),st(dd),st(oO),st(Br),st(Nn),st(Gt),st(Bm))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),Yu=class{constructor(r,o,t,i){this.eventManager=r,this.doc=o,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,o){return o?this.doc.createElementNS(Sg[o]||o,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,o){(Px(r)?r.content:r).appendChild(o)}insertBefore(r,o,t){r&&(Px(r)?r.content:r).insertBefore(o,t)}removeChild(r,o){o.remove()}selectRootElement(r,o){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new Qe(-5104,!1);return o||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,o,t,i){if(i){o=i+":"+o;let s=Sg[i];s?r.setAttributeNS(s,o,t):r.setAttribute(o,t)}else r.setAttribute(o,t)}removeAttribute(r,o,t){if(t){let i=Sg[t];i?r.removeAttributeNS(i,o):r.removeAttribute(`${t}:${o}`)}else r.removeAttribute(o)}addClass(r,o){r.classList.add(o)}removeClass(r,o){r.classList.remove(o)}setStyle(r,o,t,i){i&(Uo.DashCase|Uo.Important)?r.style.setProperty(o,t,i&Uo.Important?"important":""):r.style[o]=t}removeStyle(r,o,t){t&Uo.DashCase?r.style.removeProperty(o):r.style[o]=""}setProperty(r,o,t){r!=null&&(r[o]=t)}setValue(r,o){r.nodeValue=o}listen(r,o,t){if(typeof r=="string"&&(r=Ms().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${o}`);return this.eventManager.addEventListener(r,o,this.decoratePreventDefault(t))}decoratePreventDefault(r){return o=>{if(o==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(o)):r(o))===!1&&o.preventDefault()}}};function Px(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Tg=class extends Yu{constructor(r,o,t,i,s,a,l,u){super(r,s,a,u),this.sharedStylesHost=o,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=zx(i.id,i.styles);for(let m of c){let y=document.createElement("style");l&&y.setAttribute("nonce",l),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,o){return super.appendChild(this.nodeOrShadowRoot(r),o)}insertBefore(r,o,t){return super.insertBefore(this.nodeOrShadowRoot(r),o,t)}removeChild(r,o){return super.removeChild(null,o)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xu=class extends Yu{constructor(r,o,t,i,s,a,l,u){super(r,s,a,l),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=i,this.styles=u?zx(u,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Id=class extends Xu{constructor(r,o,t,i,s,a,l,u){let c=i+"-"+t.id;super(r,o,t,s,a,l,u,c),this.contentAttr=iO(c),this.hostAttr=sO(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,o){let t=super.createElement(r,o);return super.setAttribute(t,this.contentAttr,""),t}},aO=(()=>{let r=class r extends $u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}};r.\u0275fac=function(i){return new(i||r)(st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),uO=(()=>{let r=class r extends $u{constructor(t){super(t),this.delegate=Je(_x,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,i,s){return this.delegate.addEventListener(t,i,s)}removeEventListener(t,i,s){return this.delegate.removeEventListener(t,i,s)}};r.\u0275fac=function(i){return new(i||r)(st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),Lx=["alt","control","meta","shift"],lO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},dO=(()=>{let r=class r extends $u{constructor(t){super(t)}supports(t){return r.parseEventName(t)!=null}addEventListener(t,i,s){let a=r.parseEventName(i),l=r.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ms().onAndCancel(t,a.domEventName,l))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=r._normalizeKey(i.pop()),l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Lx.forEach(m=>{let y=i.indexOf(m);y>-1&&(i.splice(y,1),l+=m+".")}),l+=a,i.length!=0||a.length===0)return null;let c={};return c.domEventName=s,c.fullKey=l,c}static matchEventFullKeyCode(t,i){let s=lO[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(s=t.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Lx.forEach(l=>{if(l!==s){let u=cO[l];u(t)&&(a+=l+".")}}),a+=s,a===i)}static eventCallback(t,i,s){return a=>{r.matchEventFullKeyCode(a,t)&&s.runGuarded(()=>i(a))}}static _normalizeKey(t){return t==="esc"?"escape":t}};r.\u0275fac=function(i){return new(i||r)(st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function fO(){Cg.makeCurrent()}function hO(){return new si}function pO(){return r_(document),document}var mO=[{provide:Nn,useValue:_g},{provide:Pm,useValue:fO,multi:!0},{provide:Br,useFactory:pO,deps:[]}],Gx=cg(bx,"browser",mO),gO=new wt(""),yO=[{provide:Gu,useClass:Mg,deps:[]},{provide:ig,useClass:Dd,deps:[Gt,Sd,Gu]},{provide:Dd,useClass:Dd,deps:[Gt,Sd,Gu]}],vO=[{provide:rd,useValue:"root"},{provide:si,useFactory:hO,deps:[]},{provide:Ad,useClass:aO,multi:!0,deps:[Br,Gt,Nn]},{provide:Ad,useClass:dO,multi:!0,deps:[Br]},{provide:Ad,useClass:uO,multi:!0},jd,Ux,Bx,{provide:to,useExisting:jd},{provide:Td,useClass:eO,deps:[]},[]],Nd=(()=>{let r=class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:dd,useValue:t.appId}]}}};r.\u0275fac=function(i){return new(i||r)(st(gO,12))},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({providers:[...vO,...yO],imports:[Ra,wx]});let n=r;return n})();var Wo=(()=>{let r=class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};r.\u0275fac=function(i){return new(i||r)(st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var At="primary",ll=Symbol("RouteTitle"),Fg=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o[0]:o}return null}getAll(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function Ga(n){return new Fg(n)}function bO(n,r,o){let t=o.path.split("/");if(t.length>n.length||o.pathMatch==="full"&&(r.hasChildren()||t.length<n.length))return null;let i={};for(let s=0;s<t.length;s++){let a=t[s],l=n[s];if(a[0]===":")i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function wO(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(!$o(n[o],r[o]))return!1;return!0}function $o(n,r){let o=n?kg(n):void 0,t=r?kg(r):void 0;if(!o||!t||o.length!=t.length)return!1;let i;for(let s=0;s<o.length;s++)if(i=o[s],!eD(n[i],r[i]))return!1;return!0}function kg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function eD(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let o=[...n].sort(),t=[...r].sort();return o.every((i,s)=>t[s]===i)}else return n===r}function tD(n){return n.length>0?n[n.length-1]:null}function zi(n){return Kh(n)?n:Hu(n)?Er(Promise.resolve(n)):Dt(n)}var _O={exact:nD,subset:oD},rD={exact:xO,subset:DO,ignored:()=>!0};function Hx(n,r,o){return _O[o.paths](n.root,r.root,o.matrixParams)&&rD[o.queryParams](n.queryParams,r.queryParams)&&!(o.fragment==="exact"&&n.fragment!==r.fragment)}function xO(n,r){return $o(n,r)}function nD(n,r,o){if(!Is(n.segments,r.segments)||!kd(n.segments,r.segments,o)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let t in r.children)if(!n.children[t]||!nD(n.children[t],r.children[t],o))return!1;return!0}function DO(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(o=>eD(n[o],r[o]))}function oD(n,r,o){return iD(n,r,r.segments,o)}function iD(n,r,o,t){if(n.segments.length>o.length){let i=n.segments.slice(0,o.length);return!(!Is(i,o)||r.hasChildren()||!kd(i,o,t))}else if(n.segments.length===o.length){if(!Is(n.segments,o)||!kd(n.segments,o,t))return!1;for(let i in r.children)if(!n.children[i]||!oD(n.children[i],r.children[i],t))return!1;return!0}else{let i=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!Is(n.segments,i)||!kd(n.segments,i,t)||!n.children[At]?!1:iD(n.children[At],r,s,t)}}function kd(n,r,o){return r.every((t,i)=>rD[o](n[i].parameters,t.parameters))}var mi=class{constructor(r=new sr([],{}),o={},t=null){this.root=r,this.queryParams=o,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Ga(this.queryParams),this._queryParamMap}toString(){return CO.serialize(this)}},sr=class{constructor(r,o){this.segments=r,this.children=o,this.parent=null,Object.values(o).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rd(this)}},js=class{constructor(r,o){this.path=r,this.parameters=o}get parameterMap(){return this._parameterMap??=Ga(this.parameters),this._parameterMap}toString(){return aD(this)}};function SO(n,r){return Is(n,r)&&n.every((o,t)=>$o(o.parameters,r[t].parameters))}function Is(n,r){return n.length!==r.length?!1:n.every((o,t)=>o.path===r[t].path)}function EO(n,r){let o=[];return Object.entries(n.children).forEach(([t,i])=>{t===At&&(o=o.concat(r(i,t)))}),Object.entries(n.children).forEach(([t,i])=>{t!==At&&(o=o.concat(r(i,t)))}),o}var cl=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>new Ha,providedIn:"root"});let n=r;return n})(),Ha=class{parse(r){let o=new Pg(r);return new mi(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(r){let o=`/${Zu(r.root,!0)}`,t=AO(r.queryParams),i=typeof r.fragment=="string"?`#${MO(r.fragment)}`:"";return`${o}${t}${i}`}},CO=new Ha;function Rd(n){return n.segments.map(r=>aD(r)).join("/")}function Zu(n,r){if(!n.hasChildren())return Rd(n);if(r){let o=n.children[At]?Zu(n.children[At],!1):"",t=[];return Object.entries(n.children).forEach(([i,s])=>{i!==At&&t.push(`${i}:${Zu(s,!1)}`)}),t.length>0?`${o}(${t.join("//")})`:o}else{let o=EO(n,(t,i)=>i===At?[Zu(n.children[At],!1)]:[`${i}:${Zu(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[At]!=null?`${Rd(n)}/${o[0]}`:`${Rd(n)}/(${o.join("//")})`}}function sD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(n){return sD(n).replace(/%3B/gi,";")}function MO(n){return encodeURI(n)}function Rg(n){return sD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pd(n){return decodeURIComponent(n)}function qx(n){return Pd(n.replace(/\+/g,"%20"))}function aD(n){return`${Rg(n.path)}${TO(n.parameters)}`}function TO(n){return Object.entries(n).map(([r,o])=>`;${Rg(r)}=${Rg(o)}`).join("")}function AO(n){let r=Object.entries(n).map(([o,t])=>Array.isArray(t)?t.map(i=>`${Od(o)}=${Od(i)}`).join("&"):`${Od(o)}=${Od(t)}`).filter(o=>o);return r.length?`?${r.join("&")}`:""}var jO=/^[^\/()?;#]+/;function jg(n){let r=n.match(jO);return r?r[0]:""}var IO=/^[^\/()?;=#]+/;function NO(n){let r=n.match(IO);return r?r[0]:""}var OO=/^[^=?&#]+/;function FO(n){let r=n.match(OO);return r?r[0]:""}var kO=/^[^&#]+/;function RO(n){let r=n.match(kO);return r?r[0]:""}var Pg=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(r.length>0||Object.keys(o).length>0)&&(t[At]=new sr(r,o)),t}parseSegment(){let r=jg(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Qe(4009,!1);return this.capture(r),new js(Pd(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let o=NO(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let i=jg(this.remaining);i&&(t=i,this.capture(t))}r[Pd(o)]=Pd(t)}parseQueryParam(r){let o=FO(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let a=RO(this.remaining);a&&(t=a,this.capture(t))}let i=qx(o),s=qx(t);if(r.hasOwnProperty(i)){let a=r[i];Array.isArray(a)||(a=[a],r[i]=a),a.push(s)}else r[i]=s}parseParens(r){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=jg(this.remaining),i=this.remaining[t.length];if(i!=="/"&&i!==")"&&i!==";")throw new Qe(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):r&&(s=At);let a=this.parseChildren();o[s]=Object.keys(a).length===1?a[At]:new sr([],a),this.consumeOptional("//")}return o}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Qe(4011,!1)}};function uD(n){return n.segments.length>0?new sr([],{[At]:n}):n}function lD(n){let r={};for(let[t,i]of Object.entries(n.children)){let s=lD(i);if(t===At&&s.segments.length===0&&s.hasChildren())for(let[a,l]of Object.entries(s.children))r[a]=l;else(s.segments.length>0||s.hasChildren())&&(r[t]=s)}let o=new sr(n.segments,r);return PO(o)}function PO(n){if(n.numberOfChildren===1&&n.children[At]){let r=n.children[At];return new sr(n.segments.concat(r.segments),r.children)}return n}function Ns(n){return n instanceof mi}function LO(n,r,o=null,t=null){let i=cD(n);return dD(i,r,o,t)}function cD(n){let r;function o(s){let a={};for(let u of s.children){let c=o(u);a[u.outlet]=c}let l=new sr(s.url,a);return s===n&&(r=l),l}let t=o(n.root),i=uD(t);return r??i}function dD(n,r,o,t){let i=n;for(;i.parent;)i=i.parent;if(r.length===0)return Ig(i,i,i,o,t);let s=BO(r);if(s.toRoot())return Ig(i,i,new sr([],{}),o,t);let a=UO(s,i,n),l=a.processChildren?Ju(a.segmentGroup,a.index,s.commands):hD(a.segmentGroup,a.index,s.commands);return Ig(i,a.segmentGroup,l,o,t)}function Ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rl(n){return typeof n=="object"&&n!=null&&n.outlets}function Ig(n,r,o,t,i){let s={};t&&Object.entries(t).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`});let a;n===r?a=o:a=fD(n,r,o);let l=uD(lD(a));return new mi(l,s,i)}function fD(n,r,o){let t={};return Object.entries(n.children).forEach(([i,s])=>{s===r?t[i]=o:t[i]=fD(s,r,o)}),new sr(n.segments,t)}var Bd=class{constructor(r,o,t){if(this.isAbsolute=r,this.numberOfDoubleDots=o,this.commands=t,r&&t.length>0&&Ld(t[0]))throw new Qe(4003,!1);let i=t.find(rl);if(i&&i!==tD(t))throw new Qe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BO(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bd(!0,0,n);let r=0,o=!1,t=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([u,c])=>{l[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?o=!0:l===".."?r++:l!=""&&i.push(l))}),i):[...i,s]},[]);return new Bd(o,r,t)}var Ua=class{constructor(r,o,t){this.segmentGroup=r,this.processChildren=o,this.index=t}};function UO(n,r,o){if(n.isAbsolute)return new Ua(r,!0,0);if(!o)return new Ua(r,!1,NaN);if(o.parent===null)return new Ua(o,!0,0);let t=Ld(n.commands[0])?0:1,i=o.segments.length-1+t;return VO(o,i,n.numberOfDoubleDots)}function VO(n,r,o){let t=n,i=r,s=o;for(;s>i;){if(s-=i,t=t.parent,!t)throw new Qe(4005,!1);i=t.segments.length}return new Ua(t,!1,i-s)}function zO(n){return rl(n[0])?n[0].outlets:{[At]:n}}function hD(n,r,o){if(n??=new sr([],{}),n.segments.length===0&&n.hasChildren())return Ju(n,r,o);let t=GO(n,r,o),i=o.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let s=new sr(n.segments.slice(0,t.pathIndex),{});return s.children[At]=new sr(n.segments.slice(t.pathIndex),n.children),Ju(s,0,i)}else return t.match&&i.length===0?new sr(n.segments,{}):t.match&&!n.hasChildren()?Lg(n,r,o):t.match?Ju(n,0,i):Lg(n,r,o)}function Ju(n,r,o){if(o.length===0)return new sr(n.segments,{});{let t=zO(o),i={};if(Object.keys(t).some(s=>s!==At)&&n.children[At]&&n.numberOfChildren===1&&n.children[At].segments.length===0){let s=Ju(n.children[At],r,o);return new sr(n.segments,s.children)}return Object.entries(t).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=hD(n.children[s],r,a))}),Object.entries(n.children).forEach(([s,a])=>{t[s]===void 0&&(i[s]=a)}),new sr(n.segments,i)}}function GO(n,r,o){let t=0,i=r,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(t>=o.length)return s;let a=n.segments[i],l=o[t];if(rl(l))break;let u=`${l}`,c=t<o.length-1?o[t+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!$x(u,c,a))return s;t+=2}else{if(!$x(u,{},a))return s;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}function Lg(n,r,o){let t=n.segments.slice(0,r),i=0;for(;i<o.length;){let s=o[i];if(rl(s)){let u=HO(s.outlets);return new sr(t,u)}if(i===0&&Ld(o[0])){let u=n.segments[r];t.push(new js(u.path,Wx(o[0]))),i++;continue}let a=rl(s)?s.outlets[At]:`${s}`,l=i<o.length-1?o[i+1]:null;a&&l&&Ld(l)?(t.push(new js(a,Wx(l))),i+=2):(t.push(new js(a,{})),i++)}return new sr(t,{})}function HO(n){let r={};return Object.entries(n).forEach(([o,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[o]=Lg(new sr([],{}),0,t))}),r}function Wx(n){let r={};return Object.entries(n).forEach(([o,t])=>r[o]=`${t}`),r}function $x(n,r,o){return n==o.path&&$o(r,o.parameters)}var el="imperative",nn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nn||{}),so=class{constructor(r,o){this.id=r,this.url=o}},qa=class extends so{constructor(r,o,t="imperative",i=null){super(r,o),this.type=nn.NavigationStart,this.navigationTrigger=t,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Do=class extends so{constructor(r,o,t){super(r,o),this.urlAfterRedirects=t,this.type=nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Gn||{}),Ud=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ud||{}),pi=class extends so{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vi=class extends so{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=nn.NavigationSkipped}},nl=class extends so{constructor(r,o,t,i){super(r,o),this.error=t,this.target=i,this.type=nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vd=class extends so{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bg=class extends so{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends so{constructor(r,o,t,i,s){super(r,o),this.urlAfterRedirects=t,this.state=i,this.shouldActivate=s,this.type=nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vg=class extends so{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zg=class extends so{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gg=class{constructor(r){this.route=r,this.type=nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hg=class{constructor(r){this.route=r,this.type=nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qg=class{constructor(r){this.snapshot=r,this.type=nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wg=class{constructor(r){this.snapshot=r,this.type=nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(r){this.snapshot=r,this.type=nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yg=class{constructor(r){this.snapshot=r,this.type=nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{constructor(r,o,t){this.routerEvent=r,this.position=o,this.anchor=t,this.type=nn.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},ol=class{},Wa=class{constructor(r,o){this.url=r,this.navigationBehaviorOptions=o}};function qO(n,r){return n.providers&&!n._injector&&(n._injector=vd(n.providers,r,`Route: ${n.path}`)),n._injector??r}function xo(n){return n.outlet||At}function WO(n,r){let o=n.filter(t=>xo(t)===r);return o.push(...n.filter(t=>xo(t)!==r)),o}function dl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let o=r.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var Xg=class{get injector(){return dl(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new fl(this.rootInjector),this.attachRef=null}},fl=(()=>{let r=class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Xg(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}};r.\u0275fac=function(i){return new(i||r)(st(Vn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Gd=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let o=this.pathFromRoot(r);return o.length>1?o[o.length-2]:null}children(r){let o=Zg(r,this._root);return o?o.children.map(t=>t.value):[]}firstChild(r){let o=Zg(r,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(r){let o=Qg(r,this._root);return o.length<2?[]:o[o.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Qg(r,this._root).map(o=>o.value)}};function Zg(n,r){if(n===r.value)return r;for(let o of r.children){let t=Zg(n,o);if(t)return t}return null}function Qg(n,r){if(n===r.value)return[r];for(let o of r.children){let t=Qg(n,o);if(t.length)return t.unshift(r),t}return[]}var zn=class{constructor(r,o){this.value=r,this.children=o}toString(){return`TreeNode(${this.value})`}};function Ba(n){let r={};return n&&n.children.forEach(o=>r[o.value.outlet]=o),r}var Hd=class extends Gd{constructor(r,o){super(r),this.snapshot=o,sy(this,r)}toString(){return this.snapshot.toString()}};function pD(n){let r=$O(n),o=new cn([new js("",{})]),t=new cn({}),i=new cn({}),s=new cn({}),a=new cn(""),l=new Os(o,t,s,a,i,At,n,r.root);return l.snapshot=r.root,new Hd(new zn(l,[]),r)}function $O(n){let r={},o={},t={},i="",s=new Va([],r,t,i,o,At,n,null,{});return new Wd("",new zn(s,[]))}var Os=class{constructor(r,o,t,i,s,a,l,u){this.urlSubject=r,this.paramsSubject=o,this.queryParamsSubject=t,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe($t(c=>c[ll]))??Dt(void 0),this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($t(r=>Ga(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($t(r=>Ga(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qd(n,r,o="emptyOnly"){let t,{routeConfig:i}=n;return r!==null&&(o==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?t={params:nt(nt({},r.params),n.params),data:nt(nt({},r.data),n.data),resolve:nt(nt(nt(nt({},n.data),r.data),i?.data),n._resolvedData)}:t={params:nt({},n.params),data:nt({},n.data),resolve:nt(nt({},n.data),n._resolvedData??{})},i&&gD(i)&&(t.resolve[ll]=i.title),t}var Va=class{get title(){return this.data?.[ll]}constructor(r,o,t,i,s,a,l,u,c){this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=s,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ga(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ga(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(t=>t.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${o}')`}},Wd=class extends Gd{constructor(r,o){super(o),this.url=r,sy(this,o)}toString(){return mD(this._root)}};function sy(n,r){r.value._routerState=n,r.children.forEach(o=>sy(n,o))}function mD(n){let r=n.children.length>0?` { ${n.children.map(mD).join(", ")} } `:"";return`${n.value}${r}`}function Ng(n){if(n.snapshot){let r=n.snapshot,o=n._futureSnapshot;n.snapshot=o,$o(r.queryParams,o.queryParams)||n.queryParamsSubject.next(o.queryParams),r.fragment!==o.fragment&&n.fragmentSubject.next(o.fragment),$o(r.params,o.params)||n.paramsSubject.next(o.params),wO(r.url,o.url)||n.urlSubject.next(o.url),$o(r.data,o.data)||n.dataSubject.next(o.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Kg(n,r){let o=$o(n.params,r.params)&&SO(n.url,r.url),t=!n.parent!=!r.parent;return o&&!t&&(!n.parent||Kg(n.parent,r.parent))}function gD(n){return typeof n.title=="string"||n.title===null}var ay=(()=>{let r=class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new er,this.deactivateEvents=new er,this.attachEvents=new er,this.detachEvents=new er,this.parentContexts=Je(fl),this.location=Je(ci),this.changeDetector=Je(Fa),this.inputBinder=Je(Kd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Qe(4013,!1);this._activatedRoute=t;let s=this.location,l=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Jg(t,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=ro({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zo]});let n=r;return n})(),Jg=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,o,t){this.route=r,this.childContexts=o,this.parent=t}get(r,o){return r===Os?this.route:r===fl?this.childContexts:this.parent.get(r,o)}},Kd=new wt(""),Yx=(()=>{let r=class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,s=Su([i.queryParams,i.params,i.data]).pipe(Zn(([a,l,u],c)=>(u=nt(nt(nt({},a),l),u),c===0?Dt(u):Promise.resolve(u)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let l=xx(i.component);if(!l){this.unsubscribeFromRouteData(t);return}for(let{templateName:u}of l.inputs)t.activatedComponentRef.setInput(u,a[u])});this.outletDataSubscriptions.set(t,s)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function YO(n,r,o){let t=il(n,r._root,o?o._root:void 0);return new Hd(t,r)}function il(n,r,o){if(o&&n.shouldReuseRoute(r.value,o.value.snapshot)){let t=o.value;t._futureSnapshot=r.value;let i=XO(n,r,o);return new zn(t,i)}else{if(n.shouldAttach(r.value)){let s=n.retrieve(r.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=r.value,a.children=r.children.map(l=>il(n,l)),a}}let t=ZO(r.value),i=r.children.map(s=>il(n,s));return new zn(t,i)}}function XO(n,r,o){return r.children.map(t=>{for(let i of o.children)if(n.shouldReuseRoute(t.value,i.value.snapshot))return il(n,t,i);return il(n,t)})}function ZO(n){return new Os(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}var sl=class{constructor(r,o){this.redirectTo=r,this.navigationBehaviorOptions=o}},yD="ngNavigationCancelingError";function $d(n,r){let{redirectTo:o,navigationBehaviorOptions:t}=Ns(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=vD(!1,Gn.Redirect);return i.url=o,i.navigationBehaviorOptions=t,i}function vD(n,r){let o=new Error(`NavigationCancelingError: ${n||""}`);return o[yD]=!0,o.cancellationCode=r,o}function QO(n){return bD(n)&&Ns(n.url)}function bD(n){return!!n&&n[yD]}var KO=(n,r,o,t)=>$t(i=>(new ey(r,i.targetRouterState,i.currentRouterState,o,t).activate(n),i)),ey=class{constructor(r,o,t,i,s){this.routeReuseStrategy=r,this.futureState=o,this.currState=t,this.forwardEvent=i,this.inputBindingEnabled=s}activate(r){let o=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,t,r),Ng(this.futureState.root),this.activateChildRoutes(o,t,r)}deactivateChildRoutes(r,o,t){let i=Ba(o);r.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],t),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(r,o,t){let i=r.value,s=o?o.value:null;if(i===s)if(i.component){let a=t.getContext(i.outlet);a&&this.deactivateChildRoutes(r,o,a.children)}else this.deactivateChildRoutes(r,o,t);else s&&this.deactivateRouteAndItsChildren(o,t)}deactivateRouteAndItsChildren(r,o){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,o):this.deactivateRouteAndOutlet(r,o)}detachAndStoreRouteSubtree(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,s=Ba(r);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(t&&t.outlet){let a=t.outlet.detach(),l=t.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:a,route:r,contexts:l})}}deactivateRouteAndOutlet(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,s=Ba(r);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(r,o,t){let i=Ba(o);r.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],t),this.forwardEvent(new Yg(s.value.snapshot))}),r.children.length&&this.forwardEvent(new Wg(r.value.snapshot))}activateRoutes(r,o,t){let i=r.value,s=o?o.value:null;if(Ng(i),i===s)if(i.component){let a=t.getOrCreateContext(i.outlet);this.activateChildRoutes(r,o,a.children)}else this.activateChildRoutes(r,o,t);else if(i.component){let a=t.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Ng(l.route.value),this.activateChildRoutes(r,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(r,null,a.children)}else this.activateChildRoutes(r,null,t)}},Yd=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},za=class{constructor(r,o){this.component=r,this.route=o}};function JO(n,r,o){let t=n._root,i=r?r._root:null;return Qu(t,i,o,[t.value])}function eF(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function Ya(n,r){let o=Symbol(),t=r.get(n,o);return t===o?typeof n=="function"&&!z1(n)?n:r.get(n):t}function Qu(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ba(r);return n.children.forEach(a=>{tF(a,s[a.value.outlet],o,t.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,l])=>tl(l,o.getContext(a),i)),i}function tF(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=r?r.value:null,l=o?o.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let u=rF(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Yd(t)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Qu(n,r,l?l.children:null,t,i):Qu(n,r,o,t,i),u&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new za(l.outlet.component,a))}else a&&tl(r,l,i),i.canActivateChecks.push(new Yd(t)),s.component?Qu(n,null,l?l.children:null,t,i):Qu(n,null,o,t,i);return i}function rF(n,r,o){if(typeof o=="function")return o(n,r);switch(o){case"pathParamsChange":return!Is(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Is(n.url,r.url)||!$o(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kg(n,r)||!$o(n.queryParams,r.queryParams);case"paramsChange":default:return!Kg(n,r)}}function tl(n,r,o){let t=Ba(n),i=n.value;Object.entries(t).forEach(([s,a])=>{i.component?r?tl(a,r.children.getContext(s),o):tl(a,null,o):tl(a,r,o)}),i.component?r&&r.outlet&&r.outlet.isActivated?o.canDeactivateChecks.push(new za(r.outlet.component,i)):o.canDeactivateChecks.push(new za(null,i)):o.canDeactivateChecks.push(new za(null,i))}function hl(n){return typeof n=="function"}function nF(n){return typeof n=="boolean"}function oF(n){return n&&hl(n.canLoad)}function iF(n){return n&&hl(n.canActivate)}function sF(n){return n&&hl(n.canActivateChild)}function aF(n){return n&&hl(n.canDeactivate)}function uF(n){return n&&hl(n.canMatch)}function wD(n){return n instanceof oi||n?.name==="EmptyError"}var Fd=Symbol("INITIAL_VALUE");function $a(){return Zn(n=>Su(n.map(r=>r.pipe(po(1),np(Fd)))).pipe($t(r=>{for(let o of r)if(o!==!0){if(o===Fd)return Fd;if(o===!1||lF(o))return o}return!0}),Xn(r=>r!==Fd),po(1)))}function lF(n){return Ns(n)||n instanceof sl}function cF(n,r){return Pr(o=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=o;return a.length===0&&s.length===0?Dt(hr(nt({},o),{guardsResult:!0})):dF(a,t,i,n).pipe(Pr(l=>l&&nF(l)?fF(t,s,n,r):Dt(l)),$t(l=>hr(nt({},o),{guardsResult:l})))})}function dF(n,r,o,t){return Er(n).pipe(Pr(i=>yF(i.component,i.route,o,r,t)),Fo(i=>i!==!0,!0))}function fF(n,r,o,t){return Er(r).pipe(fs(i=>ua(pF(i.route.parent,t),hF(i.route,t),gF(n,i.path,o),mF(n,i.route,o))),Fo(i=>i!==!0,!0))}function hF(n,r){return n!==null&&r&&r(new $g(n)),Dt(!0)}function pF(n,r){return n!==null&&r&&r(new qg(n)),Dt(!0)}function mF(n,r,o){let t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||t.length===0)return Dt(!0);let i=t.map(s=>gc(()=>{let a=dl(r)??o,l=Ya(s,a),u=iF(l)?l.canActivate(r,n):Vo(a,()=>l(r,n));return zi(u).pipe(Fo())}));return Dt(i).pipe($a())}function gF(n,r,o){let t=r[r.length-1],s=r.slice(0,r.length-1).reverse().map(a=>eF(a)).filter(a=>a!==null).map(a=>gc(()=>{let l=a.guards.map(u=>{let c=dl(a.node)??o,m=Ya(u,c),y=sF(m)?m.canActivateChild(t,n):Vo(c,()=>m(t,n));return zi(y).pipe(Fo())});return Dt(l).pipe($a())}));return Dt(s).pipe($a())}function yF(n,r,o,t,i){let s=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!s||s.length===0)return Dt(!0);let a=s.map(l=>{let u=dl(r)??i,c=Ya(l,u),m=aF(c)?c.canDeactivate(n,r,o,t):Vo(u,()=>c(n,r,o,t));return zi(m).pipe(Fo())});return Dt(a).pipe($a())}function vF(n,r,o,t){let i=r.canLoad;if(i===void 0||i.length===0)return Dt(!0);let s=i.map(a=>{let l=Ya(a,n),u=oF(l)?l.canLoad(r,o):Vo(n,()=>l(r,o));return zi(u)});return Dt(s).pipe($a(),_D(t))}function _D(n){return qh(dn(r=>{if(typeof r!="boolean")throw $d(n,r)}),$t(r=>r===!0))}function bF(n,r,o,t){let i=r.canMatch;if(!i||i.length===0)return Dt(!0);let s=i.map(a=>{let l=Ya(a,n),u=uF(l)?l.canMatch(r,o):Vo(n,()=>l(r,o));return zi(u)});return Dt(s).pipe($a(),_D(t))}var al=class{constructor(r){this.segmentGroup=r||null}},ul=class extends Error{constructor(r){super(),this.urlTree=r}};function La(n){return aa(new al(n))}function wF(n){return aa(new Qe(4e3,!1))}function _F(n){return aa(vD(!1,Gn.GuardRejected))}var ty=class{constructor(r,o){this.urlSerializer=r,this.urlTree=o}lineralizeSegments(r,o){let t=[],i=o.root;for(;;){if(t=t.concat(i.segments),i.numberOfChildren===0)return Dt(t);if(i.numberOfChildren>1||!i.children[At])return wF(`${r.redirectTo}`);i=i.children[At]}}applyRedirectCommands(r,o,t,i,s){if(typeof o!="string"){let l=o,{queryParams:u,fragment:c,routeConfig:m,url:y,outlet:d,params:h,data:p,title:f}=i,v=Vo(s,()=>l({params:h,data:p,queryParams:u,fragment:c,routeConfig:m,url:y,outlet:d,title:f}));if(v instanceof mi)throw new ul(v);o=v}let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),r,t);if(o[0]==="/")throw new ul(a);return a}applyRedirectCreateUrlTree(r,o,t,i){let s=this.createSegmentGroup(r,o.root,t,i);return new mi(s,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(r,o){let t={};return Object.entries(r).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let l=s.substring(1);t[i]=o[l]}else t[i]=s}),t}createSegmentGroup(r,o,t,i){let s=this.createSegments(r,o.segments,t,i),a={};return Object.entries(o.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(r,u,t,i)}),new sr(s,a)}createSegments(r,o,t,i){return o.map(s=>s.path[0]===":"?this.findPosParam(r,s,i):this.findOrReturn(s,t))}findPosParam(r,o,t){let i=t[o.path.substring(1)];if(!i)throw new Qe(4001,!1);return i}findOrReturn(r,o){let t=0;for(let i of o){if(i.path===r.path)return o.splice(t),i;t++}return r}},ry={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xF(n,r,o,t,i){let s=xD(n,r,o);return s.matched?(t=qO(r,t),bF(t,r,o,i).pipe($t(a=>a===!0?s:nt({},ry)))):Dt(s)}function xD(n,r,o){if(r.path==="**")return DF(o);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||o.length>0)?nt({},ry):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let i=(r.matcher||bO)(o,n,r);if(!i)return nt({},ry);let s={};Object.entries(i.posParams??{}).forEach(([l,u])=>{s[l]=u.path});let a=i.consumed.length>0?nt(nt({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:o.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function DF(n){return{matched:!0,parameters:n.length>0?tD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Xx(n,r,o,t){return o.length>0&&CF(n,o,t)?{segmentGroup:new sr(r,EF(t,new sr(o,n.children))),slicedSegments:[]}:o.length===0&&MF(n,o,t)?{segmentGroup:new sr(n.segments,SF(n,o,t,n.children)),slicedSegments:o}:{segmentGroup:new sr(n.segments,n.children),slicedSegments:o}}function SF(n,r,o,t){let i={};for(let s of o)if(Jd(n,r,s)&&!t[xo(s)]){let a=new sr([],{});i[xo(s)]=a}return nt(nt({},t),i)}function EF(n,r){let o={};o[At]=r;for(let t of n)if(t.path===""&&xo(t)!==At){let i=new sr([],{});o[xo(t)]=i}return o}function CF(n,r,o){return o.some(t=>Jd(n,r,t)&&xo(t)!==At)}function MF(n,r,o){return o.some(t=>Jd(n,r,t))}function Jd(n,r,o){return(n.hasChildren()||r.length>0)&&o.pathMatch==="full"?!1:o.path===""}function TF(n,r,o){return r.length===0&&!n.children[o]}var ny=class{};function AF(n,r,o,t,i,s,a="emptyOnly"){return new oy(n,r,o,t,i,a,s).recognize()}var jF=31,oy=class{constructor(r,o,t,i,s,a,l){this.injector=r,this.configLoader=o,this.rootComponentType=t,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new ty(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new Qe(4002,`'${r.segmentGroup}'`)}recognize(){let r=Xx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe($t(({children:o,rootSnapshot:t})=>{let i=new zn(t,o),s=new Wd("",i),a=LO(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(r){let o=new Va([],Object.freeze({}),Object.freeze(nt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,At,o).pipe($t(t=>({children:t,rootSnapshot:o})),Ai(t=>{if(t instanceof ul)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof al?this.noMatchError(t):t}))}processSegmentGroup(r,o,t,i,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(r,o,t,s):this.processSegment(r,o,t,t.segments,i,!0,s).pipe($t(a=>a instanceof zn?[a]:[]))}processChildren(r,o,t,i){let s=[];for(let a of Object.keys(t.children))a==="primary"?s.unshift(a):s.push(a);return Er(s).pipe(fs(a=>{let l=t.children[a],u=WO(o,a);return this.processSegmentGroup(r,u,l,a,i)}),rp((a,l)=>(a.push(...l),a)),ji(null),tp(),Pr(a=>{if(a===null)return La(t);let l=DD(a);return IF(l),Dt(l)}))}processSegment(r,o,t,i,s,a,l){return Er(o).pipe(fs(u=>this.processSegmentAgainstRoute(u._injector??r,o,u,t,i,s,a,l).pipe(Ai(c=>{if(c instanceof al)return Dt(null);throw c}))),Fo(u=>!!u),Ai(u=>{if(wD(u))return TF(t,i,s)?Dt(new ny):La(t);throw u}))}processSegmentAgainstRoute(r,o,t,i,s,a,l,u){return xo(t)!==a&&(a===At||!Jd(i,s,t))?La(i):t.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,t,s,a,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,t,s,a,u):La(i)}expandSegmentAgainstRouteUsingRedirect(r,o,t,i,s,a,l){let{matched:u,parameters:c,consumedSegments:m,positionalParamSegments:y,remainingSegments:d}=xD(o,i,s);if(!u)return La(o);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jF&&(this.allowRedirects=!1));let h=new Va(s,c,Object.freeze(nt({},this.urlTree.queryParams)),this.urlTree.fragment,Zx(i),xo(i),i.component??i._loadedComponent??null,i,Qx(i)),p=qd(h,l,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let f=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,y,h,r);return this.applyRedirects.lineralizeSegments(i,f).pipe(Pr(v=>this.processSegment(r,t,o,v.concat(d),a,!1,l)))}matchSegmentAgainstRoute(r,o,t,i,s,a){let l=xF(o,t,i,r,this.urlSerializer);return t.path==="**"&&(o.children={}),l.pipe(Zn(u=>u.matched?(r=t._injector??r,this.getChildConfig(r,t,i).pipe(Zn(({routes:c})=>{let m=t._loadedInjector??r,{parameters:y,consumedSegments:d,remainingSegments:h}=u,p=new Va(d,y,Object.freeze(nt({},this.urlTree.queryParams)),this.urlTree.fragment,Zx(t),xo(t),t.component??t._loadedComponent??null,t,Qx(t)),f=qd(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let{segmentGroup:v,slicedSegments:g}=Xx(o,d,h,c);if(g.length===0&&v.hasChildren())return this.processChildren(m,c,v,p).pipe($t(b=>new zn(p,b)));if(c.length===0&&g.length===0)return Dt(new zn(p,[]));let w=xo(t)===s;return this.processSegment(m,c,v,g,w?At:s,!0,p).pipe($t(b=>new zn(p,b instanceof zn?[b]:[])))}))):La(o)))}getChildConfig(r,o,t){return o.children?Dt({routes:o.children,injector:r}):o.loadChildren?o._loadedRoutes!==void 0?Dt({routes:o._loadedRoutes,injector:o._loadedInjector}):vF(r,o,t,this.urlSerializer).pipe(Pr(i=>i?this.configLoader.loadChildren(r,o).pipe(dn(s=>{o._loadedRoutes=s.routes,o._loadedInjector=s.injector})):_F(o))):Dt({routes:[],injector:r})}};function IF(n){n.sort((r,o)=>r.value.outlet===At?-1:o.value.outlet===At?1:r.value.outlet.localeCompare(o.value.outlet))}function NF(n){let r=n.value.routeConfig;return r&&r.path===""}function DD(n){let r=[],o=new Set;for(let t of n){if(!NF(t)){r.push(t);continue}let i=r.find(s=>t.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...t.children),o.add(i)):r.push(t)}for(let t of o){let i=DD(t.children);r.push(new zn(t.value,i))}return r.filter(t=>!o.has(t))}function Zx(n){return n.data||{}}function Qx(n){return n.resolve||{}}function OF(n,r,o,t,i,s){return Pr(a=>AF(n,r,o,t,a.extractedUrl,i,s).pipe($t(({state:l,tree:u})=>hr(nt({},a),{targetSnapshot:l,urlAfterRedirects:u}))))}function FF(n,r){return Pr(o=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=o;if(!i.length)return Dt(o);let s=new Set(i.map(u=>u.route)),a=new Set;for(let u of s)if(!a.has(u))for(let c of SD(u))a.add(c);let l=0;return Er(a).pipe(fs(u=>s.has(u)?kF(u,t,n,r):(u.data=qd(u,u.parent,n).resolve,Dt(void 0))),dn(()=>l++),ca(1),Pr(u=>l===a.size?Dt(o):En))})}function SD(n){let r=n.children.map(o=>SD(o)).flat();return[n,...r]}function kF(n,r,o,t){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!gD(i)&&(s[ll]=i.title),RF(s,n,r,t).pipe($t(a=>(n._resolvedData=a,n.data=qd(n,n.parent,o).resolve,null)))}function RF(n,r,o,t){let i=kg(n);if(i.length===0)return Dt({});let s={};return Er(i).pipe(Pr(a=>PF(n[a],r,o,t).pipe(Fo(),dn(l=>{if(l instanceof sl)throw $d(new Ha,l);s[a]=l}))),ca(1),ep(s),Ai(a=>wD(a)?En:aa(a)))}function PF(n,r,o,t){let i=dl(r)??t,s=Ya(n,i),a=s.resolve?s.resolve(r,o):Vo(i,()=>s(r,o));return zi(a)}function Og(n){return Zn(r=>{let o=n(r);return o?Er(o).pipe($t(()=>r)):Dt(r)})}var ED=(()=>{let r=class r{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===At);return i}getResolvedTitleForRoute(t){return t.data[ll]}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(LF),providedIn:"root"});let n=r;return n})(),LF=(()=>{let r=class r extends ED{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}};r.\u0275fac=function(i){return new(i||r)(st(Wo))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),pl=new wt("",{providedIn:"root",factory:()=>({})}),BF=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=lr({type:r,selectors:[["ng-component"]],standalone:!0,features:[cx],decls:1,vars:0,template:function(i,s){i&1&&mr(0,"router-outlet")},dependencies:[ay],encapsulation:2});let n=r;return n})();function uy(n){let r=n.children&&n.children.map(uy),o=r?hr(nt({},n),{children:r}):nt({},n);return!o.component&&!o.loadComponent&&(r||o.loadChildren)&&o.outlet&&o.outlet!==At&&(o.component=BF),o}var Xd=new wt(""),ly=(()=>{let r=class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Je(Cd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=zi(t.loadComponent()).pipe($t(CD),dn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Eu(()=>{this.componentLoaders.delete(t)})),s=new na(i,()=>new rn).pipe(ra());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=UF(i,this.compiler,t,this.onLoadEndListener).pipe(Eu(()=>{this.childrenLoaders.delete(i)})),l=new na(a,()=>new rn).pipe(ra());return this.childrenLoaders.set(i,l),l}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function UF(n,r,o,t){return zi(n.loadChildren()).pipe($t(CD),Pr(i=>i instanceof ku||Array.isArray(i)?Dt(i):Er(r.compileModuleAsync(i))),$t(i=>{t&&t(n);let s,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(s=i.create(o).injector,a=s.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:a.map(uy),injector:s}}))}function VF(n){return n&&typeof n=="object"&&"default"in n}function CD(n){return VF(n)?n.default:n}var cy=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(zF),providedIn:"root"});let n=r;return n})(),zF=(()=>{let r=class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),MD=new wt(""),TD=new wt("");function GF(n,r,o){let t=n.get(TD),i=n.get(Br);return n.get(Gt).runOutsideAngular(()=>{if(!i.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,a=new Promise(c=>{s=c}),l=i.startViewTransition(()=>(s(),HF(n))),{onViewTransitionCreated:u}=t;return u&&Vo(n,()=>u({transition:l,from:r,to:o})),a})}function HF(n){return new Promise(r=>{og({read:()=>setTimeout(r)},{injector:n})})}var qF=new wt(""),dy=(()=>{let r=class r{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rn,this.transitionAbortSubject=new rn,this.configLoader=Je(ly),this.environmentInjector=Je(Vn),this.urlSerializer=Je(cl),this.rootContexts=Je(fl),this.location=Je(ka),this.inputBindingEnabled=Je(Kd,{optional:!0})!==null,this.titleStrategy=Je(ED),this.options=Je(pl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Je(cy),this.createViewTransition=Je(MD,{optional:!0}),this.navigationErrorHandler=Je(qF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Dt(void 0),this.rootComponentType=null;let t=s=>this.events.next(new Gg(s)),i=s=>this.events.next(new Hg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(hr(nt(nt({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new cn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:el,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xn(a=>a.id!==0),$t(a=>hr(nt({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Zn(a=>{let l=!1,u=!1;return Dt(a).pipe(Zn(c=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Gn.SupersededByNewNavigation),En;this.currentTransition=a,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?hr(nt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!m&&y!=="reload"){let d="";return this.events.next(new Vi(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ud.IgnoredSameUrlNavigation)),c.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Dt(c).pipe(Zn(d=>{let h=this.transitions?.getValue();return this.events.next(new qa(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?En:Promise.resolve(d)}),OF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dn(d=>{a.targetSnapshot=d.targetSnapshot,a.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=hr(nt({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Vd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:f,extras:v}=c,g=new qa(d,this.urlSerializer.serialize(h),p,f);this.events.next(g);let w=pD(this.rootComponentType).snapshot;return this.currentTransition=a=hr(nt({},c),{targetSnapshot:w,urlAfterRedirects:h,extras:hr(nt({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Dt(a)}else{let d="";return this.events.next(new Vi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ud.IgnoredByUrlHandlingStrategy)),c.resolve(!1),En}}),dn(c=>{let m=new Bg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),$t(c=>(this.currentTransition=a=hr(nt({},c),{guards:JO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),a)),cF(this.environmentInjector,c=>this.events.next(c)),dn(c=>{if(a.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw $d(this.urlSerializer,c.guardsResult);let m=new Ug(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),Xn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Gn.GuardRejected),!1)),Og(c=>{if(c.guards.canActivateChecks.length)return Dt(c).pipe(dn(m=>{let y=new Vg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),Zn(m=>{let y=!1;return Dt(m).pipe(FF(this.paramsInheritanceStrategy,this.environmentInjector),dn({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(m,"",Gn.NoDataFromResolver)}}))}),dn(m=>{let y=new zg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}))}),Og(c=>{let m=y=>{let d=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(y.routeConfig).pipe(dn(h=>{y.component=h}),$t(()=>{})));for(let h of y.children)d.push(...m(h));return d};return Su(m(c.targetSnapshot.root)).pipe(ji(null),po(1))}),Og(()=>this.afterPreactivation()),Zn(()=>{let{currentSnapshot:c,targetSnapshot:m}=a,y=this.createViewTransition?.(this.environmentInjector,c.root,m.root);return y?Er(y).pipe($t(()=>a)):Dt(a)}),$t(c=>{let m=YO(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=a=hr(nt({},c),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),dn(()=>{this.events.next(new ol)}),KO(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),po(1),dn({next:c=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Do(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{l=!0}}),op(this.transitionAbortSubject.pipe(dn(c=>{throw c}))),Eu(()=>{!l&&!u&&this.cancelNavigationTransition(a,"",Gn.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ai(c=>{if(u=!0,bD(c))this.events.next(new pi(a.id,this.urlSerializer.serialize(a.extractedUrl),c.message,c.cancellationCode)),QO(c)?this.events.next(new Wa(c.url,c.navigationBehaviorOptions)):a.resolve(!1);else{let m=new nl(a.id,this.urlSerializer.serialize(a.extractedUrl),c,a.targetSnapshot??void 0);try{let y=Vo(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(y instanceof sl){let{message:d,cancellationCode:h}=$d(this.urlSerializer,y);this.events.next(new pi(a.id,this.urlSerializer.serialize(a.extractedUrl),d,h)),this.events.next(new Wa(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(m);let d=t.errorHandler(c);a.resolve(!!d)}}catch(y){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(y)}}return En}))}))}cancelNavigationTransition(t,i,s){let a=new pi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(a),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function WF(n){return n!==el}var $F=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(YF),providedIn:"root"});let n=r;return n})(),iy=class{shouldDetach(r){return!1}store(r,o){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,o){return r.routeConfig===o.routeConfig}},YF=(()=>{let r=class r extends iy{};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=Nm(r)))(s||r)}})(),r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),AD=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:()=>Je(XF),providedIn:"root"});let n=r;return n})(),XF=(()=>{let r=class r extends AD{constructor(){super(...arguments),this.location=Je(ka),this.urlSerializer=Je(cl),this.options=Je(pl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Je(cy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof qa)this.stateMemento=this.createStateMemento();else if(t instanceof Vi)this.rawUrlTree=i.initialUrl;else if(t instanceof Vd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof ol?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof pi&&(t.code===Gn.GuardRejected||t.code===Gn.NoDataFromResolver)?this.restoreHistory(i):t instanceof nl?this.restoreHistory(i,!0):t instanceof Do&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=t instanceof mi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,l=nt(nt({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",l)}else{let a=nt(nt({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===t.finalUrl&&a===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=Nm(r)))(s||r)}})(),r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Ku=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ku||{});function jD(n,r){n.events.pipe(Xn(o=>o instanceof Do||o instanceof pi||o instanceof nl||o instanceof Vi),$t(o=>o instanceof Do||o instanceof Vi?Ku.COMPLETE:(o instanceof pi?o.code===Gn.Redirect||o.code===Gn.SupersededByNewNavigation:!1)?Ku.REDIRECTING:Ku.FAILED),Xn(o=>o!==Ku.REDIRECTING),po(1)).subscribe(()=>{r()})}function ZF(n){throw n}var QF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gi=(()=>{let r=class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Je(xd),this.stateManager=Je(AD),this.options=Je(pl,{optional:!0})||{},this.pendingTasks=Je(Ma),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Je(dy),this.urlSerializer=Je(cl),this.location=Je(ka),this.urlHandlingStrategy=Je(cy),this._events=new rn,this.errorHandler=this.options.errorHandler||ZF,this.navigated=!1,this.routeReuseStrategy=Je($F),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Je(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Je(Kd,{optional:!0}),this.eventsSubscription=new Sr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof pi&&i.code!==Gn.Redirect&&i.code!==Gn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Do)this.navigated=!0;else if(i instanceof Wa){let l=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=nt({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WF(s.source)},l);this.scheduleNavigation(u,el,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}ek(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let a={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let c=nt({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let u=this.parseUrl(t);this.scheduleNavigation(u,i,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(uy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:a,fragment:l,queryParamsHandling:u,preserveFragment:c}=i,m=c?this.currentUrlTree.fragment:l,y=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":y=nt(nt({},this.currentUrlTree.queryParams),a);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=a||null}y!==null&&(y=this.removeEmptyProps(y));let d;try{let h=s?s.snapshot:this.routerState.snapshot.root;d=cD(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return dD(d,t,y,m??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=Ns(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,el,null,i)}navigate(t,i={skipLocationChange:!1}){return JF(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=nt({},QF):i===!1?s=nt({},KF):s=i,Ns(t))return Hx(this.currentUrlTree,t,s);let a=this.parseUrl(t);return Hx(this.currentUrlTree,a,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,a])=>(a!=null&&(i[s]=a),i),{})}scheduleNavigation(t,i,s,a,l){if(this.disposed)return Promise.resolve(!1);let u,c,m;l?(u=l.resolve,c=l.reject,m=l.promise):m=new Promise((d,h)=>{u=d,c=h});let y=this.pendingTasks.add();return jD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:u,reject:c,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(d=>Promise.reject(d))}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function JF(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new Qe(4008,!1)}function ek(n){return!(n instanceof ol)&&!(n instanceof Wa)}var Zd=(()=>{let r=class r{constructor(t,i,s,a,l,u){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=a,this.el=l,this.locationStrategy=u,this.href=null,this.onChanges=new rn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof Do&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ns(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,s,a,l){let u=this.urlTree;if(u===null||this.isAnchorElement&&(t!==0||i||s||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:i_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let s=this.renderer,a=this.el.nativeElement;i!==null?s.setAttribute(a,t,i):s.removeAttribute(a,t)}get urlTree(){return this.routerLinkInput===null?null:Ns(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};r.\u0275fac=function(i){return new(i||r)(bt(gi),bt(Os),Om("tabindex"),bt(Ho),bt(Lr),bt(hi))},r.\u0275dir=ro({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&pn("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),i&2&&_o("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qu],replaceUrl:[2,"replaceUrl","replaceUrl",qu],routerLink:"routerLink"},standalone:!0,features:[rg,zo]});let n=r;return n})(),ID=(()=>{let r=class r{get isActive(){return this._isActive}constructor(t,i,s,a,l){this.router=t,this.element=i,this.renderer=s,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new er,this.routerEventsSubscription=t.events.subscribe(u=>{u instanceof Do&&this.update()})}ngAfterContentInit(){Dt(this.links.changes,Dt(null)).pipe(Oo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Er(t).pipe(Oo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=tk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let a=s.urlTree;return a?t.isActive(a,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}};r.\u0275fac=function(i){return new(i||r)(bt(gi),bt(Lr),bt(Ho),bt(Fa),bt(Zd,8))},r.\u0275dir=ro({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,a){if(i&1&&ax(a,Zd,5),i&2){let l;ux(l=lx())&&(s.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[zo]});let n=r;return n})();function tk(n){return!!n.paths}var Qd=class{};var rk=(()=>{let r=class r{constructor(t,i,s,a,l){this.router=t,this.injector=s,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof Do),fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let s=[];for(let a of i){a.providers&&!a._injector&&(a._injector=vd(a.providers,t,`Route: ${a.path}`));let l=a._injector??t,u=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(u,a.children??a._loadedRoutes))}return Er(s).pipe(Oo())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(t,i):s=Dt(null);let a=s.pipe(Pr(l=>l===null?Dt(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){let l=this.loader.loadComponent(i);return Er([a,l]).pipe(Oo())}else return a})}};r.\u0275fac=function(i){return new(i||r)(st(gi),st(Cd),st(Vn),st(Qd),st(ly))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),ND=new wt(""),nk=(()=>{let r=class r{constructor(t,i,s,a,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Do?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Vi&&t.code===Ud.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};r.\u0275fac=function(i){__()},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function ok(n){return n.routerState.root}function ml(n,r){return{\u0275kind:n,\u0275providers:r}}function ik(){let n=Je(fn);return r=>{let o=n.get(qo);if(r!==o.components[0])return;let t=n.get(gi),i=n.get(OD);n.get(fy)===1&&t.initialNavigation(),n.get(FD,null,Ft.Optional)?.setUpPreloading(),n.get(ND,null,Ft.Optional)?.init(),t.resetRootComponentType(o.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OD=new wt("",{factory:()=>new rn}),fy=new wt("",{providedIn:"root",factory:()=>1});function sk(){return ml(2,[{provide:fy,useValue:0},{provide:Ed,multi:!0,deps:[fn],useFactory:r=>{let o=r.get(jx,Promise.resolve());return()=>o.then(()=>new Promise(t=>{let i=r.get(gi),s=r.get(OD);jD(i,()=>{t(!0)}),r.get(dy).afterPreactivation=()=>(t(!0),s.closed?Dt(void 0):s),i.initialNavigation()}))}}])}function ak(){return ml(3,[{provide:Ed,multi:!0,useFactory:()=>{let r=Je(gi);return()=>{r.setUpLocationChangeListener()}}},{provide:fy,useValue:2}])}var FD=new wt("");function uk(n){return ml(0,[{provide:FD,useExisting:rk},{provide:Qd,useExisting:n}])}function lk(){return ml(8,[Yx,{provide:Kd,useExisting:Yx}])}function ck(n){let r=[{provide:MD,useValue:GF},{provide:TD,useValue:nt({skipNextTransition:!!n?.skipInitialTransition},n)}];return ml(9,r)}var Kx=new wt("ROUTER_FORROOT_GUARD"),dk=[ka,{provide:cl,useClass:Ha},gi,fl,{provide:Os,useFactory:ok,deps:[gi]},ly,[]],hy=(()=>{let r=class r{constructor(t){}static forRoot(t,i){return{ngModule:r,providers:[dk,[],{provide:Xd,multi:!0,useValue:t},{provide:Kx,useFactory:mk,deps:[[gi,new Lu,new td]]},{provide:pl,useValue:i||{}},i?.useHash?hk():pk(),fk(),i?.preloadingStrategy?uk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?gk(i):[],i?.bindToComponentInputs?lk().\u0275providers:[],i?.enableViewTransitions?ck().\u0275providers:[],yk()]}}static forChild(t){return{ngModule:r,providers:[{provide:Xd,multi:!0,useValue:t}]}}};r.\u0275fac=function(i){return new(i||r)(st(Kx,8))},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({});let n=r;return n})();function fk(){return{provide:ND,useFactory:()=>{let n=Je(Rx),r=Je(Gt),o=Je(pl),t=Je(dy),i=Je(cl);return o.scrollOffset&&n.setOffset(o.scrollOffset),new nk(i,t,n,r,o)}}}function hk(){return{provide:hi,useClass:Nx}}function pk(){return{provide:hi,useClass:wg}}function mk(n){return"guarded"}function gk(n){return[n.initialNavigation==="disabled"?ak().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sk().\u0275providers:[]]}var Jx=new wt("");function yk(){return[{provide:Jx,useFactory:ik},{provide:ag,multi:!0,useExisting:Jx}]}var mn=class n{static ANGULAR=new n("Angular","red");static CSHARP=new n("C#","blue");static C=new n("C","blue");static CPLUSPLUS=new n("C++","blue");static PYTHON=new n("Python","green");static SQL=new n("SQL","purple");static PERL=new n("PERL","red");static PHP=new n("PHP","purple");static NODEJS=new n("NodeJS","pink");static SHELL=new n("Shell","orange");static HTML=new n("HTML","red");static JAVA=new n("Java","pink");name;color;constructor(r,o){this.name=r,this.color=o}toString(){return this.name}};var Xa=class n{projects=[{id:0,name:"Code Analysis Application",pictures:["srt_analyze.PNG","srt_differentiate.PNG","srt_htmlreport.PNG","srt_progress.PNG","srt_settings.PNG"],projectLink:"https://github.com/Jonathanlemon/Code_Analyzer",summary:"Internship project designed to provide GUI based static code analysis on local source files.",description:"As an intern, I was given the opportunity to plan, design, develop, and test a project to benefit this organization. The project is an application integrated with the Open Source 'CPPCheck' Static Code Analysis tool to provide the engineering team an automated method for code reviews. It has several different features such as state-based settings, different granularities of analysis, and PDF document generation to highlight areas of concern in the code and provide statistics.",tags:[mn.PYTHON,mn.PERL,mn.SHELL]},{id:1,name:"AI: Marketplace Rating Prediction Model",pictures:["ai_img1.PNG","ai_img2.PNG","ai_img3.PNG"],projectLink:"https://github.com/Jonathanlemon/Marketplace-Rating-Neural-Network",summary:"A feed-forward perceptron neural network, trained on marketplace product review text to predict the overall ratings of the product.",description:"During my time at Clemson Univeristy, I had the privilege of taking a graduate course in Artificial Intelligence. This provided me the opportunity to work with graduate students on developing a neural network model to solve some particular problem. In our case, we tried our hand at language intepretation with this Rating Prediction model. It is a 4 layer feed-forward neural network that uses product review text as its input, and then predicts a score of 1-5 in various categories based on the categorical sentiment the model could distinguish. Additionally, we wrote a research paper presenting our findings along with the model's accuracy, error, and testing protocol.",tags:[mn.PYTHON]},{id:2,name:"Pizza Salesforce",pictures:["pizzaSchema.png"],projectLink:"https://github.com/Jonathanlemon/Pizza_Salesforce",summary:"A complete back-end database to manage pizza sales.",description:"This project was for a semester-long database class, in which we had to design a 3NF Database Schema for a Pizza Restaurant. This involved designing a schema to handle customer data, order types, pizza sizes, toppings, discounts, delivery addresses, and sales data. By using Microsoft Sql Server, I designed this back-end solution writing the necessary tables, stored procedures, and triggers to optimize performance while maintaining best practices for database design. I additionally used Java to serve a front-end application allowing a user to create new orders, update pizza details, apply promotional discounts, and more.",tags:[mn.SQL,mn.JAVA]},{id:3,name:"TwentyHQ",pictures:["twenty_main.png"],projectLink:"https://github.com/twentyhq/twenty",summary:"Open-Source CRM Software that I have contributed to.",description:"TwentyHQ is a business operations platform built for startups and SMBs, consolidating tools like CRM, project management, and analytics into one interface. Developed using a modern tech stack, TwentyHQ employs React for the front end, Node.js and Express for backend services, and PostgreSQL for data management. It supports real-time collaboration with WebSocket integration and offers API access for seamless integration with platforms like Slack and Google Workspace. With an emphasis on modularity and ease of customization, TwentyHQ streamlines workflows by automating tasks and consolidating key business operations in a single, intuitive UI.",tags:[mn.CSHARP,mn.PHP]},{id:4,name:"MIPS Compiler and CPU Simulator",pictures:["mips_CPU.PNG","mips_img1.PNG","mips_img2.png"],projectLink:"https://github.com/Jonathanlemon/MIPS_Compiler",summary:"A compiler for MIPS instruction set written in C, and a CPU simulator to run the output.",description:"Low-level computer science has always been a topic that has fascinated me. For that reason, this project is particularly special to me. It is a 2-part project: The 1st is a MIPS instruction set compiler (written in C) that takes a user specified input file of MIPS assembly code and compiles it into a binary file. The 2nd is a CPU simulator (written in Python) which takes the output binary file of the 1st part as input. It then generates a text-based representation of the binary's execution. This highlights register contents, instruction execution details, operation codes, and provides statistics for each simulated clock cycle.",tags:[mn.C,mn.PYTHON]},{id:5,name:"Trucker Rewards Web Application",pictures:["truck_schema.png","truck_login.PNG"],projectLink:"https://github.com/Jonathanlemon/Trucker_Web_App",summary:"Class project to design a full-stack web application with authentication, external API calls, and session storage.",description:"I served as the Scrum Master and Lead Developer with 3 other peers working as a team using Agile principles to design a Rewards Program for Commercial Truck Drivers. In only a few months, we designed a full-stack web application using PHP, HTML, JS, CSS, MYSQL, and AWS infrastructure. This web app featured external API integration with eBay, PHP server-side logic, and session-based authentication and authorization. As the Scrum Master, planning sprints and feature deadlines was key to success. My leadership directed us toward higher priority items such as strong database design and authentication. This resulted in the team meeting stakeholder provided deadlines and implementing all required functionality.",tags:[mn.HTML,mn.PHP,mn.NODEJS,mn.SQL]}];constructor(){}getProjects(){return this.projects}getProjectByID(r){let o=this.projects.find(t=>t.id===r);if(o===void 0)throw new TypeError("No project found with the specified ID");return o}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var py=class{constructor(r,o){this.open=r,this.close=o||r}isManual(){return this.open==="manual"||this.close==="manual"}},vk={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function bk(n,r=vk){let o=(n||"").trim();if(o.length===0)return[];let t=o.split(/\s+/).map(s=>s.split(":")).map(s=>{let a=r[s[0]]||s;return new py(a[0],a[1])}),i=t.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(i.length===1&&t.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return t}function PD(n,r){let o=bk(r.triggers),t=r.target;if(o.length===1&&o[0].isManual())return Function.prototype;let i=[],s=[],a=()=>{s.forEach(l=>i.push(l())),s.length=0};return o.forEach(l=>{let u=l.open===l.close,c=u?r.toggle:r.show;if(!u&&l.close&&r.hide){let m=l.close,y=r.hide,d=()=>n.listen(t,m,y);s.push(d)}c&&i.push(n.listen(t,l.open,()=>c(a)))}),()=>{i.forEach(l=>l())}}function LD(n,r){return r.outsideClick?n.listen("document","click",o=>{r.target&&r.target.contains(o.target)||r.targets&&r.targets.some(t=>t.contains(o.target))||r.hide&&r.hide()}):Function.prototype}function BD(n,r){return r.outsideEsc?n.listen("document","keyup.esc",o=>{r.target&&r.target.contains(o.target)||r.targets&&r.targets.some(t=>t.contains(o.target))||r.hide&&r.hide()}):Function.prototype}var Yr=typeof window<"u"&&window||{},Xr=Yr.document,Cz=Yr.location,Mz=Yr.gc?()=>Yr.gc():()=>null,Tz=Yr.performance?Yr.performance:null,Az=Yr.Event,jz=Yr.MouseEvent,Iz=Yr.KeyboardEvent,Nz=Yr.EventTarget,Oz=Yr.History,Fz=Yr.Location,kz=Yr.EventListener,UD=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(UD||{}),Gi;function VD(){let n=Yr.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Yr.document.head.appendChild(n);let r=Yr.getComputedStyle(n).paddingLeft;return r&&parseFloat(r)?(Yr.document.head.removeChild(n),"bs4"):(Yr.document.head.removeChild(n),"bs5")}function wk(){return Gi||(Gi=VD()),Gi==="bs4"}function _k(){return Gi||(Gi=VD()),Gi==="bs5"}function Hi(){return{isBs4:wk(),isBs5:_k()}}function xk(){let n=Hi(),r=Object.keys(n).find(o=>n[o]);return UD[r]}var ef=class{constructor(){this.length=0,this.asArray=[]}get(r){if(this.length===0||r<0||r>=this.length)return;let o=this.head;for(let t=0;t<r;t++)o=o?.next;return o?.value}add(r,o=this.length){if(o<0||o>this.length)throw new Error("Position is out of the list");let t={value:r,next:void 0,previous:void 0};if(this.length===0)this.head=t,this.tail=t,this.current=t;else if(o===0&&this.head)t.next=this.head,this.head.previous=t,this.head=t;else if(o===this.length&&this.tail)this.tail.next=t,t.previous=this.tail,this.tail=t;else{let i=this.getNode(o-1),s=i?.next;i&&s&&(i.next=t,s.previous=t,t.previous=i,t.next=s)}this.length++,this.createInternalArrayRepresentation()}remove(r=0){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");if(r===0&&this.head)this.head=this.head.next,this.head?this.head.previous=void 0:this.tail=void 0;else if(r===this.length-1&&this.tail?.previous)this.tail=this.tail.previous,this.tail.next=void 0;else{let o=this.getNode(r);o?.next&&o.previous&&(o.next.previous=o.previous,o.previous.next=o.next)}this.length--,this.createInternalArrayRepresentation()}set(r,o){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");let t=this.getNode(r);t&&(t.value=o,this.createInternalArrayRepresentation())}toArray(){return this.asArray}findAll(r){let o=this.head,t=[];if(!o)return t;for(let i=0;i<this.length;i++){if(!o)return t;r(o.value,i)&&t.push({index:i,value:o.value}),o=o.next}return t}push(...r){return r.forEach(o=>{this.add(o)}),this.length}pop(){if(this.length===0)return;let r=this.tail;return this.remove(this.length-1),r?.value}unshift(...r){return r.reverse(),r.forEach(o=>{this.add(o,0)}),this.length}shift(){if(this.length===0)return;let r=this.head?.value;return this.remove(),r}forEach(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return;r(o.value,t),o=o.next}}indexOf(r){let o=this.head,t=-1;for(let i=0;i<this.length;i++){if(!o)return t;if(o.value===r){t=i;break}o=o.next}return t}some(r){let o=this.head,t=!1;for(;o&&!t;){if(r(o.value)){t=!0;break}o=o.next}return t}every(r){let o=this.head,t=!0;for(;o&&t;)r(o.value)||(t=!1),o=o.next;return t}toString(){return"[Linked List]"}find(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return;if(r(o.value,t))return o.value;o=o.next}}findIndex(r){let o=this.head;for(let t=0;t<this.length;t++){if(!o)return-1;if(r(o.value,t))return t;o=o.next}return-1}getNode(r){if(this.length===0||r<0||r>=this.length)throw new Error("Position is out of the list");let o=this.head;for(let t=0;t<r;t++)o=o?.next;return o}createInternalArrayRepresentation(){let r=[],o=this.head;for(;o;)r.push(o.value),o=o.next;this.asArray=r}};var tf=class{static reflow(r){r.offsetHeight}static getStyles(r){let o=r.ownerDocument.defaultView;return(!o||!o.opener)&&(o=Yr),o.getComputedStyle(r)}static stackOverflowConfig(){let r=xk();return{crossorigin:"anonymous",integrity:r==="bs5"?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:r==="bs5"?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}};var Rz=typeof console>"u"||!("warn"in console);var zD=["*"],Dk=n=>({display:n});function Sk(n,r){if(n&1){let o=Cs();at(0,"li",7),pn("click",function(){let i=xs(o).index,s=oo(2);return Ds(s.selectSlide(i))}),lt()}if(n&2){let o=r.$implicit;di("active",o.active===!0)}}function Ek(n,r){if(n&1&&(bd(0),at(1,"ol",5),hn(2,Sk,1,2,"li",6),lt(),wd()),n&2){let o=oo();Vt(2),Nr("ngForOf",o.indicatorsSlides())}}function Ck(n,r){if(n&1){let o=Cs();at(0,"button",9),pn("click",function(){let i=xs(o).index,s=oo(2);return Ds(s.selectSlide(i))}),lt()}if(n&2){let o=r.$implicit,t=r.index,i=oo(2);di("active",o.active===!0),_o("data-bs-target","#carousel"+i.currentId)("data-bs-slide-to",t)}}function Mk(n,r){if(n&1&&(bd(0),at(1,"div",5),hn(2,Ck,1,4,"button",8),lt(),wd()),n&2){let o=oo();Vt(2),Nr("ngForOf",o.indicatorsSlides())}}function Tk(n,r){if(n&1){let o=Cs();at(0,"a",10),pn("click",function(){xs(o);let i=oo();return Ds(i.previousSlide())}),mr(1,"span",11),at(2,"span",12),Tt(3,"Previous"),lt()()}if(n&2){let o=oo();di("disabled",o.checkDisabledClass("prev")),_o("data-bs-target","#carousel"+o.currentId)}}function Ak(n,r){if(n&1){let o=Cs();at(0,"a",13),pn("click",function(){xs(o);let i=oo();return Ds(i.nextSlide())}),mr(1,"span",14),at(2,"span",12),Tt(3,"Next"),lt()()}if(n&2){let o=oo();di("disabled",o.checkDisabledClass("next")),_o("data-bs-target","#carousel"+o.currentId)}}var jk=(()=>{let r=class r{constructor(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function Ik(n,r){let o=n.length;for(;o--;)if(r(n[o],o,n))return o;return-1}function Nk(n,r){let o=[],t=Math.ceil(n.length/r),i=0;for(;i<t;){let s=n.splice(0,i===t-1&&r<n.length?n.length:r);o.push(s),i++}return o}function Ok(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}var On=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.NEXT=1]="NEXT",n[n.PREV=2]="PREV",n}(On||{}),Fk=1,gl=(()=>{let r=class r{set activeSlide(t){this.multilist||(Ok(t)&&(this.customActiveSlide=t),this._slides.length&&t!==this._currentActiveSlide&&this._select(t))}get activeSlide(){return this._currentActiveSlide||0}get interval(){return this._interval}set interval(t){this._interval=t,this.restartTimer()}get slides(){return this._slides.toArray()}get isFirstSlideVisible(){let t=this.getVisibleIndexes();return!t||t instanceof Array&&!t.length?!1:t.includes(0)}get isLastSlideVisible(){let t=this.getVisibleIndexes();return!t||t instanceof Array&&!t.length?!1:t.includes(this._slides.length-1)}get _bsVer(){return Hi()}constructor(t,i,s){this.ngZone=i,this.platformId=s,this.noWrap=!1,this.noPause=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.isAnimated=!1,this.activeSlideChange=new er(!1),this.slideRangeChange=new er,this.startFromIndex=0,this._interval=5e3,this._slides=new ef,this._currentVisibleSlidesIndex=0,this.isPlaying=!1,this.destroyed=!1,this.currentId=0,this.getActive=a=>a.active,this.makeSlidesConsistent=a=>{a.forEach((l,u)=>l.item.order=u)},Object.assign(this,t),this.currentId=Fk++}ngAfterViewInit(){setTimeout(()=>{this.singleSlideOffset&&(this.indicatorsByChunk=!1),this.multilist&&(this._chunkedSlides=Nk(this.mapSlidesAndIndexes(),this.itemsPerSlide),this.selectInitialSlides()),this.customActiveSlide&&!this.multilist&&this._select(this.customActiveSlide)},0)}ngOnDestroy(){this.destroyed=!0}addSlide(t){this._slides.add(t),this.multilist&&this._slides.length<=this.itemsPerSlide&&(t.active=!0),!this.multilist&&this.isAnimated&&(t.isAnimated=!0),!this.multilist&&this._slides.length===1&&(this._currentActiveSlide=void 0,this.customActiveSlide||(this.activeSlide=0),this.play()),this.multilist&&this._slides.length>this.itemsPerSlide&&this.play()}removeSlide(t){let i=this._slides.indexOf(t);if(this._currentActiveSlide===i){let s;this._slides.length>1&&(s=this.isLast(i)?this.noWrap?i-1:0:i),this._slides.remove(i),setTimeout(()=>{this._select(s)},0)}else{this._slides.remove(i);let s=this.getCurrentSlideIndex();setTimeout(()=>{this._currentActiveSlide=s,this.activeSlideChange.emit(this._currentActiveSlide)},0)}}nextSlideFromInterval(t=!1){this.move(On.NEXT,t)}nextSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move(On.NEXT,t)}previousSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move(On.PREV,t)}getFirstVisibleIndex(){return this.slides.findIndex(this.getActive)}getLastVisibleIndex(){return Ik(this.slides,this.getActive)}move(t,i=!1){let s=this.getFirstVisibleIndex(),a=this.getLastVisibleIndex();this.noWrap&&(t===On.NEXT&&this.isLast(a)||t===On.PREV&&s===0)||(this.multilist?this.moveMultilist(t):this.activeSlide=this.findNextSlideIndex(t,i)||0)}keydownPress(t){if(t.keyCode===13||t.key==="Enter"||t.keyCode===32||t.key==="Space"){this.nextSlide(),t.preventDefault();return}if(t.keyCode===37||t.key==="LeftArrow"){this.previousSlide();return}if(t.keyCode===39||t.key==="RightArrow"){this.nextSlide();return}}onMouseLeave(){this.pauseOnFocus||this.play()}onMouseUp(){this.pauseOnFocus||this.play()}pauseFocusIn(){this.pauseOnFocus&&(this.isPlaying=!1,this.resetTimer())}pauseFocusOut(){this.play()}selectSlide(t){this.isPlaying&&this.restartTimer(),this.multilist?this.selectSlideRange(this.indicatorsByChunk?t*this.itemsPerSlide:t):this.activeSlide=this.indicatorsByChunk?t*this.itemsPerSlide:t}play(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())}pause(){this.noPause||(this.isPlaying=!1,this.resetTimer())}getCurrentSlideIndex(){return this._slides.findIndex(this.getActive)}isLast(t){return t+1>=this._slides.length}isFirst(t){return t===0}indicatorsSlides(){return this.slides.filter((t,i)=>!this.indicatorsByChunk||i%this.itemsPerSlide===0)}selectInitialSlides(){let t=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-t<this.itemsPerSlide){let i=this._slidesWithIndexes.slice(0,t);this._slidesWithIndexes=[...this._slidesWithIndexes,...i].slice(i.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(t,t+this.itemsPerSlide);this._slidesWithIndexes.forEach(i=>i.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes)}else this.selectRangeByNestedIndex(t);this.slideRangeChange.emit(this.getVisibleIndexes())}findNextSlideIndex(t,i){let s=0;if(!(!i&&this.isLast(this.activeSlide)&&t!==On.PREV&&this.noWrap)){switch(t){case On.NEXT:if(typeof this._currentActiveSlide>"u"){s=0;break}if(!this.isLast(this._currentActiveSlide)){s=this._currentActiveSlide+1;break}s=!i&&this.noWrap?this._currentActiveSlide:0;break;case On.PREV:if(typeof this._currentActiveSlide>"u"){s=0;break}if(this._currentActiveSlide>0){s=this._currentActiveSlide-1;break}if(!i&&this.noWrap){s=this._currentActiveSlide;break}s=this._slides.length-1;break;default:throw new Error("Unknown direction")}return s}}mapSlidesAndIndexes(){return this.slides.slice().map((t,i)=>({index:i,item:t}))}selectSlideRange(t){if(!this.isIndexInRange(t)){if(this.hideSlides(),!this.singleSlideOffset)this.selectRangeByNestedIndex(t);else{let i=this.isIndexOnTheEdges(t)?t:t-this.itemsPerSlide+1,s=this.isIndexOnTheEdges(t)?t+this.itemsPerSlide:t+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(i,s),this.makeSlidesConsistent(this._slidesWithIndexes),this._slidesWithIndexes.forEach(a=>a.item.active=!0)}this.slideRangeChange.emit(this.getVisibleIndexes())}}selectRangeByNestedIndex(t){if(!this._chunkedSlides)return;let i=this._chunkedSlides.map((s,a)=>({index:a,list:s})).find(s=>s.list.find(a=>a.index===t)!==void 0);i&&(this._currentVisibleSlidesIndex=i.index,this._chunkedSlides[i.index].forEach(s=>{s.item.active=!0}))}isIndexOnTheEdges(t){return t+1-this.itemsPerSlide<=0||t+this.itemsPerSlide<=this._slides.length}isIndexInRange(t){return this.singleSlideOffset&&this._slidesWithIndexes?this._slidesWithIndexes.map(s=>s.index).indexOf(t)>=0:t<=this.getLastVisibleIndex()&&t>=this.getFirstVisibleIndex()}hideSlides(){this.slides.forEach(t=>t.active=!1)}isVisibleSlideListLast(){return this._chunkedSlides?this._currentVisibleSlidesIndex===this._chunkedSlides.length-1:!1}isVisibleSlideListFirst(){return this._currentVisibleSlidesIndex===0}moveSliderByOneItem(t){let i,s,a,l;if(this.noWrap){i=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex(),a=t===On.NEXT?i:s,l=t!==On.NEXT?i-1:this.isLast(s)?0:s+1;let c=this._slides.get(a);c&&(c.active=!1);let m=this._slides.get(l);m&&(m.active=!0);let y=this.mapSlidesAndIndexes().filter(d=>d.item.active);this.makeSlidesConsistent(y),this.singleSlideOffset&&(this._slidesWithIndexes=y),this.slideRangeChange.emit(this.getVisibleIndexes());return}if(!this._slidesWithIndexes||!this._slidesWithIndexes[0])return;let u;if(i=this._slidesWithIndexes[0].index,s=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,t===On.NEXT){this._slidesWithIndexes.shift(),u=this.isLast(s)?0:s+1;let c=this._slides.get(u);c&&this._slidesWithIndexes.push({index:u,item:c})}else{this._slidesWithIndexes.pop(),u=this.isFirst(i)?this._slides.length-1:i-1;let c=this._slides.get(u);c&&(this._slidesWithIndexes=[{index:u,item:c},...this._slidesWithIndexes])}this.hideSlides(),this._slidesWithIndexes.forEach(c=>c.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes),this.slideRangeChange.emit(this._slidesWithIndexes.map(c=>c.index))}moveMultilist(t){this.singleSlideOffset?this.moveSliderByOneItem(t):(this.hideSlides(),this.noWrap?this._currentVisibleSlidesIndex=t===On.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:t===On.NEXT?this._currentVisibleSlidesIndex=this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this.isVisibleSlideListFirst()?this._currentVisibleSlidesIndex=this._chunkedSlides?this._chunkedSlides.length-1:0:this._currentVisibleSlidesIndex=this._currentVisibleSlidesIndex-1,this._chunkedSlides&&this._chunkedSlides[this._currentVisibleSlidesIndex].forEach(i=>i.item.active=!0),this.slideRangeChange.emit(this.getVisibleIndexes()))}getVisibleIndexes(){if(!this.singleSlideOffset&&this._chunkedSlides)return this._chunkedSlides[this._currentVisibleSlidesIndex].map(t=>t.index);if(this._slidesWithIndexes)return this._slidesWithIndexes.map(t=>t.index)}_select(t){if(isNaN(t)){this.pause();return}if(!this.multilist&&typeof this._currentActiveSlide<"u"){let s=this._slides.get(this._currentActiveSlide);typeof s<"u"&&(s.active=!1)}let i=this._slides.get(t);typeof i<"u"&&(this._currentActiveSlide=t,i.active=!0,this.activeSlide=t,this.activeSlideChange.emit(t))}restartTimer(){this.resetTimer();let t=+this.interval;!isNaN(t)&&t>0&&Ts(this.platformId)&&(this.currentInterval=this.ngZone.runOutsideAngular(()=>window.setInterval(()=>{let i=+this.interval;this.ngZone.run(()=>{this.isPlaying&&!isNaN(this.interval)&&i>0&&this.slides.length?this.nextSlideFromInterval():this.pause()})},t)))}get multilist(){return this.itemsPerSlide>1}resetTimer(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)}checkDisabledClass(t){return t==="prev"?this.activeSlide===0&&this.noWrap&&!this.multilist||this.isFirstSlideVisible&&this.noWrap&&this.multilist:this.isLast(this.activeSlide)&&this.noWrap&&!this.multilist||this.isLastSlideVisible&&this.noWrap&&this.multilist}};r.\u0275fac=function(i){return new(i||r)(bt(jk),bt(Gt),bt(Nn))},r.\u0275cmp=lr({type:r,selectors:[["carousel"]],inputs:{noWrap:"noWrap",noPause:"noPause",showIndicators:"showIndicators",pauseOnFocus:"pauseOnFocus",indicatorsByChunk:"indicatorsByChunk",itemsPerSlide:"itemsPerSlide",singleSlideOffset:"singleSlideOffset",isAnimated:"isAnimated",activeSlide:"activeSlide",startFromIndex:"startFromIndex",interval:"interval"},outputs:{activeSlideChange:"activeSlideChange",slideRangeChange:"slideRangeChange"},ngContentSelectors:zD,decls:7,vars:8,consts:[["tabindex","0",1,"carousel","slide",3,"mouseenter","mouseleave","mouseup","keydown","focusin","focusout","id"],[4,"ngIf"],[1,"carousel-inner",3,"ngStyle"],["class","left carousel-control carousel-control-prev","href","javascript:void(0);","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],["class","right carousel-control carousel-control-next","href","javascript:void(0);","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["type","button","aria-current","true",3,"active","click",4,"ngFor","ngForOf"],["type","button","aria-current","true",3,"click"],["href","javascript:void(0);","tabindex","0","role","button",1,"left","carousel-control","carousel-control-prev",3,"click"],["aria-hidden","true",1,"icon-prev","carousel-control-prev-icon"],[1,"sr-only","visually-hidden"],["href","javascript:void(0);","tabindex","0","role","button",1,"right","carousel-control","carousel-control-next",3,"click"],["aria-hidden","true",1,"icon-next","carousel-control-next-icon"]],template:function(i,s){i&1&&(Vu(),at(0,"div",0),pn("mouseenter",function(){return s.pause()})("mouseleave",function(){return s.onMouseLeave()})("mouseup",function(){return s.onMouseUp()})("keydown",function(l){return s.keydownPress(l)})("focusin",function(){return s.pauseFocusIn()})("focusout",function(){return s.pauseFocusOut()}),hn(1,Ek,3,1,"ng-container",1)(2,Mk,3,1,"ng-container",1),at(3,"div",2),zu(4),lt(),hn(5,Tk,4,3,"a",3)(6,Ak,4,3,"a",4),lt()),i&2&&(Nr("id","carousel"+s.currentId),Vt(),Nr("ngIf",!s._bsVer.isBs5&&s.showIndicators&&s.slides.length>1),Vt(),Nr("ngIf",s._bsVer.isBs5&&s.showIndicators&&s.slides.length>1),Vt(),Nr("ngStyle",dx(6,Dk,s.multilist?"flex":"block")),Vt(2),Nr("ngIf",s.slides.length>1),Vt(),Nr("ngIf",s.slides.length>1))},dependencies:[io,Fx,kx],encapsulation:2});let n=r;return n})(),rf=(()=>{let r=class r{constructor(t){this.active=!1,this.itemWidth="100%",this.order=0,this.isAnimated=!1,this.addClass=!0,this.multilist=!1,this.carousel=t}ngOnInit(){this.carousel.addSlide(this),this.itemWidth=`${100/this.carousel.itemsPerSlide}%`,this.multilist=this.carousel?.itemsPerSlide>1}ngOnDestroy(){this.carousel.removeSlide(this)}};r.\u0275fac=function(i){return new(i||r)(bt(gl))},r.\u0275cmp=lr({type:r,selectors:[["slide"]],hostVars:15,hostBindings:function(i,s){i&2&&(_o("aria-hidden",!s.active),Ui("width",s.itemWidth)("order",s.order),di("multilist-margin",s.multilist)("active",s.active)("carousel-animation",s.isAnimated)("item",s.addClass)("carousel-item",s.addClass))},inputs:{active:"active"},ngContentSelectors:zD,decls:2,vars:2,consts:[[1,"item"]],template:function(i,s){i&1&&(Vu(),at(0,"div",0),zu(1),lt()),i&2&&di("active",s.active)},styles:[".carousel-animation[_nghost-%COMP%]{transition:opacity .6s ease,visibility .6s ease;float:left}.carousel-animation.active[_nghost-%COMP%]{opacity:1;visibility:visible}.carousel-animation[_nghost-%COMP%]:not(.active){display:block;position:absolute;opacity:0;visibility:hidden}.multilist-margin[_nghost-%COMP%]{margin-right:auto}.carousel-item[_nghost-%COMP%]{perspective:1000px}"]});let n=r;return n})(),GD=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({imports:[Ra]});let n=r;return n})();function kk(n,r){if(n&1&&(at(0,"div")(1,"slide"),mr(2,"img",9),lt()()),n&2){let o=r.$implicit;Vt(2),Oa("src",o,ja)}}var yl=class n{constructor(r,o){this.titleService=r;this.projectService=o;this.titleService.setTitle("Jonathan Lemon - Home")}featuredProject;ngOnInit(){this.featuredProject=this.projectService.getProjectByID(0)}static \u0275fac=function(o){return new(o||n)(bt(Wo),bt(Xa))};static \u0275cmp=lr({type:n,selectors:[["app-home"]],decls:23,vars:3,consts:[[1,"container"],[1,"row","d-flex","justify-content-center"],[1,"col-lg","shadow","border","m-1","ms-2","me-2","rounded","hoverable",2,"max-width","90vw"],[1,"text-center"],[1,"display-6"],["src","profilepic.jpg","alt","Profile Picture","width","256","height","256",1,"rounded-circle"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[1,"mt-2"],["alt","Slide",2,"display","block","width","100%",3,"src"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),Tt(5,"About Me"),lt(),mr(6,"img",5)(7,"hr"),at(8,"p",6),Tt(9,"Technologist, passionate about learning and leading in the software industry. Summa Cum Laude graduate from Clemson University Honors College. Experienced with using many industry standard languages and frameworks to develop robust solutions. From computer architecture to algorithm optimization and cloud computing, I am fascinated with all aspects of computer science. Always wanting to learn more and develop myself in all disciplines of life. Currently working full-stack at LPL Financial, developing .NET APIs, optimizing database design, and creating new front-end features for a highly scalable environment."),lt()()(),at(10,"div",2)(11,"div",3)(12,"div",3)(13,"h1",4),Tt(14,"Featured Project"),lt(),at(15,"h4",6),Tt(16),lt()(),at(17,"carousel"),hn(18,kk,3,1,"div",7),lt(),at(19,"p",8),Tt(20),lt(),at(21,"p"),Tt(22,"Visit the Portfolio section to learn more."),lt()()()()()),o&2&&(Vt(16),Tn(t.featuredProject.name),Vt(2),Nr("ngForOf",t.featuredProject.pictures),Vt(2),Tn(t.featuredProject.summary))},dependencies:[io,rf,gl]})};var Rk=(()=>{let r=class r{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(s=>s!==t);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(t),t._enable()}deregister(t){t._disable();let i=this._focusTrapStack,s=i.indexOf(t);s!==-1&&(i.splice(s,1),i.length&&i[i.length-1]._enable())}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var my;try{my=typeof Intl<"u"&&Intl.v8BreakIterator}catch{my=!1}var $D=(()=>{let r=class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ts(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||my)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};r.\u0275fac=function(i){return new(i||r)(st(Nn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var YD=(()=>{let r=class r{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Lk(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=Pk(Wk(t));if(i&&(qD(i)===-1||!this.isVisible(i)))return!1;let s=t.nodeName.toLowerCase(),a=qD(t);return t.hasAttribute("contenteditable")?a!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Hk(t)?!1:s==="audio"?t.hasAttribute("controls")?a!==-1:!1:s==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return qk(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}};r.\u0275fac=function(i){return new(i||r)(st($D))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function Pk(n){try{return n.frameElement}catch{return null}}function Lk(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function Bk(n){let r=n.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function Uk(n){return zk(n)&&n.type=="hidden"}function Vk(n){return Gk(n)&&n.hasAttribute("href")}function zk(n){return n.nodeName.toLowerCase()=="input"}function Gk(n){return n.nodeName.toLowerCase()=="a"}function XD(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let r=n.getAttribute("tabindex");return r=="-32768"?!1:!!(r&&!isNaN(parseInt(r,10)))}function qD(n){if(!XD(n))return null;let r=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function Hk(n){let r=n.nodeName.toLowerCase(),o=r==="input"&&n.type;return o==="text"||o==="password"||r==="select"||r==="textarea"}function qk(n){return Uk(n)?!1:Bk(n)||Vk(n)||n.hasAttribute("contenteditable")||XD(n)}function Wk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}function WD(n){return n!=null&&`${n}`!="false"}var gy=class{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,o,t,i,s=!1){this._element=r,this._checker=o,this._ngZone=t,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let r=this._startAnchor,o=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),o&&(o.removeEventListener("focus",this.endAnchorListener),o.parentNode&&o.parentNode.removeChild(o)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement()))})}_getRegionBoundary(r){let o=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);for(let t=0;t<o.length;t++)o[t].hasAttribute(`cdk-focus-${r}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,o[t]):o[t].hasAttribute(`cdk-focus-region-${r}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,o[t]);return r=="start"?o.length?o[0]:this._getFirstTabbableElement(this._element):o.length?o[o.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(r.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",r),!this._checker.isFocusable(r)){let o=this._getFirstTabbableElement(r);return o?.focus(),!!o}return r.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){let r=this._getRegionBoundary("start");return r&&r.focus(),!!r}focusLastTabbableElement(){let r=this._getRegionBoundary("end");return r&&r.focus(),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let o=r.children||r.childNodes;for(let t=0;t<o.length;t++){let i=o[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(o[t]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let o=r.children||r.childNodes;for(let t=o.length-1;t>=0;t--){let i=o[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(o[t]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,o){r?o.setAttribute("tabindex","0"):o.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(po(1)).subscribe(r)}},$k=(()=>{let r=class r{constructor(t,i,s){this._checker=t,this._ngZone=i,this._document=s}create(t,i=!1){return new gy(t,this._checker,this._ngZone,this._document,i)}};r.\u0275fac=function(i){return new(i||r)(st(YD),st(Gt),st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),ZD=(()=>{let r=class r{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=WD(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=WD(t)}constructor(t,i,s){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=s,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){let i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}};r.\u0275fac=function(i){return new(i||r)(bt(Lr),bt($k),bt(Br))},r.\u0275dir=ro({type:r,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[zo]});let n=r;return n})(),yy=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[Rk,$D,YD]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({imports:[Ra]});let n=r;return n})();var rS=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(rS||{}),_y=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(_y||{});function Fs(n,r){if(n.nodeType!==1)return[];let t=n.ownerDocument.defaultView?.getComputedStyle(n,null);return r?t&&t[r]:t}function xy(n){if(!n)return document.documentElement;let r=null,o=n?.offsetParent,t;for(;o===r&&n.nextElementSibling&&t!==n.nextElementSibling;)t=n.nextElementSibling,o=t.offsetParent;let i=o&&o.nodeName;return!i||i==="BODY"||i==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:o&&["TH","TD","TABLE"].indexOf(o.nodeName)!==-1&&Fs(o,"position")==="static"?xy(o):o}function Xk(n){let{nodeName:r}=n;return r==="BODY"?!1:r==="HTML"||xy(n.firstElementChild)===n}function vy(n){return n.parentNode!==null?vy(n.parentNode):n}function af(n,r){if(!n||!n.nodeType||!r||!r.nodeType)return document.documentElement;let o=n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING,t=o?n:r,i=o?r:n,s=document.createRange();s.setStart(t,0),s.setEnd(i,0);let a=s.commonAncestorContainer;if(n!==a&&r!==a||t.contains(i))return Xk(a)?a:xy(a);let l=vy(n);return l.host?af(l.host,r):af(n,vy(r).host)}function nS(n){if(!n||!n.parentElement)return document.documentElement;let r=n.parentElement;for(;r?.parentElement&&Fs(r,"transform")==="none";)r=r.parentElement;return r||document.documentElement}function QD(n,r){let o=r==="x"?"Left":"Top",t=o==="Left"?"Right":"Bottom";return parseFloat(n[`border${o}Width`])+parseFloat(n[`border${t}Width`])}function KD(n,r,o){let t=r,i=o;return Math.max(t[`offset${n}`],t[`scroll${n}`],i[`client${n}`],i[`offset${n}`],i[`scroll${n}`],0)}function oS(n){let r=n.body,o=n.documentElement;return{height:KD("Height",r,o),width:KD("Width",r,o)}}function vl(n){return hr(nt({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Zk(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(Number(n))}function Cr(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function JD(n){let r=n.getBoundingClientRect();if(!(r&&Cr(r.top)&&Cr(r.left)&&Cr(r.bottom)&&Cr(r.right)))return r;let o={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},t=n.nodeName==="HTML"?oS(n.ownerDocument):void 0,i=t?.width||n.clientWidth||Cr(r.right)&&Cr(o.left)&&r.right-o.left||0,s=t?.height||n.clientHeight||Cr(r.bottom)&&Cr(o.top)&&r.bottom-o.top||0,a=n.offsetWidth-i,l=n.offsetHeight-s;if(a||l){let u=Fs(n);a-=QD(u,"x"),l-=QD(u,"y"),o.width-=a,o.height-=l}return vl(o)}function Dy(n,r,o=!1){let t=r.nodeName==="HTML",i=JD(n),s=JD(r),a=Fs(r),l=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);o&&t&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));let c=vl({top:(i.top??0)-(s.top??0)-l,left:(i.left??0)-(s.left??0)-u,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,t){let m=parseFloat(a.marginTop),y=parseFloat(a.marginLeft);Cr(c.top)&&(c.top-=l-m),Cr(c.bottom)&&(c.bottom-=l-m),Cr(c.left)&&(c.left-=u-y),Cr(c.right)&&(c.right-=u-y),c.marginTop=m,c.marginLeft=y}return c}function Sy(n){return n.nodeName==="HTML"?n:n.parentNode||n.host}function iS(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body;default:}let{overflow:r,overflowX:o,overflowY:t}=Fs(n);return/(auto|scroll|overlay)/.test(String(r)+String(t)+String(o))?n:iS(Sy(n))}function eS(n,r="top"){let o=r==="top"?"scrollTop":"scrollLeft",t=n.nodeName;if(t==="BODY"||t==="HTML"){let i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[o]}return n[o]}function Qk(n,r=!1){let o=n.ownerDocument.documentElement,t=Dy(n,o),i=Math.max(o.clientWidth,window.innerWidth||0),s=Math.max(o.clientHeight,window.innerHeight||0),a=r?0:eS(o),l=r?0:eS(o,"left"),u={top:a-Number(t?.top)+Number(t?.marginTop),left:l-Number(t?.left)+Number(t?.marginLeft),width:i,height:s};return vl(u)}function sS(n){let r=n.nodeName;return r==="BODY"||r==="HTML"?!1:Fs(n,"position")==="fixed"?!0:sS(Sy(n))}function Ey(n,r,o=0,t,i=!1){let s={top:0,left:0},a=i?nS(n):af(n,r);if(t==="viewport")s=Qk(a,i);else{let l;t==="scrollParent"?(l=iS(Sy(r)),l.nodeName==="BODY"&&(l=n.ownerDocument.documentElement)):t==="window"?l=n.ownerDocument.documentElement:l=t;let u=Dy(l,a,i);if(u&&l.nodeName==="HTML"&&!sS(a)){let{height:c,width:m}=oS(n.ownerDocument);Cr(s.top)&&Cr(u.top)&&Cr(u.marginTop)&&(s.top+=u.top-u.marginTop),Cr(s.top)&&(s.bottom=Number(c)+Number(u.top)),Cr(s.left)&&Cr(u.left)&&Cr(u.marginLeft)&&(s.left+=u.left-u.marginLeft),Cr(s.top)&&(s.right=Number(m)+Number(u.left))}else u&&(s=u)}return Cr(s.left)&&(s.left+=o),Cr(s.top)&&(s.top+=o),Cr(s.right)&&(s.right-=o),Cr(s.bottom)&&(s.bottom-=o),s}function Kk({width:n,height:r}){return n*r}function aS(n,r,o,t,i=["top","bottom","right","left"],s="viewport",a=0){if(n.indexOf("auto")===-1)return n;let l=Ey(o,t,a,s),u={top:{width:l?.width??0,height:(r?.top??0)-(l?.top??0)},right:{width:(l?.right??0)-(r?.right??0),height:l?.height??0},bottom:{width:l?.width??0,height:(l?.bottom??0)-(r?.bottom??0)},left:{width:(r.left??0)-(l?.left??0),height:l?.height??0}},c=Object.keys(u).map(h=>hr(nt({position:h},u[h]),{area:Kk(u[h])})).sort((h,p)=>p.area-h.area),m=c.filter(({width:h,height:p})=>h>=o.clientWidth&&p>=o.clientHeight);m=m.filter(({position:h})=>i.some(p=>p===h));let y=m.length>0?m[0].position:c[0].position,d=n.split(" ")[1];return o.className=o.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Hi().isBs5?_y[y]:y}`),y+(d?`-${d}`:"")}function Jk(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}function eR(n){let r={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,o=>r[o])}function tR(n){return n==="right"?"left":n==="left"?"right":n}var nf=(n,r=0)=>n?parseFloat(n):r;function uS(n){let o=n.ownerDocument.defaultView?.getComputedStyle(n),t=nf(o?.marginTop)+nf(o?.marginBottom),i=nf(o?.marginLeft)+nf(o?.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+t}}function lS(n,r,o){let t=o?nS(n):af(n,r);return Dy(r,t,o)}function by(n,r,o){let t=o.split(" ")[0],i=uS(n),s={width:i.width,height:i.height},a=["right","left"].indexOf(t)!==-1,l=a?"top":"left",u=a?"left":"top",c=a?"height":"width",m=a?"width":"height";return s[l]=(r[l]??0)+r[c]/2-i[c]/2,s[u]=t===u?(r[u]??0)-i[m]:r[eR(u)]??0,s}function cS(n,r){return!!n.modifiers[r]?.enabled}var rR={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function of(n,r){return Hi().isBs5?rR[r].includes(n):!1}function nR(n){return Hi().isBs5?of(n,"end")?"ms-2":of(n,"start")?"me-2":of(n,"top")?"mb-2":of(n,"bottom")?"mt-2":"":""}function oR(n,r){let o=n.instance.target,t=o.className,i=Hi().isBs5?_y[n.placement]:n.placement;if(n.placementAuto&&(t=t.replace(/bs-popover-auto/g,`bs-popover-${i}`),t=t.replace(/ms-2|me-2|mb-2|mt-2/g,""),t=t.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),t=t.replace(/\sauto/g,` ${i}`),t.indexOf("popover")!==-1&&(t=t+" "+nR(i)),t.indexOf("popover")!==-1&&t.indexOf("popover-auto")===-1&&(t+=" popover-auto"),t.indexOf("tooltip")!==-1&&t.indexOf("tooltip-auto")===-1&&(t+=" tooltip-auto")),t=t.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),r){r.setAttribute(o,"class",t);return}o.className=t}function tS(n,r,o){!n||!r||Object.keys(r).forEach(t=>{let i="";if(["width","height","top","right","bottom","left"].indexOf(t)!==-1&&Zk(r[t])&&(i="px"),o){o.setStyle(n,t,`${String(r[t])}${i}`);return}n.style[t]=String(r[t])+i})}function iR(n){let r=n.offsets.target,o=n.instance.target.querySelector(".arrow");if(!o)return n;let t=["left","right"].indexOf(n.placement.split(" ")[0])!==-1,i=t?"height":"width",s=t?"Top":"Left",a=s.toLowerCase(),l=t?"left":"top",u=t?"bottom":"right",c=uS(o)[i],m=n.placement.split(" ")[1];(n.offsets.host[u]??0)-c<(r[a]??0)&&(r[a]-=(r[a]??0)-((n.offsets.host[u]??0)-c)),Number(n.offsets.host[a])+Number(c)>(r[u]??0)&&(r[a]+=Number(n.offsets.host[a])+Number(c)-Number(r[u])),r=vl(r);let y=Fs(n.instance.target),d=parseFloat(y[`margin${s}`])||0,h=parseFloat(y[`border${s}Width`])||0,p;if(!m)p=Number(n.offsets.host[a])+Number(n.offsets.host[i]/2-c/2);else{let v=parseFloat(y.borderRadius)||0,g=Number(d+h+v);p=a===m?Number(n.offsets.host[a])+g:Number(n.offsets.host[a])+Number(n.offsets.host[i]-g)}let f=p-(r[a]??0)-d-h;return f=Math.max(Math.min(r[i]-(c+5),f),0),n.offsets.arrow={[a]:Math.round(f),[l]:""},n.instance.arrow=o,n}function sR(n){if(n.offsets.target=vl(n.offsets.target),!cS(n.options,"flip"))return n.offsets.target=nt(nt({},n.offsets.target),by(n.instance.target,n.offsets.host,n.placement)),n;let r=Ey(n.instance.target,n.instance.host,0,"viewport",!1),o=n.placement.split(" ")[0],t=n.placement.split(" ")[1]||"",i=n.offsets.host,s=n.instance.target,a=n.instance.host,l=aS("auto",i,s,a,n.options.allowedPositions),u=[o,l];return u.forEach((c,m)=>{if(o!==c||u.length===m+1)return;o=n.placement.split(" ")[0];let y=o==="left"&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||o==="right"&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||o==="top"&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||o==="bottom"&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),d=Math.floor(n.offsets.target.left??0)<Math.floor(r.left??0),h=Math.floor(n.offsets.target.right??0)>Math.floor(r.right??0),p=Math.floor(n.offsets.target.top??0)<Math.floor(r.top??0),f=Math.floor(n.offsets.target.bottom??0)>Math.floor(r.bottom??0),v=o==="left"&&d||o==="right"&&h||o==="top"&&p||o==="bottom"&&f,g=["top","bottom"].indexOf(o)!==-1,w=g&&t==="left"&&d||g&&t==="right"&&h||!g&&t==="left"&&p||!g&&t==="right"&&f;(y||v||w)&&((y||v)&&(o=u[m+1]),w&&(t=tR(t)),n.placement=o+(t?` ${t}`:""),n.offsets.target=nt(nt({},n.offsets.target),by(n.instance.target,n.offsets.host,n.placement)))}),n}function aR(n,r,o,t){if(!n||!r)return;let i=lS(n,r);!o.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!o.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(o="auto");let s=!!o.match(/auto/g),a=o.match(/auto\s(left|right|top|bottom|start|end)/)?o.split(" ")[1]||"auto":o,l=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);l&&(a=l[1]+(l[2]?` ${l[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(a)!==-1&&(a="auto"),a=aS(a,i,n,r,t?t.allowedPositions:void 0);let u=by(n,i,a);return{options:t||{modifiers:{}},instance:{target:n,host:r,arrow:void 0},offsets:{target:u,host:i,arrow:void 0},positionFixed:!1,placement:a,placementAuto:s}}function uR(n){if(!cS(n.options,"preventOverflow"))return n;let r="transform",o=n.instance.target.style,{top:t,left:i,[r]:s}=o;o.top="",o.left="",o[r]="";let a=Ey(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);o.top=t,o.left=i,o[r]=s;let l=["left","right","top","bottom"],u={primary(c){let m=n.offsets.target[c];return(n.offsets.target[c]??0)<(a[c]??0)&&(m=Math.max(n.offsets.target[c]??0,a[c]??0)),{[c]:m}},secondary(c){let m=c==="right",y=m?"left":"top",d=m?"width":"height",h=n.offsets.target[y];return(n.offsets.target[c]??0)>(a[c]??0)&&(h=Math.min(n.offsets.target[y]??0,(a[c]??0)-n.offsets.target[d])),{[y]:h}}};return l.forEach(c=>{let m=["left","top","start"].indexOf(c)!==-1?u.primary:u.secondary;n.offsets.target=nt(nt({},n.offsets.target),m(c))}),n}function lR(n){let r=n.placement,o=r.split(" ")[0],t=r.split(" ")[1];if(t){let{host:i,target:s}=n.offsets,a=["bottom","top"].indexOf(o)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:{[l]:i[l]},end:{[l]:(i[l]??0)+i[u]-s[u]}};n.offsets.target=hr(nt({},s),{[l]:l===t?c.start[l]:c.end[l]})}return n}var wy=class{position(r,o){return this.offset(r,o)}offset(r,o){return lS(o,r)}positionElements(r,o,t,i,s){let a=[sR,lR,uR,iR],l=rS[t],u=aR(o,r,l,s);if(u)return a.reduce((c,m)=>m(c),u)}},cR=new wy;function dR(n,r,o,t,i,s){let a=cR.positionElements(n,r,o,t,i);if(!a)return;let l=Jk(a);tS(r,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${l.left}px, ${l.top}px, 0px)`},s),a.instance.arrow&&tS(a.instance.arrow,a.offsets.arrow,s),oR(a,s)}var bl=(()=>{let r=class r{constructor(t,i,s){this.update$$=new rn,this.positionElements=new Map,this.isDisabled=!1,Ts(s)&&t.runOutsideAngular(()=>{this.triggerEvent$=Jh(la(window,"scroll",{passive:!0}),la(window,"resize",{passive:!0}),Dt(0,Zh),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(a=>{dR(sf(a.target),sf(a.element),a.attachment,a.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(sf(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(sf(t))}setOptions(t){this.options=t}};r.\u0275fac=function(i){return new(i||r)(st(Gt),st(to),st(Nn))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function sf(n){return typeof n=="string"?document.querySelector(n):n instanceof Lr?n.nativeElement:n??null}var ks=class{constructor(r,o,t){this.nodes=r,this.viewRef=o,this.componentRef=t}},Cy=class{constructor(r,o,t,i,s,a,l,u,c){this._viewContainerRef=r,this._renderer=o,this._elementRef=t,this._injector=i,this._componentFactoryResolver=s,this._ngZone=a,this._applicationRef=l,this._posService=u,this._document=c,this.onBeforeShow=new er,this.onShown=new er,this.onBeforeHide=new er,this.onHidden=new er,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return this._isHiding?!1:!!this._componentRef}attach(r){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(r),this}to(r){return this.container=r||this.container,this}position(r){return r?(this.attachment=r.attachment||this.attachment,this._elementRef=r.target||this._elementRef,this):this}provide(r){return this._providers.push(r),this}show(r={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(r.content,r.context,r.initialState);let o=fn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(o,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,r),this.container instanceof Lr&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let t=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!t)return;t.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(r.id?{id:r.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(r){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let o=this._componentRef.location.nativeElement;return o.parentNode?.removeChild(o),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(r?{id:r}:null),this}toggle(){if(this.isShown){this.hide();return}this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(r){this.triggers=r.triggers||this.triggers,this._listenOpts.outsideClick=r.outsideClick,this._listenOpts.outsideEsc=r.outsideEsc,r.target=r.target||this._elementRef?.nativeElement;let o=this._listenOpts.hide=()=>r.hide?r.hide():void this.hide(),t=this._listenOpts.show=s=>{r.show?r.show(s):this.show(s),s()},i=s=>{this.isShown?o():t(s)};return this._renderer&&(this._unregisterListenersFn=PD(this._renderer,{target:r.target,triggers:r.triggers,show:t,hide:o,toggle:i})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(r,o){return r&&o&&(this._inlineViewRef=r.createEmbeddedView(o)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let r=Function.prototype,o=Function.prototype;if(this._listenOpts.outsideClick){let t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(r=LD(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let t=this._componentRef.location.nativeElement;o=BD(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}this._globalListener=()=>{r(),o()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(r,o,t){if(!r)return new ks([]);if(r instanceof ai){if(this._viewContainerRef){let a=this._viewContainerRef.createEmbeddedView(r,o);return a.markForCheck(),new ks([a.rootNodes],a)}let s=r.createEmbeddedView({});return this._applicationRef.attachView(s),new ks([s.rootNodes],s)}if(typeof r=="function"){let s=this._componentFactoryResolver.resolveComponentFactory(r),a=fn.create({providers:this._providers,parent:this._injector}),l=s.create(a);return Object.assign(l.instance,t),this._applicationRef.attachView(l.hostView),new ks([[l.location.nativeElement]],l.hostView,l)}let i=this._renderer?[this._renderer.createText(`${r}`)]:[];return new ks([i])}},wl=(()=>{let r=class r{constructor(t,i,s,a,l,u){this._componentFactoryResolver=t,this._ngZone=i,this._injector=s,this._posService=a,this._applicationRef=l,this._document=u}createLoader(t,i,s){return new Cy(i,s,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}};r.\u0275fac=function(i){return new(i||r)(st(Pi),st(Gt),st(fn),st(bl),st(qo),st(Br))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var pR=["*"],lf=(()=>{let r=class r{constructor(){this.hide=()=>{},this.setClass=()=>{}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();var dS=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),uf={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},mR=new wt("override-default-config"),Yo={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var cf={MODAL:300,BACKDROP:150},My={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},gR=(()=>{let r=class r{constructor(t,i,s){this._element=i,this._renderer=s,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this._focusEl=Xr.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,Yo.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Yo.SHOW)},this.isAnimated?cf.BACKDROP:0),Xr&&Xr.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Xr.body,Yo.OPEN),this._renderer.setStyle(Xr.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){let i=t.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!i){this.clickStartedInContent=!1;return}this.bsModalService?.setDismissReason(My.BACKRDOP),this.hide()}onPopState(){this.bsModalService?.setDismissReason(My.BACK),this.hide()}onEsc(t){this.isShown&&((t.keyCode===27||t.key==="Escape")&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(My.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return}this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Yo.SHOW),setTimeout(()=>{this.isShown=!1,Xr&&Xr.body&&this.bsModalService?.getModalsCount()===1&&(this._renderer.removeClass(Xr.body,Yo.OPEN),this._renderer.setStyle(Xr.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?cf.MODAL:0)}};r.\u0275fac=function(i){return new(i||r)(bt(dS),bt(Lr),bt(Ho))},r.\u0275cmp=lr({type:r,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,s){i&1&&pn("mousedown",function(l){return s.onClickStarted(l)})("click",function(l){return s.onClickStop(l)})("popstate",function(){return s.onPopState()},!1,zm)("keydown.esc",function(l){return s.onEsc(l)},!1,zm),i&2&&_o("aria-modal",!0)("aria-labelledby",s.config.ariaLabelledBy)("aria-describedby",s.config.ariaDescribedby)},ngContentSelectors:pR,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,s){i&1&&(Vu(),at(0,"div",0)(1,"div",1),zu(2),lt()()),i&2&&ex("modal-dialog"+(s.config.class?" "+s.config.class:""))},dependencies:[ZD],encapsulation:2});let n=r;return n})(),yR=(()=>{let r=class r{get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,`${Yo.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${Yo.SHOW}`)}constructor(t,i){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${Yo.FADE}`),tf.reflow(this.element.nativeElement)),this.isShown=!0}};r.\u0275fac=function(i){return new(i||r)(bt(Lr),bt(Ho))},r.\u0275cmp=lr({type:r,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,s){},encapsulation:2});let n=r;return n})();var vR=1,df=(()=>{let r=class r{constructor(t,i,s){this.clf=i,this.modalDefaultOption=s,this.onShow=new er,this.onShown=new er,this.onHide=new er,this.onHidden=new er,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=s?Object.assign({},uf,s):uf}show(t,i){this._focusEl=Xr.activeElement,this.modalsCount++,this._createLoaders();let s=i?.id||vR++;return this.config=this.modalDefaultOption?Object.assign({},uf,this.modalDefaultOption,i):Object.assign({},uf,i),this.config.id=s,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(this.modalsCount===1||t==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&t!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?cf.BACKDROP:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){let t=this.config.backdrop===!0||this.config.backdrop==="static",i=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),t&&i&&(this._backdropLoader.attach(yR).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let t=this.config.animated?cf.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),t)}_showModal(t){let i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let l of this.config.providers)i.provide(l);let s=new lf,a=i.provide({provide:dS,useValue:this.config}).provide({provide:lf,useValue:s}).attach(gR).to("body");return s.hide=()=>this.hide(s.id),s.setClass=l=>{a.instance&&(a.instance.config.class=l)},s.onHidden=new er,s.onHide=new er,this.copyEvent(i.onBeforeHide,s.onHide),this.copyEvent(i.onHidden,s.onHidden),a.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),a.instance&&(a.instance.level=this.getModalsCount(),s.content=i.getInnerComponent(),s.id=a.instance.config?.id),s}_hideModal(t){if(t!=null){let i=this.loaders.findIndex(a=>a.instance?.config.id===t),s=this.loaders[i];s&&s.hide(t)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(Xr.body,Yo.OPEN),this._renderer.setStyle(Xr.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Xr.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Xr&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Xr.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Xr.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Xr.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){let t=this._renderer.createElement("div");this._renderer.addClass(t,Yo.SCROLLBAR_MEASURER),this._renderer.appendChild(Xr.body,t);let i=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(Xr.body,t),i}_createLoaders(){let t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(t!=null){let i=this.loaders.findIndex(s=>s.instance?.config.id===t);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((s,a)=>{s.instance&&(s.instance.level=a+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,i){t.subscribe(s=>{i.emit(this.lastDismissReason||s)})}};r.\u0275fac=function(i){return new(i||r)(st(to),st(wl),st(mR,8))},r.\u0275prov=tt({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})(),AG=yy.forRoot(),fS=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[df,wl,bl]}}static forChild(){return{ngModule:r,providers:[df,wl,bl]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({imports:[yy]});let n=r;return n})();function bR(n,r){if(n&1&&(at(0,"div")(1,"slide"),mr(2,"img",7),lt()()),n&2){let o=r.$implicit;Vt(2),Oa("src",o,ja)}}function wR(n,r){if(n&1&&(at(0,"div")(1,"div",8),Tt(2),lt()()),n&2){let o=r.$implicit;Vt(),Ui("background-color",o.color),Vt(),Tn(o)}}var ff=class n{constructor(r){this.BsModalRef=r}project={};static \u0275fac=function(o){return new(o||n)(bt(lf))};static \u0275cmp=lr({type:n,selectors:[["app-project-modal"]],decls:18,vars:5,consts:[[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"mt-2"],["target","_blank",3,"href"],[1,"d-flex","flex-wrap"],["alt","Slide",2,"display","block","width","100%",3,"src"],[1,"tag","me-2","mb-1"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"h2"),Tt(2),lt(),at(3,"button",1),pn("click",function(){return t.BsModalRef.hide()}),lt()(),at(4,"div",2)(5,"carousel"),hn(6,bR,3,1,"div",3),lt(),at(7,"h3",4),Tt(8,"Description"),lt(),at(9,"p"),Tt(10),lt(),at(11,"p"),Tt(12,"You can find this project on Github "),at(13,"a",5),Tt(14,"here."),lt()(),mr(15,"hr"),at(16,"div",6),hn(17,wR,3,3,"div",3),lt()()),o&2&&(Vt(2),Tn(t.project.name),Vt(4),Nr("ngForOf",t.project.pictures),Vt(4),Tn(t.project.description),Vt(3),Oa("href",t.project.projectLink,ja),Vt(4),Nr("ngForOf",t.project.tags))},dependencies:[io,rf,gl]})};function _R(n,r){if(n&1&&(at(0,"div")(1,"div",8),Tt(2),lt()()),n&2){let o=r.$implicit;Vt(),Ui("background-color",o.color),Vt(),Tn(o)}}var hf=class n{constructor(r){this.modalService=r}project={};bsModalRef;OpenProjectModal(){let r={class:"modal-lg",initialState:{project:this.project}};this.bsModalRef=this.modalService.show(ff,r)}static \u0275fac=function(o){return new(o||n)(bt(df))};static \u0275cmp=lr({type:n,selectors:[["app-project-card"]],inputs:{project:"project"},decls:11,vars:3,consts:[[1,"card","shadow","text-center","hoverable",2,"max-width","350px","min-width","350px"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-outline-primary","mb-2","me-2",3,"click"],[1,"card-footer"],[1,"d-flex","flex-wrap","justify-content-center"],[4,"ngFor","ngForOf"],[1,"tag","me-2","mb-1"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div",1)(2,"h5",2),Tt(3),lt(),at(4,"p",3),Tt(5),lt(),at(6,"button",4),pn("click",function(){return t.OpenProjectModal()}),Tt(7,"View More"),lt()(),at(8,"div",5)(9,"div",6),hn(10,_R,3,3,"div",7),lt()()()),o&2&&(Vt(3),Tn(t.project.name),Vt(2),Tn(t.project.summary),Vt(5),Nr("ngForOf",t.project.tags))},dependencies:[io]})};function DR(n,r){if(n&1&&(at(0,"div",3),mr(1,"app-project-card",4),lt()),n&2){let o=r.$implicit;Vt(),Nr("project",o)}}var pf=class n{constructor(r,o){this.titleService=r;this.projectService=o;this.titleService.setTitle("Jonathan Lemon - Portfolio")}projects;ngOnInit(){this.projects=this.projectService.getProjects()}static \u0275fac=function(o){return new(o||n)(bt(Wo),bt(Xa))};static \u0275cmp=lr({type:n,selectors:[["app-portfolio"]],decls:3,vars:1,consts:[[1,"container"],[1,"row","d-flex","justify-content-center"],["class","col-lg-4 col-md-6 mb-4","style","max-width: 380px; min-width: 380px;",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","mb-4",2,"max-width","380px","min-width","380px"],[3,"project"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div",1),hn(2,DR,2,1,"div",2),lt()()),o&2&&(Vt(2),Nr("ngForOf",t.projects))},dependencies:[io,hf]})};var mf=class n{constructor(r){this.titleService=r;this.titleService.setTitle("Jonathan Lemon - Contact")}static \u0275fac=function(o){return new(o||n)(bt(Wo))};static \u0275cmp=lr({type:n,selectors:[["app-contact"]],decls:20,vars:0,consts:[[1,"container","justify-content-center","align-items-center"],[1,"row","justify-content-center"],[1,"d-flex","flex-column","col-lg-6","col-md-6","col-sm-6","col-8","text-center","border","mb-5","shadow","rounded"],[1,"display-6"],[1,"text-secondary"],[1,"row"],[1,"d-flex","flex-column","col-lg-6","col-md-6","col-sm-6","col-8","list-group","shadow","p-0"],["href","https://www.linkedin.com/in/jonathan-lemon-66464520b/","target","_blank",1,"list-group-item","hoverable","d-flex","gap-3","py-3"],["src","linkedinlogo.png","width","32","height","32",1,"rounded-circle","flex-shrink-0","me-5"],[1,"mb-0"],["href","https://github.com/jonathanlemon","target","_blank",1,"list-group-item","hoverable","d-flex","gap-3","py-3"],["src","githublogo.png","width","32","height","32",1,"rounded-circle","flex-shrink-0","me-5"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),Tt(4,"Contact"),lt(),at(5,"p",4),Tt(6,"The best way to reach me is via LinkedIn."),lt(),at(7,"p",4),Tt(8,"Feel free to connect with me below:"),lt()()(),mr(9,"div",5),at(10,"div",1)(11,"div",6)(12,"a",7),mr(13,"img",8),at(14,"h3",9),Tt(15,"LinkedIn"),lt()(),at(16,"a",10),mr(17,"img",11),at(18,"h3",9),Tt(19,"Github"),lt()()()()())}})};var pS=n=>{let r=25,o=1e3,t=1e3,i=o/r,s=t/r,a=0,l=[];n.setup=()=>{n.createCanvas(500,500,n.WEBGL),l=Array.from({length:i},()=>Array(s).fill(0));let u=a;for(let c=0;c<s;c++){let m=0;for(let y=0;y<i;y++)l[y][c]=n.map(n.noise(m,u),0,1,-250,250),m+=.05;u+=.05}},n.draw=()=>{n.background(41),n.stroke(0),n.pointLight(255,255,255,0,-200,100),n.ambientLight(10),n.fill(74,103,65),n.rotateX(n.PI/2.5),n.translate(-o/2,-t/2,-100);let u=[],c=0;for(let m=0;m<i;m++)u[m]=n.map(n.noise(c,a),0,1,-250,250),c+=.05;for(let m=s-1;m>0;m--)for(let y=0;y<i;y++)l[y][m]=l[y][m-1];for(let m=0;m<i;m++)l[m][0]=u[m];for(let m=0;m<s-1;m++){n.beginShape(n.TRIANGLE_STRIP);for(let y=0;y<i;y++)n.vertex(y*r,m*r,l[y][m]),n.vertex(y*r,(m+1)*r,l[y][m+1]);n.endShape()}a+=.05}};var mS=n=>{let r,o,t,i=[[]],s,a,l,u=!1,c,m,y;class d{x;y;parent;constructor(M,E,S){this.x=M,this.y=E,this.parent=S}}let h=()=>{n.fill(255,0,0),n.noStroke(),n.rect(a.x*t,a.y*t,t,t)},p=()=>{n.fill(0,255,0),n.noStroke(),n.rect(s.x*t,s.y*t,t,t)},f=C=>{n.noFill(),n.stroke(0,0,255),n.rect(C.x*t,C.y*t,t,t)};class v{qList=[];head=-1;tail=-1;enqueue=M=>{this.head==-1&&this.head++,this.tail++,this.qList.push(M)};dequeue=()=>{if(this.head==-1)return console.log("Queue underflow!"),0;if(this.head==this.tail){let M=this.qList.splice(0,1)[0];return this.head--,this.tail--,M}else return this.tail--,this.qList.splice(0,1)[0]};size=()=>this.qList.length;peek=()=>{if(this.head==-1)console.log("Queue is empty!");else return this.qList[this.head]};list=()=>this.qList}let g=()=>{n.background(41),n.fill(0),t=10,c=0,l=new v,r=n.height/t,o=n.width/t,s=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),a=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),i=Array.from(Array(o),()=>new Array(r));for(let C=0;C<r;C++)for(let M=0;M<o;M++)n.rect(M*t,C*t,20,20),i[M][C]=0;h(),p(),l.enqueue(a)},w=()=>{c=2};n.setup=()=>{n.createCanvas(500,500),D(document.getElementById("canvasContainer1")),m=n.createButton("Restart"),m.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),m.mousePressed(g),y=n.createButton("Play"),y.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),y.mousePressed(w),c=0,n.background(41),n.fill(0),t=10,l=new v,r=n.height/t,o=n.width/t,s=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),a=new d(n.floor(n.random(0,o)),n.floor(n.random(0,o)),null),i=Array.from(Array(o),()=>new Array(r));for(let C=0;C<r;C++)for(let M=0;M<o;M++)n.rect(M*t,C*t,20,20),i[M][C]=0;h(),p(),l.enqueue(a)};let b=()=>{let C=s;for(n.noStroke(),n.fill(255,255,0);C!=a;)n.rect(C.x*t,C.y*t,t,t),C=C.parent},_=C=>{if(C.x==s.x&&C.y==s.y){s.parent=C,b(),l=new v;return}i[C.x][C.y]=1,f(C),C.x-1>=0&&i[C.x-1][C.y]==0&&(l.enqueue(new d(C.x-1,C.y,C)),i[C.x-1][C.y]=1),C.x+1<o&&i[C.x+1][C.y]==0&&(l.enqueue(new d(C.x+1,C.y,C)),i[C.x+1][C.y]=1),C.y-1>=0&&i[C.x][C.y-1]==0&&(l.enqueue(new d(C.x,C.y-1,C)),i[C.x][C.y-1]=1),C.y+1<r&&i[C.x][C.y+1]==0&&(l.enqueue(new d(C.x,C.y+1,C)),i[C.x][C.y+1]=1)};n.draw=()=>{for(let C=0;C<c;C++)l.size()>0&&_(l.dequeue());if(u){let C=n.floor(n.floor(n.mouseX)/t),M=n.floor(n.floor(n.mouseY)/t);C<o&&M<r&&C>=0&&M>=0&&!(C==a.x&&M==a.y)&&!(C==s.x&&M==s.y)&&(i[C][M]=2,n.fill(200),n.noStroke(),n.rect(C*t,M*t,t,t))}h(),p(),c!=0&&(c=n.floor(l.size()/3)+1)},window.addEventListener("mousedown",()=>{u=!0}),window.addEventListener("touchstart",()=>{u=!0}),window.addEventListener("mouseup",()=>{u=!1}),window.addEventListener("touchend",()=>{u=!0});function D(C){window.addEventListener("touchstart",function(M){M.target==C&&M.preventDefault()},{passive:!1}),window.addEventListener("touchend",function(M){M.target==C&&M.preventDefault()},{passive:!1}),window.addEventListener("touchmove",function(M){M.target==C&&M.preventDefault()},{passive:!1})}};var gS=n=>{var r=25,o=[],t=0,i=0,s=Math.round(Math.random()*19),a=Math.round(Math.random()*19);class l{x;y;constructor(m,y){this.x=m,this.y=y}}n.setup=()=>{for(n.createCanvas(500,500),o.push(new l(10,10));s==10&&a==10;)s=Math.round(Math.random()*19),a=Math.round(Math.random()*19);n.frameRate(15)},n.draw=()=>{n.background(41),n.fill(255,0,0),n.rect(o[0].x*r,o[0].y*r,r,r);for(let c=1;c<o.length;c++){if(n.rect(o[c].x*r,o[c].y*r,r,r),o[0].x==o[c].x&&o[0].y==o[c].y){u();break}o[c].x==s&&o[c].y==a&&(o.push(new l(o[o.length-1].x,o[o.length-1].y)),s=n.round(Math.random()*19),a=n.round(Math.random()*19))}o[0].x==s&&o[0].y==a&&(o.push(new l(o[o.length-1].x,o[o.length-1].y)),s=n.round(Math.random()*19),a=n.round(Math.random()*19));for(let c=o.length-1;c>0;c--)o[c].x=o[c-1].x,o[c].y=o[c-1].y;n.fill(0,255,0),n.rect(s*r,a*r,r,r),o[0].x+=t,o[0].y+=i,o[0].x<0&&(o[0].x=19),o[0].x>19&&(o[0].x=0),o[0].y<0&&(o[0].y=19),o[0].y>19&&(o[0].y=0)};let u=()=>{for(t=0,i=0,o=[],o.push(new l(10,10));s==10&&a==10;)s=Math.round(Math.random()*19),a=Math.round(Math.random()*19)};window.addEventListener("keydown",function(c){c.key=="ArrowUp"&&(t=0,i=-1),c.key=="ArrowDown"&&(t=0,i=1),c.key=="ArrowLeft"&&(t=-1,i=0),c.key=="ArrowRight"&&(t=1,i=0)})};var yS=n=>{let r,o,t,i,s;n.setup=()=>{n.frameRate(10),n.createCanvas(500,500),r=10,o=50,t=50,i=new Array(o);for(let u=0;u<o;u++)i[u]=new Array(t);s=new Array(o);for(let u=0;u<o;u++)s[u]=new Array(t);a()},n.draw=()=>{n.background(41),l();for(let u=0;u<o;u++)for(let c=0;c<t;c++)i[u][c]==1?n.fill(255):n.fill(41),n.stroke(41),n.rect(u*r,c*r,r-1,r-1)};let a=()=>{for(let u=0;u<o;u++)for(let c=0;c<t;c++)u==0||c==0||u==o-1||c==t-1?i[u][c]=0:i[u][c]=n.floor(n.random(2)),s[u][c]=0};window.addEventListener("click",a);let l=()=>{for(let c=1;c<o-1;c++)for(let m=1;m<t-1;m++){let y=0;for(let d=-1;d<=1;d++)for(let h=-1;h<=1;h++)y+=i[c+d][m+h];y-=i[c][m],i[c][m]==1&&y<2||i[c][m]==1&&y>3?s[c][m]=0:i[c][m]==0&&y==3?s[c][m]=1:s[c][m]=i[c][m]}let u=i;i=s,s=u}};var vS=n=>{n.setup=()=>{n.createCanvas(500,500,n.WEBGL),n.angleMode(n.DEGREES)},n.draw=()=>{n.rotateX(60),n.background(41),n.noFill(),n.stroke(255);for(let r=0;r<50;r++){n.rotate(n.frameCount/100),n.beginShape();let o=n.map(n.sin(n.frameCount),-1,1,0,255),t=n.map(r,0,50,0,255),i=n.map(n.cos(n.frameCount),-1,1,0,255);for(let s=0;s<=360;s+=60){let a=r*5,l=a*n.cos(s),u=a*n.sin(s),c=n.sin(n.frameCount*3+r*5)*100;n.stroke(o,t,i),n.vertex(l,u,c)}n.endShape()}}};var bS=[{name:"Mario Bros. Circuit",cup:"Mushroom"},{name:"Crown City",cup:"Mushroom"},{name:"Whistlestop Summit",cup:"Mushroom"},{name:"DK Spaceport",cup:"Mushroom"},{name:"Desert Hills",cup:"Flower"},{name:"Shy Guy Bazaar",cup:"Flower"},{name:"Wario Stadium",cup:"Flower"},{name:"Airship Fortress",cup:"Flower"},{name:"DK Pass",cup:"Star"},{name:"Starview Peak",cup:"Star"},{name:"Sky-High Sundae",cup:"Star"},{name:"Wario Shipyard",cup:"Star"},{name:"Koopa Troopa Beach",cup:"Shell"},{name:"Faraway Oasis",cup:"Shell"},{name:"Crown City",cup:"Shell"},{name:"Peach Stadium",cup:"Shell"},{name:"Peach Beach",cup:"Banana"},{name:"Salty Salty Speedway",cup:"Banana"},{name:"Dino Dino Jungle",cup:"Banana"},{name:"Great ? Block Ruins",cup:"Banana"},{name:"Cheep Cheep Falls",cup:"Leaf"},{name:"Dandelion Depths",cup:"Leaf"},{name:"Boo Cinema",cup:"Leaf"},{name:"Dry Bones Burnout",cup:"Leaf"},{name:"Moo Moo Meadows",cup:"Lightning"},{name:"Choco Mountain",cup:"Lightning"},{name:"Toad's Factory",cup:"Lightning"},{name:"Bowser's Castle",cup:"Lightning"},{name:"Acorn Heights",cup:"Special"},{name:"Super Mario Kart Circuit",cup:"Special"},{name:"Peach Stadium",cup:"Special"},{name:"Rainbow Road",cup:"Special"}];var wS=n=>{class r{name;cup;constructor(D,C){this.name=D,this.cup=C}toString(){return this.name+" | "+this.cup}}let o=new AudioContext,t=null;function i(){return Yn(this,null,function*(){let D=yield(yield fetch("click.wav")).arrayBuffer();t=yield o.decodeAudioData(D)})}function s(){if(!t)return;let _=o.createBufferSource();_.buffer=t,_.connect(o.destination),_.start()}let a=[],l,u,c,m=!1,y=7,d=0,h=0,p=.99,f=20,v=!1;bS.forEach(_=>{a.push(new r(_.name,_.cup))}),n.setup=()=>{n.createCanvas(500,500),l=500,u=500,c=0,n.textAlign(n.CENTER,n.CENTER),i(),w()},n.draw=()=>{n.noStroke(),n.background(41),n.fill(50,80,200),n.rect(l/2-200,u/2-200,400,400),n.fill(200,185,0),n.rect(l/2-175,u/2-25,350,50),n.fill(255),n.strokeWeight(.5),n.textSize(16);for(let _=0;_<y;_++)n.text(a[(c+_)%a.length],l/2,u/2-150+50*_-h);if(n.fill(41),n.noStroke(),n.rect(0,u/2+100,500,200),n.rect(0,u/2-300,500,200),m){for(h+=d;h>=50;)h-=50,b();v&&(d*=p),d<1&&(m=!1,d=0,h>25&&b(),h=0)}};function g(){m||(w(),m=!0,d=n.floor(n.random(40,50)))}window.addEventListener("click",g);let w=()=>{for(let _=a.length-1;_>0;_--){let D=n.floor(n.random(_)),C=a[_];a[_]=a[D],a[D]=C}},b=()=>{c=(c+1)%a.length,s(),!v&&f>=0&&(f-=1),!v&&f<0&&(v=!0)}};function Za(){return Za=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)({}).hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},Za.apply(null,arguments)}var Ty={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function _S(n,r){if(_l(n,r))return n[r];throw typeof n[r]=="function"&&SR(n,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function xS(n,r,o){if(_l(n,r))return n[r]=o,o;throw new Error('No access to property "'+r+'"')}function _l(n,r){return!ER(n)&&!Array.isArray(n)?!1:Qa(CR,r)?!0:!(r in Object.prototype||r in Function.prototype)}function SR(n,r){return n==null||typeof n[r]!="function"||Qa(n,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(n)?!1:Qa(MR,r)?!0:!(r in Object.prototype||r in Function.prototype)}function ER(n){return typeof n=="object"&&n&&n.constructor===Object}var CR={length:!0,name:!0},MR={toString:!0,valueOf:!0,toLocaleString:!0};var gf=class{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return _S(this.wrappedObject,r)}set(r,o){return xS(this.wrappedObject,r,o),this}has(r){return _l(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return TR(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var o of this.keys())r(this.get(o),o,this)}delete(r){_l(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}};function TR(n,r){return{next:()=>{var o=n.next();return o.done?o:{value:r(o.value),done:!1}}}}function Rt(n){return typeof n=="number"}function Ht(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function DS(n){return typeof n=="bigint"}function Ay(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function jy(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function yf(n){return n&&n.constructor.prototype.isUnit===!0||!1}function An(n){return typeof n=="string"}var Or=Array.isArray;function Yt(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function vi(n){return Array.isArray(n)||Yt(n)}function SS(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function ES(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function CS(n){return n&&n.constructor.prototype.isRange===!0||!1}function Ka(n){return n&&n.constructor.prototype.isIndex===!0||!1}function MS(n){return typeof n=="boolean"}function TS(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function AS(n){return n&&n.constructor.prototype.isHelp===!0||!1}function jS(n){return typeof n=="function"}function IS(n){return n instanceof Date}function NS(n){return n instanceof RegExp}function Ja(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!Ay(n)&&!jy(n))}function OS(n){return n?n instanceof Map||n instanceof gf||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}function FS(n){return n===null}function kS(n){return n===void 0}function RS(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function PS(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function LS(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function BS(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function US(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function VS(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function zS(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function GS(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function HS(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function qS(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function WS(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function $S(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function YS(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function XS(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function ZS(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function QS(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function KS(n){return n&&n.constructor.prototype.isChain===!0||!1}function xn(n){var r=typeof n;return r==="object"?n===null?"null":Ht(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":r}function Qt(n){var r=typeof n;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(o){return Qt(o)});if(n instanceof Date)return new Date(n.valueOf());if(Ht(n))return n;if(Ja(n))return AR(n,Qt);if(r==="function")return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function AR(n,r){var o={};for(var t in n)Qa(n,t)&&(o[t]=r(n[t]));return o}function vf(n,r){for(var o in r)Qa(r,o)&&(n[o]=r[o]);return n}function ao(n,r){var o,t,i;if(Array.isArray(n)){if(!Array.isArray(r)||n.length!==r.length)return!1;for(t=0,i=n.length;t<i;t++)if(!ao(n[t],r[t]))return!1;return!0}else{if(typeof n=="function")return n===r;if(n instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(o in n)if(!(o in r)||!ao(n[o],r[o]))return!1;for(o in r)if(!(o in n))return!1;return!0}else return n===r}}function Qa(n,r){return n&&Object.hasOwnProperty.call(n,r)}function JS(n,r){for(var o={},t=0;t<r.length;t++){var i=r[t],s=n[i];s!==void 0&&(o[i]=s)}return o}var eE=["Matrix","Array"],tE=["number","BigNumber","bigint","Fraction"];var So=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ty)};Za(So,Ty,{MATRIX_OPTIONS:eE,NUMBER_OPTIONS:tE});var Ry=jh(Oy(),1);function Le(n,r,o,t){function i(s){var a=JS(s,r.map(NR));return jR(n,r,s),o(a)}return i.isFactory=!0,i.fn=n,i.dependencies=r.slice().sort(),t&&(i.meta=t),i}function jR(n,r,o){var t=r.filter(s=>!IR(s)).every(s=>o[s]!==void 0);if(!t){var i=r.filter(s=>o[s]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}function IR(n){return n&&n[0]==="?"}function NR(n){return n&&n[0]==="?"?n.slice(1):n}function zt(n){return typeof n=="boolean"?!0:Number.isFinite(n)?n===Math.round(n):!1}function bf(n,r){if(r.number==="bigint")try{BigInt(n)}catch{return r.numberFallback}return r.number}var oE=Math.sign||function(n){return n>0?1:n<0?-1:0},iE=Math.log2||function(r){return Math.log(r)/Math.LN2},sE=Math.log10||function(r){return Math.log(r)/Math.LN10},aE=Math.log1p||function(n){return Math.log(n+1)},uE=Math.cbrt||function(r){if(r===0)return r;var o=r<0,t;return o&&(r=-r),Number.isFinite(r)?(t=Math.exp(Math.log(r)/3),t=(r/(t*t)+2*t)/3):t=r,o?-t:t},lE=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function Fy(n,r,o){var t={2:"0b",8:"0o",16:"0x"},i=t[r],s="";if(o){if(o<1)throw new Error("size must be in greater than 0");if(!zt(o))throw new Error("size must be an integer");if(n>2**(o-1)-1||n<-(2**(o-1)))throw new Error("Value must be in range [-2^".concat(o-1,", 2^").concat(o-1,"-1]"));if(!zt(n))throw new Error("Value must be an integer");n<0&&(n=n+2**o),s="i".concat(o)}var a="";return n<0&&(n=-n,a="-"),"".concat(a).concat(i).concat(n.toString(r)).concat(s)}function xl(n,r){if(typeof r=="function")return r(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:o,precision:t,wordSize:i}=ky(r);switch(o){case"fixed":return cE(n,t);case"exponential":return dE(n,t);case"engineering":return OR(n,t);case"bin":return Fy(n,2,i);case"oct":return Fy(n,8,i);case"hex":return Fy(n,16,i);case"auto":return FR(n,t,r).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],a=arguments[4];return s!=="."?s+a:a});default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ky(n){var r="auto",o,t;if(n!==void 0)if(Rt(n))o=n;else if(Ht(n))o=n.toNumber();else if(Ja(n))n.precision!==void 0&&(o=rE(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=rE(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:o,wordSize:t}}function wf(n){var r=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+n);var o=r[1],t=r[2],i=parseFloat(r[4]||"0"),s=t.indexOf(".");i+=s!==-1?s-1:t.length-1;var a=t.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return a.length===0&&(a.push(0),i++),{sign:o,coefficients:a,exponent:i}}function OR(n,r){if(isNaN(n)||!Number.isFinite(n))return String(n);var o=wf(n),t=_f(o,r),i=t.exponent,s=t.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Rt(r))for(;r>s.length||i-a+1>s.length;)s.push(0);else for(var l=Math.abs(i-a)-(s.length-1),u=0;u<l;u++)s.push(0);for(var c=Math.abs(i-a),m=1;c>0;)m++,c--;var y=s.slice(m).join(""),d=Rt(r)&&y.length||y.match(/[1-9]/)?"."+y:"",h=s.slice(0,m).join("")+d+"e"+(i>=0?"+":"")+a.toString();return t.sign+h}function cE(n,r){if(isNaN(n)||!Number.isFinite(n))return String(n);var o=wf(n),t=typeof r=="number"?_f(o,o.exponent+1+r):o,i=t.coefficients,s=t.exponent+1,a=s+(r||0);return i.length<a&&(i=i.concat(eu(a-i.length))),s<0&&(i=eu(-s+1).concat(i),s=1),s<i.length&&i.splice(s,0,s===0?"0.":"."),t.sign+i.join("")}function dE(n,r){if(isNaN(n)||!Number.isFinite(Number(n)))return String(n);var o=wf(n),t=r?_f(o,r):o,i=t.coefficients,s=t.exponent;i.length<r&&(i=i.concat(eu(r-i.length)));var a=i.shift();return t.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function FR(n,r,o){if(isNaN(n)||!Number.isFinite(n))return String(n);var t=nE(o?.lowerExp,-3),i=nE(o?.upperExp,5),s=wf(n),a=r?_f(s,r):s;if(a.exponent<t||a.exponent>=i)return dE(n,r);var l=a.coefficients,u=a.exponent;l.length<r&&(l=l.concat(eu(r-l.length))),l=l.concat(eu(u-l.length+1+(l.length<r?r-l.length:0))),l=eu(-u).concat(l);var c=u>0?u:0;return c<l.length-1&&l.splice(c+1,0,"."),a.sign+l.join("")}function _f(n,r){for(var o={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},t=o.coefficients;r<=0;)t.unshift(0),o.exponent++,r++;if(t.length>r){var i=t.splice(r,t.length-r);if(i[0]>=5){var s=r-1;for(t[s]++;t[s]===10;)t.pop(),s===0&&(t.unshift(0),o.exponent++,s++),s--,t[s]++}}return o}function eu(n){for(var r=[],o=0;o<n;o++)r.push(0);return r}function fE(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function qi(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(o<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(n)||isNaN(r)?!1:!Number.isFinite(n)||!Number.isFinite(r)?n===r:n===r?!0:Math.abs(n-r)<=Math.max(o*Math.max(Math.abs(n),Math.abs(r)),t)}function rE(n,r){if(Rt(n))return n;if(Ht(n))return n.toNumber();r()}function nE(n,r){return Rt(n)?n:Ht(n)?n.toNumber():r}var hE=function(){return hE=Ry.default.create,Ry.default},kR=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Py=Le("typed",kR,function(r){var{BigNumber:o,Complex:t,DenseMatrix:i,Fraction:s}=r,a=hE();return a.clear(),a.addTypes([{name:"number",test:Rt},{name:"Complex",test:Ay},{name:"BigNumber",test:Ht},{name:"bigint",test:DS},{name:"Fraction",test:jy},{name:"Unit",test:yf},{name:"identifier",test:l=>An&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:An},{name:"Chain",test:KS},{name:"Array",test:Or},{name:"Matrix",test:Yt},{name:"DenseMatrix",test:SS},{name:"SparseMatrix",test:ES},{name:"Range",test:CS},{name:"Index",test:Ka},{name:"boolean",test:MS},{name:"ResultSet",test:TS},{name:"Help",test:AS},{name:"function",test:jS},{name:"Date",test:IS},{name:"RegExp",test:NS},{name:"null",test:FS},{name:"undefined",test:kS},{name:"AccessorNode",test:RS},{name:"ArrayNode",test:PS},{name:"AssignmentNode",test:LS},{name:"BlockNode",test:BS},{name:"ConditionalNode",test:US},{name:"ConstantNode",test:VS},{name:"FunctionNode",test:GS},{name:"FunctionAssignmentNode",test:zS},{name:"IndexNode",test:HS},{name:"Node",test:qS},{name:"ObjectNode",test:WS},{name:"OperatorNode",test:$S},{name:"ParenthesisNode",test:YS},{name:"RangeNode",test:XS},{name:"RelationalNode",test:ZS},{name:"SymbolNode",test:QS},{name:"Map",test:OS},{name:"Object",test:Ja}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(o||xf(u),fE(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new o(u)}},{from:"number",to:"Complex",convert:function(u){return t||Df(u),new t(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return t||Df(u),new t(u.toNumber(),0)}},{from:"bigint",to:"number",convert:function(u){if(u>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+u+")");return Number(u)}},{from:"bigint",to:"BigNumber",convert:function(u){return o||xf(u),new o(u.toString())}},{from:"bigint",to:"Fraction",convert:function(u){return s||Sf(u),new s(u)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return t||Df(u),new t(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){s||Sf(u);var c=new s(u);if(c.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(u){var c=Number(u);if(isNaN(c))throw new Error('Cannot convert "'+u+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(u){o||xf(u);try{return new o(u)}catch{throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(u){try{return BigInt(u)}catch{throw new Error('Cannot convert "'+u+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(u){s||Sf(u);try{return new s(u)}catch{throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){t||Df(u);try{return new t(u)}catch{throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return o||xf(u),new o(+u)}},{from:"boolean",to:"bigint",convert:function(u){return BigInt(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return s||Sf(u),new s(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||RR(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),a.onMismatch=(l,u,c)=>{var m=a.createError(l,u,c);if(["wrongType","mismatch"].includes(m.data.category)&&u.length===1&&vi(u[0])&&c.some(d=>!d.params.includes(","))){var y=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw y.data=m.data,y}throw m},a.onMismatch=(l,u,c)=>{var m=a.createError(l,u,c);if(["wrongType","mismatch"].includes(m.data.category)&&u.length===1&&vi(u[0])&&c.some(d=>!d.params.includes(","))){var y=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw y.data=m.data,y}throw m},a});function xf(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function Df(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function RR(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Sf(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var tu=9e15,Xi=1e9,Ly="0123456789abcdef",Mf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",By={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-tu,maxE:tu,crypto:!1},yE,bi,Mt=!0,jf="[DecimalError] ",Yi=jf+"Invalid argument: ",vE=jf+"Precision limit exceeded",bE=jf+"crypto unavailable",wE="[object Decimal]",Dn=Math.floor,Kr=Math.pow,PR=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,LR=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,BR=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_E=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Eo=1e7,xt=7,UR=9007199254740991,VR=Mf.length-1,Uy=Tf.length-1,We={toStringTag:wE};We.absoluteValue=We.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),vt(n)};We.ceil=function(){return vt(new this.constructor(this),this.e+1,2)};We.clampedTo=We.clamp=function(n,r){var o,t=this,i=t.constructor;if(n=new i(n),r=new i(r),!n.s||!r.s)return new i(NaN);if(n.gt(r))throw Error(Yi+r);return o=t.cmp(n),o<0?n:t.cmp(r)>0?r:new i(t)};We.comparedTo=We.cmp=function(n){var r,o,t,i,s=this,a=s.d,l=(n=new s.constructor(n)).d,u=s.s,c=n.s;if(!a||!l)return!u||!c?NaN:u!==c?u:a===l?0:!a^u<0?1:-1;if(!a[0]||!l[0])return a[0]?u:l[0]?-c:0;if(u!==c)return u;if(s.e!==n.e)return s.e>n.e^u<0?1:-1;for(t=a.length,i=l.length,r=0,o=t<i?t:i;r<o;++r)if(a[r]!==l[r])return a[r]>l[r]^u<0?1:-1;return t===i?0:t>i^u<0?1:-1};We.cosine=We.cos=function(){var n,r,o=this,t=o.constructor;return o.d?o.d[0]?(n=t.precision,r=t.rounding,t.precision=n+Math.max(o.e,o.sd())+xt,t.rounding=1,o=zR(t,CE(t,o)),t.precision=n,t.rounding=r,vt(bi==2||bi==3?o.neg():o,n,r,!0)):new t(1):new t(NaN)};We.cubeRoot=We.cbrt=function(){var n,r,o,t,i,s,a,l,u,c,m=this,y=m.constructor;if(!m.isFinite()||m.isZero())return new y(m);for(Mt=!1,s=m.s*Kr(m.s*m,1/3),!s||Math.abs(s)==1/0?(o=gn(m.d),n=m.e,(s=(n-o.length+1)%3)&&(o+=s==1||s==-2?"0":"00"),s=Kr(o,1/3),n=Dn((n+1)/3)-(n%3==(n<0?-1:2)),s==1/0?o="5e"+n:(o=s.toExponential(),o=o.slice(0,o.indexOf("e")+1)+n),t=new y(o),t.s=m.s):t=new y(s.toString()),a=(n=y.precision)+3;;)if(l=t,u=l.times(l).times(l),c=u.plus(m),t=gr(c.plus(m).times(l),c.plus(u),a+2,1),gn(l.d).slice(0,a)===(o=gn(t.d)).slice(0,a))if(o=o.slice(a-3,a+1),o=="9999"||!i&&o=="4999"){if(!i&&(vt(l,n+1,0),l.times(l).times(l).eq(m))){t=l;break}a+=4,i=1}else{(!+o||!+o.slice(1)&&o.charAt(0)=="5")&&(vt(t,n+1,1),r=!t.times(t).times(t).eq(m));break}return Mt=!0,vt(t,n,y.rounding,r)};We.decimalPlaces=We.dp=function(){var n,r=this.d,o=NaN;if(r){if(n=r.length-1,o=(n-Dn(this.e/xt))*xt,n=r[n],n)for(;n%10==0;n/=10)o--;o<0&&(o=0)}return o};We.dividedBy=We.div=function(n){return gr(this,new this.constructor(n))};We.dividedToIntegerBy=We.divToInt=function(n){var r=this,o=r.constructor;return vt(gr(r,new o(n),0,1,1),o.precision,o.rounding)};We.equals=We.eq=function(n){return this.cmp(n)===0};We.floor=function(){return vt(new this.constructor(this),this.e+1,3)};We.greaterThan=We.gt=function(n){return this.cmp(n)>0};We.greaterThanOrEqualTo=We.gte=function(n){var r=this.cmp(n);return r==1||r===0};We.hyperbolicCosine=We.cosh=function(){var n,r,o,t,i,s=this,a=s.constructor,l=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return l;o=a.precision,t=a.rounding,a.precision=o+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(n=Math.ceil(i/3),r=(1/Nf(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),s=ru(a,1,s.times(r),new a(1),!0);for(var u,c=n,m=new a(8);c--;)u=s.times(s),s=l.minus(u.times(m.minus(u.times(m))));return vt(s,a.precision=o,a.rounding=t,!0)};We.hyperbolicSine=We.sinh=function(){var n,r,o,t,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(r=s.precision,o=s.rounding,s.precision=r+Math.max(i.e,i.sd())+4,s.rounding=1,t=i.d.length,t<3)i=ru(s,2,i,i,!0);else{n=1.4*Math.sqrt(t),n=n>16?16:n|0,i=i.times(1/Nf(5,n)),i=ru(s,2,i,i,!0);for(var a,l=new s(5),u=new s(16),c=new s(20);n--;)a=i.times(i),i=i.times(l.plus(a.times(u.times(a).plus(c))))}return s.precision=r,s.rounding=o,vt(i,r,o,!0)};We.hyperbolicTangent=We.tanh=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+7,t.rounding=1,gr(o.sinh(),o.cosh(),t.precision=n,t.rounding=r)):new t(o.s)};We.inverseCosine=We.acos=function(){var n=this,r=n.constructor,o=n.abs().cmp(1),t=r.precision,i=r.rounding;return o!==-1?o===0?n.isNeg()?Xo(r,t,i):new r(0):new r(NaN):n.isZero()?Xo(r,t+4,i).times(.5):(r.precision=t+6,r.rounding=1,n=new r(1).minus(n).div(n.plus(1)).sqrt().atan(),r.precision=t,r.rounding=i,n.times(2))};We.inverseHyperbolicCosine=We.acosh=function(){var n,r,o=this,t=o.constructor;return o.lte(1)?new t(o.eq(1)?0:NaN):o.isFinite()?(n=t.precision,r=t.rounding,t.precision=n+Math.max(Math.abs(o.e),o.sd())+4,t.rounding=1,Mt=!1,o=o.times(o).minus(1).sqrt().plus(o),Mt=!0,t.precision=n,t.rounding=r,o.ln()):new t(o)};We.inverseHyperbolicSine=We.asinh=function(){var n,r,o=this,t=o.constructor;return!o.isFinite()||o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+2*Math.max(Math.abs(o.e),o.sd())+6,t.rounding=1,Mt=!1,o=o.times(o).plus(1).sqrt().plus(o),Mt=!0,t.precision=n,t.rounding=r,o.ln())};We.inverseHyperbolicTangent=We.atanh=function(){var n,r,o,t,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,r=s.rounding,t=i.sd(),Math.max(t,n)<2*-i.e-1?vt(new s(i),n,r,!0):(s.precision=o=t-i.e,i=gr(i.plus(1),new s(1).minus(i),o+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=r,i.times(.5))):new s(NaN)};We.inverseSine=We.asin=function(){var n,r,o,t,i=this,s=i.constructor;return i.isZero()?new s(i):(r=i.abs().cmp(1),o=s.precision,t=s.rounding,r!==-1?r===0?(n=Xo(s,o+4,t).times(.5),n.s=i.s,n):new s(NaN):(s.precision=o+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=o,s.rounding=t,i.times(2)))};We.inverseTangent=We.atan=function(){var n,r,o,t,i,s,a,l,u,c=this,m=c.constructor,y=m.precision,d=m.rounding;if(c.isFinite()){if(c.isZero())return new m(c);if(c.abs().eq(1)&&y+4<=Uy)return a=Xo(m,y+4,d).times(.25),a.s=c.s,a}else{if(!c.s)return new m(NaN);if(y+4<=Uy)return a=Xo(m,y+4,d).times(.5),a.s=c.s,a}for(m.precision=l=y+10,m.rounding=1,o=Math.min(28,l/xt+2|0),n=o;n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Mt=!1,r=Math.ceil(l/xt),t=1,u=c.times(c),a=new m(c),i=c;n!==-1;)if(i=i.times(u),s=a.minus(i.div(t+=2)),i=i.times(u),a=s.plus(i.div(t+=2)),a.d[r]!==void 0)for(n=r;a.d[n]===s.d[n]&&n--;);return o&&(a=a.times(2<<o-1)),Mt=!0,vt(a,m.precision=y,m.rounding=d,!0)};We.isFinite=function(){return!!this.d};We.isInteger=We.isInt=function(){return!!this.d&&Dn(this.e/xt)>this.d.length-2};We.isNaN=function(){return!this.s};We.isNegative=We.isNeg=function(){return this.s<0};We.isPositive=We.isPos=function(){return this.s>0};We.isZero=function(){return!!this.d&&this.d[0]===0};We.lessThan=We.lt=function(n){return this.cmp(n)<0};We.lessThanOrEqualTo=We.lte=function(n){return this.cmp(n)<1};We.logarithm=We.log=function(n){var r,o,t,i,s,a,l,u,c=this,m=c.constructor,y=m.precision,d=m.rounding,h=5;if(n==null)n=new m(10),r=!0;else{if(n=new m(n),o=n.d,n.s<0||!o||!o[0]||n.eq(1))return new m(NaN);r=n.eq(10)}if(o=c.d,c.s<0||!o||!o[0]||c.eq(1))return new m(o&&!o[0]?-1/0:c.s!=1?NaN:o?0:1/0);if(r)if(o.length>1)s=!0;else{for(i=o[0];i%10===0;)i/=10;s=i!==1}if(Mt=!1,l=y+h,a=$i(c,l),t=r?Af(m,l+10):$i(n,l),u=gr(a,t,l,1),Dl(u.d,i=y,d))do if(l+=10,a=$i(c,l),t=r?Af(m,l+10):$i(n,l),u=gr(a,t,l,1),!s){+gn(u.d).slice(i+1,i+15)+1==1e14&&(u=vt(u,y+1,0));break}while(Dl(u.d,i+=10,d));return Mt=!0,vt(u,y,d)};We.minus=We.sub=function(n){var r,o,t,i,s,a,l,u,c,m,y,d,h=this,p=h.constructor;if(n=new p(n),!h.d||!n.d)return!h.s||!n.s?n=new p(NaN):h.d?n.s=-n.s:n=new p(n.d||h.s!==n.s?h:NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(c=h.d,d=n.d,l=p.precision,u=p.rounding,!c[0]||!d[0]){if(d[0])n.s=-n.s;else if(c[0])n=new p(h);else return new p(u===3?-0:0);return Mt?vt(n,l,u):n}if(o=Dn(n.e/xt),m=Dn(h.e/xt),c=c.slice(),s=m-o,s){for(y=s<0,y?(r=c,s=-s,a=d.length):(r=d,o=m,a=c.length),t=Math.max(Math.ceil(l/xt),a)+2,s>t&&(s=t,r.length=1),r.reverse(),t=s;t--;)r.push(0);r.reverse()}else{for(t=c.length,a=d.length,y=t<a,y&&(a=t),t=0;t<a;t++)if(c[t]!=d[t]){y=c[t]<d[t];break}s=0}for(y&&(r=c,c=d,d=r,n.s=-n.s),a=c.length,t=d.length-a;t>0;--t)c[a++]=0;for(t=d.length;t>s;){if(c[--t]<d[t]){for(i=t;i&&c[--i]===0;)c[i]=Eo-1;--c[i],c[t]+=Eo}c[t]-=d[t]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--o;return c[0]?(n.d=c,n.e=If(c,o),Mt?vt(n,l,u):n):new p(u===3?-0:0)};We.modulo=We.mod=function(n){var r,o=this,t=o.constructor;return n=new t(n),!o.d||!n.s||n.d&&!n.d[0]?new t(NaN):!n.d||o.d&&!o.d[0]?vt(new t(o),t.precision,t.rounding):(Mt=!1,t.modulo==9?(r=gr(o,n.abs(),0,3,1),r.s*=n.s):r=gr(o,n,0,t.modulo,1),r=r.times(n),Mt=!0,o.minus(r))};We.naturalExponential=We.exp=function(){return Vy(this)};We.naturalLogarithm=We.ln=function(){return $i(this)};We.negated=We.neg=function(){var n=new this.constructor(this);return n.s=-n.s,vt(n)};We.plus=We.add=function(n){var r,o,t,i,s,a,l,u,c,m,y=this,d=y.constructor;if(n=new d(n),!y.d||!n.d)return!y.s||!n.s?n=new d(NaN):y.d||(n=new d(n.d||y.s===n.s?y:NaN)),n;if(y.s!=n.s)return n.s=-n.s,y.minus(n);if(c=y.d,m=n.d,l=d.precision,u=d.rounding,!c[0]||!m[0])return m[0]||(n=new d(y)),Mt?vt(n,l,u):n;if(s=Dn(y.e/xt),t=Dn(n.e/xt),c=c.slice(),i=s-t,i){for(i<0?(o=c,i=-i,a=m.length):(o=m,t=s,a=c.length),s=Math.ceil(l/xt),a=s>a?s+1:a+1,i>a&&(i=a,o.length=1),o.reverse();i--;)o.push(0);o.reverse()}for(a=c.length,i=m.length,a-i<0&&(i=a,o=m,m=c,c=o),r=0;i;)r=(c[--i]=c[i]+m[i]+r)/Eo|0,c[i]%=Eo;for(r&&(c.unshift(r),++t),a=c.length;c[--a]==0;)c.pop();return n.d=c,n.e=If(c,t),Mt?vt(n,l,u):n};We.precision=We.sd=function(n){var r,o=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Yi+n);return o.d?(r=xE(o.d),n&&o.e+1>r&&(r=o.e+1)):r=NaN,r};We.round=function(){var n=this,r=n.constructor;return vt(new r(n),n.e+1,r.rounding)};We.sine=We.sin=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+Math.max(o.e,o.sd())+xt,t.rounding=1,o=HR(t,CE(t,o)),t.precision=n,t.rounding=r,vt(bi>2?o.neg():o,n,r,!0)):new t(NaN)};We.squareRoot=We.sqrt=function(){var n,r,o,t,i,s,a=this,l=a.d,u=a.e,c=a.s,m=a.constructor;if(c!==1||!l||!l[0])return new m(!c||c<0&&(!l||l[0])?NaN:l?a:1/0);for(Mt=!1,c=Math.sqrt(+a),c==0||c==1/0?(r=gn(l),(r.length+u)%2==0&&(r+="0"),c=Math.sqrt(r),u=Dn((u+1)/2)-(u<0||u%2),c==1/0?r="5e"+u:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+u),t=new m(r)):t=new m(c.toString()),o=(u=m.precision)+3;;)if(s=t,t=s.plus(gr(a,s,o+2,1)).times(.5),gn(s.d).slice(0,o)===(r=gn(t.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(vt(s,u+1,0),s.times(s).eq(a))){t=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(vt(t,u+1,1),n=!t.times(t).eq(a));break}return Mt=!0,vt(t,u,m.rounding,n)};We.tangent=We.tan=function(){var n,r,o=this,t=o.constructor;return o.isFinite()?o.isZero()?new t(o):(n=t.precision,r=t.rounding,t.precision=n+10,t.rounding=1,o=o.sin(),o.s=1,o=gr(o,new t(1).minus(o.times(o)).sqrt(),n+10,0),t.precision=n,t.rounding=r,vt(bi==2||bi==4?o.neg():o,n,r,!0)):new t(NaN)};We.times=We.mul=function(n){var r,o,t,i,s,a,l,u,c,m=this,y=m.constructor,d=m.d,h=(n=new y(n)).d;if(n.s*=m.s,!d||!d[0]||!h||!h[0])return new y(!n.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:!d||!h?n.s/0:n.s*0);for(o=Dn(m.e/xt)+Dn(n.e/xt),u=d.length,c=h.length,u<c&&(s=d,d=h,h=s,a=u,u=c,c=a),s=[],a=u+c,t=a;t--;)s.push(0);for(t=c;--t>=0;){for(r=0,i=u+t;i>t;)l=s[i]+h[t]*d[i-t-1]+r,s[i--]=l%Eo|0,r=l/Eo|0;s[i]=(s[i]+r)%Eo|0}for(;!s[--a];)s.pop();return r?++o:s.shift(),n.d=s,n.e=If(s,o),Mt?vt(n,y.precision,y.rounding):n};We.toBinary=function(n,r){return zy(this,2,n,r)};We.toDecimalPlaces=We.toDP=function(n,r){var o=this,t=o.constructor;return o=new t(o),n===void 0?o:(Fn(n,0,Xi),r===void 0?r=t.rounding:Fn(r,0,8),vt(o,n+o.e+1,r))};We.toExponential=function(n,r){var o,t=this,i=t.constructor;return n===void 0?o=Zo(t,!0):(Fn(n,0,Xi),r===void 0?r=i.rounding:Fn(r,0,8),t=vt(new i(t),n+1,r),o=Zo(t,!0,n+1)),t.isNeg()&&!t.isZero()?"-"+o:o};We.toFixed=function(n,r){var o,t,i=this,s=i.constructor;return n===void 0?o=Zo(i):(Fn(n,0,Xi),r===void 0?r=s.rounding:Fn(r,0,8),t=vt(new s(i),n+i.e+1,r),o=Zo(t,!1,n+t.e+1)),i.isNeg()&&!i.isZero()?"-"+o:o};We.toFraction=function(n){var r,o,t,i,s,a,l,u,c,m,y,d,h=this,p=h.d,f=h.constructor;if(!p)return new f(h);if(c=o=new f(1),t=u=new f(0),r=new f(t),s=r.e=xE(p)-h.e-1,a=s%xt,r.d[0]=Kr(10,a<0?xt+a:a),n==null)n=s>0?r:c;else{if(l=new f(n),!l.isInt()||l.lt(c))throw Error(Yi+l);n=l.gt(r)?s>0?r:c:l}for(Mt=!1,l=new f(gn(p)),m=f.precision,f.precision=s=p.length*xt*2;y=gr(l,r,0,1,1),i=o.plus(y.times(t)),i.cmp(n)!=1;)o=t,t=i,i=c,c=u.plus(y.times(i)),u=i,i=r,r=l.minus(y.times(i)),l=i;return i=gr(n.minus(o),t,0,1,1),u=u.plus(i.times(c)),o=o.plus(i.times(t)),u.s=c.s=h.s,d=gr(c,t,s,1).minus(h).abs().cmp(gr(u,o,s,1).minus(h).abs())<1?[c,t]:[u,o],f.precision=m,Mt=!0,d};We.toHexadecimal=We.toHex=function(n,r){return zy(this,16,n,r)};We.toNearest=function(n,r){var o=this,t=o.constructor;if(o=new t(o),n==null){if(!o.d)return o;n=new t(1),r=t.rounding}else{if(n=new t(n),r===void 0?r=t.rounding:Fn(r,0,8),!o.d)return n.s?o:n;if(!n.d)return n.s&&(n.s=o.s),n}return n.d[0]?(Mt=!1,o=gr(o,n,0,r,1).times(n),Mt=!0,vt(o)):(n.s=o.s,o=n),o};We.toNumber=function(){return+this};We.toOctal=function(n,r){return zy(this,8,n,r)};We.toPower=We.pow=function(n){var r,o,t,i,s,a,l=this,u=l.constructor,c=+(n=new u(n));if(!l.d||!n.d||!l.d[0]||!n.d[0])return new u(Kr(+l,c));if(l=new u(l),l.eq(1))return l;if(t=u.precision,s=u.rounding,n.eq(1))return vt(l,t,s);if(r=Dn(n.e/xt),r>=n.d.length-1&&(o=c<0?-c:c)<=UR)return i=DE(u,l,o,t),n.s<0?new u(1).div(i):vt(i,t,s);if(a=l.s,a<0){if(r<n.d.length-1)return new u(NaN);if(n.d[r]&1||(a=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=a,l}return o=Kr(+l,c),r=o==0||!isFinite(o)?Dn(c*(Math.log("0."+gn(l.d))/Math.LN10+l.e+1)):new u(o+"").e,r>u.maxE+1||r<u.minE-1?new u(r>0?a/0:0):(Mt=!1,u.rounding=l.s=1,o=Math.min(12,(r+"").length),i=Vy(n.times($i(l,t+o)),t),i.d&&(i=vt(i,t+5,1),Dl(i.d,t,s)&&(r=t+10,i=vt(Vy(n.times($i(l,r+o)),r),r+5,1),+gn(i.d).slice(t+1,t+15)+1==1e14&&(i=vt(i,t+1,0)))),i.s=a,Mt=!0,u.rounding=s,vt(i,t,s))};We.toPrecision=function(n,r){var o,t=this,i=t.constructor;return n===void 0?o=Zo(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(Fn(n,1,Xi),r===void 0?r=i.rounding:Fn(r,0,8),t=vt(new i(t),n,r),o=Zo(t,n<=t.e||t.e<=i.toExpNeg,n)),t.isNeg()&&!t.isZero()?"-"+o:o};We.toSignificantDigits=We.toSD=function(n,r){var o=this,t=o.constructor;return n===void 0?(n=t.precision,r=t.rounding):(Fn(n,1,Xi),r===void 0?r=t.rounding:Fn(r,0,8)),vt(new t(o),n,r)};We.toString=function(){var n=this,r=n.constructor,o=Zo(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()&&!n.isZero()?"-"+o:o};We.truncated=We.trunc=function(){return vt(new this.constructor(this),this.e+1,1)};We.valueOf=We.toJSON=function(){var n=this,r=n.constructor,o=Zo(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()?"-"+o:o};function gn(n){var r,o,t,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,r=1;r<i;r++)t=n[r]+"",o=xt-t.length,o&&(s+=Wi(o)),s+=t;a=n[r],t=a+"",o=xt-t.length,o&&(s+=Wi(o))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}function Fn(n,r,o){if(n!==~~n||n<r||n>o)throw Error(Yi+n)}function Dl(n,r,o,t){var i,s,a,l;for(s=n[0];s>=10;s/=10)--r;return--r<0?(r+=xt,i=0):(i=Math.ceil((r+1)/xt),r%=xt),s=Kr(10,xt-r),l=n[i]%s|0,t==null?r<3?(r==0?l=l/100|0:r==1&&(l=l/10|0),a=o<4&&l==99999||o>3&&l==49999||l==5e4||l==0):a=(o<4&&l+1==s||o>3&&l+1==s/2)&&(n[i+1]/s/100|0)==Kr(10,r-2)-1||(l==s/2||l==0)&&(n[i+1]/s/100|0)==0:r<4?(r==0?l=l/1e3|0:r==1?l=l/100|0:r==2&&(l=l/10|0),a=(t||o<4)&&l==9999||!t&&o>3&&l==4999):a=((t||o<4)&&l+1==s||!t&&o>3&&l+1==s/2)&&(n[i+1]/s/1e3|0)==Kr(10,r-3)-1,a}function Ef(n,r,o){for(var t,i=[0],s,a=0,l=n.length;a<l;){for(s=i.length;s--;)i[s]*=r;for(i[0]+=Ly.indexOf(n.charAt(a++)),t=0;t<i.length;t++)i[t]>o-1&&(i[t+1]===void 0&&(i[t+1]=0),i[t+1]+=i[t]/o|0,i[t]%=o)}return i.reverse()}function zR(n,r){var o,t,i;if(r.isZero())return r;t=r.d.length,t<32?(o=Math.ceil(t/3),i=(1/Nf(4,o)).toString()):(o=16,i="2.3283064365386962890625e-10"),n.precision+=o,r=ru(n,1,r.times(i),new n(1));for(var s=o;s--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return n.precision-=o,r}var gr=function(){function n(t,i,s){var a,l=0,u=t.length;for(t=t.slice();u--;)a=t[u]*i+l,t[u]=a%s|0,l=a/s|0;return l&&t.unshift(l),t}function r(t,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(t[l]!=i[l]){u=t[l]>i[l]?1:-1;break}return u}function o(t,i,s,a){for(var l=0;s--;)t[s]-=l,l=t[s]<i[s]?1:0,t[s]=l*a+t[s]-i[s];for(;!t[0]&&t.length>1;)t.shift()}return function(t,i,s,a,l,u){var c,m,y,d,h,p,f,v,g,w,b,_,D,C,M,E,S,O,j,F,I=t.constructor,L=t.s==i.s?1:-1,B=t.d,k=i.d;if(!B||!B[0]||!k||!k[0])return new I(!t.s||!i.s||(B?k&&B[0]==k[0]:!k)?NaN:B&&B[0]==0||!k?L*0:L/0);for(u?(h=1,m=t.e-i.e):(u=Eo,h=xt,m=Dn(t.e/h)-Dn(i.e/h)),j=k.length,S=B.length,g=new I(L),w=g.d=[],y=0;k[y]==(B[y]||0);y++);if(k[y]>(B[y]||0)&&m--,s==null?(C=s=I.precision,a=I.rounding):l?C=s+(t.e-i.e)+1:C=s,C<0)w.push(1),p=!0;else{if(C=C/h+2|0,y=0,j==1){for(d=0,k=k[0],C++;(y<S||d)&&C--;y++)M=d*u+(B[y]||0),w[y]=M/k|0,d=M%k|0;p=d||y<S}else{for(d=u/(k[0]+1)|0,d>1&&(k=n(k,d,u),B=n(B,d,u),j=k.length,S=B.length),E=j,b=B.slice(0,j),_=b.length;_<j;)b[_++]=0;F=k.slice(),F.unshift(0),O=k[0],k[1]>=u/2&&++O;do d=0,c=r(k,b,j,_),c<0?(D=b[0],j!=_&&(D=D*u+(b[1]||0)),d=D/O|0,d>1?(d>=u&&(d=u-1),f=n(k,d,u),v=f.length,_=b.length,c=r(f,b,v,_),c==1&&(d--,o(f,j<v?F:k,v,u))):(d==0&&(c=d=1),f=k.slice()),v=f.length,v<_&&f.unshift(0),o(b,f,_,u),c==-1&&(_=b.length,c=r(k,b,j,_),c<1&&(d++,o(b,j<_?F:k,_,u))),_=b.length):c===0&&(d++,b=[0]),w[y++]=d,c&&b[0]?b[_++]=B[E]||0:(b=[B[E]],_=1);while((E++<S||b[0]!==void 0)&&C--);p=b[0]!==void 0}w[0]||w.shift()}if(h==1)g.e=m,yE=p;else{for(y=1,d=w[0];d>=10;d/=10)y++;g.e=y+m*h-1,vt(g,l?s+g.e+1:s,a,p)}return g}}();function vt(n,r,o,t){var i,s,a,l,u,c,m,y,d,h=n.constructor;e:if(r!=null){if(y=n.d,!y)return n;for(i=1,l=y[0];l>=10;l/=10)i++;if(s=r-i,s<0)s+=xt,a=r,m=y[d=0],u=m/Kr(10,i-a-1)%10|0;else if(d=Math.ceil((s+1)/xt),l=y.length,d>=l)if(t){for(;l++<=d;)y.push(0);m=u=0,i=1,s%=xt,a=s-xt+1}else break e;else{for(m=l=y[d],i=1;l>=10;l/=10)i++;s%=xt,a=s-xt+i,u=a<0?0:m/Kr(10,i-a-1)%10|0}if(t=t||r<0||y[d+1]!==void 0||(a<0?m:m%Kr(10,i-a-1)),c=o<4?(u||t)&&(o==0||o==(n.s<0?3:2)):u>5||u==5&&(o==4||t||o==6&&(s>0?a>0?m/Kr(10,i-a):0:y[d-1])%10&1||o==(n.s<0?8:7)),r<1||!y[0])return y.length=0,c?(r-=n.e+1,y[0]=Kr(10,(xt-r%xt)%xt),n.e=-r||0):y[0]=n.e=0,n;if(s==0?(y.length=d,l=1,d--):(y.length=d+1,l=Kr(10,xt-s),y[d]=a>0?(m/Kr(10,i-a)%Kr(10,a)|0)*l:0),c)for(;;)if(d==0){for(s=1,a=y[0];a>=10;a/=10)s++;for(a=y[0]+=l,l=1;a>=10;a/=10)l++;s!=l&&(n.e++,y[0]==Eo&&(y[0]=1));break}else{if(y[d]+=l,y[d]!=Eo)break;y[d--]=0,l=1}for(s=y.length;y[--s]===0;)y.pop()}return Mt&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function Zo(n,r,o){if(!n.isFinite())return EE(n);var t,i=n.e,s=gn(n.d),a=s.length;return r?(o&&(t=o-a)>0?s=s.charAt(0)+"."+s.slice(1)+Wi(t):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+Wi(-i-1)+s,o&&(t=o-a)>0&&(s+=Wi(t))):i>=a?(s+=Wi(i+1-a),o&&(t=o-i-1)>0&&(s=s+"."+Wi(t))):((t=i+1)<a&&(s=s.slice(0,t)+"."+s.slice(t)),o&&(t=o-a)>0&&(i+1===a&&(s+="."),s+=Wi(t))),s}function If(n,r){var o=n[0];for(r*=xt;o>=10;o/=10)r++;return r}function Af(n,r,o){if(r>VR)throw Mt=!0,o&&(n.precision=o),Error(vE);return vt(new n(Mf),r,1,!0)}function Xo(n,r,o){if(r>Uy)throw Error(vE);return vt(new n(Tf),r,o,!0)}function xE(n){var r=n.length-1,o=r*xt+1;if(r=n[r],r){for(;r%10==0;r/=10)o--;for(r=n[0];r>=10;r/=10)o++}return o}function Wi(n){for(var r="";n--;)r+="0";return r}function DE(n,r,o,t){var i,s=new n(1),a=Math.ceil(t/xt+4);for(Mt=!1;;){if(o%2&&(s=s.times(r),mE(s.d,a)&&(i=!0)),o=Dn(o/2),o===0){o=s.d.length-1,i&&s.d[o]===0&&++s.d[o];break}r=r.times(r),mE(r.d,a)}return Mt=!0,s}function pE(n){return n.d[n.d.length-1]&1}function SE(n,r,o){for(var t,i,s=new n(r[0]),a=0;++a<r.length;){if(i=new n(r[a]),!i.s){s=i;break}t=s.cmp(i),(t===o||t===0&&s.s===o)&&(s=i)}return s}function Vy(n,r){var o,t,i,s,a,l,u,c=0,m=0,y=0,d=n.constructor,h=d.rounding,p=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(r==null?(Mt=!1,u=p):u=r,l=new d(.03125);n.e>-2;)n=n.times(l),y+=5;for(t=Math.log(Kr(2,y))/Math.LN10*2+5|0,u+=t,o=s=a=new d(1),d.precision=u;;){if(s=vt(s.times(n),u,1),o=o.times(++m),l=a.plus(gr(s,o,u,1)),gn(l.d).slice(0,u)===gn(a.d).slice(0,u)){for(i=y;i--;)a=vt(a.times(a),u,1);if(r==null)if(c<3&&Dl(a.d,u-t,h,c))d.precision=u+=10,o=s=l=new d(1),m=0,c++;else return vt(a,d.precision=p,h,Mt=!0);else return d.precision=p,a}a=l}}function $i(n,r){var o,t,i,s,a,l,u,c,m,y,d,h=1,p=10,f=n,v=f.d,g=f.constructor,w=g.rounding,b=g.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new g(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(r==null?(Mt=!1,m=b):m=r,g.precision=m+=p,o=gn(v),t=o.charAt(0),Math.abs(s=f.e)<15e14){for(;t<7&&t!=1||t==1&&o.charAt(1)>3;)f=f.times(n),o=gn(f.d),t=o.charAt(0),h++;s=f.e,t>1?(f=new g("0."+o),s++):f=new g(t+"."+o.slice(1))}else return c=Af(g,m+2,b).times(s+""),f=$i(new g(t+"."+o.slice(1)),m-p).plus(c),g.precision=b,r==null?vt(f,b,w,Mt=!0):f;for(y=f,u=a=f=gr(f.minus(1),f.plus(1),m,1),d=vt(f.times(f),m,1),i=3;;){if(a=vt(a.times(d),m,1),c=u.plus(gr(a,new g(i),m,1)),gn(c.d).slice(0,m)===gn(u.d).slice(0,m))if(u=u.times(2),s!==0&&(u=u.plus(Af(g,m+2,b).times(s+""))),u=gr(u,new g(h),m,1),r==null)if(Dl(u.d,m-p,w,l))g.precision=m+=p,c=a=f=gr(y.minus(1),y.plus(1),m,1),d=vt(f.times(f),m,1),i=l=1;else return vt(u,g.precision=b,w,Mt=!0);else return g.precision=b,u;u=c,i+=2}}function EE(n){return String(n.s*n.s/0)}function Cf(n,r){var o,t,i;for((o=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(o<0&&(o=t),o+=+r.slice(t+1),r=r.substring(0,t)):o<0&&(o=r.length),t=0;r.charCodeAt(t)===48;t++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(t,i),r){if(i-=t,n.e=o=o-t-1,n.d=[],t=(o+1)%xt,o<0&&(t+=xt),t<i){for(t&&n.d.push(+r.slice(0,t)),i-=xt;t<i;)n.d.push(+r.slice(t,t+=xt));r=r.slice(t),t=xt-r.length}else t-=i;for(;t--;)r+="0";n.d.push(+r),Mt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function GR(n,r){var o,t,i,s,a,l,u,c,m;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),_E.test(r))return Cf(n,r)}else if(r==="Infinity"||r==="NaN")return+r||(n.s=NaN),n.e=NaN,n.d=null,n;if(LR.test(r))o=16,r=r.toLowerCase();else if(PR.test(r))o=2;else if(BR.test(r))o=8;else throw Error(Yi+r);for(s=r.search(/p/i),s>0?(u=+r.slice(s+1),r=r.substring(2,s)):r=r.slice(2),s=r.indexOf("."),a=s>=0,t=n.constructor,a&&(r=r.replace(".",""),l=r.length,s=l-s,i=DE(t,new t(o),s,s*2)),c=Ef(r,o,Eo),m=c.length-1,s=m;c[s]===0;--s)c.pop();return s<0?new t(n.s*0):(n.e=If(c,m),n.d=c,Mt=!1,a&&(n=gr(n,i,l*4)),u&&(n=n.times(Math.abs(u)<54?Kr(2,u):Sl.pow(2,u))),Mt=!0,n)}function HR(n,r){var o,t=r.d.length;if(t<3)return r.isZero()?r:ru(n,2,r,r);o=1.4*Math.sqrt(t),o=o>16?16:o|0,r=r.times(1/Nf(5,o)),r=ru(n,2,r,r);for(var i,s=new n(5),a=new n(16),l=new n(20);o--;)i=r.times(r),r=r.times(s.plus(i.times(a.times(i).minus(l))));return r}function ru(n,r,o,t,i){var s,a,l,u,c=1,m=n.precision,y=Math.ceil(m/xt);for(Mt=!1,u=o.times(o),l=new n(t);;){if(a=gr(l.times(u),new n(r++*r++),m,1),l=i?t.plus(a):t.minus(a),t=gr(a.times(u),new n(r++*r++),m,1),a=l.plus(t),a.d[y]!==void 0){for(s=y;a.d[s]===l.d[s]&&s--;);if(s==-1)break}s=l,l=t,t=a,a=s,c++}return Mt=!0,a.d.length=y+1,a}function Nf(n,r){for(var o=n;--r;)o*=n;return o}function CE(n,r){var o,t=r.s<0,i=Xo(n,n.precision,1),s=i.times(.5);if(r=r.abs(),r.lte(s))return bi=t?4:1,r;if(o=r.divToInt(i),o.isZero())bi=t?3:2;else{if(r=r.minus(o.times(i)),r.lte(s))return bi=pE(o)?t?2:3:t?4:1,r;bi=pE(o)?t?1:4:t?3:2}return r.minus(i).abs()}function zy(n,r,o,t){var i,s,a,l,u,c,m,y,d,h=n.constructor,p=o!==void 0;if(p?(Fn(o,1,Xi),t===void 0?t=h.rounding:Fn(t,0,8)):(o=h.precision,t=h.rounding),!n.isFinite())m=EE(n);else{for(m=Zo(n),a=m.indexOf("."),p?(i=2,r==16?o=o*4-3:r==8&&(o=o*3-2)):i=r,a>=0&&(m=m.replace(".",""),d=new h(1),d.e=m.length-a,d.d=Ef(Zo(d),10,i),d.e=d.d.length),y=Ef(m,10,i),s=u=y.length;y[--u]==0;)y.pop();if(!y[0])m=p?"0p+0":"0";else{if(a<0?s--:(n=new h(n),n.d=y,n.e=s,n=gr(n,d,o,t,0,i),y=n.d,s=n.e,c=yE),a=y[o],l=i/2,c=c||y[o+1]!==void 0,c=t<4?(a!==void 0||c)&&(t===0||t===(n.s<0?3:2)):a>l||a===l&&(t===4||c||t===6&&y[o-1]&1||t===(n.s<0?8:7)),y.length=o,c)for(;++y[--o]>i-1;)y[o]=0,o||(++s,y.unshift(1));for(u=y.length;!y[u-1];--u);for(a=0,m="";a<u;a++)m+=Ly.charAt(y[a]);if(p){if(u>1)if(r==16||r==8){for(a=r==16?4:3,--u;u%a;u++)m+="0";for(y=Ef(m,i,r),u=y.length;!y[u-1];--u);for(a=1,m="1.";a<u;a++)m+=Ly.charAt(y[a])}else m=m.charAt(0)+"."+m.slice(1);m=m+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)m="0"+m;m="0."+m}else if(++s>u)for(s-=u;s--;)m+="0";else s<u&&(m=m.slice(0,s)+"."+m.slice(s))}m=(r==16?"0x":r==2?"0b":r==8?"0o":"")+m}return n.s<0?"-"+m:m}function mE(n,r){if(n.length>r)return n.length=r,!0}function qR(n){return new this(n).abs()}function WR(n){return new this(n).acos()}function $R(n){return new this(n).acosh()}function YR(n,r){return new this(n).plus(r)}function XR(n){return new this(n).asin()}function ZR(n){return new this(n).asinh()}function QR(n){return new this(n).atan()}function KR(n){return new this(n).atanh()}function JR(n,r){n=new this(n),r=new this(r);var o,t=this.precision,i=this.rounding,s=t+4;return!n.s||!r.s?o=new this(NaN):!n.d&&!r.d?(o=Xo(this,s,1).times(r.s>0?.25:.75),o.s=n.s):!r.d||n.isZero()?(o=r.s<0?Xo(this,t,i):new this(0),o.s=n.s):!n.d||r.isZero()?(o=Xo(this,s,1).times(.5),o.s=n.s):r.s<0?(this.precision=s,this.rounding=1,o=this.atan(gr(n,r,s,1)),r=Xo(this,s,1),this.precision=t,this.rounding=i,o=n.s<0?o.minus(r):o.plus(r)):o=this.atan(gr(n,r,s,1)),o}function eP(n){return new this(n).cbrt()}function tP(n){return vt(n=new this(n),n.e+1,2)}function rP(n,r,o){return new this(n).clamp(r,o)}function nP(n){if(!n||typeof n!="object")throw Error(jf+"Object expected");var r,o,t,i=n.defaults===!0,s=["precision",1,Xi,"rounding",0,8,"toExpNeg",-tu,0,"toExpPos",0,tu,"maxE",0,tu,"minE",-tu,0,"modulo",0,9];for(r=0;r<s.length;r+=3)if(o=s[r],i&&(this[o]=By[o]),(t=n[o])!==void 0)if(Dn(t)===t&&t>=s[r+1]&&t<=s[r+2])this[o]=t;else throw Error(Yi+o+": "+t);if(o="crypto",i&&(this[o]=By[o]),(t=n[o])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[o]=!0;else throw Error(bE);else this[o]=!1;else throw Error(Yi+o+": "+t);return this}function oP(n){return new this(n).cos()}function iP(n){return new this(n).cosh()}function ME(n){var r,o,t;function i(s){var a,l,u,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,gE(s)){c.s=s.s,Mt?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d);return}if(u=typeof s,u==="number"){if(s===0){c.s=1/s<0?-1:1,c.e=0,c.d=[0];return}if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(a=0,l=s;l>=10;l/=10)a++;Mt?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[s]):(c.e=a,c.d=[s]);return}if(s*0!==0){s||(c.s=NaN),c.e=NaN,c.d=null;return}return Cf(c,s.toString())}if(u==="string")return(l=s.charCodeAt(0))===45?(s=s.slice(1),c.s=-1):(l===43&&(s=s.slice(1)),c.s=1),_E.test(s)?Cf(c,s):GR(c,s);if(u==="bigint")return s<0?(s=-s,c.s=-1):c.s=1,Cf(c,s.toString());throw Error(Yi+s)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=nP,i.clone=ME,i.isDecimal=gE,i.abs=qR,i.acos=WR,i.acosh=$R,i.add=YR,i.asin=XR,i.asinh=ZR,i.atan=QR,i.atanh=KR,i.atan2=JR,i.cbrt=eP,i.ceil=tP,i.clamp=rP,i.cos=oP,i.cosh=iP,i.div=sP,i.exp=aP,i.floor=uP,i.hypot=lP,i.ln=cP,i.log=dP,i.log10=hP,i.log2=fP,i.max=pP,i.min=mP,i.mod=gP,i.mul=yP,i.pow=vP,i.random=bP,i.round=wP,i.sign=_P,i.sin=xP,i.sinh=DP,i.sqrt=SP,i.sub=EP,i.sum=CP,i.tan=MP,i.tanh=TP,i.trunc=AP,n===void 0&&(n={}),n&&n.defaults!==!0)for(t=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<t.length;)n.hasOwnProperty(o=t[r++])||(n[o]=this[o]);return i.config(n),i}function sP(n,r){return new this(n).div(r)}function aP(n){return new this(n).exp()}function uP(n){return vt(n=new this(n),n.e+1,3)}function lP(){var n,r,o=new this(0);for(Mt=!1,n=0;n<arguments.length;)if(r=new this(arguments[n++]),r.d)o.d&&(o=o.plus(r.times(r)));else{if(r.s)return Mt=!0,new this(1/0);o=r}return Mt=!0,o.sqrt()}function gE(n){return n instanceof Sl||n&&n.toStringTag===wE||!1}function cP(n){return new this(n).ln()}function dP(n,r){return new this(n).log(r)}function fP(n){return new this(n).log(2)}function hP(n){return new this(n).log(10)}function pP(){return SE(this,arguments,-1)}function mP(){return SE(this,arguments,1)}function gP(n,r){return new this(n).mod(r)}function yP(n,r){return new this(n).mul(r)}function vP(n,r){return new this(n).pow(r)}function bP(n){var r,o,t,i,s=0,a=new this(1),l=[];if(n===void 0?n=this.precision:Fn(n,1,Xi),t=Math.ceil(n/xt),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(t));s<t;)i=r[s],i>=429e7?r[s]=crypto.getRandomValues(new Uint32Array(1))[0]:l[s++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(t*=4);s<t;)i=r[s]+(r[s+1]<<8)+(r[s+2]<<16)+((r[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,s):(l.push(i%1e7),s+=4);s=t/4}else throw Error(bE);else for(;s<t;)l[s++]=Math.random()*1e7|0;for(t=l[--s],n%=xt,t&&n&&(i=Kr(10,xt-n),l[s]=(t/i|0)*i);l[s]===0;s--)l.pop();if(s<0)o=0,l=[0];else{for(o=-1;l[0]===0;o-=xt)l.shift();for(t=1,i=l[0];i>=10;i/=10)t++;t<xt&&(o-=xt-t)}return a.e=o,a.d=l,a}function wP(n){return vt(n=new this(n),n.e+1,this.rounding)}function _P(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function xP(n){return new this(n).sin()}function DP(n){return new this(n).sinh()}function SP(n){return new this(n).sqrt()}function EP(n,r){return new this(n).sub(r)}function CP(){var n=0,r=arguments,o=new this(r[n]);for(Mt=!1;o.s&&++n<r.length;)o=o.plus(r[n]);return Mt=!0,vt(o,this.precision,this.rounding)}function MP(n){return new this(n).tan()}function TP(n){return new this(n).tanh()}function AP(n){return vt(n=new this(n),n.e+1,1)}We[Symbol.for("nodejs.util.inspect.custom")]=We.toString;We[Symbol.toStringTag]="Decimal";var Sl=We.constructor=ME(By);Mf=new Sl(Mf);Tf=new Sl(Tf);var Gy=Sl;var jP="BigNumber",IP=["?on","config"],Hy=Le(jP,IP,n=>{var{on:r,config:o}=n,t=Gy.clone({precision:o.precision,modulo:Gy.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(i){return new t(i.value)},r&&r("config",function(i,s){i.precision!==s.precision&&t.config({precision:i.precision})}),t},{isClass:!0});var Sn=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},uo=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},NP=n=>{let r=Math.sin(.5*n);return-2*r*r},qy=function(n,r){return n=Math.abs(n),r=Math.abs(r),n<r&&([n,r]=[r,n]),n<1e8?Math.sqrt(n*n+r*r):(r/=n,n*Math.sqrt(1+r*r))},nu=function(){throw SyntaxError("Invalid Param")};function Wy(n,r){let o=Math.abs(n),t=Math.abs(r);return n===0?Math.log(t):r===0?Math.log(o):o<3e3&&t<3e3?Math.log(n*n+r*r)*.5:(n=n*.5,r=r*.5,.5*Math.log(n*n+r*r)+Math.LN2)}var OP={re:0,im:0},Rs=function(n,r){let o=OP;if(n==null)o.re=o.im=0;else if(r!==void 0)o.re=n,o.im=r;else switch(typeof n){case"object":if("im"in n&&"re"in n)o.re=n.re,o.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return ke.INFINITY;o.re=n.abs*Math.cos(n.arg),o.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return ke.INFINITY;o.re=n.r*Math.cos(n.phi),o.im=n.r*Math.sin(n.phi)}else n.length===2?(o.re=n[0],o.im=n[1]):nu();break;case"string":o.im=o.re=0;let t=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,s=0;t===null&&nu();for(let a=0;a<t.length;a++){let l=t[a];l===" "||l==="	"||l===`
`||(l==="+"?i++:l==="-"?s++:l==="i"||l==="I"?(i+s===0&&nu(),t[a+1]!==" "&&!isNaN(t[a+1])?(o.im+=parseFloat((s%2?"-":"")+t[a+1]),a++):o.im+=parseFloat((s%2?"-":"")+"1"),i=s=0):((i+s===0||isNaN(l))&&nu(),t[a+1]==="i"||t[a+1]==="I"?(o.im+=parseFloat((s%2?"-":"")+l),a++):o.re+=parseFloat((s%2?"-":"")+l),i=s=0))}i+s>0&&nu();break;case"number":o.im=0,o.re=n;break;default:nu()}return isNaN(o.re)||isNaN(o.im),o};function ke(n,r){if(!(this instanceof ke))return new ke(n,r);let o=Rs(n,r);this.re=o.re,this.im=o.im}ke.prototype={re:0,im:0,sign:function(){let n=qy(this.re,this.im);return new ke(this.re/n,this.im/n)},add:function(n,r){let o=Rs(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im));return t||i?t&&i?ke.NAN:ke.INFINITY:new ke(this.re+o.re,this.im+o.im)},sub:function(n,r){let o=Rs(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im));return t||i?t&&i?ke.NAN:ke.INFINITY:new ke(this.re-o.re,this.im-o.im)},mul:function(n,r){let o=Rs(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im)),s=this.re===0&&this.im===0,a=o.re===0&&o.im===0;return t&&a||i&&s?ke.NAN:t||i?ke.INFINITY:o.im===0&&this.im===0?new ke(this.re*o.re,0):new ke(this.re*o.re-this.im*o.im,this.re*o.im+this.im*o.re)},div:function(n,r){let o=Rs(n,r),t=this.isInfinite(),i=!(isFinite(o.re)&&isFinite(o.im)),s=this.re===0&&this.im===0,a=o.re===0&&o.im===0;if(s&&a||t&&i)return ke.NAN;if(a||t)return ke.INFINITY;if(s||i)return ke.ZERO;if(o.im===0)return new ke(this.re/o.re,this.im/o.re);if(Math.abs(o.re)<Math.abs(o.im)){let l=o.re/o.im,u=o.re*l+o.im;return new ke((this.re*l+this.im)/u,(this.im*l-this.re)/u)}else{let l=o.im/o.re,u=o.im*l+o.re;return new ke((this.re+this.im*l)/u,(this.im-this.re*l)/u)}},pow:function(n,r){let o=Rs(n,r),t=this.re===0&&this.im===0;if(o.re===0&&o.im===0)return ke.ONE;if(o.im===0){if(this.im===0&&this.re>0)return new ke(Math.pow(this.re,o.re),0);if(this.re===0)switch((o.re%4+4)%4){case 0:return new ke(Math.pow(this.im,o.re),0);case 1:return new ke(0,Math.pow(this.im,o.re));case 2:return new ke(-Math.pow(this.im,o.re),0);case 3:return new ke(0,-Math.pow(this.im,o.re))}}if(t&&o.re>0)return ke.ZERO;let s=Math.atan2(this.im,this.re),a=Wy(this.re,this.im),l=Math.exp(o.re*a-o.im*s),u=o.im*a+o.re*s;return new ke(l*Math.cos(u),l*Math.sin(u))},sqrt:function(){let n=this.re,r=this.im;if(r===0)return n>=0?new ke(Math.sqrt(n),0):new ke(0,Math.sqrt(-n));let o=qy(n,r),t=Math.sqrt(.5*(o+Math.abs(n))),i=Math.abs(r)/(2*t);return n>=0?new ke(t,r<0?-i:i):new ke(i,r<0?-t:t)},exp:function(){let n=Math.exp(this.re);return this.im===0?new ke(n,0):new ke(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){let n=this.re,r=this.im;return new ke(Math.expm1(n)*Math.cos(r)+NP(r),Math.exp(n)*Math.sin(r))},log:function(){let n=this.re,r=this.im;return r===0&&n>0?new ke(Math.log(n),0):new ke(Wy(n,r),Math.atan2(r,n))},abs:function(){return qy(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let n=this.re,r=this.im;return new ke(Math.sin(n)*Sn(r),Math.cos(n)*uo(r))},cos:function(){let n=this.re,r=this.im;return new ke(Math.cos(n)*Sn(r),-Math.sin(n)*uo(r))},tan:function(){let n=2*this.re,r=2*this.im,o=Math.cos(n)+Sn(r);return new ke(Math.sin(n)/o,uo(r)/o)},cot:function(){let n=2*this.re,r=2*this.im,o=Math.cos(n)-Sn(r);return new ke(-Math.sin(n)/o,uo(r)/o)},sec:function(){let n=this.re,r=this.im,o=.5*Sn(2*r)+.5*Math.cos(2*n);return new ke(Math.cos(n)*Sn(r)/o,Math.sin(n)*uo(r)/o)},csc:function(){let n=this.re,r=this.im,o=.5*Sn(2*r)-.5*Math.cos(2*n);return new ke(Math.sin(n)*Sn(r)/o,-Math.cos(n)*uo(r)/o)},asin:function(){let n=this.re,r=this.im,o=new ke(r*r-n*n+1,-2*n*r).sqrt(),t=new ke(o.re-r,o.im+n).log();return new ke(t.im,-t.re)},acos:function(){let n=this.re,r=this.im,o=new ke(r*r-n*n+1,-2*n*r).sqrt(),t=new ke(o.re-r,o.im+n).log();return new ke(Math.PI/2-t.im,t.re)},atan:function(){let n=this.re,r=this.im;if(n===0){if(r===1)return new ke(0,1/0);if(r===-1)return new ke(0,-1/0)}let o=n*n+(1-r)*(1-r),t=new ke((1-r*r-n*n)/o,-2*n/o).log();return new ke(-.5*t.im,.5*t.re)},acot:function(){let n=this.re,r=this.im;if(r===0)return new ke(Math.atan2(1,n),0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).atan():new ke(n!==0?n/0:0,r!==0?-r/0:0).atan()},asec:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(0,1/0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).acos():new ke(n!==0?n/0:0,r!==0?-r/0:0).acos()},acsc:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(Math.PI/2,1/0);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).asin():new ke(n!==0?n/0:0,r!==0?-r/0:0).asin()},sinh:function(){let n=this.re,r=this.im;return new ke(uo(n)*Math.cos(r),Sn(n)*Math.sin(r))},cosh:function(){let n=this.re,r=this.im;return new ke(Sn(n)*Math.cos(r),uo(n)*Math.sin(r))},tanh:function(){let n=2*this.re,r=2*this.im,o=Sn(n)+Math.cos(r);return new ke(uo(n)/o,Math.sin(r)/o)},coth:function(){let n=2*this.re,r=2*this.im,o=Sn(n)-Math.cos(r);return new ke(uo(n)/o,-Math.sin(r)/o)},csch:function(){let n=this.re,r=this.im,o=Math.cos(2*r)-Sn(2*n);return new ke(-2*uo(n)*Math.cos(r)/o,2*Sn(n)*Math.sin(r)/o)},sech:function(){let n=this.re,r=this.im,o=Math.cos(2*r)+Sn(2*n);return new ke(2*Sn(n)*Math.cos(r)/o,-2*uo(n)*Math.sin(r)/o)},asinh:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(0,0);let s=Math.abs(n),a=Math.log(s+Math.sqrt(s*s+1));return new ke(n<0?-a:a,0)}let o=n*n-r*r+1,t=2*n*r,i=new ke(o,t).sqrt();return new ke(n+i.re,r+i.im).log()},acosh:function(){let n=this.re,r=this.im;if(r===0){if(n>1)return new ke(Math.log(n+Math.sqrt(n-1)*Math.sqrt(n+1)),0);if(n<-1){let i=Math.sqrt(n*n-1);return new ke(Math.log(-n+i),Math.PI)}return new ke(0,Math.acos(n))}let o=new ke(n-1,r).sqrt(),t=new ke(n+1,r).sqrt();return new ke(n+o.re*t.re-o.im*t.im,r+o.re*t.im+o.im*t.re).log()},atanh:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(0,0);if(n===1)return new ke(1/0,0);if(n===-1)return new ke(-1/0,0);if(-1<n&&n<1)return new ke(.5*Math.log((1+n)/(1-n)),0);if(n>1){let u=(n+1)/(n-1);return new ke(.5*Math.log(u),-Math.PI/2)}let l=(1+n)/(1-n);return new ke(.5*Math.log(-l),Math.PI/2)}let o=1-n,t=1+n,i=o*o+r*r;if(i===0)return new ke(n!==-1?n/0:0,r!==0?r/0:0);let s=(t*o-r*r)/i,a=(r*o+t*r)/i;return new ke(Wy(s,a)/2,Math.atan2(a,s)/2)},acoth:function(){let n=this.re,r=this.im;if(n===0&&r===0)return new ke(0,Math.PI/2);let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).atanh():new ke(n!==0?n/0:0,r!==0?-r/0:0).atanh()},acsch:function(){let n=this.re,r=this.im;if(r===0){if(n===0)return new ke(1/0,0);let t=1/n;return new ke(Math.log(t+Math.sqrt(t*t+1)),0)}let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).asinh():new ke(n!==0?n/0:0,r!==0?-r/0:0).asinh()},asech:function(){let n=this.re,r=this.im;if(this.isZero())return ke.INFINITY;let o=n*n+r*r;return o!==0?new ke(n/o,-r/o).acosh():new ke(n!==0?n/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return ke.INFINITY;if(this.isInfinite())return ke.ZERO;let n=this.re,r=this.im,o=n*n+r*r;return new ke(n/o,-r/o)},conjugate:function(){return new ke(this.re,-this.im)},neg:function(){return new ke(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new ke(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new ke(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new ke(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,r){let o=Rs(n,r);return Math.abs(o.re-this.re)<=ke.EPSILON&&Math.abs(o.im-this.im)<=ke.EPSILON},clone:function(){return new ke(this.re,this.im)},toString:function(){let n=this.re,r=this.im,o="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<ke.EPSILON&&(n=0),Math.abs(r)<ke.EPSILON&&(r=0),r===0?o+n:(n!==0?(o+=n,o+=" ",r<0?(r=-r,o+="-"):o+="+",o+=" "):r<0&&(r=-r,o+="-"),r!==1&&(o+=r),o+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};ke.ZERO=new ke(0,0);ke.ONE=new ke(1,0);ke.I=new ke(0,1);ke.PI=new ke(Math.PI,0);ke.E=new ke(Math.E,0);ke.INFINITY=new ke(1/0,1/0);ke.NAN=new ke(NaN,NaN);ke.EPSILON=1e-15;var FP="Complex",kP=[],$y=Le(FP,kP,()=>(Object.defineProperty(ke,"name",{value:"Complex"}),ke.prototype.constructor=ke,ke.prototype.type="Complex",ke.prototype.isComplex=!0,ke.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ke.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ke.prototype.format=function(n){var r="",o=this.im,t=this.re,i=xl(this.re,n),s=xl(this.im,n),a=Rt(n)?n:n?n.precision:null;if(a!==null){var l=Math.pow(10,-a);Math.abs(t/o)<l&&(t=0),Math.abs(o/t)<l&&(o=0)}return o===0?r=i:t===0?o===1?r="i":o===-1?r="-i":r=s+"i":o<0?o===-1?r=i+" - i":r=i+" - "+s.substring(1)+"i":o===1?r=i+" + i":r=i+" + "+s+"i",r},ke.fromPolar=function(n){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return ke(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var o=arguments[0],t=arguments[1];if(Rt(o)){if(yf(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),Rt(t))return new ke({r:o,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ke.prototype.valueOf=ke.prototype.toString,ke.fromJSON=function(n){return new ke(n)},ke.compare=function(n,r){return n.re>r.re?1:n.re<r.re?-1:n.im>r.im?1:n.im<r.im?-1:0},ke),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});var yt=BigInt(0),Nt=BigInt(1),sn=BigInt(2),El=BigInt(3),iu=BigInt(5),kn=BigInt(10),DH=BigInt(Number.MAX_SAFE_INTEGER),RP=2e3,ot={s:Nt,n:yt,d:Nt};function wi(n,r){try{n=BigInt(n)}catch{throw Zi()}return n*r}function Co(n){return typeof n=="bigint"?n:Math.floor(n)}function Mr(n,r){if(r===yt)throw Yy();let o=Object.create(Hn.prototype);o.s=n<yt?-Nt:Nt,n=n<yt?-n:n;let t=Ps(n,r);return o.n=n/t,o.d=r/t,o}var PP=[sn*sn,sn,sn*sn,sn,sn*sn,sn*El,sn,sn*El];function ou(n){let r=Object.create(null);if(n<=Nt)return r[n]=Nt,r;let o=t=>{r[t]=(r[t]||yt)+Nt};for(;n%sn===yt;)o(sn),n/=sn;for(;n%El===yt;)o(El),n/=El;for(;n%iu===yt;)o(iu),n/=iu;for(let t=0,i=sn+iu;i*i<=n;){for(;n%i===yt;)o(i),n/=i;i+=PP[t],t=t+1&7}return n>Nt&&o(n),r}var on=function(n,r){let o=yt,t=Nt,i=Nt;if(n!=null)if(r!==void 0){if(typeof n=="bigint")o=n;else{if(isNaN(n))throw Zi();if(n%1!==0)throw TE();o=BigInt(n)}if(typeof r=="bigint")t=r;else{if(isNaN(r))throw Zi();if(r%1!==0)throw TE();t=BigInt(r)}i=o*t}else if(typeof n=="object"){if("d"in n&&"n"in n)o=BigInt(n.n),t=BigInt(n.d),"s"in n&&(o*=BigInt(n.s));else if(0 in n)o=BigInt(n[0]),1 in n&&(t=BigInt(n[1]));else if(typeof n=="bigint")o=n;else throw Zi();i=o*t}else if(typeof n=="number"){if(isNaN(n))throw Zi();if(n<0&&(i=-Nt,n=-n),n%1===0)o=BigInt(n);else{let s=1,a=0,l=1,u=1,c=1,m=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);l<=m&&c<=m;){let y=(a+u)/(l+c);if(n===y){l+c<=m?(o=a+u,t=l+c):c>l?(o=u,t=c):(o=a,t=l);break}else n>y?(a+=u,l+=c):(u+=a,c+=l),l>m?(o=u,t=c):(o=a,t=l)}o=BigInt(o)*BigInt(s),t=BigInt(t)}}else if(typeof n=="string"){let s=0,a=yt,l=yt,u=yt,c=Nt,m=Nt,y=n.replace(/_/g,"").match(/\d+|./g);if(y===null)throw Zi();if(y[s]==="-"?(i=-Nt,s++):y[s]==="+"&&s++,y.length===s+1?l=wi(y[s++],i):y[s+1]==="."||y[s]==="."?(y[s]!=="."&&(a=wi(y[s++],i)),s++,(s+1===y.length||y[s+1]==="("&&y[s+3]===")"||y[s+1]==="'"&&y[s+3]==="'")&&(l=wi(y[s],i),c=kn**BigInt(y[s].length),s++),(y[s]==="("&&y[s+2]===")"||y[s]==="'"&&y[s+2]==="'")&&(u=wi(y[s+1],i),m=kn**BigInt(y[s+1].length)-Nt,s+=3)):y[s+1]==="/"||y[s+1]===":"?(l=wi(y[s],i),c=wi(y[s+2],Nt),s+=3):y[s+3]==="/"&&y[s+1]===" "&&(a=wi(y[s],i),l=wi(y[s+2],i),c=wi(y[s+4],Nt),s+=5),y.length<=s)t=c*m,i=o=u+t*a+m*l;else throw Zi()}else if(typeof n=="bigint")o=n,i=n,t=Nt;else throw Zi();if(t===yt)throw Yy();ot.s=i<yt?-Nt:Nt,ot.n=o<yt?-o:o,ot.d=t<yt?-t:t};function LP(n,r,o){let t=Nt;for(;r>yt;n=n*n%o,r>>=Nt)r&Nt&&(t=t*n%o);return t}function BP(n,r){for(;r%sn===yt;r/=sn);for(;r%iu===yt;r/=iu);if(r===Nt)return yt;let o=kn%r,t=1;for(;o!==Nt;t++)if(o=o*kn%r,t>RP)return yt;return BigInt(t)}function UP(n,r,o){let t=Nt,i=LP(kn,o,r);for(let s=0;s<300;s++){if(t===i)return BigInt(s);t=t*kn%r,i=i*kn%r}return 0}function Ps(n,r){if(!n)return r;if(!r)return n;for(;;){if(n%=r,!n)return r;if(r%=n,!r)return n}}function Hn(n,r){if(on(n,r),this instanceof Hn)n=Ps(ot.d,ot.n),this.s=ot.s,this.n=ot.n/n,this.d=ot.d/n;else return Mr(ot.s*ot.n,ot.d)}var Yy=function(){return new Error("Division by Zero")},Zi=function(){return new Error("Invalid argument")},TE=function(){return new Error("Parameters must be integer")};Hn.prototype={s:Nt,n:yt,d:Nt,abs:function(){return Mr(this.n,this.d)},neg:function(){return Mr(-this.s*this.n,this.d)},add:function(n,r){return on(n,r),Mr(this.s*this.n*ot.d+ot.s*this.d*ot.n,this.d*ot.d)},sub:function(n,r){return on(n,r),Mr(this.s*this.n*ot.d-ot.s*this.d*ot.n,this.d*ot.d)},mul:function(n,r){return on(n,r),Mr(this.s*ot.s*this.n*ot.n,this.d*ot.d)},div:function(n,r){return on(n,r),Mr(this.s*ot.s*this.n*ot.d,this.d*ot.n)},clone:function(){return Mr(this.s*this.n,this.d)},mod:function(n,r){if(n===void 0)return Mr(this.s*this.n%this.d,Nt);if(on(n,r),yt===ot.n*this.d)throw Yy();return Mr(this.s*(ot.d*this.n)%(ot.n*this.d),ot.d*this.d)},gcd:function(n,r){return on(n,r),Mr(Ps(ot.n,this.n)*Ps(ot.d,this.d),ot.d*this.d)},lcm:function(n,r){return on(n,r),ot.n===yt&&this.n===yt?Mr(yt,Nt):Mr(ot.n*this.n,Ps(ot.n,this.n)*Ps(ot.d,this.d))},inverse:function(){return Mr(this.s*this.d,this.n)},pow:function(n,r){if(on(n,r),ot.d===Nt)return ot.s<yt?Mr((this.s*this.d)**ot.n,this.n**ot.n):Mr((this.s*this.n)**ot.n,this.d**ot.n);if(this.s<yt)return null;let o=ou(this.n),t=ou(this.d),i=Nt,s=Nt;for(let a in o)if(a!=="1"){if(a==="0"){i=yt;break}if(o[a]*=ot.n,o[a]%ot.d===yt)o[a]/=ot.d;else return null;i*=BigInt(a)**o[a]}for(let a in t)if(a!=="1"){if(t[a]*=ot.n,t[a]%ot.d===yt)t[a]/=ot.d;else return null;s*=BigInt(a)**t[a]}return ot.s<yt?Mr(s,i):Mr(i,s)},log:function(n,r){if(on(n,r),this.s<=yt||ot.s<=yt)return null;let o=Object.create(null),t=ou(ot.n),i=ou(ot.d),s=ou(this.n),a=ou(this.d);for(let c in i)t[c]=(t[c]||yt)-i[c];for(let c in a)s[c]=(s[c]||yt)-a[c];for(let c in t)c!=="1"&&(o[c]=!0);for(let c in s)c!=="1"&&(o[c]=!0);let l=null,u=null;for(let c in o){let m=t[c]||yt,y=s[c]||yt;if(m===yt){if(y!==yt)return null;continue}let d=y,h=m,p=Ps(d,h);if(d/=p,h/=p,l===null&&u===null)l=d,u=h;else if(d*u!==l*h)return null}return l!==null&&u!==null?Mr(l,u):null},equals:function(n,r){return on(n,r),this.s*this.n*ot.d===ot.s*ot.n*this.d},lt:function(n,r){return on(n,r),this.s*this.n*ot.d<ot.s*ot.n*this.d},lte:function(n,r){return on(n,r),this.s*this.n*ot.d<=ot.s*ot.n*this.d},gt:function(n,r){return on(n,r),this.s*this.n*ot.d>ot.s*ot.n*this.d},gte:function(n,r){return on(n,r),this.s*this.n*ot.d>=ot.s*ot.n*this.d},compare:function(n,r){on(n,r);let o=this.s*this.n*ot.d-ot.s*ot.n*this.d;return(yt<o)-(o<yt)},ceil:function(n){return n=kn**BigInt(n||0),Mr(Co(this.s*n*this.n/this.d)+(n*this.n%this.d>yt&&this.s>=yt?Nt:yt),n)},floor:function(n){return n=kn**BigInt(n||0),Mr(Co(this.s*n*this.n/this.d)-(n*this.n%this.d>yt&&this.s<yt?Nt:yt),n)},round:function(n){return n=kn**BigInt(n||0),Mr(Co(this.s*n*this.n/this.d)+this.s*((this.s>=yt?Nt:yt)+sn*(n*this.n%this.d)>this.d?Nt:yt),n)},roundTo:function(n,r){on(n,r);let o=this.n*ot.d,t=this.d*ot.n,i=o%t,s=Co(o/t);return i+i>=t&&s++,Mr(this.s*s*ot.n,ot.d)},divisible:function(n,r){return on(n,r),ot.n===yt?!1:this.n*ot.d%(ot.n*this.d)===yt},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n=15){let r=this.n,o=this.d,t=BP(r,o),i=UP(r,o,t),s=this.s<yt?"-":"";if(s+=Co(r/o),r%=o,r*=kn,r&&(s+="."),t){for(let a=i;a--;)s+=Co(r/o),r%=o,r*=kn;s+="(";for(let a=t;a--;)s+=Co(r/o),r%=o,r*=kn;s+=")"}else for(let a=n;r&&a--;)s+=Co(r/o),r%=o,r*=kn;return s},toFraction:function(n=!1){let r=this.n,o=this.d,t=this.s<yt?"-":"";if(o===Nt)t+=r;else{let i=Co(r/o);n&&i>yt&&(t+=i,t+=" ",r%=o),t+=r,t+="/",t+=o}return t},toLatex:function(n=!1){let r=this.n,o=this.d,t=this.s<yt?"-":"";if(o===Nt)t+=r;else{let i=Co(r/o);n&&i>yt&&(t+=i,r%=o),t+="\\frac{",t+=r,t+="}{",t+=o,t+="}"}return t},toContinued:function(){let n=this.n,r=this.d,o=[];for(;r;){o.push(Co(n/r));let t=n%r;n=r,r=t}return o},simplify:function(n=.001){let r=BigInt(Math.ceil(1/n)),o=this.abs(),t=o.toContinued();for(let i=1;i<t.length;i++){let s=Mr(t[i-1],Nt);for(let l=i-2;l>=0;l--)s=s.inverse().add(t[l]);let a=s.sub(o);if(a.n*r<a.d)return s.mul(this.s)}return this}};var VP="Fraction",zP=[],Xy=Le(VP,zP,()=>(Object.defineProperty(Hn,"name",{value:"Fraction"}),Hn.prototype.constructor=Hn,Hn.prototype.type="Fraction",Hn.prototype.isFraction=!0,Hn.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Hn.fromJSON=function(n){return new Hn(n)},Hn),{isClass:!0});var GP="Matrix",HP=[],Zy=Le(GP,HP,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(r,o){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(r,o,t){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(r,o,t){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(r,o){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(r,o){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(r,o){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function Qy(n,r,o){var t=n.constructor,i=new t(2),s="";if(o){if(o<1)throw new Error("size must be in greater than 0");if(!zt(o))throw new Error("size must be an integer");if(n.greaterThan(i.pow(o-1).sub(1))||n.lessThan(i.pow(o-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(o-1,", 2^").concat(o-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(o))),s="i".concat(o)}switch(r){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(r," not supported "))}}function IE(n,r){if(typeof r=="function")return r(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:o,precision:t,wordSize:i}=ky(r);switch(o){case"fixed":return WP(n,t);case"exponential":return AE(n,t);case"engineering":return qP(n,t);case"bin":return Qy(n,2,i);case"oct":return Qy(n,8,i);case"hex":return Qy(n,16,i);case"auto":{var s=jE(r?.lowerExp,-3),a=jE(r?.upperExp,5);if(n.isZero())return"0";var l,u=n.toSignificantDigits(t),c=u.e;return c>=s&&c<a?l=u.toFixed():l=AE(n,t),l.replace(/((\.\d*?)(0+))($|e)/,function(){var m=arguments[2],y=arguments[4];return m!=="."?m+y:y})}default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qP(n,r){var o=n.e,t=o%3===0?o:o<0?o-3-o%3:o-o%3,i=n.mul(Math.pow(10,-t)),s=i.toPrecision(r);if(s.includes("e")){var a=n.constructor;s=new a(s).toFixed()}return s+"e"+(o>=0?"+":"")+t.toString()}function AE(n,r){return r!==void 0?n.toExponential(r-1):n.toExponential()}function WP(n,r){return n.toFixed(r)}function jE(n,r){return Rt(n)?n:Ht(n)?n.toNumber():r}function Kt(n,r){var o=$P(n,r);return r&&typeof r=="object"&&"truncate"in r&&o.length>r.truncate?o.substring(0,r.truncate-3)+"...":o}function $P(n,r){if(typeof n=="number")return xl(n,r);if(Ht(n))return IE(n,r);if(YP(n))return!r||r.fraction!=="decimal"?"".concat(n.s*n.n,"/").concat(n.d):n.toString();if(Array.isArray(n))return FE(n,r);if(An(n))return NE(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(r);if(n&&n.toString(r)!=={}.toString())return n.toString(r);var o=Object.keys(n).map(t=>NE(t)+": "+Kt(n[t],r));return"{"+o.join(", ")+"}"}return String(n)}function NE(n){for(var r=String(n),o="",t=0;t<r.length;){var i=r.charAt(t);o+=i in OE?OE[i]:i,t++}return'"'+o+'"'}var OE={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function FE(n,r){if(Array.isArray(n)){for(var o="[",t=n.length,i=0;i<t;i++)i!==0&&(o+=", "),o+=FE(n[i],r);return o+="]",o}else return Kt(n,r)}function YP(n){return n&&typeof n=="object"&&typeof n.s=="bigint"&&typeof n.n=="bigint"&&typeof n.d=="bigint"||!1}function St(n,r,o){if(!(this instanceof St))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=r,this.relation=o,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}St.prototype=new RangeError;St.prototype.constructor=RangeError;St.prototype.name="DimensionError";St.prototype.isDimensionError=!0;function Mo(n,r,o){if(!(this instanceof Mo))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=o),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Mo.prototype=new RangeError;Mo.prototype.constructor=RangeError;Mo.prototype.name="IndexError";Mo.prototype.isIndexError=!0;function yr(n){for(var r=[];Array.isArray(n);)r.push(n.length),n=n[0];return r}function kE(n,r,o){var t,i=n.length;if(i!==r[o])throw new St(i,r[o]);if(o<r.length-1){var s=o+1;for(t=0;t<i;t++){var a=n[t];if(!Array.isArray(a))throw new St(r.length-1,r.length,"<");kE(n[t],r,s)}}else for(t=0;t<i;t++)if(Array.isArray(n[t]))throw new St(r.length+1,r.length,">")}function Jy(n,r){var o=r.length===0;if(o){if(Array.isArray(n))throw new St(n.length,0)}else kE(n,r,0)}function Tr(n,r){if(n!==void 0){if(!Rt(n)||!zt(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof r=="number"&&n>=r)throw new Mo(n,r)}}function _i(n,r,o){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!Rt(i)||!zt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Kt(r)+")")}),(Rt(n)||Ht(n))&&(n=[n]);var t=o!==void 0?o:0;return Ky(n,r,0,t),n}function Ky(n,r,o,t){var i,s,a=n.length,l=r[o],u=Math.min(a,l);if(n.length=l,o<r.length-1){var c=o+1;for(i=0;i<u;i++)s=n[i],Array.isArray(s)||(s=[s],n[i]=s),Ky(s,r,c,t);for(i=u;i<l;i++)s=[],n[i]=s,Ky(s,r,c,t)}else{for(i=0;i<u;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=u;i<l;i++)n[i]=t}}function Cl(n,r){var o=Ff(n,!0),t=o.length;if(!Array.isArray(n)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new St(0,t,"!=");r=Ml(r,t);var i=RE(r);if(t!==i)throw new St(i,t,"!=");try{return XP(o,r)}catch(s){throw s instanceof St?new St(i,t,"!="):s}}function Ml(n,r){var o=RE(n),t=n.slice(),i=-1,s=n.indexOf(i),a=n.indexOf(i,s+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var l=s>=0,u=r%o===0;if(l)if(u)t[s]=-r/o;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-o);return t}function RE(n){return n.reduce((r,o)=>r*o,1)}function XP(n,r){for(var o=n,t,i=r.length-1;i>0;i--){var s=r[i];t=[];for(var a=o.length/s,l=0;l<a;l++)t.push(o.slice(l*s,(l+1)*s));o=t}return o}function Of(n,r,o,t){var i=t||yr(n);if(o)for(var s=0;s<o;s++)n=[n],i.unshift(1);for(n=PE(n,r,0);i.length<r;)i.push(1);return n}function PE(n,r,o){var t,i;if(Array.isArray(n)){var s=o+1;for(t=0,i=n.length;t<i;t++)n[t]=PE(n[t],r,s)}else for(var a=o;a<r;a++)n=[n];return n}function Ff(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(n))return n;if(typeof r!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var o=[];return r?i(n):t(n),o;function t(s){for(var a=0;a<s.length;a++){var l=s[a];Array.isArray(l)?t(l):o.push(l)}}function i(s){if(Array.isArray(s[0]))for(var a=0;a<s.length;a++)i(s[a]);else for(var l=0;l<s.length;l++)o.push(s[l])}}function Tl(n,r){for(var o,t=0,i=0;i<n.length;i++){var s=n[i],a=Array.isArray(s);if(i===0&&a&&(t=s.length),a&&s.length!==t)return;var l=a?Tl(s,r):r(s);if(o===void 0)o=l;else if(o!==l)return"mixed"}return o}function LE(n,r,o,t){if(t<o){if(n.length!==r.length)throw new St(n.length,r.length);for(var i=[],s=0;s<n.length;s++)i[s]=LE(n[s],r[s],o,t+1);return i}else return n.concat(r)}function ev(){var n=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(o,t){return LE(o,t,r,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function su(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var t=r.map(d=>d.length),i=Math.max(...t),s=new Array(i).fill(null),a=0;a<r.length;a++)for(var l=r[a],u=t[a],c=0;c<u;c++){var m=i-u+c;l[c]>s[m]&&(s[m]=l[c])}for(var y=0;y<r.length;y++)BE(r[y],s);return s}function BE(n,r){for(var o=r.length,t=n.length,i=0;i<t;i++){var s=o-t+i;if(n[i]<r[s]&&n[i]>1||n[i]>r[s])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(t," with size ").concat(n[i]," to size ").concat(r[s]))}}function Qo(n,r){var o=yr(n);if(ao(o,r))return n;BE(o,r);var t=su(o,r),i=t.length,s=[...Array(i-o.length).fill(1),...o],a=QP(n);o.length<i&&(a=Cl(a,s),o=yr(a));for(var l=0;l<i;l++)o[l]<t[l]&&(a=ZP(a,t[l],l),o=yr(a));return a}function ZP(n,r,o){return ev(...Array(r).fill(n),o)}function Ls(n,r){if(!Array.isArray(n))throw new Error("Array expected");var o=yr(n);if(r.length!==o.length)throw new St(r.length,o.length);for(var t=0;t<r.length;t++)Tr(r[t],o[t]);return r.reduce((i,s)=>i[s],n)}function Al(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n.length===0)return[];if(o)return s(n);var t=[];return i(n,0);function i(a,l){if(Array.isArray(a)){for(var u=a.length,c=Array(u),m=0;m<u;m++)t[l]=m,c[m]=i(a[m],l+1);return c}else return r(a,t.slice(0,l),n)}function s(a){if(Array.isArray(a)){for(var l=a.length,u=Array(l),c=0;c<l;c++)u[c]=s(a[c]);return u}else return r(a)}}function UE(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n.length===0)return;if(o){s(n);return}var t=[];i(n,0);function i(a,l){if(Array.isArray(a))for(var u=a.length,c=0;c<u;c++)t[l]=c,i(a[c],l+1);else r(a,t.slice(0,l),n)}function s(a){if(Array.isArray(a))for(var l=a.length,u=0;u<l;u++)s(a[u]);else r(a)}}function QP(n){return Za([],n)}var tv=jh(Oy(),1);function Qi(n,r,o,t){if(tv.default.isTypedFunction(n)){var i;if(t)i=1;else{var s=r.isMatrix?r.size():yr(r),a=s.length?s[s.length-1]===0:!0;if(a)return{isUnary:t,fn:n};var l=s.map(()=>0),u=r.isMatrix?r.get(l):Ls(r,l);i=eL(n,u,l,r)}var c;if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var m=KP(n,i);c=m!==void 0?m:n}else c=n;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return VE(c,h.slice(0,i),o,n.name)}}:{isUnary:!1,fn:function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return VE(c,h,o,n.name)}}}return t===void 0?{isUnary:JP(n),fn:n}:{isUnary:t,fn:n}}function KP(n,r){var o=[];if(Object.entries(n.signatures).forEach(t=>{var[i,s]=t;i.split(",").length===r&&o.push(s)}),o.length===1)return o[0]}function JP(n){if(n.length!==1)return!1;var r=n.toString();if(/arguments/.test(r))return!1;var o=r.match(/\(.*?\)/);return!/\.\.\./.test(o)}function eL(n,r,o,t){for(var i=[r,o,t],s=3;s>0;s--){var a=i.slice(0,s);if(tv.default.resolve(n,a)!==null)return s}}function VE(n,r,o,t){try{return n(...r)}catch(i){tL(i,r,o,t)}}function tL(n,r,o,t){var i;if(n instanceof TypeError&&((i=n.data)===null||i===void 0?void 0:i.category)==="wrongType"){var s=[];throw s.push("value: ".concat(xn(r[0]))),r.length>=2&&s.push("index: ".concat(xn(r[1]))),r.length>=3&&s.push("array: ".concat(xn(r[2]))),new TypeError("Function ".concat(o," cannot apply callback arguments ")+"".concat(t,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(o," cannot apply callback arguments ")+"to function ".concat(t,": ").concat(n.message))}var rL="DenseMatrix",nL=["Matrix","config"],rv=Le(rL,nL,n=>{var{Matrix:r,config:o}=n;function t(y,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!An(d))throw new Error("Invalid datatype: "+d);if(Yt(y))y.type==="DenseMatrix"?(this._data=Qt(y._data),this._size=Qt(y._size),this._datatype=d||y._datatype):(this._data=y.toArray(),this._size=y.size(),this._datatype=d||y._datatype);else if(y&&Or(y.data)&&Or(y.size))this._data=y.data,this._size=y.size,Jy(this._data,this._size),this._datatype=d||y.datatype;else if(Or(y))this._data=m(y),this._size=yr(this._data),Jy(this._data,this._size),this._datatype=d;else{if(y)throw new TypeError("Unsupported type of data ("+xn(y)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new r,t.prototype.createDenseMatrix=function(y,d){return new t(y,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Tl(this._data,xn)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(y,d){return new t(y,d)},t.prototype.subset=function(y,d,h){switch(arguments.length){case 1:return i(this,y);case 2:case 3:return a(this,y,d,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(y){return Ls(this._data,y)},t.prototype.set=function(y,d,h){if(!Or(y))throw new TypeError("Array expected");if(y.length<this._size.length)throw new St(y.length,this._size.length,"<");var p,f,v,g=y.map(function(b){return b+1});c(this,g,h);var w=this._data;for(p=0,f=y.length-1;p<f;p++)v=y[p],Tr(v,w.length),w=w[v];return v=y[y.length-1],Tr(v,w.length),w[v]=d,this};function i(y,d){if(!Ka(d))throw new TypeError("Invalid index");var h=o.legacySubset?d.size().every(D=>D===1):d.isScalar();if(h)return y.get(d.min());var p=d.size();if(p.length!==y._size.length)throw new St(p.length,y._size.length);for(var f=d.min(),v=d.max(),g=0,w=y._size.length;g<w;g++)Tr(f[g],y._size[g]),Tr(v[g],y._size[g]);var b=new t,_=s(y._data,d);return b._size=_.size,b._datatype=y._datatype,b._data=_.data,o.legacySubset?b.reshape(d.size()):b}function s(y,d){var h=d.size().length-1,p=Array(h);return{data:f(y),size:p.filter(v=>v!==null)};function f(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=d.dimension(g);function b(_,D){return Rt(_)?D(_):_.map(D).valueOf()}return Rt(w)?p[g]=null:p[g]=w.size()[0],g<h?b(w,_=>(Tr(_,v.length),f(v[_],g+1))):b(w,_=>(Tr(_,v.length),v[_]))}}function a(y,d,h,p){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var f=d.size(),v=d.isScalar(),g;if(Yt(h)?(g=h.size(),h=h.valueOf()):g=yr(h),v){if(g.length!==0)throw new TypeError("Scalar expected");y.set(d.min(),h,p)}else{if(!ao(g,f)){if(g.length===0)h=Qo([h],f);else try{h=Qo(h,f)}catch{}g=yr(h)}if(f.length<y._size.length)throw new St(f.length,y._size.length,"<");if(g.length<f.length){for(var w=0,b=0;f[w]===1&&g[w]===1;)w++;for(;f[w]===1;)b++,w++;h=Of(h,f.length,b,g)}if(!ao(f,g))throw new St(f,g,">");var _=d.max().map(function(D){return D+1});c(y,_,p),l(y._data,d,h)}return y}function l(y,d,h){var p=d.size().length-1;f(y,h);function f(v,g){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=d.dimension(w),_=(C,M)=>{Tr(C,v.length),f(v[C],g[M[0]],w+1)},D=(C,M)=>{Tr(C,v.length),v[C]=g[M[0]]};w<p?Rt(b)?_(b,[0]):b.forEach(_):Rt(b)?D(b,[0]):b.forEach(D)}}t.prototype.resize=function(y,d,h){if(!vi(y))throw new TypeError("Array or Matrix expected");var p=y.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),f=h?this.clone():this;return u(f,p,d)};function u(y,d,h){if(d.length===0){for(var p=y._data;Or(p);)p=p[0];return p}return y._size=d.slice(0),y._data=_i(y._data,y._size,h),y}t.prototype.reshape=function(y,d){var h=d?this.clone():this;h._data=Cl(h._data,y);var p=h._size.reduce((f,v)=>f*v);return h._size=Ml(y,p),h};function c(y,d,h){for(var p=y._size.slice(0),f=!1;p.length<d.length;)p.push(0),f=!0;for(var v=0,g=d.length;v<g;v++)d[v]>p[v]&&(p[v]=d[v],f=!0);f&&u(y,p,h)}t.prototype.clone=function(){var y=new t({data:Qt(this._data),size:Qt(this._size),datatype:this._datatype});return y},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,f=p._size.length-1;if(f<0)return p.clone();var v=Qi(y,p,"map",h),g=v.fn,w=p.create(void 0,p._datatype);if(w._size=p._size,h||v.isUnary)return w._data=E(p._data),w;if(f===0){for(var b=p.valueOf(),_=Array(b.length),D=0;D<b.length;D++)_[D]=g(b[D],[D],p);return w._data=_,w}var C=[];return w._data=M(p._data),w;function M(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=Array(S.length);if(O<f)for(var F=0;F<S.length;F++)C[O]=F,j[F]=M(S[F],O+1);else for(var I=0;I<S.length;I++)C[O]=I,j[I]=g(S[I],C.slice(),p);return j}function E(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=Array(S.length);if(O<f)for(var F=0;F<S.length;F++)j[F]=E(S[F],O+1);else for(var I=0;I<S.length;I++)j[I]=g(S[I]);return j}},t.prototype.forEach=function(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,f=p._size.length-1;if(f<0)return;var v=Qi(y,p,"map",h),g=v.fn;if(h||v.isUnary){D(p._data);return}if(f===0){for(var w=0;w<p._data.length;w++)g(p._data[w],[w],p);return}var b=[];_(p._data);function _(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<f)for(var E=0;E<C.length;E++)b[M]=E,_(C[E],M+1);else for(var S=0;S<C.length;S++)b[M]=S,g(C[S],b.slice(),p)}function D(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<f)for(var E=0;E<C.length;E++)D(C[E],M+1);else for(var S=0;S<C.length;S++)g(C[S])}},t.prototype[Symbol.iterator]=function*(){var y=this._size.length-1;if(!(y<0)){if(y===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var h=Array(y+1).fill(0),p=this._size.reduce((b,_)=>b*_,1),f=0;f<p;f++){for(var v=this._data,g=0;g<y;g++)v=v[h[g]];yield{value:v[h[y]],index:h.slice()};for(var w=y;w>=0&&(h[w]++,!(h[w]<this._size[w]));w--)h[w]=0}}},t.prototype.rows=function(){var y=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var p of h)y.push(new t([p],this._datatype));return y},t.prototype.columns=function(){var y=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,f=function(w){var b=p.map(_=>[_[w]]);d.push(new t(b,y._datatype))},v=0;v<h[1];v++)f(v);return d},t.prototype.toArray=function(){return Qt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(y){return Kt(this._data,y)},t.prototype.toString=function(){return Kt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(y){if(y){if(Ht(y)&&(y=y.toNumber()),!Rt(y)||!zt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;for(var d=y>0?y:0,h=y<0?-y:0,p=this._size[0],f=this._size[1],v=Math.min(p-h,f-d),g=[],w=0;w<v;w++)g[w]=this._data[w+h][w+d];return new t({data:g,size:[v],datatype:this._datatype})},t.diagonal=function(y,d,h,p){if(!Or(y))throw new TypeError("Array expected, size parameter");if(y.length!==2)throw new Error("Only two dimensions matrix are supported");if(y=y.map(function(E){if(Ht(E)&&(E=E.toNumber()),!Rt(E)||!zt(E)||E<1)throw new Error("Size values must be positive integers");return E}),h){if(Ht(h)&&(h=h.toNumber()),!Rt(h)||!zt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var f=h>0?h:0,v=h<0?-h:0,g=y[0],w=y[1],b=Math.min(g-v,w-f),_;if(Or(d)){if(d.length!==b)throw new Error("Invalid value array length");_=function(S){return d[S]}}else if(Yt(d)){var D=d.size();if(D.length!==1||D[0]!==b)throw new Error("Invalid matrix length");_=function(S){return d.get([S])}}else _=function(){return d};p||(p=Ht(_(0))?_(0).mul(0):0);var C=[];if(y.length>0){C=_i(C,y,p);for(var M=0;M<b;M++)C[M+v][M+f]=_(M)}return new t({data:C,size:[g,w]})},t.fromJSON=function(y){return new t(y)},t.prototype.swapRows=function(y,d){if(!Rt(y)||!zt(y)||!Rt(d)||!zt(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Tr(y,this._size[0]),Tr(d,this._size[0]),t._swapRows(y,d,this._data),this},t._swapRows=function(y,d,h){var p=h[y];h[y]=h[d],h[d]=p};function m(y){return Yt(y)?m(y.valueOf()):Or(y)?y.map(m):y}return t},{isClass:!0});function zE(n){var r=n.length,o=n[0].length,t,i,s=[];for(i=0;i<o;i++){var a=[];for(t=0;t<r;t++)a.push(n[t][i]);s.push(a)}return s}function Rf(n){for(var r=0;r<n.length;r++)if(vi(n[r]))return!0;return!1}function Pf(n,r){Yt(n)?n.forEach(o=>r(o),!1,!0):UE(n,r,!0)}function an(n,r,o){if(!o)return Yt(n)?n.map(i=>r(i),!1,!0):Al(n,r,!0);var t=i=>i===0?i:r(i);return Yt(n)?n.map(i=>t(i),!1,!0):Al(n,t,!0)}function Lf(n,r,o){var t=Array.isArray(n)?yr(n):n.size();if(r<0||r>=t.length)throw new Mo(r,t.length);return Yt(n)?n.create(kf(n.valueOf(),r,o),n.datatype()):kf(n,r,o)}function kf(n,r,o){var t,i,s,a;if(r<=0)if(Array.isArray(n[0])){for(a=zE(n),i=[],t=0;t<a.length;t++)i[t]=kf(a[t],r-1,o);return i}else{for(s=n[0],t=1;t<n.length;t++)s=o(s,n[t]);return s}else{for(i=[],t=0;t<n.length;t++)i[t]=kf(n[t],r-1,o);return i}}var GE="isInteger",oL=["typed","equal"],nv=Le(GE,oL,n=>{var{typed:r,equal:o}=n;return r(GE,{number:t=>Number.isFinite(t)?o(t,Math.round(t)):!1,BigNumber:t=>t.isFinite()?o(t.round(),t):!1,bigint:t=>!0,Fraction:t=>t.d===1n,"Array | Matrix":r.referToSelf(t=>i=>an(i,t))})});var Rn="number",xi="number, number";function ov(n){return Math.abs(n)}ov.signature=Rn;function iv(n,r){return n+r}iv.signature=xi;function sv(n,r){return n-r}sv.signature=xi;function av(n,r){return n*r}av.signature=xi;function iL(n,r){return n/r}iL.signature=xi;function uv(n){return-n}uv.signature=Rn;function sL(n){return n}sL.signature=Rn;function aL(n){return uE(n)}aL.signature=Rn;function uL(n){return n*n*n}uL.signature=Rn;function lv(n){return Math.exp(n)}lv.signature=Rn;function lL(n){return lE(n)}lL.signature=Rn;function cL(n,r){if(!zt(n)||!zt(r))throw new Error("Parameters in function gcd must be integer numbers");for(var o;r!==0;)o=n%r,n=r,r=o;return n<0?-n:n}cL.signature=xi;function dL(n,r){if(!zt(n)||!zt(r))throw new Error("Parameters in function lcm must be integer numbers");if(n===0||r===0)return 0;for(var o,t=n*r;r!==0;)o=r,r=n%o,n=o;return Math.abs(t/n)}dL.signature=xi;function fL(n){return sE(n)}fL.signature=Rn;function hL(n){return iE(n)}hL.signature=Rn;function pL(n){return aE(n)}pL.signature=Rn;function mL(n,r){return r===0?n:n-r*Math.floor(n/r)}mL.signature=xi;function gL(n){return oE(n)}gL.signature=Rn;function yL(n){return Math.sqrt(n)}yL.signature=Rn;function vL(n){return n*n}vL.signature=Rn;function bL(n,r){var o,t,i,s=0,a=1,l=1,u=0;if(!zt(n)||!zt(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)t=Math.floor(n/r),i=n-t*r,o=s,s=a-t*s,a=o,o=l,l=u-t*l,u=o,n=r,r=i;var c;return n<0?c=[-n,-a,-u]:c=[n,n?a:0,u],c}bL.signature=xi;function wL(n,r){return n*n<1&&r===1/0||n*n>1&&r===-1/0?0:Math.pow(n,r)}wL.signature=xi;function _L(n){return Math.abs(n)}_L.signature=Rn;var jl="number";function xL(n){return zt(n)}xL.signature=jl;function DL(n){return n<0}DL.signature=jl;function SL(n){return n>0}SL.signature=jl;function EL(n){return n===0}EL.signature=jl;function cv(n){return Number.isNaN(n)}cv.signature=jl;function Bf(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(o<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return n.isNaN()||r.isNaN()?!1:!n.isFinite()||!r.isFinite()?n.eq(r):n.eq(r)?!0:n.minus(r).abs().lte(n.constructor.max(n.constructor.max(n.abs(),r.abs()).mul(o),t))}var HE="isZero",CL=["typed","equalScalar"],dv=Le(HE,CL,n=>{var{typed:r,equalScalar:o}=n;return r(HE,{"number | BigNumber | Complex | Fraction":t=>o(t,0),bigint:t=>t===0n,Unit:r.referToSelf(t=>i=>r.find(t,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(t=>i=>an(i,t))})});var qE="isNaN",ML=["typed"],fv=Le(qE,ML,n=>{var{typed:r}=n;return r(qE,{number:cv,BigNumber:function(t){return t.isNaN()},bigint:function(t){return!1},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":r.referToSelf(o=>t=>an(t,o))})});function WE(n,r,o,t){return qi(n.re,r.re,o,t)&&qi(n.im,r.im,o,t)}var Uf=Le("compareUnits",["typed"],n=>{var{typed:r}=n;return{"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(!t.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(o,[t.valueType(),i.valueType()])(t.value,i.value)})}});var Vf="equalScalar",TL=["typed","config"],hv=Le(Vf,TL,n=>{var{typed:r,config:o}=n,t=Uf({typed:r});return r(Vf,{"boolean, boolean":function(s,a){return s===a},"number, number":function(s,a){return qi(s,a,o.relTol,o.absTol)},"BigNumber, BigNumber":function(s,a){return s.eq(a)||Bf(s,a,o.relTol,o.absTol)},"bigint, bigint":function(s,a){return s===a},"Fraction, Fraction":function(s,a){return s.equals(a)},"Complex, Complex":function(s,a){return WE(s,a,o.relTol,o.absTol)}},t)}),kq=Le(Vf,["typed","config"],n=>{var{typed:r,config:o}=n;return r(Vf,{"number, number":function(i,s){return qi(i,s,o.relTol,o.absTol)}})});var AL="SparseMatrix",jL=["typed","equalScalar","Matrix"],pv=Le(AL,jL,n=>{var{typed:r,equalScalar:o,Matrix:t}=n;function i(f,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!An(v))throw new Error("Invalid datatype: "+v);if(Yt(f))s(this,f,v);else if(f&&Or(f.index)&&Or(f.ptr)&&Or(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(Or(f))a(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+xn(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function s(f,v,g){v.type==="SparseMatrix"?(f._values=v._values?Qt(v._values):void 0,f._index=Qt(v._index),f._ptr=Qt(v._ptr),f._size=Qt(v._size),f._datatype=g||v._datatype):a(f,v.valueOf(),g||v._datatype)}function a(f,v,g){f._values=[],f._index=[],f._ptr=[],f._datatype=g;var w=v.length,b=0,_=o,D=0;if(An(g)&&(_=r.find(o,[g,g])||o,D=r.convert(0,g)),w>0){var C=0;do{f._ptr.push(f._index.length);for(var M=0;M<w;M++){var E=v[M];if(Or(E)){if(C===0&&b<E.length&&(b=E.length),C<E.length){var S=E[C];_(S,D)||(f._values.push(S),f._index.push(M))}}else C===0&&b<1&&(b=1),_(E,D)||(f._values.push(E),f._index.push(M))}C++}while(C<b)}for(;f._ptr.length<=b;)f._ptr.push(f._index.length);f._size=[w,b]}i.prototype=new t,i.prototype.createSparseMatrix=function(f,v){return new i(f,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Tl(this._values,xn)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,v){return new i(f,v)},i.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},i.prototype.subset=function(f,v,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,f);case 2:case 3:return u(this,f,v,g);default:throw new SyntaxError("Wrong number of arguments")}};function l(f,v){if(!Ka(v))throw new TypeError("Invalid index");var g=v.isScalar();if(g)return f.get(v.min());var w=v.size();if(w.length!==f._size.length)throw new St(w.length,f._size.length);var b,_,D,C,M=v.min(),E=v.max();for(b=0,_=f._size.length;b<_;b++)Tr(M[b],f._size[b]),Tr(E[b],f._size[b]);var S=f._values,O=f._index,j=f._ptr,F=v.dimension(0),I=v.dimension(1),L=[],B=[];function k(Q,ue){B[Q]=ue[0],L[Q]=!0}Number.isInteger(F)?k(F,[0]):F.forEach(k);var q=S?[]:void 0,G=[],V=[];function W(Q){for(V.push(G.length),D=j[Q],C=j[Q+1];D<C;D++)b=O[D],L[b]===!0&&(G.push(B[b]),q&&q.push(S[D]))}return Number.isInteger(I)?W(I):I.forEach(W),V.push(G.length),new i({values:q,index:G,ptr:V,size:w,datatype:f._datatype})}function u(f,v,g,w){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var b=v.size(),_=v.isScalar(),D;if(Yt(g)?(D=g.size(),g=g.toArray()):D=yr(g),_){if(D.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),g,w)}else{if(b.length!==1&&b.length!==2)throw new St(b.length,f._size.length,"<");if(D.length<b.length){for(var C=0,M=0;b[C]===1&&D[C]===1;)C++;for(;b[C]===1;)M++,C++;g=Of(g,b.length,M,D)}if(!ao(b,D))throw new St(b,D,">");if(b.length===1){var E=v.dimension(0);j(E,(F,I)=>{Tr(F),f.set([F,0],g[I[0]],w)})}else{var S=v.dimension(0),O=v.dimension(1);j(S,(F,I)=>{Tr(F),j(O,(L,B)=>{Tr(L),f.set([F,L],g[I[0]][B[0]],w)})})}}return f;function j(F,I){Rt(F)?I(F,[0]):F.forEach(I)}}i.prototype.get=function(f){if(!Or(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new St(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],g=f[1];Tr(v,this._size[0]),Tr(g,this._size[1]);var w=c(v,this._ptr[g],this._ptr[g+1],this._index);return w<this._ptr[g+1]&&this._index[w]===v?this._values[w]:0},i.prototype.set=function(f,v,g){if(!Or(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new St(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=f[0],b=f[1],_=this._size[0],D=this._size[1],C=o,M=0;An(this._datatype)&&(C=r.find(o,[this._datatype,this._datatype])||o,M=r.convert(0,this._datatype)),(w>_-1||b>D-1)&&(d(this,Math.max(w+1,_),Math.max(b+1,D),g),_=this._size[0],D=this._size[1]),Tr(w,_),Tr(b,D);var E=c(w,this._ptr[b],this._ptr[b+1],this._index);return E<this._ptr[b+1]&&this._index[E]===w?C(v,M)?m(E,b,this._values,this._index,this._ptr):this._values[E]=v:C(v,M)||y(E,w,b,v,this._values,this._index,this._ptr),this};function c(f,v,g,w){if(g-v===0)return g;for(var b=v;b<g;b++)if(w[b]===f)return b;return v}function m(f,v,g,w,b){g.splice(f,1),w.splice(f,1);for(var _=v+1;_<b.length;_++)b[_]--}function y(f,v,g,w,b,_,D){b.splice(f,0,w),_.splice(f,0,v);for(var C=g+1;C<D.length;C++)D[C]++}i.prototype.resize=function(f,v,g){if(!vi(f))throw new TypeError("Array or Matrix expected");var w=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(_){if(!Rt(_)||!zt(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Kt(w)+")")});var b=g?this.clone():this;return d(b,w[0],w[1],v)};function d(f,v,g,w){var b=w||0,_=o,D=0;An(f._datatype)&&(_=r.find(o,[f._datatype,f._datatype])||o,D=r.convert(0,f._datatype),b=r.convert(b,f._datatype));var C=!_(b,D),M=f._size[0],E=f._size[1],S,O,j;if(g>E){for(O=E;O<g;O++)if(f._ptr[O]=f._values.length,C)for(S=0;S<M;S++)f._values.push(b),f._index.push(S);f._ptr[g]=f._values.length}else g<E&&(f._ptr.splice(g+1,E-g),f._values.splice(f._ptr[g],f._values.length),f._index.splice(f._ptr[g],f._index.length));if(E=g,v>M){if(C){var F=0;for(O=0;O<E;O++){f._ptr[O]=f._ptr[O]+F,j=f._ptr[O+1]+F;var I=0;for(S=M;S<v;S++,I++)f._values.splice(j+I,0,b),f._index.splice(j+I,0,S),F++}f._ptr[E]=f._values.length}}else if(v<M){var L=0;for(O=0;O<E;O++){f._ptr[O]=f._ptr[O]-L;var B=f._ptr[O],k=f._ptr[O+1]-L;for(j=B;j<k;j++)S=f._index[j],S>v-1&&(f._values.splice(j,1),f._index.splice(j,1),L++)}f._ptr[O]=f._values.length}return f._size[0]=v,f._size[1]=g,f}i.prototype.reshape=function(f,v){if(!Or(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(V){if(!Rt(V)||!zt(V)||V<=-2||V===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Kt(f)+")")});var g=this._size[0]*this._size[1];f=Ml(f,g);var w=f[0]*f[1];if(g!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var _=[],D=0;D<b._ptr.length;D++)for(var C=0;C<b._ptr[D+1]-b._ptr[D];C++)_.push(D);for(var M=b._values.slice(),E=b._index.slice(),S=0;S<b._index.length;S++){var O=E[S],j=_[S],F=O*b._size[1]+j;_[S]=F%f[1],E[S]=Math.floor(F/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var I=0;I<b._ptr.length;I++)b._ptr[I]=0;for(var L=0;L<M.length;L++){var B=E[L],k=_[L],q=M[L],G=c(B,b._ptr[k],b._ptr[k+1],b._index);y(G,B,k,q,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var f=new i({values:this._values?Qt(this._values):void 0,index:Qt(this._index),ptr:Qt(this._ptr),size:Qt(this._size),datatype:this._datatype});return f},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,w=this._size[0],b=this._size[1],_=Qi(f,g,"map"),D=function(M,E,S){return _.fn(M,[E,S],g)};return h(this,0,w-1,0,b-1,D,v)};function h(f,v,g,w,b,_,D){var C=[],M=[],E=[],S=o,O=0;An(f._datatype)&&(S=r.find(o,[f._datatype,f._datatype])||o,O=r.convert(0,f._datatype));for(var j=function(P,A,U){var H=_(P,A,U);S(H,O)||(C.push(H),M.push(A))},F=w;F<=b;F++){E.push(C.length);var I=f._ptr[F],L=f._ptr[F+1];if(D)for(var B=I;B<L;B++){var k=f._index[B];k>=v&&k<=g&&j(f._values[B],k-v,F-w)}else{for(var q={},G=I;G<L;G++){var V=f._index[G];q[V]=f._values[G]}for(var W=v;W<=g;W++){var Q=W in q?q[W]:0;j(Q,W-v,F-w)}}}return E.push(C.length),new i({values:C,index:M,ptr:E,size:[g-v+1,b-w+1]})}i.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,w=this._size[0],b=this._size[1],_=Qi(f,g,"forEach"),D=0;D<b;D++){var C=this._ptr[D],M=this._ptr[D+1];if(v)for(var E=C;E<M;E++){var S=this._index[E];_.fn(this._values[E],[S,D],g)}else{for(var O={},j=C;j<M;j++){var F=this._index[j];O[F]=this._values[j]}for(var I=0;I<w;I++){var L=I in O?O[I]:0;_.fn(L,[I,D],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var g=this._ptr[v],w=this._ptr[v+1],b=g;b<w;b++){var _=this._index[b];yield{value:this._values[b],index:[_,v]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(f,v,g,w,b){var _=w[0],D=w[1],C=[],M,E;for(M=0;M<_;M++)for(C[M]=[],E=0;E<D;E++)C[M][E]=0;for(E=0;E<D;E++)for(var S=g[E],O=g[E+1],j=S;j<O;j++)M=v[j],C[M][E]=f?b?Qt(f[j]):f[j]:1;return C}return i.prototype.format=function(f){for(var v=this._size[0],g=this._size[1],w=this.density(),b="Sparse Matrix ["+Kt(v,f)+" x "+Kt(g,f)+"] density: "+Kt(w,f)+`
`,_=0;_<g;_++)for(var D=this._ptr[_],C=this._ptr[_+1],M=D;M<C;M++){var E=this._index[M];b+=`
    (`+Kt(E,f)+", "+Kt(_,f)+") ==> "+(this._values?Kt(this._values[M],f):"X")}return b},i.prototype.toString=function(){return Kt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Ht(f)&&(f=f.toNumber()),!Rt(f)||!zt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,g=f<0?-f:0,w=this._size[0],b=this._size[1],_=Math.min(w-g,b-v),D=[],C=[],M=[];M[0]=0;for(var E=v;E<b&&D.length<_;E++)for(var S=this._ptr[E],O=this._ptr[E+1],j=S;j<O;j++){var F=this._index[j];if(F===E-v+g){D.push(this._values[j]),C[D.length-1]=F-g;break}}return M.push(D.length),new i({values:D,index:C,ptr:M,size:[_,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,v,g,w,b){if(!Or(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(V){if(Ht(V)&&(V=V.toNumber()),!Rt(V)||!zt(V)||V<1)throw new Error("Size values must be positive integers");return V}),g){if(Ht(g)&&(g=g.toNumber()),!Rt(g)||!zt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=o,D=0;An(b)&&(_=r.find(o,[b,b])||o,D=r.convert(0,b));var C=g>0?g:0,M=g<0?-g:0,E=f[0],S=f[1],O=Math.min(E-M,S-C),j;if(Or(v)){if(v.length!==O)throw new Error("Invalid value array length");j=function(W){return v[W]}}else if(Yt(v)){var F=v.size();if(F.length!==1||F[0]!==O)throw new Error("Invalid matrix length");j=function(W){return v.get([W])}}else j=function(){return v};for(var I=[],L=[],B=[],k=0;k<S;k++){B.push(I.length);var q=k-C;if(q>=0&&q<O){var G=j(q);_(G,D)||(L.push(q+M),I.push(G))}}return B.push(I.length),new i({values:I,index:L,ptr:B,size:[E,S]})},i.prototype.swapRows=function(f,v){if(!Rt(f)||!zt(f)||!Rt(v)||!zt(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Tr(f,this._size[0]),Tr(v,this._size[0]),i._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,v,g,w,b){for(var _=w[f],D=w[f+1],C=_;C<D;C++)b(g[C],v[C])},i._swapRows=function(f,v,g,w,b,_){for(var D=0;D<g;D++){var C=_[D],M=_[D+1],E=c(f,C,M,b),S=c(v,C,M,b);if(E<M&&S<M&&b[E]===f&&b[S]===v){if(w){var O=w[E];w[E]=w[S],w[S]=O}continue}if(E<M&&b[E]===f&&(S>=M||b[S]!==v)){var j=w?w[E]:void 0;b.splice(S,0,v),w&&w.splice(S,0,j),b.splice(S<=E?E+1:E,1),w&&w.splice(S<=E?E+1:E,1);continue}if(S<M&&b[S]===v&&(E>=M||b[E]!==f)){var F=w?w[S]:void 0;b.splice(E,0,f),w&&w.splice(E,0,F),b.splice(E<=S?S+1:S,1),w&&w.splice(E<=S?S+1:S,1)}}},i},{isClass:!0});var IL="number",NL=["typed"];function OL(n){var r=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var o={"0b":2,"0o":8,"0x":16}[r[1]],t=r[2],i=r[3];return{input:n,radix:o,integerPart:t,fractionalPart:i}}else return null}function FL(n){for(var r=parseInt(n.integerPart,n.radix),o=0,t=0;t<n.fractionalPart.length;t++){var i=parseInt(n.fractionalPart[t],n.radix);o+=i/Math.pow(n.radix,t+1)}var s=r+o;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}var mv=Le(IL,NL,n=>{var{typed:r}=n,o=r("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var s=OL(i);if(s)return FL(s);var a=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(a=Number(l[2]),i=l[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(l){if(u>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(a-1)&&(u=u-2**a)}return u},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":r.referToSelf(t=>i=>an(i,t))});return o.fromJSON=function(t){return parseFloat(t.value)},o});var kL="bignumber",RL=["typed","BigNumber"],gv=Le(kL,RL,n=>{var{typed:r,BigNumber:o}=n;return r("bignumber",{"":function(){return new o(0)},number:function(i){return new o(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var a=s[2],l=o(s[1]),u=new o(2).pow(Number(a));if(l.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new o(2).pow(Number(a)-1);return l.gte(c)?l.sub(u):l}return new o(i)},BigNumber:function(i){return i},bigint:function(i){return new o(i.toString())},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),Fraction:function(i){return new o(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new o(0)},"Array | Matrix":r.referToSelf(t=>i=>an(i,t))})});var PL="fraction",LL=["typed","Fraction"],yv=Le(PL,LL,n=>{var{typed:r,Fraction:o}=n;return r("fraction",{number:function(i){if(!Number.isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new o(i)},string:function(i){return new o(i)},"number, number":function(i,s){return new o(i,s)},"bigint, bigint":function(i,s){return new o(i,s)},null:function(i){return new o(0)},BigNumber:function(i){return new o(i.toString())},bigint:function(i){return new o(i.toString())},Fraction:function(i){return i},Unit:r.referToSelf(t=>i=>{var s=i.clone();return s.value=t(i.value),s}),Object:function(i){return new o(i)},"Array | Matrix":r.referToSelf(t=>i=>an(i,t))})});var $E="matrix",BL=["typed","Matrix","DenseMatrix","SparseMatrix"],vv=Le($E,BL,n=>{var{typed:r,Matrix:o,DenseMatrix:t,SparseMatrix:i}=n;return r($E,{"":function(){return s([])},string:function(l){return s([],l)},"string, string":function(l,u){return s([],l,u)},Array:function(l){return s(l)},Matrix:function(l){return s(l,l.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(a,l,u){if(l==="dense"||l==="default"||l===void 0)return new t(a,u);if(l==="sparse")return new i(a,u);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var YE="unaryMinus",UL=["typed"],bv=Le(YE,UL,n=>{var{typed:r}=n;return r(YE,{number:uv,"Complex | BigNumber | Fraction":o=>o.neg(),bigint:o=>-o,Unit:r.referToSelf(o=>t=>{var i=t.clone();return i.value=r.find(o,i.valueType())(t.value),i}),"Array | Matrix":r.referToSelf(o=>t=>an(t,o,!0))})});var XE="abs",VL=["typed"],wv=Le(XE,VL,n=>{var{typed:r}=n;return r(XE,{number:ov,"Complex | BigNumber | Fraction | Unit":o=>o.abs(),bigint:o=>o<0n?-o:o,"Array | Matrix":r.referToSelf(o=>t=>an(t,o,!0))})});var ZE="addScalar",zL=["typed"],_v=Le(ZE,zL,n=>{var{typed:r}=n;return r(ZE,{"number, number":iv,"Complex, Complex":function(t,i){return t.add(i)},"BigNumber, BigNumber":function(t,i){return t.plus(i)},"bigint, bigint":function(t,i){return t+i},"Fraction, Fraction":function(t,i){return t.add(i)},"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(o,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})});var QE="subtractScalar",GL=["typed"],xv=Le(QE,GL,n=>{var{typed:r}=n;return r(QE,{"number, number":sv,"Complex, Complex":function(t,i){return t.sub(i)},"BigNumber, BigNumber":function(t,i){return t.minus(i)},"bigint, bigint":function(t,i){return t-i},"Fraction, Fraction":function(t,i){return t.sub(i)},"Unit, Unit":r.referToSelf(o=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(o,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})});var HL="matAlgo11xS0s",qL=["typed","equalScalar"],au=Le(HL,qL,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a,l){var u=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=o,g=0,w=a;typeof d=="string"&&(f=d,v=r.find(o,[f,f]),g=r.convert(0,f),s=r.convert(s,f),w=r.find(a,[f,f]));for(var b=[],_=[],D=[],C=0;C<p;C++){D[C]=_.length;for(var M=m[C],E=m[C+1],S=M;S<E;S++){var O=c[S],j=l?w(s,u[S]):w(u[S],s);v(j,g)||(_.push(O),b.push(j))}}return D[p]=_.length,i.createSparseMatrix({values:b,index:_,ptr:D,size:[h,p],datatype:f})}});var WL="matAlgo12xSfs",$L=["typed","DenseMatrix"],uu=Le(WL,$L,n=>{var{typed:r,DenseMatrix:o}=n;return function(i,s,a,l){var u=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=a;typeof d=="string"&&(f=d,s=r.convert(s,f),v=r.find(a,[f,f]));for(var g=[],w=[],b=[],_=0;_<p;_++){for(var D=_+1,C=m[_],M=m[_+1],E=C;E<M;E++){var S=c[E];w[S]=u[E],b[S]=D}for(var O=0;O<h;O++)_===0&&(g[O]=[]),b[O]===D?g[O][_]=l?v(s,w[O]):v(w[O],s):g[O][_]=l?v(s,0):v(0,s)}return new o({data:g,size:[h,p],datatype:f})}});var YL="matAlgo14xDs",XL=["typed"],lu=Le(YL,XL,n=>{var{typed:r}=n;return function(i,s,a,l){var u=i._data,c=i._size,m=i._datatype,y,d=a;typeof m=="string"&&(y=m,s=r.convert(s,y),d=r.find(a,[y,y]));var h=c.length>0?o(d,0,c,c[0],u,s,l):[];return i.createDenseMatrix({data:h,size:Qt(c),datatype:y})};function o(t,i,s,a,l,u,c){var m=[];if(i===s.length-1)for(var y=0;y<a;y++)m[y]=c?t(u,l[y]):t(l[y],u);else for(var d=0;d<a;d++)m[d]=o(t,i+1,s,s[i+1],l[d],u,c);return m}});var KE="exp",ZL=["typed"],Dv=Le(KE,ZL,n=>{var{typed:r}=n;return r(KE,{number:lv,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()}})});var QL="matAlgo02xDS0",KL=["typed","equalScalar"],JE=Le(QL,KL,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a,l){var u=i._data,c=i._size,m=i._datatype||i.getDataType(),y=s._values,d=s._index,h=s._ptr,p=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new St(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!y)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],g=c[1],w,b=o,_=0,D=a;typeof m=="string"&&m===f&&m!=="mixed"&&(w=m,b=r.find(o,[w,w]),_=r.convert(0,w),D=r.find(a,[w,w]));for(var C=[],M=[],E=[],S=0;S<g;S++){E[S]=M.length;for(var O=h[S],j=h[S+1],F=O;F<j;F++){var I=d[F],L=l?D(y[F],u[I][S]):D(u[I][S],y[F]);b(L,_)||(M.push(I),C.push(L))}}return E[g]=M.length,s.createSparseMatrix({values:C,index:M,ptr:E,size:[v,g],datatype:m===i._datatype&&f===s._datatype?w:void 0})}});var JL="matAlgo03xDSf",e3=["typed"],cu=Le(JL,e3,n=>{var{typed:r}=n;return function(t,i,s,a){var l=t._data,u=t._size,c=t._datatype||t.getDataType(),m=i._values,y=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==h.length)throw new St(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!m)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=u[0],v=u[1],g,w=0,b=s;typeof c=="string"&&c===p&&c!=="mixed"&&(g=c,w=r.convert(0,g),b=r.find(s,[g,g]));for(var _=[],D=0;D<f;D++)_[D]=[];for(var C=[],M=[],E=0;E<v;E++){for(var S=E+1,O=d[E],j=d[E+1],F=O;F<j;F++){var I=y[F];C[I]=a?b(m[F],l[I][E]):b(l[I][E],m[F]),M[I]=S}for(var L=0;L<f;L++)M[L]===S?_[L][E]=C[L]:_[L][E]=a?b(w,l[L][E]):b(l[L][E],w)}return t.createDenseMatrix({data:_,size:[f,v],datatype:c===t._datatype&&p===i._datatype?g:void 0})}});var t3="matAlgo05xSfSf",r3=["typed","equalScalar"],eC=Le(t3,r3,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var l=i._values,u=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new St(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=l&&d?[]:void 0,E=[],S=[],O=M?[]:void 0,j=M?[]:void 0,F=[],I=[],L,B,k,q;for(B=0;B<w;B++){S[B]=E.length;var G=B+1;for(k=c[B],q=c[B+1];k<q;k++)L=u[k],E.push(L),F[L]=G,O&&(O[L]=l[k]);for(k=p[B],q=p[B+1];k<q;k++)L=h[k],F[L]!==G&&E.push(L),I[L]=G,j&&(j[L]=d[k]);if(M)for(k=S[B];k<E.length;){L=E[k];var V=F[L],W=I[L];if(V===G||W===G){var Q=V===G?O[L]:D,ue=W===G?j[L]:D,P=C(Q,ue);_(P,D)?E.splice(k,1):(M.push(P),k++)}}}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var n3="matAlgo13xDD",o3=["typed"],tC=Le(n3,o3,n=>{var{typed:r}=n;return function(i,s,a){var l=i._data,u=i._size,c=i._datatype,m=s._data,y=s._size,d=s._datatype,h=[];if(u.length!==y.length)throw new St(u.length,y.length);for(var p=0;p<u.length;p++){if(u[p]!==y[p])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");h[p]=u[p]}var f,v=a;typeof c=="string"&&c===d&&(f=c,v=r.find(a,[f,f]));var g=h.length>0?o(v,0,h,h[0],l,m):[];return i.createDenseMatrix({data:g,size:h,datatype:f})};function o(t,i,s,a,l,u){var c=[];if(i===s.length-1)for(var m=0;m<a;m++)c[m]=t(l[m],u[m]);else for(var y=0;y<a;y++)c[y]=o(t,i+1,s,s[i+1],l[y],u[y]);return c}});function Jr(n,r){if(ao(n.size(),r.size()))return[n,r];var o=su(n.size(),r.size());return[n,r].map(t=>i3(t,o))}function i3(n,r){return ao(n.size(),r)?n:n.create(Qo(n.valueOf(),r),n.datatype())}var s3="matrixAlgorithmSuite",a3=["typed","matrix"],Ko=Le(s3,a3,n=>{var{typed:r,matrix:o}=n,t=tC({typed:r}),i=lu({typed:r});return function(a){var l=a.elop,u=a.SD||a.DS,c;l?(c={"DenseMatrix, DenseMatrix":(h,p)=>t(...Jr(h,p),l),"Array, Array":(h,p)=>t(...Jr(o(h),o(p)),l).valueOf(),"Array, DenseMatrix":(h,p)=>t(...Jr(o(h),p),l),"DenseMatrix, Array":(h,p)=>t(...Jr(h,o(p)),l)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(h,p)=>a.SS(...Jr(h,p),l,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(h,p)=>a.DS(...Jr(h,p),l,!1),c["Array, SparseMatrix"]=(h,p)=>a.DS(...Jr(o(h),p),l,!1)),u&&(c["SparseMatrix, DenseMatrix"]=(h,p)=>u(...Jr(p,h),l,!0),c["SparseMatrix, Array"]=(h,p)=>u(...Jr(o(p),h),l,!0))):(c={"DenseMatrix, DenseMatrix":r.referToSelf(h=>(p,f)=>t(...Jr(p,f),h)),"Array, Array":r.referToSelf(h=>(p,f)=>t(...Jr(o(p),o(f)),h).valueOf()),"Array, DenseMatrix":r.referToSelf(h=>(p,f)=>t(...Jr(o(p),f),h)),"DenseMatrix, Array":r.referToSelf(h=>(p,f)=>t(...Jr(p,o(f)),h))},a.SS&&(c["SparseMatrix, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.SS(...Jr(p,f),h,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.DS(...Jr(p,f),h,!1)),c["Array, SparseMatrix"]=r.referToSelf(h=>(p,f)=>a.DS(...Jr(o(p),f),h,!1))),u&&(c["SparseMatrix, DenseMatrix"]=r.referToSelf(h=>(p,f)=>u(...Jr(f,p),h,!0)),c["SparseMatrix, Array"]=r.referToSelf(h=>(p,f)=>u(...Jr(o(f),p),h,!0))));var m=a.scalar||"any",y=a.Ds||a.Ss;y&&(l?(c["DenseMatrix,"+m]=(h,p)=>i(h,p,l,!1),c[m+", DenseMatrix"]=(h,p)=>i(p,h,l,!0),c["Array,"+m]=(h,p)=>i(o(h),p,l,!1).valueOf(),c[m+", Array"]=(h,p)=>i(o(p),h,l,!0).valueOf()):(c["DenseMatrix,"+m]=r.referToSelf(h=>(p,f)=>i(p,f,h,!1)),c[m+", DenseMatrix"]=r.referToSelf(h=>(p,f)=>i(f,p,h,!0)),c["Array,"+m]=r.referToSelf(h=>(p,f)=>i(o(p),f,h,!1).valueOf()),c[m+", Array"]=r.referToSelf(h=>(p,f)=>i(o(f),p,h,!0).valueOf())));var d=a.sS!==void 0?a.sS:a.Ss;return l?(a.Ss&&(c["SparseMatrix,"+m]=(h,p)=>a.Ss(h,p,l,!1)),d&&(c[m+", SparseMatrix"]=(h,p)=>d(p,h,l,!0))):(a.Ss&&(c["SparseMatrix,"+m]=r.referToSelf(h=>(p,f)=>a.Ss(p,f,h,!1))),d&&(c[m+", SparseMatrix"]=r.referToSelf(h=>(p,f)=>d(f,p,h,!0)))),l&&l.signatures&&vf(c,l.signatures),c}});var u3="matAlgo01xDSid",l3=["typed"],zf=Le(u3,l3,n=>{var{typed:r}=n;return function(t,i,s,a){var l=t._data,u=t._size,c=t._datatype||t.getDataType(),m=i._values,y=i._index,d=i._ptr,h=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==h.length)throw new St(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!m)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=u[0],v=u[1],g=typeof c=="string"&&c!=="mixed"&&c===p?c:void 0,w=g?r.find(s,[g,g]):s,b,_,D=[];for(b=0;b<f;b++)D[b]=[];var C=[],M=[];for(_=0;_<v;_++){for(var E=_+1,S=d[_],O=d[_+1],j=S;j<O;j++)b=y[j],C[b]=a?w(m[j],l[b][_]):w(l[b][_],m[j]),M[b]=E;for(b=0;b<f;b++)M[b]===E?D[b][_]=C[b]:D[b][_]=l[b][_]}return t.createDenseMatrix({data:D,size:[f,v],datatype:c===t._datatype&&p===i._datatype?g:void 0})}});var c3="matAlgo04xSidSid",d3=["typed","equalScalar"],rC=Le(c3,d3,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var l=i._values,u=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new St(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=l&&d?[]:void 0,E=[],S=[],O=l&&d?[]:void 0,j=l&&d?[]:void 0,F=[],I=[],L,B,k,q,G;for(B=0;B<w;B++){S[B]=E.length;var V=B+1;for(q=c[B],G=c[B+1],k=q;k<G;k++)L=u[k],E.push(L),F[L]=V,O&&(O[L]=l[k]);for(q=p[B],G=p[B+1],k=q;k<G;k++)if(L=h[k],F[L]===V){if(O){var W=C(O[L],d[k]);_(W,D)?F[L]=null:O[L]=W}}else E.push(L),I[L]=V,j&&(j[L]=d[k]);if(O&&j)for(k=S[B];k<E.length;)L=E[k],F[L]===V?(M[k]=O[L],k++):I[L]===V?(M[k]=j[L],k++):E.splice(k,1)}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var f3="matAlgo10xSids",h3=["typed","DenseMatrix"],Gf=Le(f3,h3,n=>{var{typed:r,DenseMatrix:o}=n;return function(i,s,a,l){var u=i._values,c=i._index,m=i._ptr,y=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=y[0],p=y[1],f,v=a;typeof d=="string"&&(f=d,s=r.convert(s,f),v=r.find(a,[f,f]));for(var g=[],w=[],b=[],_=0;_<p;_++){for(var D=_+1,C=m[_],M=m[_+1],E=C;E<M;E++){var S=c[E];w[S]=u[E],b[S]=D}for(var O=0;O<h;O++)_===0&&(g[O]=[]),b[O]===D?g[O][_]=l?v(s,w[O]):v(w[O],s):g[O][_]=s}return new o({data:g,size:[h,p],datatype:f})}});function Bs(n,r,o,t){if(!(this instanceof Bs))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=r,this.min=o,this.max=t,this.message="Wrong number of arguments in function "+n+" ("+r+" provided, "+o+(t!=null?"-"+t:"")+" expected)",this.stack=new Error().stack}Bs.prototype=new Error;Bs.prototype.constructor=Error;Bs.prototype.name="ArgumentsError";Bs.prototype.isArgumentsError=!0;var p3="multiplyScalar",m3=["typed"],Sv=Le(p3,m3,n=>{var{typed:r}=n;return r("multiplyScalar",{"number, number":av,"Complex, Complex":function(t,i){return t.mul(i)},"BigNumber, BigNumber":function(t,i){return t.times(i)},"bigint, bigint":function(t,i){return t*i},"Fraction, Fraction":function(t,i){return t.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(o,t)=>t.multiply(o),"Unit, number | Fraction | BigNumber | Complex | Unit":(o,t)=>o.multiply(t)})});var nC="multiply",g3=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ev=Le(nC,g3,n=>{var{typed:r,matrix:o,addScalar:t,multiplyScalar:i,equalScalar:s,dot:a}=n,l=au({typed:r,equalScalar:s}),u=lu({typed:r});function c(D,C){switch(D.length){case 1:switch(C.length){case 1:if(D[0]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(D[0]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+D[0]+") must match Matrix rows ("+C[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+C.length+" dimensions)")}break;case 2:switch(C.length){case 1:if(D[1]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+D[1]+") must match Vector length ("+C[0]+")");break;case 2:if(D[1]!==C[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+D[1]+") must match Matrix B rows ("+C[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+C.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+D.length+" dimensions)")}}function m(D,C,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return a(D,C)}function y(D,C){if(C.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(D,C)}function d(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,j=C._size,F=C._datatype||C.getDataType(),I=E[0],L=j[1],B,k=t,q=i;S&&F&&S===F&&typeof S=="string"&&S!=="mixed"&&(B=S,k=r.find(t,[B,B]),q=r.find(i,[B,B]));for(var G=[],V=0;V<L;V++){for(var W=q(M[0],O[0][V]),Q=1;Q<I;Q++)W=k(W,q(M[Q],O[Q][V]));G[V]=W}return D.createDenseMatrix({data:G,size:[L],datatype:S===D._datatype&&F===C._datatype?B:void 0})}var h=r("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":w}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":_});function f(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,j=C._datatype||C.getDataType(),F=E[0],I=E[1],L,B=t,k=i;S&&j&&S===j&&typeof S=="string"&&S!=="mixed"&&(L=S,B=r.find(t,[L,L]),k=r.find(i,[L,L]));for(var q=[],G=0;G<F;G++){for(var V=M[G],W=k(V[0],O[0]),Q=1;Q<I;Q++)W=B(W,k(V[Q],O[Q]));q[G]=W}return D.createDenseMatrix({data:q,size:[F],datatype:S===D._datatype&&j===C._datatype?L:void 0})}function v(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._data,j=C._size,F=C._datatype||C.getDataType(),I=E[0],L=E[1],B=j[1],k,q=t,G=i;S&&F&&S===F&&typeof S=="string"&&S!=="mixed"&&S!=="mixed"&&(k=S,q=r.find(t,[k,k]),G=r.find(i,[k,k]));for(var V=[],W=0;W<I;W++){var Q=M[W];V[W]=[];for(var ue=0;ue<B;ue++){for(var P=G(Q[0],O[0][ue]),A=1;A<L;A++)P=q(P,G(Q[A],O[A][ue]));V[W][ue]=P}}return D.createDenseMatrix({data:V,size:[I,B],datatype:S===D._datatype&&F===C._datatype?k:void 0})}function g(D,C){var M=D._data,E=D._size,S=D._datatype||D.getDataType(),O=C._values,j=C._index,F=C._ptr,I=C._size,L=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!O)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var B=E[0],k=I[1],q,G=t,V=i,W=s,Q=0;S&&L&&S===L&&typeof S=="string"&&S!=="mixed"&&(q=S,G=r.find(t,[q,q]),V=r.find(i,[q,q]),W=r.find(s,[q,q]),Q=r.convert(0,q));for(var ue=[],P=[],A=[],U=C.createSparseMatrix({values:ue,index:P,ptr:A,size:[B,k],datatype:S===D._datatype&&L===C._datatype?q:void 0}),H=0;H<k;H++){A[H]=P.length;var K=F[H],re=F[H+1];if(re>K)for(var ie=0,ce=0;ce<B;ce++){for(var se=ce+1,he=void 0,le=K;le<re;le++){var te=j[le];ie!==se?(he=V(M[ce][te],O[le]),ie=se):he=G(he,V(M[ce][te],O[le]))}ie===se&&!W(he,Q)&&(P.push(ce),ue.push(he))}}return A[k]=P.length,U}function w(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var j=C._data,F=C._datatype||C.getDataType(),I=D._size[0],L=C._size[0],B=[],k=[],q=[],G,V=t,W=i,Q=s,ue=0;O&&F&&O===F&&typeof O=="string"&&O!=="mixed"&&(G=O,V=r.find(t,[G,G]),W=r.find(i,[G,G]),Q=r.find(s,[G,G]),ue=r.convert(0,G));var P=[],A=[];q[0]=0;for(var U=0;U<L;U++){var H=j[U];if(!Q(H,ue))for(var K=S[U],re=S[U+1],ie=K;ie<re;ie++){var ce=E[ie];A[ce]?P[ce]=V(P[ce],W(H,M[ie])):(A[ce]=!0,k.push(ce),P[ce]=W(H,M[ie]))}}for(var se=k.length,he=0;he<se;he++){var le=k[he];B[he]=P[le]}return q[1]=k.length,D.createSparseMatrix({values:B,index:k,ptr:q,size:[I,1],datatype:O===D._datatype&&F===C._datatype?G:void 0})}function b(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var j=C._data,F=C._datatype||C.getDataType(),I=D._size[0],L=C._size[0],B=C._size[1],k,q=t,G=i,V=s,W=0;O&&F&&O===F&&typeof O=="string"&&O!=="mixed"&&(k=O,q=r.find(t,[k,k]),G=r.find(i,[k,k]),V=r.find(s,[k,k]),W=r.convert(0,k));for(var Q=[],ue=[],P=[],A=D.createSparseMatrix({values:Q,index:ue,ptr:P,size:[I,B],datatype:O===D._datatype&&F===C._datatype?k:void 0}),U=[],H=[],K=0;K<B;K++){P[K]=ue.length;for(var re=K+1,ie=0;ie<L;ie++){var ce=j[ie][K];if(!V(ce,W))for(var se=S[ie],he=S[ie+1],le=se;le<he;le++){var te=E[le];H[te]!==re?(H[te]=re,ue.push(te),U[te]=G(ce,M[le])):U[te]=q(U[te],G(ce,M[le]))}}for(var pe=P[K],ve=ue.length,Me=pe;Me<ve;Me++){var xe=ue[Me];Q[Me]=U[xe]}}return P[B]=ue.length,A}function _(D,C){var M=D._values,E=D._index,S=D._ptr,O=D._datatype||D._data===void 0?D._datatype:D.getDataType(),j=C._values,F=C._index,I=C._ptr,L=C._datatype||C._data===void 0?C._datatype:C.getDataType(),B=D._size[0],k=C._size[1],q=M&&j,G,V=t,W=i;O&&L&&O===L&&typeof O=="string"&&O!=="mixed"&&(G=O,V=r.find(t,[G,G]),W=r.find(i,[G,G]));for(var Q=q?[]:void 0,ue=[],P=[],A=D.createSparseMatrix({values:Q,index:ue,ptr:P,size:[B,k],datatype:O===D._datatype&&L===C._datatype?G:void 0}),U=q?[]:void 0,H=[],K,re,ie,ce,se,he,le,te,pe=0;pe<k;pe++){P[pe]=ue.length;var ve=pe+1;for(se=I[pe],he=I[pe+1],ce=se;ce<he;ce++)if(te=F[ce],q)for(re=S[te],ie=S[te+1],K=re;K<ie;K++)le=E[K],H[le]!==ve?(H[le]=ve,ue.push(le),U[le]=W(j[ce],M[K])):U[le]=V(U[le],W(j[ce],M[K]));else for(re=S[te],ie=S[te+1],K=re;K<ie;K++)le=E[K],H[le]!==ve&&(H[le]=ve,ue.push(le));if(q)for(var Me=P[pe],xe=ue.length,me=Me;me<xe;me++){var _e=ue[me];Q[me]=U[_e]}}return P[k]=ue.length,A}return r(nC,i,{"Array, Array":r.referTo("Matrix, Matrix",D=>(C,M)=>{c(yr(C),yr(M));var E=D(o(C),o(M));return Yt(E)?E.valueOf():E}),"Matrix, Matrix":function(C,M){var E=C.size(),S=M.size();return c(E,S),E.length===1?S.length===1?m(C,M,E[0]):y(C,M):S.length===1?h(C,M):p(C,M)},"Matrix, Array":r.referTo("Matrix,Matrix",D=>(C,M)=>D(C,o(M))),"Array, Matrix":r.referToSelf(D=>(C,M)=>D(o(C,M.storage()),M)),"SparseMatrix, any":function(C,M){return l(C,M,i,!1)},"DenseMatrix, any":function(C,M){return u(C,M,i,!1)},"any, SparseMatrix":function(C,M){return l(M,C,i,!0)},"any, DenseMatrix":function(C,M){return u(M,C,i,!0)},"Array, any":function(C,M){return u(o(C),M,i,!1).valueOf()},"any, Array":function(C,M){return u(o(M),C,i,!0).valueOf()},"any, any":i,"any, any, ...any":r.referToSelf(D=>(C,M,E)=>{for(var S=D(C,M),O=0;O<E.length;O++)S=D(S,E[O]);return S})})});var oC="subtract",y3=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Cv=Le(oC,y3,n=>{var{typed:r,matrix:o,equalScalar:t,subtractScalar:i,unaryMinus:s,DenseMatrix:a,concat:l}=n,u=zf({typed:r}),c=cu({typed:r}),m=eC({typed:r,equalScalar:t}),y=Gf({typed:r,DenseMatrix:a}),d=uu({typed:r,DenseMatrix:a}),h=Ko({typed:r,matrix:o,concat:l});return r(oC,{"any, any":i},h({elop:i,SS:m,DS:u,SD:c,Ss:d,sS:y}))});var v3="matAlgo09xS0Sf",b3=["typed","equalScalar"],iC=Le(v3,b3,n=>{var{typed:r,equalScalar:o}=n;return function(i,s,a){var l=i._values,u=i._index,c=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=s._values,h=s._index,p=s._ptr,f=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(m.length!==f.length)throw new St(m.length,f.length);if(m[0]!==f[0]||m[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+f+")");var g=m[0],w=m[1],b,_=o,D=0,C=a;typeof y=="string"&&y===v&&y!=="mixed"&&(b=y,_=r.find(o,[b,b]),D=r.convert(0,b),C=r.find(a,[b,b]));var M=l&&d?[]:void 0,E=[],S=[],O=M?[]:void 0,j=[],F,I,L,B,k;for(I=0;I<w;I++){S[I]=E.length;var q=I+1;if(O)for(B=p[I],k=p[I+1],L=B;L<k;L++)F=h[L],j[F]=q,O[F]=d[L];for(B=c[I],k=c[I+1],L=B;L<k;L++)if(F=u[L],O){var G=j[F]===q?O[F]:D,V=C(l[L],G);_(V,D)||(E.push(F),M.push(V))}else E.push(F)}return S[w]=E.length,i.createSparseMatrix({values:M,index:E,ptr:S,size:[g,w],datatype:y===i._datatype&&v===s._datatype?b:void 0})}});var sC="dotMultiply",w3=["typed","matrix","equalScalar","multiplyScalar","concat"],Mv=Le(sC,w3,n=>{var{typed:r,matrix:o,equalScalar:t,multiplyScalar:i,concat:s}=n,a=JE({typed:r,equalScalar:t}),l=iC({typed:r,equalScalar:t}),u=au({typed:r,equalScalar:t}),c=Ko({typed:r,matrix:o,concat:s});return r(sC,c({elop:i,SS:l,DS:a,Ss:u}))});var _3="matAlgo07xSSf",x3=["typed","SparseMatrix"],Hf=Le(_3,x3,n=>{var{typed:r,SparseMatrix:o}=n;return function(s,a,l){var u=s._size,c=s._datatype||s._data===void 0?s._datatype:s.getDataType(),m=a._size,y=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==m.length)throw new St(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");var d=u[0],h=u[1],p,f=0,v=l;typeof c=="string"&&c===y&&c!=="mixed"&&(p=c,f=r.convert(0,p),v=r.find(l,[p,p]));for(var g=[],w=[],b=new Array(h+1).fill(0),_=[],D=[],C=[],M=[],E=0;E<h;E++){var S=E+1,O=0;t(s,E,C,_,S),t(a,E,M,D,S);for(var j=0;j<d;j++){var F=C[j]===S?_[j]:f,I=M[j]===S?D[j]:f,L=v(F,I);L!==0&&L!==!1&&(w.push(j),g.push(L),O++)}b[E+1]=b[E]+O}return new o({values:g,index:w,ptr:b,size:[d,h],datatype:c===s._datatype&&y===a._datatype?p:void 0})};function t(i,s,a,l,u){for(var c=i._values,m=i._index,y=i._ptr,d=y[s],h=y[s+1];d<h;d++){var p=m[d];a[p]=u,l[p]=c[d]}}});var aC="conj",D3=["typed"],Tv=Le(aC,D3,n=>{var{typed:r}=n;return r(aC,{"number | BigNumber | Fraction":o=>o,Complex:o=>o.conjugate(),Unit:r.referToSelf(o=>t=>new t.constructor(o(t.toNumeric()),t.formatUnits())),"Array | Matrix":r.referToSelf(o=>t=>an(t,o))})});var uC="concat",S3=["typed","matrix","isInteger"],Av=Le(uC,S3,n=>{var{typed:r,matrix:o,isInteger:t}=n;return r(uC,{"...Array | Matrix | number | BigNumber":function(s){var a,l=s.length,u=-1,c,m=!1,y=[];for(a=0;a<l;a++){var d=s[a];if(Yt(d)&&(m=!0),Rt(d)||Ht(d)){if(a!==l-1)throw new Error("Dimension must be specified as last argument");if(c=u,u=d.valueOf(),!t(u))throw new TypeError("Integer number expected for dimension");if(u<0||a>0&&u>c)throw new Mo(u,c+1)}else{var h=Qt(d).valueOf(),p=yr(h);if(y[a]=h,c=u,u=p.length-1,a>0&&u!==c)throw new St(c+1,u+1)}}if(y.length===0)throw new SyntaxError("At least one matrix expected");for(var f=y.shift();y.length;)f=ev(f,y.shift(),u);return m?o(f):f},"...string":function(s){return s.join("")}})});var lC="flatten",E3=["typed"],jv=Le(lC,E3,n=>{var{typed:r}=n;return r(lC,{Array:function(t){return Ff(t)},DenseMatrix:function(t){return t.create(Ff(t.valueOf(),!0),t.datatype())},SparseMatrix:function(t){throw new TypeError("SparseMatrix is not supported by function flatten because it does not support 1D vectors. Convert to a DenseMatrix or Array first. Example: flatten(x.toArray())")}})});var cC="identity",C3=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Iv=Le(cC,C3,n=>{var{typed:r,config:o,matrix:t,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=n;return r(cC,{"":function(){return o.matrix==="Matrix"?t([]):[]},string:function(m){return t(m)},"number | BigNumber":function(m){return u(m,m,o.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(m,y){return u(m,m,y)},"number | BigNumber, number | BigNumber":function(m,y){return u(m,y,o.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(m,y,d){return u(m,y,d)},Array:function(m){return l(m)},"Array, string":function(m,y){return l(m,y)},Matrix:function(m){return l(m.valueOf(),m.storage())},"Matrix, string":function(m,y){return l(m.valueOf(),y)}});function l(c,m){switch(c.length){case 0:return m?t(m):[];case 1:return u(c[0],c[0],m);case 2:return u(c[0],c[1],m);default:throw new Error("Vector containing two values expected")}}function u(c,m,y){var d=Ht(c)||Ht(m)?i:null;if(Ht(c)&&(c=c.toNumber()),Ht(m)&&(m=m.toNumber()),!zt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!zt(m)||m<1)throw new Error("Parameters in function identity must be positive integers");var h=d?new i(1):1,p=d?new d(0):0,f=[c,m];if(y){if(y==="sparse")return a.diagonal(f,h,0,p);if(y==="dense")return s.diagonal(f,h,0,p);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}for(var v=_i([],f,p),g=c<m?c:m,w=0;w<g;w++)v[w][w]=h;return v}});var Nv="map",M3=["typed"],Ov=Le(Nv,M3,n=>{var{typed:r}=n;return r(Nv,{"Array, function":l,"Matrix, function":function(c,m){return c.map(m)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(u,c,m)=>o([u,c,...m.slice(0,m.length-1)],m[m.length-1])});function o(u,c){if(typeof c!="function")throw new Error("Last argument must be a callback function");var m=u[0].isMatrix,y=u.map(D=>D.isMatrix?D.size():yr(D)),d=su(...y),h=u.length,p=m?(D,C)=>D.get(C):Ls,f=u.map((D,C)=>{var M=y[C].map(()=>0);return D.isMatrix?D.get(M):Ls(D,M)}),v=r.isTypedFunction(c)?a(c,f,d.map(()=>0),u):s(c,h);if(v<2){var g=i(v,c,null);return t(u,g)}var w=m?u.map(D=>D.isMatrix?D.create(Qo(D.toArray(),d),D.datatype()):u[0].create(Qo(D.valueOf(),d))):u.map(D=>D.isMatrix?Qo(D.toArray(),d):Qo(D,d)),b=i(v,c,w),_=(D,C)=>b([D,...w.slice(1).map(M=>p(M,C))],C);return m?w[0].map(_):l(w[0],_)}function t(u,c){var m=u[0],y=u.map(D=>D.isMatrix?D.valueOf():D),d=u.map(D=>D.isMatrix?D.size():yr(D)),h=su(...d),p=d.map(D=>h.length-D.length),f=h.length-1,v=c.length>1,g=v?[]:null,w=_(y,0);if(m.isMatrix){var b=m.create();return b._data=w,b._size=h,b}else return w;function _(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=h[C],E=Array(M);if(C<f)for(var S=function(L){g&&(g[C]=L),E[L]=_(D.map((B,k)=>p[k]>C?B:B.length===1?B[0]:B[L]),C+1)},O=0;O<M;O++)S(O);else for(var j=function(L){g&&(g[C]=L),E[L]=c(D.map(B=>B.length===1?B[0]:B[L]),g?g.slice():void 0)},F=0;F<M;F++)j(F);return E}}function i(u,c,m){switch(u){case 0:return y=>c(...y);case 1:return(y,d)=>c(...y,d);case 2:return(y,d)=>c(...y,d,...m)}}function s(u,c){var m=u.toString();if(/arguments/.test(m))return 2;var y=m.match(/\(.*?\)/);return/\.\.\./.test(y)||u.length>c+1?2:u.length===c+1?1:0}function a(u,c,m,y){return r.resolve(u,[...c,m,...y])!==null?2:r.resolve(u,[...c,m])!==null?1:(r.resolve(u,c)!==null,0)}function l(u,c){var m=Qi(c,u,Nv);return Al(u,m.fn,m.isUnary)}});function dC(){throw new Error('No "bignumber" implementation available')}function fC(){throw new Error('No "fraction" implementation available')}var hC="reshape",T3=["typed","isInteger","matrix"],Fv=Le(hC,T3,n=>{var{typed:r,isInteger:o}=n;return r(hC,{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(a){if(!o(a))throw new TypeError("Invalid size for dimension: "+a)}),Cl(i,s)}})});var A3="resize",j3=["config","matrix"],kv=Le(A3,j3,n=>{var{config:r,matrix:o}=n;return function(s,a,l){if(arguments.length!==2&&arguments.length!==3)throw new Bs("resize",arguments.length,2,3);if(Yt(a)&&(a=a.valueOf()),Ht(a[0])&&(a=a.map(function(m){return Ht(m)?m.toNumber():m})),Yt(s))return s.resize(a,l,!0);if(typeof s=="string")return t(s,a,l);var u=Array.isArray(s)?!1:r.matrix!=="Array";if(a.length===0){for(;Array.isArray(s);)s=s[0];return Qt(s)}else{Array.isArray(s)||(s=[s]),s=Qt(s);var c=_i(s,a,l);return u?o(c):c}};function t(i,s,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(s.length!==1)throw new St(s.length,1);var l=s[0];if(typeof l!="number"||!zt(l))throw new TypeError("Invalid size, must contain positive integers (size: "+Kt(s)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var u=i,c=0,m=l-i.length;c<m;c++)u+=a;return u}else return i}});var pC="size",I3=["typed"],Rv=Le(pC,I3,n=>{var{typed:r}=n;return r(pC,{Matrix:o=>o.size(),Array:yr,string:o=>[o.length],"number | Complex | BigNumber | Unit | boolean | null":o=>[]})});var mC="transpose",N3=["typed","matrix"],Pv=Le(mC,N3,n=>{var{typed:r,matrix:o}=n;return r(mC,{Array:a=>t(o(a)).valueOf(),Matrix:t,any:Qt});function t(a){var l=a.size(),u;switch(l.length){case 1:u=a.clone();break;case 2:{var c=l[0],m=l[1];if(m===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Kt(l)+")");switch(a.storage()){case"dense":u=i(a,c,m);break;case"sparse":u=s(a,c,m);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Kt(l)+")")}return u}function i(a,l,u){for(var c=a._data,m=[],y,d=0;d<u;d++){y=m[d]=[];for(var h=0;h<l;h++)y[h]=Qt(c[h][d])}return a.createDenseMatrix({data:m,size:[u,l],datatype:a._datatype})}function s(a,l,u){for(var c=a._values,m=a._index,y=a._ptr,d=c?[]:void 0,h=[],p=[],f=[],v=0;v<l;v++)f[v]=0;var g,w,b;for(g=0,w=m.length;g<w;g++)f[m[g]]++;for(var _=0,D=0;D<l;D++)p.push(_),_+=f[D],f[D]=p[D];for(p.push(_),b=0;b<u;b++)for(var C=y[b],M=y[b+1],E=C;E<M;E++){var S=f[m[E]]++;h[S]=b,c&&(d[S]=Qt(c[E]))}return a.createSparseMatrix({values:d,index:h,ptr:p,size:[u,l],datatype:a._datatype})}});var gC="zeros",O3=["typed","config","matrix","BigNumber"],Lv=Le(gC,O3,n=>{var{typed:r,config:o,matrix:t,BigNumber:i}=n;return r(gC,{"":function(){return o.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(c){var m=c[c.length-1];if(typeof m=="string"){var y=c.pop();return s(c,y)}else return o.matrix==="Array"?s(c):s(c,"default")},Array:s,Matrix:function(c){var m=c.storage();return s(c.valueOf(),m)},"Array | Matrix, string":function(c,m){return s(c.valueOf(),m)}});function s(u,c){var m=a(u),y=m?new i(0):0;if(l(u),c){var d=t(c);return u.length>0?d.resize(u,y):d}else{var h=[];return u.length>0?_i(h,u,y):h}}function a(u){var c=!1;return u.forEach(function(m,y,d){Ht(m)&&(c=!0,d[y]=m.toNumber())}),c}function l(u){u.forEach(function(c){if(typeof c!="number"||!zt(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});function du(n,r,o){var t;return String(n).includes("Unexpected type")?(t=arguments.length>2?" (type: "+xn(o)+", value: "+JSON.stringify(o)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+t)):String(n).includes("complex numbers")?(t=arguments.length>2?" (type: "+xn(o)+", value: "+JSON.stringify(o)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+t)):n}var yC="format",F3=["typed"],Bv=Le(yC,F3,n=>{var{typed:r}=n;return r(yC,{any:Kt,"any, Object | function | number | BigNumber":Kt})});var k3="numeric",R3=["number","?bignumber","?fraction"],Uv=Le(k3,R3,n=>{var{number:r,bignumber:o,fraction:t}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:a=>r(a),BigNumber:o?a=>o(a):dC,bigint:a=>BigInt(a),Fraction:t?a=>t(a):fC};return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var m=xn(l);if(!(m in i))throw new TypeError("Cannot convert "+l+' of type "'+m+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in s))throw new TypeError("Cannot convert "+l+' to type "'+u+'"; valid output types are '+Object.keys(s).join(", "));return u===m?l:s[u](l)}});var vC="divideScalar",P3=["typed","numeric"],Vv=Le(vC,P3,n=>{var{typed:r,numeric:o}=n;return r(vC,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,i)=>t.divide(i),"number | Fraction | Complex | BigNumber, Unit":(t,i)=>i.divideInto(t)})});var qf="equal",L3=["typed","matrix","equalScalar","DenseMatrix","SparseMatrix"],zv=Le(qf,L3,n=>{var{typed:r,matrix:o,equalScalar:t,DenseMatrix:i,concat:s,SparseMatrix:a}=n,l=cu({typed:r}),u=Hf({typed:r,SparseMatrix:a}),c=uu({typed:r,DenseMatrix:i}),m=Ko({typed:r,matrix:o});return r(qf,B3({typed:r,equalScalar:t}),m({elop:t,SS:u,DS:l,Ss:c}))}),B3=Le(qf,["typed","equalScalar"],n=>{var{typed:r,equalScalar:o}=n;return r(qf,{"any, any":function(i,s){return i===null?s===null:s===null?i===null:i===void 0?s===void 0:s===void 0?i===void 0:o(i,s)}})});var Wf="larger",U3=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Gv=Le(Wf,U3,n=>{var{typed:r,config:o,bignumber:t,matrix:i,DenseMatrix:s,concat:a,SparseMatrix:l}=n,u=cu({typed:r}),c=Hf({typed:r,SparseMatrix:l}),m=uu({typed:r,DenseMatrix:s}),y=Ko({typed:r,matrix:i,concat:a}),d=Uf({typed:r});function h(p,f){return p.gt(f)&&!Bf(p,f,o.relTol,o.absTol)}return r(Wf,V3({typed:r,config:o}),{"boolean, boolean":(p,f)=>p>f,"BigNumber, BigNumber":h,"bigint, bigint":(p,f)=>p>f,"Fraction, Fraction":(p,f)=>p.compare(f)===1,"Fraction, BigNumber":function(f,v){return h(t(f),v)},"BigNumber, Fraction":function(f,v){return h(f,t(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,y({SS:c,DS:u,Ss:m}))}),V3=Le(Wf,["typed","config"],n=>{var{typed:r,config:o}=n;return r(Wf,{"number, number":function(i,s){return i>s&&!qi(i,s,o.relTol,o.absTol)}})});var bC="max",z3=["typed","config","numeric","larger","isNaN"],Hv=Le(bC,z3,n=>{var{typed:r,config:o,numeric:t,larger:i,isNaN:s}=n;return r(bC,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(c,m){return Lf(c,m.valueOf(),a)},"...":function(c){if(Rf(c))throw new TypeError("Scalar values expected in function max");return l(c)}});function a(u,c){try{return i(u,c)?u:c}catch(m){throw du(m,"max",c)}}function l(u){var c;if(Pf(u,function(m){try{(s(m)||c===void 0||i(m,c))&&(c=m)}catch(y){throw du(y,"max",m)}}),c===void 0)throw new Error("Cannot calculate max of an empty array");return typeof c=="string"&&(c=t(c,bf(c,o))),c}});var wC="add",G3=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],qv=Le(wC,G3,n=>{var{typed:r,matrix:o,addScalar:t,equalScalar:i,DenseMatrix:s,SparseMatrix:a,concat:l}=n,u=zf({typed:r}),c=rC({typed:r,equalScalar:i}),m=Gf({typed:r,DenseMatrix:s}),y=Ko({typed:r,matrix:o,concat:l});return r(wC,{"any, any":t,"any, any, ...any":r.referToSelf(d=>(h,p,f)=>{for(var v=d(h,p),g=0;g<f.length;g++)v=d(v,f[g]);return v})},y({elop:t,DS:u,SS:c,Ss:m}))});var _C="dot",H3=["typed","addScalar","multiplyScalar","conj","size"],Wv=Le(_C,H3,n=>{var{typed:r,addScalar:o,multiplyScalar:t,conj:i,size:s}=n;return r(_C,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":u});function a(c,m){var y=s(c),d=s(m),h,p;if(y.length===1)h=y[0];else if(y.length===2&&y[1]===1)h=y[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+y.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(h!==p)throw new RangeError("Vectors must have equal length ("+h+" != "+p+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,m){var y=a(c,m),d=Yt(c)?c._data:c,h=Yt(c)?c._datatype||c.getDataType():void 0,p=Yt(m)?m._data:m,f=Yt(m)?m._datatype||m.getDataType():void 0,v=s(c).length===2,g=s(m).length===2,w=o,b=t;if(h&&f&&h===f&&typeof h=="string"&&h!=="mixed"){var _=h;w=r.find(o,[_,_]),b=r.find(t,[_,_])}if(!v&&!g){for(var D=b(i(d[0]),p[0]),C=1;C<y;C++)D=w(D,b(i(d[C]),p[C]));return D}if(!v&&g){for(var M=b(i(d[0]),p[0][0]),E=1;E<y;E++)M=w(M,b(i(d[E]),p[E][0]));return M}if(v&&!g){for(var S=b(i(d[0][0]),p[0]),O=1;O<y;O++)S=w(S,b(i(d[O][0]),p[O]));return S}if(v&&g){for(var j=b(i(d[0][0]),p[0][0]),F=1;F<y;F++)j=w(j,b(i(d[F][0]),p[F][0]));return j}}function u(c,m){a(c,m);for(var y=c._index,d=c._values,h=m._index,p=m._values,f=0,v=o,g=t,w=0,b=0;w<y.length&&b<h.length;){var _=y[w],D=h[b];if(_<D){w++;continue}if(_>D){b++;continue}_===D&&(f=v(f,g(d[w],p[b])),w++,b++)}return f}});var xC="det",q3=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],$v=Le(xC,q3,n=>{var{typed:r,matrix:o,subtractScalar:t,multiply:i,divideScalar:s,isZero:a,unaryMinus:l}=n;return r(xC,{any:function(m){return Qt(m)},"Array | Matrix":function(m){var y;switch(Yt(m)?y=m.size():Array.isArray(m)?(m=o(m),y=m.size()):y=[],y.length){case 0:return Qt(m);case 1:if(y[0]===1)return Qt(m.valueOf()[0]);if(y[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Kt(y)+")");case 2:{var d=y[0],h=y[1];if(d===h)return u(m.clone().valueOf(),d,h);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+Kt(y)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Kt(y)+")")}}});function u(c,m,y){if(m===1)return Qt(c[0][0]);if(m===2)return t(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,h=new Array(m).fill(0).map((M,E)=>E),p=0;p<m;p++){var f=h[p];if(a(c[f][p])){var v=void 0;for(v=p+1;v<m;v++)if(!a(c[h[v]][p])){f=h[v],h[v]=h[p],h[p]=f,d=!d;break}if(v===m)return c[f][p]}for(var g=c[f][p],w=p===0?1:c[h[p-1]][p-1],b=p+1;b<m;b++)for(var _=h[b],D=p+1;D<m;D++)c[_][D]=s(t(i(c[_][D],g),i(c[_][p],c[f][D])),w)}var C=c[h[m-1]][m-1];return d?l(C):C}});var DC="inv",W3=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Yv=Le(DC,W3,n=>{var{typed:r,matrix:o,divideScalar:t,addScalar:i,multiply:s,unaryMinus:a,det:l,identity:u,abs:c}=n;return r(DC,{"Array | Matrix":function(d){var h=Yt(d)?d.size():yr(d);switch(h.length){case 1:if(h[0]===1)return Yt(d)?o([t(1,d.valueOf()[0])]):[t(1,d[0])];throw new RangeError("Matrix must be square (size: "+Kt(h)+")");case 2:{var p=h[0],f=h[1];if(p===f)return Yt(d)?o(m(d.valueOf(),p,f),d.storage()):m(d,p,f);throw new RangeError("Matrix must be square (size: "+Kt(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Kt(h)+")")}},any:function(d){return t(1,d)}});function m(y,d,h){var p,f,v,g,w;if(d===1){if(g=y[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(1,g)]]}else if(d===2){var b=l(y);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(y[1][1],b),t(a(y[0][1]),b)],[t(a(y[1][0]),b),t(y[0][0],b)]]}else{var _=y.concat();for(p=0;p<d;p++)_[p]=_[p].concat();for(var D=u(d).valueOf(),C=0;C<h;C++){var M=c(_[C][C]),E=C;for(p=C+1;p<d;)c(_[p][C])>M&&(M=c(_[p][C]),E=p),p++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");p=E,p!==C&&(w=_[C],_[C]=_[p],_[p]=w,w=D[C],D[C]=D[p],D[p]=w);var S=_[C],O=D[C];for(p=0;p<d;p++){var j=_[p],F=D[p];if(p!==C){if(j[C]!==0){for(v=t(a(j[C]),S[C]),f=C;f<h;f++)j[f]=i(j[f],s(v,S[f]));for(f=0;f<h;f++)F[f]=i(F[f],s(v,O[f]))}}else{for(v=S[C],f=C;f<h;f++)j[f]=t(j[f],v);for(f=0;f<h;f++)F[f]=t(F[f],v)}}}return D}}});var $3="divide",Y3=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Xv=Le($3,Y3,n=>{var{typed:r,matrix:o,multiply:t,equalScalar:i,divideScalar:s,inv:a}=n,l=au({typed:r,equalScalar:i}),u=lu({typed:r});return r("divide",vf({"Array | Matrix, Array | Matrix":function(m,y){return t(m,a(y))},"DenseMatrix, any":function(m,y){return u(m,y,s,!1)},"SparseMatrix, any":function(m,y){return l(m,y,s,!1)},"Array, any":function(m,y){return u(o(m),y,s,!1).valueOf()},"any, Array | Matrix":function(m,y){return t(m,a(y))}},s.signatures))});var SC="sum",X3=["typed","config","add","numeric"],Zv=Le(SC,X3,n=>{var{typed:r,config:o,add:t,numeric:i}=n;return r(SC,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":a,"...":function(u){if(Rf(u))throw new TypeError("Scalar values expected in function sum");return s(u)}});function s(l){var u;return Pf(l,function(c){try{u=u===void 0?c:t(u,c)}catch(m){throw du(m,"sum",c)}}),u===void 0&&(u=i(0,o.number)),typeof u=="string"&&(u=i(u,bf(u,o))),u}function a(l,u){try{var c=Lf(l,u,t);return c}catch(m){throw du(m,"sum")}}});var $f=Hy({config:So}),Z3=$y({});var EC=Xy({});var Qv=Zy({});var Us=rv({Matrix:Qv,config:So});var Bt=Py({BigNumber:$f,Complex:Z3,DenseMatrix:Us,Fraction:EC});var Q3=wv({typed:Bt});var Yf=_v({typed:Bt});var K3=Tv({typed:Bt});var Ki=hv({config:So,typed:Bt});var CC=Dv({typed:Bt});var MC=jv({typed:Bt});var TC=Bv({typed:Bt});var J3=fv({typed:Bt});var Il=Ov({typed:Bt});var Kv=Sv({typed:Bt});var e5=mv({typed:Bt});var Jv=Rv({typed:Bt}),Nl=pv({Matrix:Qv,equalScalar:Ki,typed:Bt});var AC=xv({typed:Bt});var jC=gv({BigNumber:$f,typed:Bt});var t5=Wv({addScalar:Yf,conj:K3,multiplyScalar:Kv,size:Jv,typed:Bt});var r5=dv({equalScalar:Ki,typed:Bt}),Ur=vv({DenseMatrix:Us,Matrix:Qv,SparseMatrix:Nl,typed:Bt});var un=Ev({addScalar:Yf,dot:t5,equalScalar:Ki,matrix:Ur,multiplyScalar:Kv,typed:Bt});var IC=kv({config:So,matrix:Ur});var fu=Pv({matrix:Ur,typed:Bt});var Jo=Lv({BigNumber:$f,config:So,matrix:Ur,typed:Bt});var n5=zv({DenseMatrix:Us,SparseMatrix:Nl,equalScalar:Ki,matrix:Ur,typed:Bt}),o5=yv({Fraction:EC,typed:Bt}),i5=Iv({BigNumber:$f,DenseMatrix:Us,SparseMatrix:Nl,config:So,matrix:Ur,typed:Bt}),NC=nv({equal:n5,typed:Bt});var e0=Uv({bignumber:jC,fraction:o5,number:e5});var Ol=Fv({isInteger:NC,matrix:Ur,typed:Bt});var t0=bv({typed:Bt});var Xf=Av({isInteger:NC,matrix:Ur,typed:Bt});var r0=Vv({numeric:e0,typed:Bt}),Zf=Mv({concat:Xf,equalScalar:Ki,matrix:Ur,multiplyScalar:Kv,typed:Bt});var s5=Gv({DenseMatrix:Us,SparseMatrix:Nl,bignumber:jC,concat:Xf,config:So,matrix:Ur,typed:Bt});var n0=Hv({config:So,isNaN:J3,larger:s5,numeric:e0,typed:Bt});var Di=Cv({DenseMatrix:Us,concat:Xf,equalScalar:Ki,matrix:Ur,subtractScalar:AC,typed:Bt,unaryMinus:t0});var To=qv({DenseMatrix:Us,SparseMatrix:Nl,addScalar:Yf,concat:Xf,equalScalar:Ki,matrix:Ur,typed:Bt});var a5=$v({divideScalar:r0,isZero:r5,matrix:Ur,multiply:un,subtractScalar:AC,typed:Bt,unaryMinus:t0});var o0=Zv({add:To,config:So,numeric:e0,typed:Bt});var u5=Yv({abs:Q3,addScalar:Yf,det:a5,divideScalar:r0,identity:i5,matrix:Ur,multiply:un,typed:Bt,unaryMinus:t0});var Ji=Xv({divideScalar:r0,equalScalar:Ki,inv:u5,matrix:Ur,multiply:un,typed:Bt});var Fl=class n{static size=28;static MNIST=[];static load(){return Yn(this,null,function*(){for(let r=0;r<10;r++){let t=yield(yield fetch(`mnist/digits/${r}.json`)).json();n.MNIST.push({id:r,raw:t.data})}})}static getDigitSamples(r,o){let t=this.MNIST[r];if(!t)return[];let i=t.raw.length/(this.size*this.size)|0,s=[];for(let a=0;a<(o??i);a++){let l=a*this.size*this.size,u=t.raw.slice(l,l+this.size*this.size),c=Array(10).fill(0);c[r]=1,s.push({input:u,output:c})}return s}static getAllSamples(){let r=[];for(let o=0;o<10;o++)r=r.concat(this.getDigitSamples(o));return r.sort(()=>Math.random()-.5)}static getDataset(r,o){let t=n.getAllSamples(),i=r+o;i>t.length&&console.warn(`Requested ${i} samples, but only ${t.length} available.`);let s=t.slice(0,i);return{training:s.slice(0,r),test:s.slice(r,r+o)}}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var OC=n=>{let r,o,t,i,s,a,l,u=[[]],c,m,y,d,h,p,f,v,g,w,b,_,D,C,M,E,S=.05,O,j,F=784,I=128,L=64,B=10,k=!1;function q(){if(!k){let Ie=function(De,Ge,Pe=0,He=1){return Ur(Array.from({length:De},()=>Array.from({length:Ge},()=>Math.random()*(He-Pe)+Pe)))};var me=Ie;let _e=Fl.getDataset(9e3,1e3);O=_e.training,j=_e.test,h=Ie(I,F,-.5,.5),f=Ie(L,I,-.5,.5),g=Ie(B,L,-.5,.5),p=Jo(I,1),v=Jo(L,1),w=Jo(B,1),le("Initialized weights and biases."),Q("Weights1:",h),Q("Weights2:",f),Q("Weights3:",g),k=!0}}function G(me){return Il(me,_e=>Math.max(0,_e))}function V(me){return Il(me,_e=>_e>0?1:0)}function W(me){let _e=n0(me),Ie=Di(me,_e),De=Il(Ie,CC),Ge=o0(De);return Ji(De,Ge)}function Q(me,_e){let Ie=MC(_e).valueOf(),De=Math.min(...Ie),Ge=Math.max(...Ie),Pe=Ie.reduce((He,Ye)=>He+Ye,0)/Ie.length;le(`${me} - min: ${De.toFixed(5)}, max: ${Ge.toFixed(5)}, avg: ${Pe.toFixed(5)}`)}function ue(me){let _e=0,Ie=1e-12;for(let De=0;De<me.length;De++){let Ge=Ol(Ur(me[De].input),[F,1]),Pe=Ol(Ur(me[De].output),[B,1]),{a3:He}=P(Ge),Ye=Il(He,Ce=>Math.log(Ce+Ie)),Xe=-o0(Zf(Pe,Ye));_e+=Number(Xe)}return _e/me.length}function P(me){me=IC(me,[F,1]);let _e=To(un(h,me),p),Ie=G(_e),De=To(un(f,Ie),v),Ge=G(De),Pe=To(un(g,Ge),w),He=W(Pe);return{z1:_e,a1:Ie,z2:De,a2:Ge,z3:Pe,a3:He}}function A(me){for(let _e=me.length-1;_e>0;_e--){let Ie=Math.floor(Math.random()*(_e+1));[me[_e],me[Ie]]=[me[Ie],me[_e]]}}function U(me,_e,Ie){me=Ol(me,[F,1]),_e=Ol(_e,[B,1]);let De,Ge,Pe,He,Ye,Xe,Ce,oe,ae;return De=Di(Ie.a3,_e),He=un(De,fu(Ie.a2)),Ce=De,Ge=Zf(un(fu(g),De),V(Ie.z2)),Ye=un(Ge,fu(Ie.a1)),oe=Ge,Pe=Zf(un(fu(f),Ge),V(Ie.z1)),Xe=un(Pe,fu(me)),ae=Pe,{dw1:Xe,db1:ae,dw2:Ye,db2:oe,dw3:He,db3:Ce}}function H(){function me(_e){return Jv(_e)}b=Jo(me(h)),_=Jo(me(p)),D=Jo(me(f)),C=Jo(me(v)),M=Jo(me(g)),E=Jo(me(w))}function K(me){return Yn(this,null,function*(){let _e=64;for(let Ie=0;Ie<me;Ie++){A(O),H();let De=0;for(let Pe=0;Pe<O.length;Pe++){De++;let He=P(O[Pe].input),Ye=U(O[Pe].input,O[Pe].output,He);b=To(b,Ye.dw1),_=To(_,Ye.db1),D=To(D,Ye.dw2),C=To(C,Ye.db2),M=To(M,Ye.dw3),E=To(E,Ye.db3),(De===_e||Pe===O.length-1)&&(le("Batch completed..."+Pe+"/"+O.length),b=Ji(b,De),_=Ji(_,De),D=Ji(D,De),C=Ji(C,De),M=Ji(M,De),E=Ji(E,De),Pe===O.length-1&&(Q("dw1: ",b),Q("db1: ",_),Q("dw2: ",D),Q("db2: ",C),Q("dw3: ",M),Q("db3: ",E)),h=Di(h,un(b,S)),p=Di(p,un(_,S)),f=Di(f,un(D,S)),v=Di(v,un(C,S)),g=Di(g,un(M,S)),w=Di(w,un(E,S)),H(),De=0,yield new Promise(Xe=>setTimeout(Xe,0)))}le("Epoch: "+Ie+" completed.");let Ge=ue(O);le(`Epoch ${Ie} - Train Loss: ${Ge.toFixed(6)}`),S=S*.95,Q("weights1:",h),Q("biases1:",p),Q("weights2:",f),Q("biases2:",v),Q("weights3:",g),Q("biases3:",w)}})}function re(me,_e){let Ie=0,De=j;_e==1&&(De=O);let Ge=De.length;for(let Pe=0;Pe<De.length;Pe++){let He=Ur(De[Pe].input);if(!De[Pe].input||De[Pe].input.includes(void 0)){console.warn("Bad input at index",Pe);continue}else{let Ye=P(He),Xe=Ye.a3.toArray().flat(),Ce=Xe.indexOf(Math.max(...Xe)),oe=De[Pe].output.indexOf(n0(Ur(De[Pe].output)));me==1&&le("Predicting "+Ce+" from A3: "+TC(Ye.a3,{notation:"fixed",precision:4})+" vs actual "+oe),Ce==oe&&Ie++}}le(Ie+" / "+Ge+" predictions correct. "+Ie/Ge+" accuracy value.")}function ie(){return Yn(this,null,function*(){q(),setTimeout(K,0,2)})}function ce(){return Yn(this,null,function*(){q();let me=new Array(t*i);me.fill(0);for(let Ge=0;Ge<t;Ge++)for(let Pe=0;Pe<i;Pe++)me[Pe*t+Ge]=(u[Ge][Pe].value/255).toFixed(5);console.log(me);let Ie=P(Ur(me)).a3.toArray().flat(),De=Ie.indexOf(Math.max(...Ie));le("I think you drew a: "+De)})}function se(){return Yn(this,null,function*(){q();let _e=yield(yield fetch("mnist/pretrained-model.json")).json();h=_e.weights1,p=_e.biases1,f=_e.weights2,v=_e.biases2,g=_e.weights3,w=_e.biases3,le(" "),le(" "),le("Pre-Trained model has been loaded."),Q("weights1:",h),Q("biases1:",p),Q("weights2:",f),Q("biases2:",v),Q("weights3:",g),Q("biases3:",w)})}function he(){return Yn(this,null,function*(){q(),setTimeout(re,0,0,0)})}function le(me){let _e=document.getElementById("txtArea");y.html(me+`
`,!0),console.log(me),_e&&(_e.scrollTop=_e.scrollHeight)}class te{x;y;value;constructor(_e,Ie,De){this.x=_e,this.y=Ie,this.value=De}}function pe(me){n.noStroke(),n.fill(me.value),n.rect(me.x*s+l,me.y*s+l,s,s)}function ve(){for(let me=0;me<t;me++)for(let _e=0;_e<i;_e++)u[me][_e].value=0}function Me(){let me=[],_e=document.getElementById("pasteArea");if(!_e){console.warn("No input element found");return}let Ie=_e.value.trim();if(!Ie){console.warn("Input is empty, nothing to paste");return}try{let De=JSON.parse(Ie);if(!Array.isArray(De)){console.error("Parsed input is not an array:",De);return}me=De}catch(De){console.error("Invalid array format:",De,Ie);return}for(let De=0;De<t;De++)for(let Ge=0;Ge<i;Ge++)u[De][Ge].value=255*me[Ge*t+De]}n.setup=()=>{Fl.load(),a=!1,n.createCanvas(500,500),r=500,o=500,t=28,i=28,s=17,l=r/2-i*s/2,u=Array.from(Array(i),()=>new Array(t));for(let Xe=0;Xe<t;Xe++)for(let Ce=0;Ce<i;Ce++)u[Xe][Ce]=new te(Xe,Ce,0);let me=n.createButton("Train");me.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),me.mousePressed(()=>Yn(void 0,null,function*(){le("Training started..."),me.attribute("disabled",!0),ie()}));let _e=n.createButton("Load pre-trained model");_e.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),_e.mousePressed(se);let Ie=n.createButton("Predict");Ie.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),Ie.mousePressed(ce);let De=n.createButton("Test");De.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),De.mousePressed(he);let Ge=n.createButton("Clear Canvas");Ge.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),Ge.mousePressed(ve);let Pe=n.createButton("Paste Canvas");Pe.addClass("btn btn-outline-primary mb-2 me-2 mt-2"),Pe.mousePressed(Me),y=n.createElement("textarea"),y.attribute("readonly",!0),y.attribute("id","txtArea"),y.attribute("rows",5),y.addClass("form-control"),d=n.createElement("textarea"),d.attribute("id","pasteArea"),d.attribute("rows",5),d.addClass("form-control");let He=document.createElement("a");He.href="mnist/sample_grayscales.json",He.target="_blank",He.id="grayscale_anchor",He.textContent="Grayscale links";let Ye=document.getElementById("canvas-container1");Ye&&Ye.appendChild(He)},n.draw=()=>{n.noStroke(),n.background(41),n.fill(50,80,200);for(let me=0;me<t;me++)for(let _e=0;_e<i;_e++)pe(u[me][_e]);if(a){let me=n.floor((n.mouseX-l)/s),_e=n.floor((n.mouseY-l)/s),Ie=[[.05,.15,.05],[.15,.4,.15],[.05,.15,.05]];for(let De=-1;De<=1;De++)for(let Ge=-1;Ge<=1;Ge++){let Pe=me+Ge,He=_e+De;Pe>=0&&He>=0&&Pe<i&&He<t&&(u[Pe][He].value=Math.min(255,u[Pe][He].value+Ie[De+1][Ge+1]*180))}}},window.addEventListener("mousedown",()=>{a=!0}),window.addEventListener("touchstart",()=>{a=!0}),window.addEventListener("mouseup",()=>{a=!1}),window.addEventListener("touchend",()=>{a=!0});function xe(me){window.addEventListener("touchstart",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1}),window.addEventListener("touchend",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1}),window.addEventListener("touchmove",function(_e){_e.target==me&&_e.preventDefault()},{passive:!1})}};var hu=class n{sketches=[pS,mS,gS,yS,vS,wS,OC];sketchDetails=[{id:0,name:"3D Terrain Generator",description:"Perlin Noise Terrain Generation."},{id:1,name:"Pathfinding",description:"Click and drag to make walls. Click restart to generate a new source and target location. Click play to begin pathfinding."},{id:2,name:"Snake",description:"Use arrow keys to play."},{id:3,name:"Game of Life",description:"Click to generate a new pattern."},{id:4,name:"3D Graphics",description:"Elegant 3D animation."},{id:5,name:"Random Track Selector - Mario Kart",description:"Randomized Track Selector for Mario Kart World/Mario Kart 8 - Click to generate"},{id:6,name:"Neural Net - MNIST from Scratch",description:"Neural network build from scratch using only math libraries, capable of learning on the MNIST dataset for predicting handwritten digits."}];constructor(){}getSketch(r){return this.sketches[r]}getSketchDetails(){return this.sketchDetails}static \u0275fac=function(o){return new(o||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var PC=jh(RC());var Qf=class n{constructor(r,o){this.elementRef=r;this.sketchService=o}sketchID;parentID;p5Instance;ngOnInit(){}ngOnChanges(){this.p5Instance&&this.p5Instance.remove(),this.initP5()}ngOnDestroy(){this.p5Instance&&this.p5Instance.remove()}initP5(){this.p5Instance=new PC.default(this.sketchService.getSketch(this.sketchID),this.parentID)}static \u0275fac=function(o){return new(o||n)(bt(Lr),bt(hu))};static \u0275cmp=lr({type:n,selectors:[["app-canvas"]],inputs:{sketchID:"sketchID",parentID:"parentID"},features:[zo],decls:0,vars:0,template:function(o,t){}})};function c5(n,r){if(n&1){let o=Cs();at(0,"div",8)(1,"button",9),pn("click",function(){let i=xs(o).$implicit,s=oo();return Ds(s.handleClick(i.id))}),Tt(2),lt()()}if(n&2){let o=r.$implicit;Vt(2),Tn(o.name)}}var Kf=class n{constructor(r,o){this.sketchService=r;this.titleService=o;this.activeCanvas=0,this.inSelection=!0,this.canvasList=this.sketchService.getSketchDetails(),this.titleService.setTitle("Jonathan Lemon - Demo")}activeCanvas;inSelection;canvasList;handleClick(r){this.activeCanvas=r,this.inSelection=!0}static \u0275fac=function(o){return new(o||n)(bt(hu),bt(Wo))};static \u0275cmp=lr({type:n,selectors:[["app-demo"]],decls:14,vars:5,consts:[[1,"container"],[1,"display-6"],[1,"row","justify-content-center"],["class","d-flex col-lg col-md-6 mb-4 m-1 justify-content-center",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","col-lg-8","col-md-8","col-sm-8","col-8","mb-4","shadow","border","rounded","m-1","align-items-center"],["id","canvas-container1",1,"d-flex","flex-column","align-items-center","mt-4","mb-2",2,"min-width","500px","max-width","500px"],[3,"sketchID","parentID"],[1,"text-secondary"],[1,"d-flex","col-lg","col-md-6","mb-4","m-1","justify-content-center"],[1,"btn","btn-outline-primary","mb-2","me-2",3,"click"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div")(2,"p",1),Tt(3),lt()(),at(4,"div"),mr(5,"hr"),at(6,"div",2),hn(7,c5,3,1,"div",3),lt()(),at(8,"div",2)(9,"div",4)(10,"div",5),mr(11,"app-canvas",6),lt(),at(12,"p",7),Tt(13),lt()()()()),o&2&&(Vt(3),_d("Current Demo - ",t.canvasList[t.activeCanvas].name,""),Vt(4),Nr("ngForOf",t.canvasList),Vt(4),Nr("sketchID",t.activeCanvas)("parentID","canvas-container1"),Vt(2),Tn(t.canvasList[t.activeCanvas].description))},dependencies:[io,Qf]})};var d5=[{path:"home",component:yl},{path:"portfolio",component:pf},{path:"demo",component:Kf},{path:"contact",component:mf},{path:"**",component:yl,pathMatch:"full"}],Jf=class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=Hr({type:n});static \u0275inj=Gr({imports:[hy.forRoot(d5,{useHash:!0}),hy]})};var eh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=lr({type:n,selectors:[["app-header"]],decls:14,vars:0,consts:[[1,"jumbotron",2,"position","relative"],[1,"text-center"],[1,"display-4"],[1,"row","mt-2","mb-2","me-2","ms-2","d-flex","justify-content-center",2,"position","absolute","bottom","5px","right","10px","max-width","20vw"],["href","https://www.linkedin.com/in/jonathan-lemon-66464520b/","target","_blank",1,"col","rounded","hoverable","d-flex","justify-content-center"],["src","linkedinlogoheader.png","width","32","height","32",1,"rounded-circle","mt-2","mb-2","me-2","ms-2"],["href","https://github.com/jonathanlemon","target","_blank",1,"col","rounded","hoverable","d-flex","justify-content-center"],["src","githublogoheader.png","width","32","height","32",1,"rounded-circle","mt-2","mb-2","me-2","ms-2"],["href","resume.pdf","target","_blank",1,"d-flex","col","rounded","hoverable","text-white","align-items-center","justify-content-center",2,"text-decoration","none"],[1,"text-white","lead","mt-2","mb-2","me-2","ms-2",2,"font-weight","300"]],template:function(o,t){o&1&&(at(0,"div",0)(1,"div",1)(2,"h1",2),Tt(3,"Jonathan Lemon"),lt(),at(4,"h3"),Tt(5,"Software Engineer"),lt()(),at(6,"div",3)(7,"a",4),mr(8,"img",5),lt(),at(9,"a",6),mr(10,"img",7),lt(),at(11,"a",8)(12,"p",9),Tt(13,"R\xE9sum\xE9"),lt()()()())},styles:['.jumbotron[_ngcontent-%COMP%]{padding:2rem 1rem;background:linear-gradient(var(--degree),rgb(245,102,0),rgb(82,45,128));animation-timing-function:ease-in-out;animation-duration:10s;animation-direction:alternate-reverse;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_rotate;color:#fff}[_ngcontent-%COMP%]:root{--degree: 0deg}@property --degree{syntax: "<angle>"; inherits: false; initial-value: 0deg;}@keyframes _ngcontent-%COMP%_rotate{0%{--degree: 0deg}25%{--degree: 90deg}50%{--degree: 180deg}75%{--degree: 270deg}to{--degree: 360deg}}']})};var th=class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=lr({type:n,selectors:[["app-nav"]],decls:15,vars:0,consts:[[1,"navbar-expand-md","border-bottom","mb-3"],[1,"container"],[1,"nav","justify-content-center"],[1,"nav-item","hoverable"],["href","","routerLink","/home","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/portfolio","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/demo","routerLinkActive","text-dark",1,"nav-link","text-secondary"],["href","","routerLink","/contact","routerLinkActive","text-dark",1,"nav-link","text-secondary"]],template:function(o,t){o&1&&(at(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),Tt(5,"Home"),lt()(),at(6,"li",3)(7,"a",5),Tt(8,"Portfolio"),lt()(),at(9,"li",3)(10,"a",6),Tt(11,"Demo"),lt()(),at(12,"li",3)(13,"a",7),Tt(14,"Contact"),lt()()()()())},dependencies:[Zd,ID]})};var rh=class n{title="Portfolio";static \u0275fac=function(o){return new(o||n)};static \u0275cmp=lr({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"shadow-sm"]],template:function(o,t){o&1&&(at(0,"div",0),mr(1,"app-header")(2,"app-nav"),lt(),mr(3,"router-outlet"))},dependencies:[ay,eh,th]})};var Pt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Pt||{}),ei="*";function s0(n,r=null){return{type:Pt.Animate,styles:r,timings:n}}function LC(n,r=null){return{type:Pt.Sequence,steps:n,options:r}}function ts(n){return{type:Pt.Style,styles:n,offset:null}}var es=class{constructor(r=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){let o=r=="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},kl=class{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let o=0,t=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++o==s&&this._onFinish()}),a.onDestroy(()=>{++t==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){let o=r*this.totalTime;this.players.forEach(t=>{let i=t.totalTime?Math.min(1,o/t.totalTime):1;t.setPosition(i)})}getPosition(){let r=this.players.reduce((o,t)=>o===null||t.totalTime>o.totalTime?t:o,null);return r!=null?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){let o=r=="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},nh="!";function BC(n){return new Qe(3e3,!1)}function p5(){return new Qe(3100,!1)}function m5(){return new Qe(3101,!1)}function g5(n){return new Qe(3001,!1)}function y5(n){return new Qe(3003,!1)}function v5(n){return new Qe(3004,!1)}function b5(n,r){return new Qe(3005,!1)}function w5(){return new Qe(3006,!1)}function _5(){return new Qe(3007,!1)}function x5(n,r){return new Qe(3008,!1)}function D5(n){return new Qe(3002,!1)}function S5(n,r,o,t,i){return new Qe(3010,!1)}function E5(){return new Qe(3011,!1)}function C5(){return new Qe(3012,!1)}function M5(){return new Qe(3200,!1)}function T5(){return new Qe(3202,!1)}function A5(){return new Qe(3013,!1)}function j5(n){return new Qe(3014,!1)}function I5(n){return new Qe(3015,!1)}function N5(n){return new Qe(3016,!1)}function O5(n,r){return new Qe(3404,!1)}function F5(n){return new Qe(3502,!1)}function k5(n){return new Qe(3503,!1)}function R5(){return new Qe(3300,!1)}function P5(n){return new Qe(3504,!1)}function L5(n){return new Qe(3301,!1)}function B5(n,r){return new Qe(3302,!1)}function U5(n){return new Qe(3303,!1)}function V5(n,r){return new Qe(3400,!1)}function z5(n){return new Qe(3401,!1)}function G5(n){return new Qe(3402,!1)}function H5(n,r){return new Qe(3505,!1)}function rs(n){switch(n.length){case 0:return new es;case 1:return n[0];default:return new kl(n)}}function JC(n,r,o=new Map,t=new Map){let i=[],s=[],a=-1,l=null;if(r.forEach(u=>{let c=u.get("offset"),m=c==a,y=m&&l||new Map;u.forEach((d,h)=>{let p=h,f=d;if(h!=="offset")switch(p=n.normalizePropertyName(p,i),f){case nh:f=o.get(h);break;case ei:f=t.get(h);break;default:f=n.normalizeStyleValue(h,p,f,i);break}y.set(p,f)}),m||s.push(y),l=y,a=c}),i.length)throw F5(i);return s}function A0(n,r,o,t){switch(r){case"start":n.onStart(()=>t(o&&a0(o,"start",n)));break;case"done":n.onDone(()=>t(o&&a0(o,"done",n)));break;case"destroy":n.onDestroy(()=>t(o&&a0(o,"destroy",n)));break}}function a0(n,r,o){let t=o.totalTime,i=!!o.disabled,s=j0(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,t??n.totalTime,i),a=n._data;return a!=null&&(s._data=a),s}function j0(n,r,o,t,i="",s=0,a){return{element:n,triggerName:r,fromState:o,toState:t,phaseName:i,totalTime:s,disabled:!!a}}function Wn(n,r,o){let t=n.get(r);return t||n.set(r,t=o),t}function UC(n){let r=n.indexOf(":"),o=n.substring(1,r),t=n.slice(r+1);return[o,t]}var q5=typeof document>"u"?null:document.documentElement;function I0(n){let r=n.parentNode||n.host||null;return r===q5?null:r}function W5(n){return n.substring(1,6)=="ebkit"}var Vs=null,VC=!1;function $5(n){Vs||(Vs=Y5()||{},VC=Vs.style?"WebkitAppearance"in Vs.style:!1);let r=!0;return Vs.style&&!W5(n)&&(r=n in Vs.style,!r&&VC&&(r="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vs.style)),r}function Y5(){return typeof document<"u"?document.body:null}function e2(n,r){for(;r;){if(r===n)return!0;r=I0(r)}return!1}function t2(n,r,o){if(o)return Array.from(n.querySelectorAll(r));let t=n.querySelector(r);return t?[t]:[]}var N0=(()=>{let r=class r{validateStyleProperty(t){return $5(t)}containsElement(t,i){return e2(t,i)}getParentElement(t){return I0(t)}query(t,i,s){return t2(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,a,l,u=[],c){return new es(s,a)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})(),R0=class R0{};R0.NOOP=new N0;var Hs=R0,qs=class{};var X5=1e3,r2="{{",Z5="}}",n2="ng-enter",h0="ng-leave",oh="ng-trigger",lh=".ng-trigger",zC="ng-animating",p0=".ng-animating";function Si(n){if(typeof n=="number")return n;let r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:m0(parseFloat(r[1]),r[2])}function m0(n,r){switch(r){case"s":return n*X5;default:return n}}function ch(n,r,o){return n.hasOwnProperty("duration")?n:Q5(n,r,o)}function Q5(n,r,o){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof n=="string"){let l=n.match(t);if(l===null)return r.push(BC(n)),{duration:0,delay:0,easing:""};i=m0(parseFloat(l[1]),l[2]);let u=l[3];u!=null&&(s=m0(parseFloat(u),l[4]));let c=l[5];c&&(a=c)}else i=n;if(!o){let l=!1,u=r.length;i<0&&(r.push(p5()),l=!0),s<0&&(r.push(m5()),l=!0),l&&r.splice(u,0,BC(n))}return{duration:i,delay:s,easing:a}}function K5(n){return n.length?n[0]instanceof Map?n:n.map(r=>new Map(Object.entries(r))):[]}function ti(n,r,o){r.forEach((t,i)=>{let s=O0(i);o&&!o.has(i)&&o.set(i,n.style[s]),n.style[s]=t})}function Gs(n,r){r.forEach((o,t)=>{let i=O0(t);n.style[i]=""})}function Rl(n){return Array.isArray(n)?n.length==1?n[0]:LC(n):n}function J5(n,r,o){let t=r.params||{},i=o2(n);i.length&&i.forEach(s=>{t.hasOwnProperty(s)||o.push(g5(s))})}var g0=new RegExp(`${r2}\\s*(.+?)\\s*${Z5}`,"g");function o2(n){let r=[];if(typeof n=="string"){let o;for(;o=g0.exec(n);)r.push(o[1]);g0.lastIndex=0}return r}function Ll(n,r,o){let t=`${n}`,i=t.replace(g0,(s,a)=>{let l=r[a];return l==null&&(o.push(y5(a)),l=""),l.toString()});return i==t?n:i}var e4=/-+([a-z0-9])/g;function O0(n){return n.replace(e4,(...r)=>r[1].toUpperCase())}function t4(n,r){return n===0||r===0}function r4(n,r,o){if(o.size&&r.length){let t=r[0],i=[];if(o.forEach((s,a)=>{t.has(a)||i.push(a),t.set(a,s)}),i.length)for(let s=1;s<r.length;s++){let a=r[s];i.forEach(l=>a.set(l,F0(n,l)))}}return r}function qn(n,r,o){switch(r.type){case Pt.Trigger:return n.visitTrigger(r,o);case Pt.State:return n.visitState(r,o);case Pt.Transition:return n.visitTransition(r,o);case Pt.Sequence:return n.visitSequence(r,o);case Pt.Group:return n.visitGroup(r,o);case Pt.Animate:return n.visitAnimate(r,o);case Pt.Keyframes:return n.visitKeyframes(r,o);case Pt.Style:return n.visitStyle(r,o);case Pt.Reference:return n.visitReference(r,o);case Pt.AnimateChild:return n.visitAnimateChild(r,o);case Pt.AnimateRef:return n.visitAnimateRef(r,o);case Pt.Query:return n.visitQuery(r,o);case Pt.Stagger:return n.visitStagger(r,o);default:throw v5(r.type)}}function F0(n,r){return window.getComputedStyle(n)[r]}var n4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),dh=class extends qs{normalizePropertyName(r,o){return O0(r)}normalizeStyleValue(r,o,t,i){let s="",a=t.toString().trim();if(n4.has(o)&&t!==0&&t!=="0")if(typeof t=="number")s="px";else{let l=t.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&i.push(b5(r,t))}return a+s}};var fh="*";function o4(n,r){let o=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>i4(t,o,r)):o.push(n),o}function i4(n,r,o){if(n[0]==":"){let u=s4(n,o);if(typeof u=="function"){r.push(u);return}n=u}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return o.push(I5(n)),r;let i=t[1],s=t[2],a=t[3];r.push(GC(i,a));let l=i==fh&&a==fh;s[0]=="<"&&!l&&r.push(GC(a,i))}function s4(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,t)=>parseFloat(t)>parseFloat(o);case":decrement":return(o,t)=>parseFloat(t)<parseFloat(o);default:return r.push(N5(n)),"* => *"}}var ih=new Set(["true","1"]),sh=new Set(["false","0"]);function GC(n,r){let o=ih.has(n)||sh.has(n),t=ih.has(r)||sh.has(r);return(i,s)=>{let a=n==fh||n==i,l=r==fh||r==s;return!a&&o&&typeof i=="boolean"&&(a=i?ih.has(n):sh.has(n)),!l&&t&&typeof s=="boolean"&&(l=s?ih.has(r):sh.has(r)),a&&l}}var i2=":self",a4=new RegExp(`s*${i2}s*,?`,"g");function s2(n,r,o,t){return new y0(n).build(r,o,t)}var HC="",y0=class{constructor(r){this._driver=r}build(r,o,t){let i=new v0(o);return this._resetContextStyleTimingState(i),qn(this,Rl(r),i)}_resetContextStyleTimingState(r){r.currentQuerySelector=HC,r.collectedStyles=new Map,r.collectedStyles.set(HC,new Map),r.currentTime=0}visitTrigger(r,o){let t=o.queryCount=0,i=o.depCount=0,s=[],a=[];return r.name.charAt(0)=="@"&&o.errors.push(w5()),r.definitions.forEach(l=>{if(this._resetContextStyleTimingState(o),l.type==Pt.State){let u=l,c=u.name;c.toString().split(/\s*,\s*/).forEach(m=>{u.name=m,s.push(this.visitState(u,o))}),u.name=c}else if(l.type==Pt.Transition){let u=this.visitTransition(l,o);t+=u.queryCount,i+=u.depCount,a.push(u)}else o.errors.push(_5())}),{type:Pt.Trigger,name:r.name,states:s,transitions:a,queryCount:t,depCount:i,options:null}}visitState(r,o){let t=this.visitStyle(r.styles,o),i=r.options&&r.options.params||null;if(t.containsDynamicStyles){let s=new Set,a=i||{};t.styles.forEach(l=>{l instanceof Map&&l.forEach(u=>{o2(u).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&o.errors.push(x5(r.name,[...s.values()]))}return{type:Pt.State,name:r.name,style:t,options:i?{params:i}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;let t=qn(this,Rl(r.animation),o),i=o4(r.expr,o.errors);return{type:Pt.Transition,matchers:i,animation:t,queryCount:o.queryCount,depCount:o.depCount,options:zs(r.options)}}visitSequence(r,o){return{type:Pt.Sequence,steps:r.steps.map(t=>qn(this,t,o)),options:zs(r.options)}}visitGroup(r,o){let t=o.currentTime,i=0,s=r.steps.map(a=>{o.currentTime=t;let l=qn(this,a,o);return i=Math.max(i,o.currentTime),l});return o.currentTime=i,{type:Pt.Group,steps:s,options:zs(r.options)}}visitAnimate(r,o){let t=d4(r.timings,o.errors);o.currentAnimateTimings=t;let i,s=r.styles?r.styles:ts({});if(s.type==Pt.Keyframes)i=this.visitKeyframes(s,o);else{let a=r.styles,l=!1;if(!a){l=!0;let c={};t.easing&&(c.easing=t.easing),a=ts(c)}o.currentTime+=t.duration+t.delay;let u=this.visitStyle(a,o);u.isEmptyStep=l,i=u}return o.currentAnimateTimings=null,{type:Pt.Animate,timings:t,style:i,options:null}}visitStyle(r,o){let t=this._makeStyleAst(r,o);return this._validateStyleAst(t,o),t}_makeStyleAst(r,o){let t=[],i=Array.isArray(r.styles)?r.styles:[r.styles];for(let l of i)typeof l=="string"?l===ei?t.push(l):o.errors.push(D5(l)):t.push(new Map(Object.entries(l)));let s=!1,a=null;return t.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s)){for(let u of l.values())if(u.toString().indexOf(r2)>=0){s=!0;break}}}),{type:Pt.Style,styles:t,easing:a,offset:r.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(r,o){let t=o.currentAnimateTimings,i=o.currentTime,s=o.currentTime;t&&s>0&&(s-=t.duration+t.delay),r.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,u)=>{let c=o.collectedStyles.get(o.currentQuerySelector),m=c.get(u),y=!0;m&&(s!=i&&s>=m.startTime&&i<=m.endTime&&(o.errors.push(S5(u,m.startTime,m.endTime,s,i)),y=!1),s=m.startTime),y&&c.set(u,{startTime:s,endTime:i}),o.options&&J5(l,o.options,o.errors)})})}visitKeyframes(r,o){let t={type:Pt.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(E5()),t;let i=1,s=0,a=[],l=!1,u=!1,c=0,m=r.steps.map(g=>{let w=this._makeStyleAst(g,o),b=w.offset!=null?w.offset:c4(w.styles),_=0;return b!=null&&(s++,_=w.offset=b),u=u||_<0||_>1,l=l||_<c,c=_,a.push(_),w});u&&o.errors.push(C5()),l&&o.errors.push(M5());let y=r.steps.length,d=0;s>0&&s<y?o.errors.push(T5()):s==0&&(d=i/(y-1));let h=y-1,p=o.currentTime,f=o.currentAnimateTimings,v=f.duration;return m.forEach((g,w)=>{let b=d>0?w==h?1:d*w:a[w],_=b*v;o.currentTime=p+f.delay+_,f.duration=_,this._validateStyleAst(g,o),g.offset=b,t.styles.push(g)}),t}visitReference(r,o){return{type:Pt.Reference,animation:qn(this,Rl(r.animation),o),options:zs(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:Pt.AnimateChild,options:zs(r.options)}}visitAnimateRef(r,o){return{type:Pt.AnimateRef,animation:this.visitReference(r.animation,o),options:zs(r.options)}}visitQuery(r,o){let t=o.currentQuerySelector,i=r.options||{};o.queryCount++,o.currentQuery=r;let[s,a]=u4(r.selector);o.currentQuerySelector=t.length?t+" "+s:s,Wn(o.collectedStyles,o.currentQuerySelector,new Map);let l=qn(this,Rl(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=t,{type:Pt.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:r.selector,options:zs(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(A5());let t=r.timings==="full"?{duration:0,delay:0,easing:"full"}:ch(r.timings,o.errors,!0);return{type:Pt.Stagger,animation:qn(this,Rl(r.animation),o),timings:t,options:null}}};function u4(n){let r=!!n.split(/\s*,\s*/).find(o=>o==i2);return r&&(n=n.replace(a4,"")),n=n.replace(/@\*/g,lh).replace(/@\w+/g,o=>lh+"-"+o.slice(1)).replace(/:animating/g,p0),[n,r]}function l4(n){return n?nt({},n):null}var v0=class{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function c4(n){if(typeof n=="string")return null;let r=null;if(Array.isArray(n))n.forEach(o=>{if(o instanceof Map&&o.has("offset")){let t=o;r=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let o=n;r=parseFloat(o.get("offset")),o.delete("offset")}return r}function d4(n,r){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=ch(n,r).duration;return u0(s,0,"")}let o=n;if(o.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=u0(0,0,"");return s.dynamic=!0,s.strValue=o,s}let i=ch(o,r);return u0(i.duration,i.delay,i.easing)}function zs(n){return n?(n=nt({},n),n.params&&(n.params=l4(n.params))):n={},n}function u0(n,r,o){return{duration:n,delay:r,easing:o}}function k0(n,r,o,t,i,s,a=null,l=!1){return{type:1,element:n,keyframes:r,preStyleProps:o,postStyleProps:t,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:l}}var Bl=class{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let t=this._map.get(r);t||this._map.set(r,t=[]),t.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}},f4=1,h4=":enter",p4=new RegExp(h4,"g"),m4=":leave",g4=new RegExp(m4,"g");function a2(n,r,o,t,i,s=new Map,a=new Map,l,u,c=[]){return new b0().buildKeyframes(n,r,o,t,i,s,a,l,u,c)}var b0=class{buildKeyframes(r,o,t,i,s,a,l,u,c,m=[]){c=c||new Bl;let y=new w0(r,o,c,i,s,m,[]);y.options=u;let d=u.delay?Si(u.delay):0;y.currentTimeline.delayNextStep(d),y.currentTimeline.setStyles([a],null,y.errors,u),qn(this,t,y);let h=y.timelines.filter(p=>p.containsAnimation());if(h.length&&l.size){let p;for(let f=h.length-1;f>=0;f--){let v=h[f];if(v.element===o){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([l],null,y.errors,u)}return h.length?h.map(p=>p.buildKeyframes()):[k0(o,[],[],[],0,d,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){let t=o.subInstructions.get(o.element);if(t){let i=o.createSubContext(r.options),s=o.currentTimeline.currentTime,a=this._visitSubInstructions(t,i,i.options);s!=a&&o.transformIntoNewTimeline(a)}o.previousNode=r}visitAnimateRef(r,o){let t=o.createSubContext(r.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,t),this.visitReference(r.animation,t),o.transformIntoNewTimeline(t.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,t){for(let i of r){let s=i?.delay;if(s){let a=typeof s=="number"?s:Si(Ll(s,i?.params??{},o.errors));t.delayNextStep(a)}}}_visitSubInstructions(r,o,t){let s=o.currentTimeline.currentTime,a=t.duration!=null?Si(t.duration):null,l=t.delay!=null?Si(t.delay):null;return a!==0&&r.forEach(u=>{let c=o.appendInstructionToTimeline(u,a,l);s=Math.max(s,c.duration+c.delay)}),s}visitReference(r,o){o.updateOptions(r.options,!0),qn(this,r.animation,o),o.previousNode=r}visitSequence(r,o){let t=o.subContextCount,i=o,s=r.options;if(s&&(s.params||s.delay)&&(i=o.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Pt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hh);let a=Si(s.delay);i.delayNextStep(a)}r.steps.length&&(r.steps.forEach(a=>qn(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>t&&i.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){let t=[],i=o.currentTimeline.currentTime,s=r.options&&r.options.delay?Si(r.options.delay):0;r.steps.forEach(a=>{let l=o.createSubContext(r.options);s&&l.delayNextStep(s),qn(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),t.push(l.currentTimeline)}),t.forEach(a=>o.currentTimeline.mergeTimelineCollectedStyles(a)),o.transformIntoNewTimeline(i),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){let t=r.strValue,i=o.params?Ll(t,o.params,o.errors):t;return ch(i,o.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){let t=o.currentAnimateTimings=this._visitTiming(r.timings,o),i=o.currentTimeline;t.delay&&(o.incrementTime(t.delay),i.snapshotCurrentStyles());let s=r.style;s.type==Pt.Keyframes?this.visitKeyframes(s,o):(o.incrementTime(t.duration),this.visitStyle(s,o),i.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){let t=o.currentTimeline,i=o.currentAnimateTimings;!i&&t.hasCurrentStyleProperties()&&t.forwardFrame();let s=i&&i.easing||r.easing;r.isEmptyStep?t.applyEmptyStep(s):t.setStyles(r.styles,s,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){let t=o.currentAnimateTimings,i=o.currentTimeline.duration,s=t.duration,l=o.createSubContext().currentTimeline;l.easing=t.easing,r.styles.forEach(u=>{let c=u.offset||0;l.forwardTime(c*s),l.setStyles(u.styles,u.easing,o.errors,o.options),l.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(l),o.transformIntoNewTimeline(i+s),o.previousNode=r}visitQuery(r,o){let t=o.currentTimeline.currentTime,i=r.options||{},s=i.delay?Si(i.delay):0;s&&(o.previousNode.type===Pt.Style||t==0&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=hh);let a=t,l=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!i.optional,o.errors);o.currentQueryTotal=l.length;let u=null;l.forEach((c,m)=>{o.currentQueryIndex=m;let y=o.createSubContext(r.options,c);s&&y.delayNextStep(s),c===o.element&&(u=y.currentTimeline),qn(this,r.animation,y),y.currentTimeline.applyStylesToKeyframe();let d=y.currentTimeline.currentTime;a=Math.max(a,d)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(a),u&&(o.currentTimeline.mergeTimelineCollectedStyles(u),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){let t=o.parentContext,i=o.currentTimeline,s=r.timings,a=Math.abs(s.duration),l=a*(o.currentQueryTotal-1),u=a*o.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=l-u;break;case"full":u=t.currentStaggerTime;break}let m=o.currentTimeline;u&&m.delayNextStep(u);let y=m.currentTime;qn(this,r.animation,o),o.previousNode=r,t.currentStaggerTime=i.currentTime-y+(i.startTime-t.currentTimeline.startTime)}},hh={},w0=class n{constructor(r,o,t,i,s,a,l,u){this._driver=r,this.element=o,this.subInstructions=t,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ph(this._driver,o,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;let t=r,i=this.options;t.duration!=null&&(i.duration=Si(t.duration)),t.delay!=null&&(i.delay=Si(t.delay));let s=t.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!o||!a.hasOwnProperty(l))&&(a[l]=Ll(s[l],a,this.errors))})}}_copyOptions(){let r={};if(this.options){let o=this.options.params;if(o){let t=r.params={};Object.keys(o).forEach(i=>{t[i]=o[i]})}}return r}createSubContext(r=null,o,t){let i=o||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(r),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(r){return this.previousNode=hh,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,t){let i={duration:o??r.duration,delay:this.currentTimeline.currentTime+(t??0)+r.delay,easing:""},s=new _0(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,i,r.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,t,i,s,a){let l=[];if(i&&l.push(this.element),r.length>0){r=r.replace(p4,"."+this._enterClassName),r=r.replace(g4,"."+this._leaveClassName);let u=t!=1,c=this._driver.query(this.element,r,u);t!==0&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),l.push(...c)}return!s&&l.length==0&&a.push(j5(o)),l}},ph=class n{constructor(r,o,t,i){this._driver=r,this.element=o,this.startTime=t,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let o=this._keyframes.size===1&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new n(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=f4,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,t]of this._globalTimelineStyles)this._backFill.set(o,t||ei),this._currentKeyframe.set(o,ei);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,t,i){o&&this._previousKeyframe.set("easing",o);let s=i&&i.params||{},a=y4(r,this._globalTimelineStyles);for(let[l,u]of a){let c=Ll(u,s,t);this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??ei),this._updateStyle(l,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,t)=>{let i=this._styleSummary.get(t);(!i||o.time>i.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,o=new Set,t=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((l,u)=>{let c=new Map([...this._backFill,...l]);c.forEach((m,y)=>{m===nh?r.add(y):m===ei&&o.add(y)}),t||c.set("offset",u/this.duration),i.push(c)});let s=[...r.values()],a=[...o.values()];if(t){let l=i[0],u=new Map(l);l.set("offset",0),u.set("offset",1),i=[l,u]}return k0(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},_0=class extends ph{constructor(r,o,t,i,s,a,l=!1){super(r,o,a.delay),this.keyframes=t,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:t,easing:i}=this.timings;if(this._stretchStartingKeyframe&&o){let s=[],a=t+o,l=o/a,u=new Map(r[0]);u.set("offset",0),s.push(u);let c=new Map(r[0]);c.set("offset",qC(l)),s.push(c);let m=r.length-1;for(let y=1;y<=m;y++){let d=new Map(r[y]),h=d.get("offset"),p=o+h*t;d.set("offset",qC(p/a)),s.push(d)}t=a,o=0,i="",r=s}return k0(this.element,r,this.preStyleProps,this.postStyleProps,t,o,i,!0)}};function qC(n,r=3){let o=Math.pow(10,r-1);return Math.round(n*o)/o}function y4(n,r){let o=new Map,t;return n.forEach(i=>{if(i==="*"){t??=r.keys();for(let s of t)o.set(s,ei)}else for(let[s,a]of i)o.set(s,a)}),o}function WC(n,r,o,t,i,s,a,l,u,c,m,y,d){return{type:0,element:n,triggerName:r,isRemovalTransition:i,fromState:o,fromStyles:s,toState:t,toStyles:a,timelines:l,queriedElements:u,preStyleProps:c,postStyleProps:m,totalTime:y,errors:d}}var l0={},mh=class{constructor(r,o,t){this._triggerName=r,this.ast=o,this._stateStyles=t}match(r,o,t,i){return v4(this.ast.matchers,r,o,t,i)}buildStyles(r,o,t){let i=this._stateStyles.get("*");return r!==void 0&&(i=this._stateStyles.get(r?.toString())||i),i?i.buildStyles(o,t):new Map}build(r,o,t,i,s,a,l,u,c,m){let y=[],d=this.ast.options&&this.ast.options.params||l0,h=l&&l.params||l0,p=this.buildStyles(t,h,y),f=u&&u.params||l0,v=this.buildStyles(i,f,y),g=new Set,w=new Map,b=new Map,_=i==="void",D={params:u2(f,d),delay:this.ast.options?.delay},C=m?[]:a2(r,o,this.ast.animation,s,a,p,v,D,c,y),M=0;return C.forEach(E=>{M=Math.max(E.duration+E.delay,M)}),y.length?WC(o,this._triggerName,t,i,_,p,v,[],[],w,b,M,y):(C.forEach(E=>{let S=E.element,O=Wn(w,S,new Set);E.preStyleProps.forEach(F=>O.add(F));let j=Wn(b,S,new Set);E.postStyleProps.forEach(F=>j.add(F)),S!==o&&g.add(S)}),WC(o,this._triggerName,t,i,_,p,v,C,[...g.values()],w,b,M))}};function v4(n,r,o,t,i){return n.some(s=>s(r,o,t,i))}function u2(n,r){let o=nt({},r);return Object.entries(n).forEach(([t,i])=>{i!=null&&(o[t]=i)}),o}var x0=class{constructor(r,o,t){this.styles=r,this.defaultParams=o,this.normalizer=t}buildStyles(r,o){let t=new Map,i=u2(r,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{a&&(a=Ll(a,i,o));let u=this.normalizer.normalizePropertyName(l,o);a=this.normalizer.normalizeStyleValue(l,u,a,o),t.set(l,a)})}),t}};function b4(n,r,o){return new D0(n,r,o)}var D0=class{constructor(r,o,t){this.name=r,this.ast=o,this._normalizer=t,this.transitionFactories=[],this.states=new Map,o.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new x0(i.style,s,t))}),$C(this.states,"true","1"),$C(this.states,"false","0"),o.transitions.forEach(i=>{this.transitionFactories.push(new mh(r,i,this.states))}),this.fallbackTransition=w4(r,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,t,i){return this.transitionFactories.find(a=>a.match(r,o,t,i))||null}matchStyles(r,o,t){return this.fallbackTransition.buildStyles(r,o,t)}};function w4(n,r,o){let t=[(a,l)=>!0],i={type:Pt.Sequence,steps:[],options:null},s={type:Pt.Transition,animation:i,matchers:t,options:null,queryCount:0,depCount:0};return new mh(n,s,r)}function $C(n,r,o){n.has(r)?n.has(o)||n.set(o,n.get(r)):n.has(o)&&n.set(r,n.get(o))}var _4=new Bl,S0=class{constructor(r,o,t){this.bodyNode=r,this._driver=o,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){let t=[],i=[],s=s2(this._driver,o,t,i);if(t.length)throw k5(t);i.length&&void 0,this._animations.set(r,s)}_buildPlayer(r,o,t){let i=r.element,s=JC(this._normalizer,r.keyframes,o,t);return this._driver.animate(i,s,r.duration,r.delay,r.easing,[],!0)}create(r,o,t={}){let i=[],s=this._animations.get(r),a,l=new Map;if(s?(a=a2(this._driver,o,s,n2,h0,new Map,new Map,t,_4,i),a.forEach(m=>{let y=Wn(l,m.element,new Map);m.postStyleProps.forEach(d=>y.set(d,null))})):(i.push(R5()),a=[]),i.length)throw P5(i);l.forEach((m,y)=>{m.forEach((d,h)=>{m.set(h,this._driver.computeStyle(y,h,ei))})});let u=a.map(m=>{let y=l.get(m.element);return this._buildPlayer(m,new Map,y)}),c=rs(u);return this._playersById.set(r,c),c.onDestroy(()=>this.destroy(r)),this.players.push(c),c}destroy(r){let o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1)}_getPlayer(r){let o=this._playersById.get(r);if(!o)throw L5(r);return o}listen(r,o,t,i){let s=j0(o,"","","");return A0(this._getPlayer(r),t,s,i),()=>{}}command(r,o,t,i){if(t=="register"){this.register(r,i[0]);return}if(t=="create"){let a=i[0]||{};this.create(r,o,a);return}let s=this._getPlayer(r);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(r);break}}},YC="ng-animate-queued",x4=".ng-animate-queued",c0="ng-animate-disabled",D4=".ng-animate-disabled",S4="ng-star-inserted",E4=".ng-star-inserted",C4=[],l2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ao="__ng_removed",Ul=class{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;let t=r&&r.hasOwnProperty("value"),i=t?r.value:r;if(this.value=A4(i),t){let s=r,{value:a}=s,l=_b(s,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let o=r.params;if(o){let t=this.options.params;Object.keys(o).forEach(i=>{t[i]==null&&(t[i]=o[i])})}}},Pl="void",d0=new Ul(Pl),E0=class{constructor(r,o,t){this.id=r,this.hostElement=o,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,lo(o,this._hostClassName)}listen(r,o,t,i){if(!this._triggers.has(o))throw B5(t,o);if(t==null||t.length==0)throw U5(o);if(!j4(t))throw V5(t,o);let s=Wn(this._elementListeners,r,[]),a={name:o,phase:t,callback:i};s.push(a);let l=Wn(this._engine.statesByElement,r,new Map);return l.has(o)||(lo(r,oh),lo(r,oh+"-"+o),l.set(o,d0)),()=>{this._engine.afterFlush(()=>{let u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers.has(o)||l.delete(o)})}}register(r,o){return this._triggers.has(r)?!1:(this._triggers.set(r,o),!0)}_getTrigger(r){let o=this._triggers.get(r);if(!o)throw z5(r);return o}trigger(r,o,t,i=!0){let s=this._getTrigger(o),a=new Vl(this.id,o,r),l=this._engine.statesByElement.get(r);l||(lo(r,oh),lo(r,oh+"-"+o),this._engine.statesByElement.set(r,l=new Map));let u=l.get(o),c=new Ul(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),l.set(o,c),u||(u=d0),!(c.value===Pl)&&u.value===c.value){if(!O4(u.params,c.params)){let f=[],v=s.matchStyles(u.value,u.params,f),g=s.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{Gs(r,v),ti(r,g)})}return}let d=Wn(this._engine.playersByElement,r,[]);d.forEach(f=>{f.namespaceId==this.id&&f.triggerName==o&&f.queued&&f.destroy()});let h=s.matchTransition(u.value,c.value,r,c.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:p}),p||(lo(r,YC),a.onStart(()=>{pu(r,YC)})),a.onDone(()=>{let f=this.players.indexOf(a);f>=0&&this.players.splice(f,1);let v=this._engine.playersByElement.get(r);if(v){let g=v.indexOf(a);g>=0&&v.splice(g,1)}}),this.players.push(a),d.push(a),a}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,t)=>{this._elementListeners.set(t,o.filter(i=>i.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let o=this._engine.playersByElement.get(r);o&&(o.forEach(t=>t.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){let t=this._engine.driver.query(r,lh,!0);t.forEach(i=>{if(i[Ao])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,o,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(r,o,t,i){let s=this._engine.statesByElement.get(r),a=new Map;if(s){let l=[];if(s.forEach((u,c)=>{if(a.set(c,u.value),this._triggers.has(c)){let m=this.trigger(r,c,Pl,i);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,a),t&&rs(l).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let o=this._elementListeners.get(r),t=this._engine.statesByElement.get(r);if(o&&t){let i=new Set;o.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let u=this._triggers.get(a).fallbackTransition,c=t.get(a)||d0,m=new Ul(Pl),y=new Vl(this.id,a,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:a,transition:u,fromState:c,toState:m,player:y,isFallbackTransition:!0})})}}removeNode(r,o){let t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let i=!1;if(t.totalAnimations){let s=t.players.length?t.playersByQueriedElement.get(r):[];if(s&&s.length)i=!0;else{let a=r;for(;a=a.parentNode;)if(t.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(r),i)t.markElementAsRemoved(this.id,r,!1,o);else{let s=r[Ao];(!s||s===l2)&&(t.afterFlush(()=>this.clearElementCache(r)),t.destroyInnerAnimations(r),t._onRemovalComplete(r,o))}}insertNode(r,o){lo(r,this._hostClassName)}drainQueuedTransitions(r){let o=[];return this._queue.forEach(t=>{let i=t.player;if(i.destroyed)return;let s=t.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==t.triggerName){let u=j0(s,t.triggerName,t.fromState.value,t.toState.value);u._data=r,A0(t.player,l.phase,u,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):o.push(t)}),this._queue=[],o.sort((t,i)=>{let s=t.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(t.element,i.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},C0=class{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,t){this.bodyNode=r,this.driver=o,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let r=[];return this._namespaceList.forEach(o=>{o.players.forEach(t=>{t.queued&&r.push(t)})}),r}createNamespace(r,o){let t=new E0(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(t,o):(this.newHostElements.set(o,t),this.collectEnterElement(o)),this._namespaceLookup[r]=t}_balanceNamespaceList(r,o){let t=this._namespaceList,i=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,l=this.driver.getParentElement(o);for(;l;){let u=i.get(l);if(u){let c=t.indexOf(u);t.splice(c+1,0,r),a=!0;break}l=this.driver.getParentElement(l)}a||t.unshift(r)}else t.push(r);return i.set(o,r),r}register(r,o){let t=this._namespaceLookup[r];return t||(t=this.createNamespace(r,o)),t}registerTrigger(r,o,t){let i=this._namespaceLookup[r];i&&i.register(o,t)&&this.totalAnimations++}destroy(r,o){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(r);this.namespacesByHostElement.delete(t.hostElement);let i=this._namespaceList.indexOf(t);i>=0&&this._namespaceList.splice(i,1),t.destroy(o),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let o=new Set,t=this.statesByElement.get(r);if(t){for(let i of t.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&o.add(s)}}return o}trigger(r,o,t,i){if(ah(o)){let s=this._fetchNamespace(r);if(s)return s.trigger(o,t,i),!0}return!1}insertNode(r,o,t,i){if(!ah(o))return;let s=o[Ao];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(o);a>=0&&this.collectedLeaveElements.splice(a,1)}if(r){let a=this._fetchNamespace(r);a&&a.insertNode(o,t)}i&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),lo(r,c0)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),pu(r,c0))}removeNode(r,o,t){if(ah(o)){let i=r?this._fetchNamespace(r):null;i?i.removeNode(o,t):this.markElementAsRemoved(r,o,!1,t);let s=this.namespacesByHostElement.get(o);s&&s.id!==r&&s.removeNode(o,t)}else this._onRemovalComplete(o,t)}markElementAsRemoved(r,o,t,i,s){this.collectedLeaveElements.push(o),o[Ao]={namespaceId:r,setForRemoval:i,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(r,o,t,i,s){return ah(o)?this._fetchNamespace(r).listen(o,t,i,s):()=>{}}_buildInstruction(r,o,t,i,s){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,t,i,r.fromState.options,r.toState.options,o,s)}destroyInnerAnimations(r){let o=this.driver.query(r,lh,!0);o.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(o=this.driver.query(r,p0,!0),o.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(r){let o=this.playersByElement.get(r);o&&o.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(r){let o=this.playersByQueriedElement.get(r);o&&o.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return rs(this.players).onDone(()=>r());r()})}processLeaveNode(r){let o=r[Ao];if(o&&o.setForRemoval){if(r[Ao]=l2,o.namespaceId){this.destroyInnerAnimations(r);let t=this._fetchNamespace(o.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}r.classList?.contains(c0)&&this.markElementAsDisabled(r,!1),this.driver.query(r,D4,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,i)=>this._balanceNamespaceList(t,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let i=this.collectedEnterElements[t];lo(i,S4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{o=this._flushAnimations(t,r)}finally{for(let i=0;i<t.length;i++)t[i]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let i=this.collectedLeaveElements[t];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],o.length?rs(o).onDone(()=>{t.forEach(i=>i())}):t.forEach(i=>i())}}reportError(r){throw G5(r)}_flushAnimations(r,o){let t=new Bl,i=[],s=new Map,a=[],l=new Map,u=new Map,c=new Map,m=new Set;this.disabledNodes.forEach(k=>{m.add(k);let q=this.driver.query(k,x4,!0);for(let G=0;G<q.length;G++)m.add(q[G])});let y=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=QC(d,this.collectedEnterElements),p=new Map,f=0;h.forEach((k,q)=>{let G=n2+f++;p.set(q,G),k.forEach(V=>lo(V,G))});let v=[],g=new Set,w=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let q=this.collectedLeaveElements[k],G=q[Ao];G&&G.setForRemoval&&(v.push(q),g.add(q),G.hasAnimation?this.driver.query(q,E4,!0).forEach(V=>g.add(V)):w.add(q))}let b=new Map,_=QC(d,Array.from(g));_.forEach((k,q)=>{let G=h0+f++;b.set(q,G),k.forEach(V=>lo(V,G))}),r.push(()=>{h.forEach((k,q)=>{let G=p.get(q);k.forEach(V=>pu(V,G))}),_.forEach((k,q)=>{let G=b.get(q);k.forEach(V=>pu(V,G))}),v.forEach(k=>{this.processLeaveNode(k)})});let D=[],C=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(o).forEach(G=>{let V=G.player,W=G.element;if(D.push(V),this.collectedEnterElements.length){let K=W[Ao];if(K&&K.setForMove){if(K.previousTriggersValues&&K.previousTriggersValues.has(G.triggerName)){let re=K.previousTriggersValues.get(G.triggerName),ie=this.statesByElement.get(G.element);if(ie&&ie.has(G.triggerName)){let ce=ie.get(G.triggerName);ce.value=re,ie.set(G.triggerName,ce)}}V.destroy();return}}let Q=!y||!this.driver.containsElement(y,W),ue=b.get(W),P=p.get(W),A=this._buildInstruction(G,t,P,ue,Q);if(A.errors&&A.errors.length){C.push(A);return}if(Q){V.onStart(()=>Gs(W,A.fromStyles)),V.onDestroy(()=>ti(W,A.toStyles)),i.push(V);return}if(G.isFallbackTransition){V.onStart(()=>Gs(W,A.fromStyles)),V.onDestroy(()=>ti(W,A.toStyles)),i.push(V);return}let U=[];A.timelines.forEach(K=>{K.stretchStartingKeyframe=!0,this.disabledNodes.has(K.element)||U.push(K)}),A.timelines=U,t.append(W,A.timelines);let H={instruction:A,player:V,element:W};a.push(H),A.queriedElements.forEach(K=>Wn(l,K,[]).push(V)),A.preStyleProps.forEach((K,re)=>{if(K.size){let ie=u.get(re);ie||u.set(re,ie=new Set),K.forEach((ce,se)=>ie.add(se))}}),A.postStyleProps.forEach((K,re)=>{let ie=c.get(re);ie||c.set(re,ie=new Set),K.forEach((ce,se)=>ie.add(se))})});if(C.length){let k=[];C.forEach(q=>{k.push(H5(q.triggerName,q.errors))}),D.forEach(q=>q.destroy()),this.reportError(k)}let M=new Map,E=new Map;a.forEach(k=>{let q=k.element;t.has(q)&&(E.set(q,q),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,M))}),i.forEach(k=>{let q=k.element;this._getPreviousPlayers(q,!1,k.namespaceId,k.triggerName,null).forEach(V=>{Wn(M,q,[]).push(V),V.destroy()})});let S=v.filter(k=>KC(k,u,c)),O=new Map;ZC(O,this.driver,w,c,ei).forEach(k=>{KC(k,u,c)&&S.push(k)});let F=new Map;h.forEach((k,q)=>{ZC(F,this.driver,new Set(k),u,nh)}),S.forEach(k=>{let q=O.get(k),G=F.get(k);O.set(k,new Map([...q?.entries()??[],...G?.entries()??[]]))});let I=[],L=[],B={};a.forEach(k=>{let{element:q,player:G,instruction:V}=k;if(t.has(q)){if(m.has(q)){G.onDestroy(()=>ti(q,V.toStyles)),G.disabled=!0,G.overrideTotalTime(V.totalTime),i.push(G);return}let W=B;if(E.size>1){let ue=q,P=[];for(;ue=ue.parentNode;){let A=E.get(ue);if(A){W=A;break}P.push(ue)}P.forEach(A=>E.set(A,W))}let Q=this._buildAnimation(G.namespaceId,V,M,s,F,O);if(G.setRealPlayer(Q),W===B)I.push(G);else{let ue=this.playersByElement.get(W);ue&&ue.length&&(G.parentPlayer=rs(ue)),i.push(G)}}else Gs(q,V.fromStyles),G.onDestroy(()=>ti(q,V.toStyles)),L.push(G),m.has(q)&&i.push(G)}),L.forEach(k=>{let q=s.get(k.element);if(q&&q.length){let G=rs(q);k.setRealPlayer(G)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<v.length;k++){let q=v[k],G=q[Ao];if(pu(q,h0),G&&G.hasAnimation)continue;let V=[];if(l.size){let Q=l.get(q);Q&&Q.length&&V.push(...Q);let ue=this.driver.query(q,p0,!0);for(let P=0;P<ue.length;P++){let A=l.get(ue[P]);A&&A.length&&V.push(...A)}}let W=V.filter(Q=>!Q.destroyed);W.length?I4(this,q,W):this.processLeaveNode(q)}return v.length=0,I.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let q=this.players.indexOf(k);this.players.splice(q,1)}),k.play()}),I}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,t,i,s){let a=[];if(o){let l=this.playersByQueriedElement.get(r);l&&(a=l)}else{let l=this.playersByElement.get(r);if(l){let u=!s||s==Pl;l.forEach(c=>{c.queued||!u&&c.triggerName!=i||a.push(c)})}}return(t||i)&&(a=a.filter(l=>!(t&&t!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(r,o,t){let i=o.triggerName,s=o.element,a=o.isRemovalTransition?void 0:r,l=o.isRemovalTransition?void 0:i;for(let u of o.timelines){let c=u.element,m=c!==s,y=Wn(t,c,[]);this._getPreviousPlayers(c,m,a,l,o.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),y.push(h)})}Gs(s,o.fromStyles)}_buildAnimation(r,o,t,i,s,a){let l=o.triggerName,u=o.element,c=[],m=new Set,y=new Set,d=o.timelines.map(p=>{let f=p.element;m.add(f);let v=f[Ao];if(v&&v.removedBeforeQueried)return new es(p.duration,p.delay);let g=f!==u,w=N4((t.get(f)||C4).map(M=>M.getRealPlayer())).filter(M=>{let E=M;return E.element?E.element===f:!1}),b=s.get(f),_=a.get(f),D=JC(this._normalizer,p.keyframes,b,_),C=this._buildPlayer(p,D,w);if(p.subTimeline&&i&&y.add(f),g){let M=new Vl(r,l,f);M.setRealPlayer(C),c.push(M)}return C});c.forEach(p=>{Wn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>T4(this.playersByQueriedElement,p.element,p))}),m.forEach(p=>lo(p,zC));let h=rs(d);return h.onDestroy(()=>{m.forEach(p=>pu(p,zC)),ti(u,o.toStyles)}),y.forEach(p=>{Wn(i,p,[]).push(h)}),h}_buildPlayer(r,o,t){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,t):new es(r.duration,r.delay)}},Vl=class{constructor(r,o,t){this.namespaceId=r,this.triggerName=o,this.element=t,this._player=new es,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,t)=>{o.forEach(i=>A0(r,t,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){Wn(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let o=this._player;o.triggerCallback&&o.triggerCallback(r)}};function T4(n,r,o){let t=n.get(r);if(t){if(t.length){let i=t.indexOf(o);t.splice(i,1)}t.length==0&&n.delete(r)}return t}function A4(n){return n??null}function ah(n){return n&&n.nodeType===1}function j4(n){return n=="start"||n=="done"}function XC(n,r){let o=n.style.display;return n.style.display=r??"none",o}function ZC(n,r,o,t,i){let s=[];o.forEach(u=>s.push(XC(u)));let a=[];t.forEach((u,c)=>{let m=new Map;u.forEach(y=>{let d=r.computeStyle(c,y,i);m.set(y,d),(!d||d.length==0)&&(c[Ao]=M4,a.push(c))}),n.set(c,m)});let l=0;return o.forEach(u=>XC(u,s[l++])),a}function QC(n,r){let o=new Map;if(n.forEach(l=>o.set(l,[])),r.length==0)return o;let t=1,i=new Set(r),s=new Map;function a(l){if(!l)return t;let u=s.get(l);if(u)return u;let c=l.parentNode;return o.has(c)?u=c:i.has(c)?u=t:u=a(c),s.set(l,u),u}return r.forEach(l=>{let u=a(l);u!==t&&o.get(u).push(l)}),o}function lo(n,r){n.classList?.add(r)}function pu(n,r){n.classList?.remove(r)}function I4(n,r,o){rs(o).onDone(()=>n.processLeaveNode(r))}function N4(n){let r=[];return c2(n,r),r}function c2(n,r){for(let o=0;o<n.length;o++){let t=n[o];t instanceof kl?c2(t.players,r):r.push(t)}}function O4(n,r){let o=Object.keys(n),t=Object.keys(r);if(o.length!=t.length)return!1;for(let i=0;i<o.length;i++){let s=o[i];if(!r.hasOwnProperty(s)||n[s]!==r[s])return!1}return!0}function KC(n,r,o){let t=o.get(n);if(!t)return!1;let i=r.get(n);return i?t.forEach(s=>i.add(s)):r.set(n,t),o.delete(n),!0}var gu=class{constructor(r,o,t){this._driver=o,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new C0(r.body,o,t),this._timelineEngine=new S0(r.body,o,t),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(r,o,t,i,s){let a=r+"-"+i,l=this._triggerCache[a];if(!l){let u=[],c=[],m=s2(this._driver,s,u,c);if(u.length)throw O5(i,u);c.length&&void 0,l=b4(i,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(o,i,l)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,t,i){this._transitionEngine.insertNode(r,o,t,i)}onRemove(r,o,t){this._transitionEngine.removeNode(r,o,t)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,t,i){if(t.charAt(0)=="@"){let[s,a]=UC(t),l=i;this._timelineEngine.command(s,o,a,l)}else this._transitionEngine.trigger(r,o,t,i)}listen(r,o,t,i,s){if(t.charAt(0)=="@"){let[a,l]=UC(t);return this._timelineEngine.listen(a,o,l,s)}return this._transitionEngine.listen(r,o,t,i,s)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function F4(n,r){let o=null,t=null;return Array.isArray(r)&&r.length?(o=f0(r[0]),r.length>1&&(t=f0(r[r.length-1]))):r instanceof Map&&(o=f0(r)),o||t?new M0(n,o,t):null}var mu=class mu{constructor(r,o,t){this._element=r,this._startStyles=o,this._endStyles=t,this._state=0;let i=mu.initialStylesByElement.get(r);i||mu.initialStylesByElement.set(r,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ti(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ti(this._element,this._initialStyles),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mu.initialStylesByElement.delete(this._element),this._startStyles&&(Gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gs(this._element,this._endStyles),this._endStyles=null),ti(this._element,this._initialStyles),this._state=3)}};mu.initialStylesByElement=new WeakMap;var M0=mu;function f0(n){let r=null;return n.forEach((o,t)=>{k4(t)&&(r=r||new Map,r.set(t,o))}),r}function k4(n){return n==="display"||n==="position"}var gh=class{constructor(r,o,t,i){this.element=r,this.keyframes=o,this.options=t,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let o=[];return r.forEach(t=>{o.push(Object.fromEntries(t))}),o}_triggerWebAnimation(r,o,t){return r.animate(this._convertKeyframesToObject(o),t)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,i)=>{i!=="offset"&&r.set(i,this._finished?t:F0(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){let o=r==="start"?this._onStartFns:this._onDoneFns;o.forEach(t=>t()),o.length=0}},yh=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,o){return e2(r,o)}getParentElement(r){return I0(r)}query(r,o,t){return t2(r,o,t)}computeStyle(r,o,t){return F0(r,o)}animate(r,o,t,i,s,a=[]){let l=i==0?"both":"forwards",u={duration:t,delay:i,fill:l};s&&(u.easing=s);let c=new Map,m=a.filter(h=>h instanceof gh);t4(t,i)&&m.forEach(h=>{h.currentSnapshot.forEach((p,f)=>c.set(f,p))});let y=K5(o).map(h=>new Map(h));y=r4(r,y,c);let d=F4(r,y);return new gh(r,y,u,d)}};var uh="@",d2="@.disabled",vh=class{constructor(r,o,t,i){this.namespaceId=r,this.delegate=o,this.engine=t,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,t,i=!0){this.delegate.insertBefore(r,o,t),this.engine.onInsert(this.namespaceId,o,r,i)}removeChild(r,o,t){this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,t,i){this.delegate.setAttribute(r,o,t,i)}removeAttribute(r,o,t){this.delegate.removeAttribute(r,o,t)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,t,i){this.delegate.setStyle(r,o,t,i)}removeStyle(r,o,t){this.delegate.removeStyle(r,o,t)}setProperty(r,o,t){o.charAt(0)==uh&&o==d2?this.disableAnimations(r,!!t):this.delegate.setProperty(r,o,t)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,t){return this.delegate.listen(r,o,t)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}},T0=class extends vh{constructor(r,o,t,i,s){super(o,t,i,s),this.factory=r,this.namespaceId=o}setProperty(r,o,t){o.charAt(0)==uh?o.charAt(1)=="."&&o==d2?(t=t===void 0?!0:!!t,this.disableAnimations(r,t)):this.engine.process(this.namespaceId,r,o.slice(1),t):this.delegate.setProperty(r,o,t)}listen(r,o,t){if(o.charAt(0)==uh){let i=R4(r),s=o.slice(1),a="";return s.charAt(0)!=uh&&([s,a]=P4(s)),this.engine.listen(this.namespaceId,i,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,t,l)})}return this.delegate.listen(r,o,t)}};function R4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function P4(n){let r=n.indexOf("."),o=n.substring(0,r),t=n.slice(r+1);return[o,t]}var bh=class{constructor(r,o,t){this.delegate=r,this.engine=o,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(r,o){let t="",i=this.delegate.createRenderer(r,o);if(!r||!o?.data?.animation){let c=this._rendererCache,m=c.get(i);if(!m){let y=()=>c.delete(i);m=new vh(t,i,this.engine,y),c.set(i,m)}return m}let s=o.id,a=o.id+"-"+this._currentId;this._currentId++,this.engine.register(a,r);let l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,r,c.name,c)};return o.data.animation.forEach(l),new T0(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,o,t){if(r>=0&&r<this._microtaskId){this._zone.run(()=>o(t));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),i.push([o,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var B4=(()=>{let r=class r extends gu{constructor(t,i,s){super(t,i,s)}ngOnDestroy(){this.flush()}};r.\u0275fac=function(i){return new(i||r)(st(Br),st(Hs),st(qs))},r.\u0275prov=tt({token:r,factory:r.\u0275fac});let n=r;return n})();function U4(){return new dh}function V4(n,r,o){return new bh(n,r,o)}var h2=[{provide:qs,useFactory:U4},{provide:gu,useClass:B4},{provide:to,useFactory:V4,deps:[jd,gu,Gt]}],f2=[{provide:Hs,useFactory:()=>new yh},{provide:Lm,useValue:"BrowserAnimations"},...h2],z4=[{provide:Hs,useClass:N0},{provide:Lm,useValue:"NoopAnimations"},...h2],p2=(()=>{let r=class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?z4:f2}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({providers:f2,imports:[Nd]});let n=r;return n})();var m2="400ms cubic-bezier(0.4,0.0,0.2,1)",rre=[ts({height:0,visibility:"hidden"}),s0(m2,ts({height:"*",visibility:"visible"}))],nre=[ts({height:"*",visibility:"visible"}),s0(m2,ts({height:0,visibility:"hidden"}))];var g2=(()=>{let r=class r{static forRoot(){return{ngModule:r,providers:[]}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Hr({type:r}),r.\u0275inj=Gr({});let n=r;return n})();var wh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=Hr({type:n,bootstrap:[rh]});static \u0275inj=Gr({imports:[Nd,Jf,p2,fS.forRoot(),GD.forRoot(),g2.forRoot()]})};Gx().bootstrapModule(wh,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
